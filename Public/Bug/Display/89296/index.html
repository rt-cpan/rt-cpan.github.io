<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #89296 for Net-IMAP-Simple: top command fails with: warning unknown return string &#40;id=4&#41;:</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #89296 for Net-IMAP-Simple: top command fails with: warning unknown return string &#40;id=4&#41;:</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-IMAP-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-IMAP-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-IMAP-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-IMAP-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-IMAP-Simple">Net-IMAP-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">89296</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">5 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-IMAP-Simple">Net-IMAP-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">jettero [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
holborn-bitcard [...] drav.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-22730-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.2202    </td>
  </tr>
  <tr id="CF-22731-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




debug.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1271846/673497/debug.txt">
Mon Oct 07 07:47:52 2013 (7.6k) by holborn-bitcard [...] drav.net
</a>
</font></li>
</ul>


patch.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1271909/673534/patch.txt">
Mon Oct 07 11:26:21 2013 (1.2k) by holborn-bitcard [...] drav.net
</a>
</font></li>
</ul>


patch2.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1271926/673551/patch2.txt">
Mon Oct 07 11:57:57 2013 (1.2k) by holborn-bitcard [...] drav.net
</a>
</font></li>
</ul>


patch3.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1271928/673555/patch3.txt">
Mon Oct 07 12:02:30 2013 (1.2k) by holborn-bitcard [...] drav.net
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=89296">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271846" href="/Public/Bug/Display.html?id=89296#txn-1271846">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;07:47:52&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> top command fails with: warning unknown return string &#40;id=4&#41;:</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271846/673496/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673496">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 880b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Using Net-IMAP-Simple-1.2202
v5.10.1 &#40;*&#41; built for x86_64-linux-gnu-thread-multi
Ubuntu &#40;Lucid Lynx&#41; - Linux mail3.tuskerdirect.com 2.6.32-46-server #108-Ubuntu SMP Thu Apr 11 16:11:15 UTC 2013 x86_64 GNU/Linux


my $imap = Net::IMAP::Simple-&gt;new&#40;&#39;localhost&#39;, port =&gt; 993, use_ssl =&gt; 1, debug =&gt; 1&#41; || die &#34;Unable to connect to IMAP: $Net::IMAP::Simple::errstr\n&#34;;

if&#40;!$imap-&gt;login&#40;USER, PASS&#41;&#41; {
    print STDERR &#34;Login failed: &#34; . $imap-&gt;errstr . &#34;\n&#34;;
    exit&#40;64&#41;;
}

my $folder = &#34;shared.general.testing&#34;;

my $nm = $imap-&gt;select&#40;$folder&#41;;
die &#34;Failed to open folder $folder: &#34;, $imap-&gt;errstr, &#34;\n&#34; if&#40;$imap-&gt;errstr&#41;;

for&#40;my $i = 1; $i &lt;= $nm; $i++&#41; {
    my $uid = $imap-&gt;uid&#40;$i&#41;;
    die &#34;UID Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-&gt;errstr;
    my @top = $imap-&gt;top&#40;$i&#41;;
    die &#34;TOP Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-&gt;errstr;
}
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> debug.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271846/673497/debug.txt">Download debug.txt</a><br />
<span class="downloadcontenttype">text/plain 7.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">DEBUG:
[...l/5.10.1/Net/IMAP/Simple.pm line 132 in sub _connect] connecting to localhost:993
[...l/5.10.1/Net/IMAP/Simple.pm line 132 in sub _connect] connected, returning socket
[./build_state.pl line 40 in sub new] waiting for socket ready
[./build_state.pl line 40 in sub new] looking for greeting
[./build_state.pl line 40 in sub new] got a greeting: * OK [CAPABILITY IMAP4rev1 LITERAL+ ID ENABLE AUTH=LOGIN AUTH=PLAIN AUTH=DIGEST-MD5 AUTH=CRAM-MD5 SASL-IR] mail3 server ready\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1183 in sub _send_cmd] 0 LOGIN user &#34;passwd&#34;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 264 in sub _process_cmd] 0 OK [CAPABILITY IMAP4rev1 LITERAL+ ID ENABLE ACL RIGHTS=kxte QUOTA MAILBOX-REFERRALS NAMESPACE UIDPLUS NO_ATOMIC_RENAME UNSELECT CHILDREN MULTIAPPEND BINARY CATENATE CONDSTORE ESEARCH SORT SORT=MODSEQ SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=REFERENCES ANNOTATEMORE LIST-EXTENDED WITHIN QRESYNC SCAN XLIST URLAUTH URLAUTH=BINARY LOGINDISABLED AUTH=LOGIN AUTH=PLAIN AUTH=DIGEST-MD5 AUTH=CRAM-MD5 COMPRESS=DEFLATE IDLE] User logged in SESSIONID=&lt;mail3-20524-1381146131-1&gt;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] 0 OK [CAPABILITY IMAP4rev1 LITERAL+ ID ENABLE ACL RIGHTS=kxte QUOTA MAILBOX-REFERRALS NAMESPACE UIDPLUS NO_ATOMIC_RENAME UNSELECT CHILDREN MULTIAPPEND BINARY CATENATE CONDSTORE ESEARCH SORT SORT=MODSEQ SORT=DISPLAY THREAD=ORDEREDSUBJECT THREAD=REFERENCES ANNOTATEMORE LIST-EXTENDED WITHIN QRESYNC SCAN XLIST URLAUTH URLAUTH=BINARY LOGINDISABLED AUTH=LOGIN AUTH=PLAIN AUTH=DIGEST-MD5 AUTH=CRAM-MD5 COMPRESS=DEFLATE IDLE] User logged in SESSIONID=&lt;mail3-20524-1381146131-1&gt;\r\n
Connected to IMAP.
[...l/5.10.1/Net/IMAP/Simple.pm line 1183 in sub _send_cmd] 1 STATUS &#34;shared.general.testing&#34; &#40;UIDVALIDITY&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 360 in sub _process_cmd] * STATUS shared.general.testing &#40;UIDVALIDITY 1380818268&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * STATUS shared.general.testing &#40;UIDVALIDITY 1380818268&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 360 in sub _process_cmd] 1 OK Completed\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] 1 OK Completed\r\n
No Validity, build index for folder shared.general.testing
[...l/5.10.1/Net/IMAP/Simple.pm line 1183 in sub _send_cmd] 2 SELECT &#34;shared.general.testing&#34;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * 2 EXISTS\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * 2 EXISTS\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * 0 RECENT\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * 0 RECENT\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * FLAGS &#40;\Answered \Flagged \Draft \Deleted \Seen&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * FLAGS &#40;\Answered \Flagged \Draft \Deleted \Seen&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [PERMANENTFLAGS &#40;\Answered \Flagged \Draft \Deleted \Seen \*&#41;] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [PERMANENTFLAGS &#40;\Answered \Flagged \Draft \Deleted \Seen \*&#41;] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [UNSEEN 1] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [UNSEEN 1] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [UIDVALIDITY 1380818268] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [UIDVALIDITY 1380818268] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [UIDNEXT 3] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [UIDNEXT 3] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [HIGHESTMODSEQ 9] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [HIGHESTMODSEQ 9] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] * OK [URLMECH INTERNAL] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * OK [URLMECH INTERNAL] Ok\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 412 in sub _process_cmd] 2 OK [READ-WRITE] Completed\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] 2 OK [READ-WRITE] Completed\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1183 in sub _send_cmd] 3 UID SEARCH 1\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 612 in sub _process_cmd] * SEARCH 1\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] * SEARCH 1\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 612 in sub _process_cmd] 3 OK Completed &#40;1 msgs in 0.000 secs&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] 3 OK Completed &#40;1 msgs in 0.000 secs&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1183 in sub _send_cmd] 4 FETCH 1 RFC822.HEADER\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 516 in sub _process_cmd] * 1 FETCH &#40;RFC822.HEADER {925}\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [0] Return-Path: &lt;fff@yyy.com&gt;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [1] Received: from mail3.yyy.com &#40;localhost [127.0.0.1]&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [2]    by mail3 with LMTPA;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [3]    Thu, 03 Oct 2013 17:50:50 +0100\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [4] X-Sieve: CMU Sieve 2.4\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [5] Received: from [10.1.129.211] &#40;port=57082&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [6]   by mail3.yyy.com &#40;mail3.yyy.com [10.1.0.2]:465&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [7]   with esmtpsa &#40;TLSv1:DHE-RSA-AES256-SHA:256&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [8]   id 1VRm70-00068O-Ln &#40;Exim build-3&#41; for testing@yyy.com\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [9]   &#40;return-path &lt;fff@yyy.com&gt;&#41;; Thu, 03 Oct 2013 17:50:50 +0100\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [10] Message-ID: &lt;524DA06A.2070000@yyy.com&gt;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [11] Date: Thu, 03 Oct 2013 17:50:50 +0100\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [12] From: David &lt;fff@yyy.com&gt;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [13] Organization: yyy Ltd\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [14] User-Agent: Mozilla/5.0 &#40;Windows NT 6.1; WOW64; rv:17.0&#41; Gecko/20130801 Thunderbird/17.0.8\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [15] MIME-Version: 1.0\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [16] To: testing@yyy.com\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [17] Subject: test 1\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [18] Content-Type: multipart/alternative;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [19]  boundary=&#34;------------010001050006010903040408&#34;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [20] Lines: 195\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1197 in sub _read_multiline] [21] \r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 516 in sub _process_cmd] &#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] &#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1149 in sub _seterrstr] warning unknown return string &#40;id=4&#41;: &#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 516 in sub _process_cmd] 4 OK Completed &#40;0.000 sec&#41;\r\n
[...l/5.10.1/Net/IMAP/Simple.pm line 1203 in sub _cmd_ok] 4 OK Completed &#40;0.000 sec&#41;\r\n
TOP Err for 1 in shared.general.testing: warning unknown return string &#40;id=4&#41;: &#41;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271869" href="/Public/Bug/Display.html?id=89296#txn-1271869">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;10:02:54&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">5 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271869/673506/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673506">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just constructed a test, t/80_top.t ... and it totally works for me with dovecot.  What imap server is that?  I may need to reproduce the problem.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jettero/net--imap--simple/blob/master/t/80_top.t">https://github.com/jettero/net--imap--simple/blob/master/t/80_top.t</a></span>



Oh, nevermind.  I think the problem might be your code rather than a bug in top&#40;&#41;.  $imap-&gt;errstr will nearly always be true.  There&#39;s all sorts of messages that the module doesn&#39;t attempt to process, so it&#39;s always tagging them unknown.

my @top = $imap-&gt;top&#40;1&#41; or die $imap-&gt;errstr;



On Mon Oct 07 07:47:52 2013, holborn-bitcard@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Using Net-IMAP-Simple-1.2202
&gt; v5.10.1 &#40;*&#41; built for x86_64-linux-gnu-thread-multi
&gt; Ubuntu &#40;Lucid Lynx&#41; - Linux mail3.tuskerdirect.com 2.6.32-46-server
&gt; #108-Ubuntu SMP Thu Apr 11 16:11:15 UTC 2013 x86_64 GNU/Linux
&gt; 
&gt; 
&gt; my $imap = Net::IMAP::Simple-&gt;new&#40;&#39;localhost&#39;, port =&gt; 993, use_ssl =&gt;
&gt; 1, debug =&gt; 1&#41; || die &#34;Unable to connect to IMAP:
&gt; $Net::IMAP::Simple::errstr\n&#34;;
&gt; 
&gt; if&#40;!$imap-&gt;login&#40;USER, PASS&#41;&#41; {
&gt;     print STDERR &#34;Login failed: &#34; . $imap-&gt;errstr . &#34;\n&#34;;
&gt;     exit&#40;64&#41;;
&gt; }
&gt; 
&gt; my $folder = &#34;shared.general.testing&#34;;
&gt; 
&gt; my $nm = $imap-&gt;select&#40;$folder&#41;;
&gt; die &#34;Failed to open folder $folder: &#34;, $imap-&gt;errstr, &#34;\n&#34; if&#40;$imap-
<div class="message-stanza open">&gt; &gt;errstr&#41;;
</div>&gt; 
&gt; for&#40;my $i = 1; $i &lt;= $nm; $i++&#41; {
&gt;     my $uid = $imap-&gt;uid&#40;$i&#41;;
&gt;     die &#34;UID Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-
<div class="message-stanza open">&gt; &gt;errstr;
</div>&gt;     my @top = $imap-&gt;top&#40;$i&#41;;
&gt;     die &#34;TOP Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-
<div class="message-stanza open">&gt; &gt;errstr;
</div>&gt; }
</div>

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271870" href="/Public/Bug/Display.html?id=89296#txn-1271870">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;10:02:55&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271873" href="/Public/Bug/Display.html?id=89296#txn-1271873">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;10:02:56&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271909" href="/Public/Bug/Display.html?id=89296#txn-1271909">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;11:26:21&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271909/673533/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673533">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 133b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This was a very quick and dirty hack to get it working &#40;it looks like Cyrus IMAP that we use spits out FETCH as a parenthesis list&#41;. 
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271909/673534/patch.txt">Download patch.txt</a><br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ diff blib/lib/Net/IMAP/Simple.pm /usr/local/share/perl/5.10.1/Net/IMAP/Simple.pm
1156c1156
&lt;     my &#40; $self, $sock, $count &#41; = @_;
---
&gt;     my &#40; $self, $sock, $list, $count &#41; = @_;
1171a1172,1186
&gt;     if&#40;$list and $lines[-1] !~ /\&#41;/&#41; {
&gt;         $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;Looking for ending parenthsis match...&#34; &#41;;
&gt; 
&gt;         my $unmatched = 1;
&gt;         while&#40; $unmatched &#41; { 
&gt;             if&#40; defined&#40; my $line = $sock-&gt;getline &#41; &#41; {
&gt;                 push @lines, $line;
&gt;                 $unmatched = 0 if&#40;$line =~ /\&#41;/&#41;;
&gt;             } else {
&gt;                 $self-&gt;_seterrstr&#40; &#34;error reading $count bytes from socket&#34; &#41;;
&gt;                 last;
&gt;             }
&gt;         }
&gt;     }
&gt; 
1172a1188
&gt;         my $count=0;
1174c1190,1191
&lt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] $lines[$i]&#34; &#41;;
---
&gt;             $count += length&#40;$lines[$i]&#41;;
&gt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] &#40;$count&#41; $lines[$i]&#34; &#41;;
1195a1213,1217
&gt;             my $count = $1;
&gt;             my $list;
&gt; 
&gt;             $list = 1 if&#40;$res =~ /\&#40;/&#41;;
&gt; 
1197c1219
&lt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $1 &#41; &#41; {
---
&gt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $list, $count &#41; &#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271920" href="/Public/Bug/Display.html?id=89296#txn-1271920">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;11:46:12&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271920/673543/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673543">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 522b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The path applies cleanly and most of the tests pass.  

I do need ot chance down one possible bug regarding uninitialized values, but I suppose I shall release 1.2203 on the CPAN shortly.

On Mon Oct 07 11:26:21 2013, holborn-bitcard@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This was a very quick and dirty hack to get it working &#40;it looks like
&gt; Cyrus IMAP that we use spits out FETCH as a parenthesis list&#41;.
</div>

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271923" href="/Public/Bug/Display.html?id=89296#txn-1271923">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;11:56:05&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271923/673546/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673546">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 711b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I posted the new version to <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/perl/Net-IMAP-Simple-1.2203.tar.gz">http://jettero.pl/perl/Net-IMAP-Simple-1.2203.tar.gz</a></span>

You wanna try it before I post it to the CPAN?


On Mon Oct 07 11:46:12 2013, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The path applies cleanly and most of the tests pass.
&gt; 
&gt; I do need ot chance down one possible bug regarding uninitialized
&gt; values, but I suppose I shall release 1.2203 on the CPAN shortly.
&gt; 
&gt; On Mon Oct 07 11:26:21 2013, holborn-bitcard@drav.net wrote:
<div class="message-stanza open">&gt; &gt; This was a very quick and dirty hack to get it working &#40;it looks like
&gt; &gt; Cyrus IMAP that we use spits out FETCH as a parenthesis list&#41;.
</div></div>

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271926" href="/Public/Bug/Display.html?id=89296#txn-1271926">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;11:57:57&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271926/673550/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673550">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 85b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">a slighlty better implicit look for the closing brace, and only debug when debugging!
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch2.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271926/673551/patch2.txt">Download patch2.txt</a><br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">1156c1156
&lt;     my &#40; $self, $sock, $count &#41; = @_;
---
&gt;     my &#40; $self, $sock, $list, $count &#41; = @_;
1171a1172,1186
&gt;     if&#40;$list and $lines[-1] !~ /^\&#41;[\r\n]*$/&#41; {
&gt;         $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;Looking for ending parenthsis match...&#34; &#41; if&#40;$self-&gt;{debug}&#41;;
&gt; 
&gt;         my $unmatched = 1;
&gt;         while&#40; $unmatched &#41; { 
&gt;             if&#40; defined&#40; my $line = $sock-&gt;getline &#41; &#41; {
&gt;                 push @lines, $line;
&gt;                 $unmatched = 0 if&#40;$line =~ /\&#41;/&#41;;
&gt;             } else {
&gt;                 $self-&gt;_seterrstr&#40; &#34;error reading $count bytes from socket&#34; &#41;;
&gt;                 last;
&gt;             }
&gt;         }
&gt;     }
&gt; 
1172a1188
&gt;         my $count=0;
1174c1190,1191
&lt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] $lines[$i]&#34; &#41;;
---
&gt;             $count += length&#40;$lines[$i]&#41;;
&gt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] &#40;$count&#41; $lines[$i]&#34; &#41; if&#40;$self-&gt;{debug}&#41;;
1195a1213,1217
&gt;             my $count = $1;
&gt;             my $list;
&gt; 
&gt;             $list = 1 if&#40;$res =~ /\&#40;/&#41;;
&gt; 
1197c1219
&lt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $1 &#41; &#41; {
---
&gt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $list, $count &#41; &#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271928" href="/Public/Bug/Display.html?id=89296#txn-1271928">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;12:02:30&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271928/673554/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673554">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 200b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry for the patch spam :/ &#40;it&#39;s been one of those days - juggling too many things at once&#41;.

More implicit matching &#40;on the actual match that ends the while loop&#41; and also a clearer error message.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch3.txt</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271928/673555/patch3.txt">Download patch3.txt</a><br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">1156c1156
&lt;     my &#40; $self, $sock, $count &#41; = @_;
---
&gt;     my &#40; $self, $sock, $list, $count &#41; = @_;
1171a1172,1186
&gt;     if&#40;$list and $lines[-1] !~ /^\&#41;[\r\n]*$/&#41; {
&gt;         $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;Looking for ending parenthsis match...&#34; &#41; if&#40;$self-&gt;{debug}&#41;;
&gt; 
&gt;         my $unmatched = 1;
&gt;         while&#40; $unmatched &#41; { 
&gt;             if&#40; defined&#40; my $line = $sock-&gt;getline &#41; &#41; {
&gt;                 push @lines, $line;
&gt;                 $unmatched = 0 if&#40;$line =~ /^\&#41;[\r\n]*$/&#41;;
&gt;             } else {
&gt;                 $self-&gt;_seterrstr&#40; &#34;error matching closing brace after reading $count bytes from socket&#34; &#41;;
&gt;                 last;
&gt;             }
&gt;         }
&gt;     }
&gt; 
1172a1188
&gt;         my $count=0;
1174c1190,1191
&lt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] $lines[$i]&#34; &#41;;
---
&gt;             $count += length&#40;$lines[$i]&#41;;
&gt;             $self-&gt;_debug&#40; caller, __LINE__, &#39;_read_multiline&#39;, &#34;[$i] &#40;$count&#41; $lines[$i]&#34; &#41; if&#40;$self-&gt;{debug}&#41;;
1195a1213,1217
&gt;             my $count = $1;
&gt;             my $list;
&gt; 
&gt;             $list = 1 if&#40;$res =~ /\&#40;/&#41;;
&gt; 
1197c1219
&lt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $1 &#41; &#41; {
---
&gt;             foreach&#40; $self-&gt;_read_multiline&#40; $sock, $list, $count &#41; &#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271934" href="/Public/Bug/Display.html?id=89296#txn-1271934">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;12:20:20&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271934/673562/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673562">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Oct 07 10:02:54 2013, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just constructed a test, t/80_top.t ... and it totally works for me
&gt; with dovecot.  What imap server is that?  I may need to reproduce the
&gt; problem.
</div>
It&#39;s Cyrus IMAP &#40;2.4.13&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jettero/net--imap--simple/blob/master/t/80_top.t">https://github.com/jettero/net--imap--simple/blob/master/t/80_top.t</a></span>
&gt; 
&gt; 
&gt; 
&gt; Oh, nevermind.  I think the problem might be your code rather than a
&gt; bug in top&#40;&#41;.  $imap-&gt;errstr will nearly always be true.  There&#39;s all
&gt; sorts of messages that the module doesn&#39;t attempt to process, so it&#39;s
&gt; always tagging them unknown.
</div>
Ah okay, should I should be checking that the top&#40;&#41; returns and empty list &#40;or undefined&#41; before relying on errstr?

The POD says:

&#34;Nothing is returned on failure and the errstr&#40;&#41; error handler is set with the error message.&#34;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; my @top = $imap-&gt;top&#40;1&#41; or die $imap-&gt;errstr;
</div>
I&#39;ll fix that in my code to see what difference that has...

So, yes @top gets set :&#41;

Now it falls over on the $imap-&gt;uid&#40;$i&#41; call

&#40;I guess because once again I&#39;m checking $imap-&gt;errstr... which is set during the $imap-&gt;top&#40;&#41; call&#41;

The patch does seem to fix it to work cleanly... though I guess I need to work on a parenthesis list parser - something that strikes me as not an easy piece of work so the patch is not so &#39;quick and dirty!&#39;&#41;
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; 
&gt; 
&gt; On Mon Oct 07 07:47:52 2013, holborn-bitcard@drav.net wrote:
<div class="message-stanza open">&gt; &gt; Using Net-IMAP-Simple-1.2202
&gt; &gt; v5.10.1 &#40;*&#41; built for x86_64-linux-gnu-thread-multi
&gt; &gt; Ubuntu &#40;Lucid Lynx&#41; - Linux mail3.tuskerdirect.com 2.6.32-46-server
&gt; &gt; #108-Ubuntu SMP Thu Apr 11 16:11:15 UTC 2013 x86_64 GNU/Linux
&gt; &gt;
&gt; &gt;
&gt; &gt; my $imap = Net::IMAP::Simple-&gt;new&#40;&#39;localhost&#39;, port =&gt; 993, use_ssl
&gt; &gt; =&gt;
&gt; &gt; 1, debug =&gt; 1&#41; || die &#34;Unable to connect to IMAP:
&gt; &gt; $Net::IMAP::Simple::errstr\n&#34;;
&gt; &gt;
&gt; &gt; if&#40;!$imap-&gt;login&#40;USER, PASS&#41;&#41; {
&gt; &gt;     print STDERR &#34;Login failed: &#34; . $imap-&gt;errstr . &#34;\n&#34;;
&gt; &gt;     exit&#40;64&#41;;
&gt; &gt; }
&gt; &gt;
&gt; &gt; my $folder = &#34;shared.general.testing&#34;;
&gt; &gt;
&gt; &gt; my $nm = $imap-&gt;select&#40;$folder&#41;;
&gt; &gt; die &#34;Failed to open folder $folder: &#34;, $imap-&gt;errstr, &#34;\n&#34; if&#40;$imap-
<div class="message-stanza open">&gt; &gt; &gt; errstr&#41;;
</div>&gt; &gt;
&gt; &gt; for&#40;my $i = 1; $i &lt;= $nm; $i++&#41; {
&gt; &gt;     my $uid = $imap-&gt;uid&#40;$i&#41;;
&gt; &gt;     die &#34;UID Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-
<div class="message-stanza open">&gt; &gt; &gt; errstr;
</div>&gt; &gt; my @top = $imap-&gt;top&#40;$i&#41;;
&gt; &gt; die &#34;TOP Err for $i in $folder: &#34; , $imap-&gt;errstr, &#34;\n&#34; if $imap-
<div class="message-stanza open">&gt; &gt; &gt; errstr;
</div>&gt; &gt; }
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271936" href="/Public/Bug/Display.html?id=89296#txn-1271936">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;12:31:50&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271936/673564/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673564">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 219b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Oct 07 11:56:05 2013, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I posted the new version to <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/perl/Net-IMAP-Simple-">http://jettero.pl/perl/Net-IMAP-Simple-</a></span>
&gt; 1.2203.tar.gz
&gt; 
&gt; You wanna try it before I post it to the CPAN?
&gt; 
</div>
Yep that works for me duder! :&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271938" href="/Public/Bug/Display.html?id=89296#txn-1271938">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;12:34:29&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271938/673566/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673566">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 829b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m not sure how I feel about the word duder.

You submitted a few more patches after I applied the first one.  Did you have any interest in a git checkout to make sure it has your latest changes?

Or maybe edit right on github?

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jettero/net--imap--simple/blob/master/Simple.pm">https://github.com/jettero/net--imap--simple/blob/master/Simple.pm</a></span>

Otherwise I&#39;m likely to &#40;at a minimum&#41; make sure it has that last debugging patch/change.

-Paul

On Mon Oct 07 12:31:50 2013, holborn-bitcard@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Oct 07 11:56:05 2013, JETTERO wrote:
<div class="message-stanza open">&gt; &gt; I posted the new version to <span class="clickylink"><a target="new" rel="nofollow" href="http://jettero.pl/perl/Net-IMAP-Simple-">http://jettero.pl/perl/Net-IMAP-Simple-</a></span>
&gt; &gt; 1.2203.tar.gz
&gt; &gt; 
&gt; &gt; You wanna try it before I post it to the CPAN?
&gt; &gt; 
</div>&gt; 
&gt; Yep that works for me duder! :&#41;
&gt; 
</div>

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271948" href="/Public/Bug/Display.html?id=89296#txn-1271948">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;12:53:46&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271948/673575/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673575">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 604b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Oct 07 12:34:29 2013, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not sure how I feel about the word duder.
</div>
It&#39;s from Bill &#38; Ted&#39;s if memory serves!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You submitted a few more patches after I applied the first one.  Did
&gt; you have any interest in a git checkout to make sure it has your
&gt; latest changes?
</div>
Yeah I don&#39;t mind making the changes through git.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Or maybe edit right on github?
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/jettero/net--imap--simple/blob/master/Simple.pm">https://github.com/jettero/net--imap--simple/blob/master/Simple.pm</a></span>
&gt; 
&gt; Otherwise I&#39;m likely to &#40;at a minimum&#41; make sure it has that last
&gt; debugging patch/change.
</div>
Let me know, what ever is easier for you!

Regards

D.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1271961" href="/Public/Bug/Display.html?id=89296#txn-1271961">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;07&nbsp;13:14:15&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1271961/673583/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/673583">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 244b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Let me know, what ever is easier for you!
</div>
pull requests are easiest, obviously.  But I never require it.


-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272835" href="/Public/Bug/Display.html?id=89296#txn-1272835">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;08:24:44&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89296] top command fails with: warning unknown return string &#40;id=4&#41;:</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Oct 2013 13:24:26 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Drav Sloan &lt;holborn-bitcard [...] drav.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272835/674075/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674075">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 566b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=89296">https://rt.cpan.org/Ticket/Display.html?id=89296</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt; &gt; Let me know, what ever is easier for you!
</div>&gt; 
&gt; pull requests are easiest, obviously.  But I never require it.
</div>
I take it that&#39;s just a case of git cloning and then committing changes back
on master [or a branch]?

I&#39;ve not used github before, but I at least have an account there now! &#40;dravster&#41;

I managed to get as far as checking out, editing, but on a push to master I
get an error:

ERROR: Permission to jettero/net--imap--simple.git denied to dravster.


Regards,

D.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272850" href="/Public/Bug/Display.html?id=89296#txn-1272850">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;08:54:04&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272850/674092/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674092">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I take it that&#39;s just a case of git cloning and then committing
&gt; changes back
&gt; on master [or a branch]?
</div>
Nope.  That&#39;s old school.  With the new distributed source controls &#40;git, hg, etc&#41; there&#39;s no central repo.  Everyone&#39;s checkout is a full complete central repo just as important as any other, aisde form one &#40;like mine&#41; that&#39;s the copy pushed to the CPAN.  In fact, in git at least &#40;can&#39;t speak to the others&#41;, every single branch is a same-importance central-repo and merging really actually works and should be a normal operation not to be avoided.  Some people even make a branch for every new feature and merge the feature branches at the end.  I&#39;ve tried that and it&#39;s fun, but not my usual scatterebrained disorganized way of working and flitting around from topic to topic.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ERROR: Permission to jettero/net--imap--simple.git denied to dravster.
</div>
What you do, if you want, is fork my repo on github &#40;there&#39;s a button for this on the site&#41;, push your changes to that repo then tell github to send me a pull request, which I can review with their graphical tools and decide whether or not to merge or request further changes.  It&#39;s a really neat setup, but I&#39;ve only done this once...  Since it&#39;s clearly intended for projects much larger than anything I work on.

I can also pull directly from you on any other site.  So maybe push your repo to gitorious or repo.or.cz -- literally anywhere I can get to it.  And your pull request, then, is literally the english: &#34;will you pull from <span class="clickylink"><a target="new" rel="nofollow" href="http://mah.url/">http://mah.url/</a></span>?&#34;  Or you can use git-pull-request to format the request formally &#40;I&#39;m not aware of anyone using this, but it exists.&#41;

You can also simply &#34;git diff remotes/origin/master..master &gt; my-stuff.patch&#34; and post it here.  I can merge that, but I lose the author information that you likely added to the commit.  &#40;I tend to add it back with the --author flag during the merge.&#41;  Choose git-format-patch to generate the patch in a git format that shows authorship and commit message as email headers.

There&#39;s even built-in commands for sending patches and requesting pulls -- that as far as I know, only the linux kernel devs actually use; but I&#39;d be willing to try.

See also: git-format-patch, git-request-pull, git-send-email; reverse: git-apply, git-am, et al.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272853" href="/Public/Bug/Display.html?id=89296#txn-1272853">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;08:54:52&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272853/674095/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674095">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 360b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 09 08:54:04 2013, JETTERO wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; on master [or a branch]?
</div>&gt; 
&gt; Nope. 
</div>
Oh, sorry... Forgot to again say: this is all entirely optional.  If it&#39;s fun, do it.  If it&#39;s not, just post the patches, that&#39;s fine too.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272872" href="/Public/Bug/Display.html?id=89296#txn-1272872">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;09:45:30&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89296] top command fails with: warning unknown return string &#40;id=4&#41;:</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Oct 2013 14:45:11 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Drav Sloan &lt;holborn-bitcard [...] drav.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272872/674108/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674108">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I take it that&#39;s just a case of git cloning and then committing
&gt; &gt; changes back
&gt; &gt; on master [or a branch]?
</div>&gt; 
&gt; Nope.  That&#39;s old school.  With the new distributed source controls
&gt; &#40;git, hg, etc&#41; there&#39;s no central repo.  Everyone&#39;s checkout is a full
&gt; complete central repo just as important as any other, aisde form one
&gt; &#40;like mine&#41; that&#39;s the copy pushed to the CPAN.  In fact, in git at least
&gt; &#40;can&#39;t speak to the others&#41;, every single branch is a same-importance
&gt; central-repo and merging really actually works and should be a normal
&gt; operation not to be avoided.  Some people even make a branch for every new
&gt; feature and merge the feature branches at the end.  I&#39;ve tried that and
&gt; it&#39;s fun, but not my usual scatterebrained disorganized way of working
&gt; and flitting around from topic to topic.
</div>
Ah yeah, sounds very much like me to be 0ld sk00l :&#41; Thanks for the info
- very useful for a github newbie.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; ERROR: Permission to jettero/net--imap--simple.git denied to dravster.
</div>&gt; 
&gt; What you do, if you want, is fork my repo on github &#40;there&#39;s a button
&gt; for this on the site&#41;, push your changes to that repo then tell github
&gt; to send me a pull request, which I can review with their graphical
&gt; tools and decide whether or not to merge or request further changes.
&gt; It&#39;s a really neat setup, but I&#39;ve only done this once...  Since it&#39;s
&gt; clearly intended for projects much larger than anything I work on. 
</div>
Okay awesome, for the time being I went down your other suggested route of
editing via the github webpages &#40;it&#39;s created a patch-1 branch&#41; - there 
should be a pull request winging it&#39;s way over to you :&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can also pull directly from you on any other site.  So maybe push your
&gt; repo to gitorious or repo.or.cz -- literally anywhere I can get to it.
&gt; And your pull request, then, is literally the english: &#34;will you pull
&gt; from <span class="clickylink"><a target="new" rel="nofollow" href="http://mah.url/">http://mah.url/</a></span>?&#34;  Or you can use git-pull-request to format the
&gt; request formally &#40;I&#39;m not aware of anyone using this, but it exists.&#41;
</div>
That is rather funky, my experience of git was local clone + remote set
in stone &#40;in .git/config&#41; origin. I&#39;m planning at some point to final
package up and CPAN release a module I&#39;ve developed at work, so I imagine
I&#39;ll have to work on my github-fu at that point!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; You can also simply &#34;git diff remotes/origin/master..master &gt;
&gt; my-stuff.patch&#34; and post it here.  I can merge that, but I lose the
&gt; author information that you likely added to the commit.  &#40;I tend to add it
&gt; back with the --author flag during the merge.&#41;  Choose git-format-patch
&gt; to generate the patch in a git format that shows authorship and commit
&gt; message as email headers.
</div>
And it also sounds like more legwork without the funky tools github offer.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; There&#39;s even built-in commands for sending patches and requesting pulls -- that as far as I know, only the linux kernel devs actually use; but I&#39;d be willing to try.
&gt; 
&gt; See also: git-format-patch, git-request-pull, git-send-email; reverse: git-apply, git-am, et al.
</div>
Well I can&#39;t see me needing to go that far :&#41;

Hopefully the github web page submitted patch will be enough to get what
you require :&#41;

D.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272889" href="/Public/Bug/Display.html?id=89296#txn-1272889">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;10:35:27&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272889/674123/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674123">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 407b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 09 09:45:30 2013, holborn-bitcard@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And it also sounds like more legwork without the funky tools github
&gt; offer.
</div>
Indeed.  I just went to github and clicked [merge].  Well, I checked the diffs first to make sure it was as discussed.  Easy peasy.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272899" href="/Public/Bug/Display.html?id=89296#txn-1272899">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;10:43:03&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272899/674129/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674129">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 208b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Oddles of the tests nolonger pass now though.  

I&#39;m slogging through it.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272902" href="/Public/Bug/Display.html?id=89296#txn-1272902">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;10:51:07&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272902/674132/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674132">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 517b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think the introduced bugs were due to handlers that handled other side effects of your more correct matching.  I&#39;m just going to leave it at that.  This module is a mess.  So I partially reverted the patch to include an incorrect behavior.

I also changed \r\n to \x0d\x0a ... \r\n may not mean what you think.  It definitely does not mean \x0d\x0a; that&#39;s a C way of thinking. 



-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272938" href="/Public/Bug/Display.html?id=89296#txn-1272938">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;11:21:53&nbsp;2013</span>
    <span class="description">holbs [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89296] top command fails with: warning unknown return string &#40;id=4&#41;:</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Oct 2013 16:21:30 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Drav Sloan &lt;holbs [...] drav.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272938/674149/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674149">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 359b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=89296">https://rt.cpan.org/Ticket/Display.html?id=89296</a></span> &gt;
&gt; 
&gt; Oddles of the tests nolonger pass now though.  
&gt; 
&gt; I&#39;m slogging through it.
</div>
Ah oops, I must admit I didn&#39;t run it through the test suite :/ My bad &#40;that
what you get for trying to juggle 12 things at once and trying to rush things!&#41;.

Need me to take a ganders?

D.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272956" href="/Public/Bug/Display.html?id=89296#txn-1272956">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;11:44:23&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1272956/674163/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674163">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 567b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Oct 09 11:21:53 2013, holbs@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Need me to take a ganders?
</div>
Nope.  I had some idea the cause &#40;see previous nebulous comments&#41;.  I kludged something up.  The only thing I failed to do was check with you that my latest build actually works for you... it passes the tests...

I posted it to the cpan already too.  So if we still need to fix something, I think we should start a new ticket and version up to 1.2204.

-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1272959" href="/Public/Bug/Display.html?id=89296#txn-1272959">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;09&nbsp;11:44:23&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1273158" href="/Public/Bug/Display.html?id=89296#txn-1273158">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;10&nbsp;05:02:09&nbsp;2013</span>
    <span class="description">holborn-bitcard [...] drav.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> holborn-bitcard [...] drav.net</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #89296] top command fails with: warning unknown return string &#40;id=4&#41;:</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 10 Oct 2013 10:01:54 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Paul Miller via RT &lt;bug-Net-IMAP-Simple [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Drav Sloan &lt;holborn-bitcard [...] drav.net&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1273158/674299/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674299">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 526b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Paul Miller via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Nope.  I had some idea the cause &#40;see previous nebulous comments&#41;.
&gt; I kludged something up.  The only thing I failed to do was check with
&gt; you that my latest build actually works for you... it passes the tests...
</div>
Yes, that&#39;s worked nicely thanks.

Cheers for your time on this Paul :&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I posted it to the cpan already too.  So if we still need to fix something, I think we should start a new ticket and version up to 1.2204.
</div>
Yep that&#39;s the version I downloaded and tested,

Cheers again!

D.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1273177" href="/Public/Bug/Display.html?id=89296#txn-1273177">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;10&nbsp;06:12:31&nbsp;2013</span>
    <span class="description">jettero [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1273177/674307/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/674307">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 320b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Oct 10 05:02:09 2013, holborn-bitcard@drav.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Cheers for your time on this Paul :&#41;
</div>

:&#41;

I enjoy this work.  The back and forth was entertaining. Thanks for your help.


-- 
If riding in an airplane is flying, then riding in a boat is swimming.
116 jumps, 48.6 minutes of freefall, 92.9 freefall miles.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.931649</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
