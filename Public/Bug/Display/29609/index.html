<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #29609 for Image-ExifTool: unexpected -EXIF:ApertureValue from jpeg</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #29609 for Image-ExifTool: unexpected -EXIF:ApertureValue from jpeg</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Image-ExifTool">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Image-ExifTool">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Image-ExifTool">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Image-ExifTool">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Image-ExifTool">Image-ExifTool CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">29609</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">15 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Image-ExifTool">Image-ExifTool</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
tuzen [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16626-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-16627-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




s_aperture.jpg<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/365473/165649/s_aperture.jpg">
Tue Sep 25 19:14:58 2007 (35.1k) by tuzen [...] hotmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=29609">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365473" href="/Public/Bug/Display.html?id=29609#txn-365473">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;25&nbsp;19:14:58&nbsp;2007</span>
    <span class="description">tuzen [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> unexpected -EXIF:ApertureValue from jpeg</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 Sep 2007 16:14:20 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Brian Williams&#34; &lt;tuzen [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/365473/165649/s_aperture.jpg">Download s_aperture.jpg</a><br />
<span class="downloadcontenttype">image/jpeg 35.1k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/365473/165647/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165647">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 472b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">  I have one file, attached is an example, that returns a strange value for ApertureValue.  However, I checked inside the file using -htmlDump and it value appears ok.  This photo was taken without a regular lens; I believe this will happen with a field-scope, telescope, or perhaps even a lens-baby.

Thanks!
-Brian


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;exiftool.exe -EXIF:ApertureValue s_aperture.jpg
</div>
returns:
    Aperture Value                  : 1.$

expected:
    Aperture Value                  : f/0
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365473/165648/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165648">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365603" href="/Public/Bug/Display.html?id=29609#txn-365603">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;26&nbsp;08:00:09&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> EXIFTOOL [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365603/165702/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165702">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the bug report and the sample image.

In your sample, the raw ApertureValue has a value of 2147483648 in both the EXIF and XMP 
information.  This is clearly incorrect.  The value is represented as unsigned in EXIF and 
positive in XMP, but in fact it should be signed and therefore -2147483648 instead of 
2147483648.  This is because the conversion from the APEX ApertureValue is done by the 
formula 2 ** &#40;VALUE / 2&#41;.  &#40;where &#34;**&#34; is exponentiation&#41;

2 ** &#40;2147483648 / 2&#41; is effectively infinity, while 2 ** &#40;-2147483648 / 2&#41; is close to zero.

For this image, exiftool reports &#34;inf&#34; for both Exif:ApertureValue and XMP:ApertureValue on 
Linux and Mac OS X systems.  The difference in Windows is presumably a difference in the 
way Perl handles a floating point overflow because it is Perl that returns the &#34;inf&#34; &#40;but I don&#39;t 
have access to a PC at the moment, so I can&#39;t test this out&#41;.  I suppose I could add explicit 
tests for large values like this, but these types of math calculations occur in many places and 
in my view adding all the required checks would unnecessarily slow down the processing.

In this case, I believe the main fault is in the software wrote this incorrect value, not in 
exiftool.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365604" href="/Public/Bug/Display.html?id=29609#txn-365604">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;26&nbsp;08:01:26&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365744" href="/Public/Bug/Display.html?id=29609#txn-365744">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;26&nbsp;21:13:08&nbsp;2007</span>
    <span class="description">tuzen [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 26 Sep 2007 18:11:59 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Brian Williams&#34; &lt;tuzen [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365744/165780/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165780">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
  Thank you for looking at this one.  I believe -2147483648 is a magic 
number; it is the smallest int &#40;$MinInt&#41;. ...so could perhaps this is the 
only value to check for?

  I don&#39;t think the EXIF is incorrect in the file.  I understand that many 
non-CPU lenses do something like this.  I believe this f/0 came out of the 
camera, and so I suspect any SLR without an &#34;official&#34; lens will do this.

  As you say, the XMP is likely incorrect, but I don&#39;t know who wrote it. 
I&#39;m only going after that exif:ApertureValue.  But I did read the XMP value 
on my PC just now and I got that same &#34;1.$&#34;.

Thanks!
-Brian

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">----- Original Message -----
From: &#34;Phil Harvey via RT&#34; &lt;bug-Image-ExifTool@rt.cpan.org&gt;
To: &lt;tuzen@hotmail.com&gt;
Sent: Wednesday, September 26, 2007 5:01 AM
Subject: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg

<div class="message-stanza open">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=29609">http://rt.cpan.org/Ticket/Display.html?id=29609</a></span> &gt;
&gt;
&gt; Thanks for the bug report and the sample image.
&gt;
&gt; In your sample, the raw ApertureValue has a value of 2147483648 in both 
&gt; the EXIF and XMP
&gt; information.  This is clearly incorrect.  The value is represented as 
&gt; unsigned in EXIF and
&gt; positive in XMP, but in fact it should be signed and therefore -2147483648 
&gt; instead of
&gt; 2147483648.  This is because the conversion from the APEX ApertureValue is 
&gt; done by the
&gt; formula 2 ** &#40;VALUE / 2&#41;.  &#40;where &#34;**&#34; is exponentiation&#41;
&gt;
&gt; 2 ** &#40;2147483648 / 2&#41; is effectively infinity, while 2 ** &#40;-2147483648 / 
&gt; 2&#41; is close to zero.
&gt;
&gt; For this image, exiftool reports &#34;inf&#34; for both Exif:ApertureValue and 
&gt; XMP:ApertureValue on
&gt; Linux and Mac OS X systems.  The difference in Windows is presumably a 
&gt; difference in the
&gt; way Perl handles a floating point overflow because it is Perl that returns 
&gt; the &#34;inf&#34; &#40;but I don&#39;t
&gt; have access to a PC at the moment, so I can&#39;t test this out&#41;.  I suppose I 
&gt; could add explicit
&gt; tests for large values like this, but these types of math calculations 
&gt; occur in many places and
&gt; in my view adding all the required checks would unnecessarily slow down 
&gt; the processing.
&gt;
&gt; In this case, I believe the main fault is in the software wrote this 
&gt; incorrect value, not in
&gt; exiftool.
&gt;
&gt; 
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365835" href="/Public/Bug/Display.html?id=29609#txn-365835">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;27&nbsp;07:23:44&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> EXIFTOOL [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365835/165825/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165825">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 497b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think you misunderstood.

If the number stored in the EXIF was -2147483648 &#40;0x8000 as an unsigned value&#41;, then we 
would have no problem, because this would convert to f/0 using the APEX formula.  But it is a 
signed integer, so the value is 2147483648, which can not be correct because it leads to a near 
infinite F number.  

  | | 9&#41;  ApertureValue = 2147484000
  | |     - Tag 0x9202 &#40;8 bytes, rational64u[1]&#41;:
  | |         12dc: 80 00 00 00 00 00 00 01                         [........]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365837" href="/Public/Bug/Display.html?id=29609#txn-365837">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;27&nbsp;07:27:33&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/365837/165827/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165827">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 369b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, I&#39;m not helping matters here by reversing &#34;signed&#34; and &#34;unsigned&#34; in my last reply.  I 
meant to say this:

If the number stored in the EXIF was -2147483648 &#40;0x8000 as a SIGNED value&#41;, then we would 
have no problem, because this would convert to f/0 using the APEX formula.  But it is an 
UNSIGNED integer, so the value is 2147483648, which can not be correct.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365875" href="/Public/Bug/Display.html?id=29609#txn-365875">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;27&nbsp;12:59:19&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> EXIFTOOL [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365875/165847/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165847">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 327b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The bottom line is that if I fixed this for the Windows platform, the value displayed would be 
&#34;inf&#34; as it is on Linux and OS X, which is still not what you want.

&#40;The EXIF documentation makes no reference to any special ApertureValue used to represent f/
0, so it can only be interpreted according to the standard formula.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-365916" href="/Public/Bug/Display.html?id=29609#txn-365916">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;27&nbsp;18:05:22&nbsp;2007</span>
    <span class="description">tuzen [...] usermail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 27 Sep 2007 15:04:43 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-image-exiftool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Brian Williams &lt;tuzen [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/365916/165869/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165869">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 953b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"> 
  Thanks for getting me up to speed on that.  I did not realize the exif:Aperture was supposed to be URATIONAL.  I&#39;ve always seen f/0 in various applications and assumed they were doing the right thing.  I have never seen f/inf, but I suppose that is technically ok.  But since Adobe displayed f/0, perhaps everybody followed?
 
  Perhaps inf is better than 1.$
 
Thanks,
-Brian


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Subject: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg &gt; From: bug-Image-ExifTool@rt.cpan.org&gt; To: tuzen@hotmail.com&gt; Date: Thu, 27 Sep 2007 12:59:23 -0400&gt; &gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=29609">http://rt.cpan.org/Ticket/Display.html?id=29609</a></span> &gt;&gt; &gt; The bottom line is that if I fixed this for the Windows platform, the value displayed would be &gt; &#34;inf&#34; as it is on Linux and OS X, which is still not what you want.&gt; &gt; &#40;The EXIF documentation makes no reference to any special ApertureValue used to represent f/&gt; 0, so it can only be interpreted according to the standard formula.&#41;&gt; 
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/365916/165870/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165870">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-366033" href="/Public/Bug/Display.html?id=29609#txn-366033">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;28&nbsp;07:26:36&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> EXIFTOOL [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/366033/165905/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/165905">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Brian,

I really doubt that any Adobe product displays this correctly.  Are you sure you aren&#39;t looking 
at the value of FNumber, which is also stored in this file?  Using Adobe Photoshop 7.0, the 
displayed value of ApertureValue for this file is &#34;2147483648.0&#34;.

On Thu Sep 27 18:05:22 2007, tuzen@usermail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt;   Thanks for getting me up to speed on that.  I did not realize the
&gt;    exif:Aperture was supposed to be URATIONAL.  I&#39;ve always seen f/0
&gt;    in various applications and assumed they were doing the right
&gt;    thing.  I have never seen f/inf, but I suppose that is technically
&gt;    ok.  But since Adobe displayed f/0, perhaps everybody followed?
&gt; 
&gt;   Perhaps inf is better than 1.$
&gt; 
&gt; Thanks,
&gt; -Brian
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; Subject: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from
</div>&gt;    jpeg &gt; From: bug-Image-ExifTool@rt.cpan.org&gt; To: tuzen@hotmail.com&gt;
&gt;    Date: Thu, 27 Sep 2007 12:59:23 -0400&gt; &gt; &gt; &lt;URL:
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=29609">http://rt.cpan.org/Ticket/Display.html?id=29609</a></span> &gt;&gt; &gt; The bottom
&gt;    line is that if I fixed this for the Windows platform, the value
&gt;    displayed would be &gt; &#34;inf&#34; as it is on Linux and OS X, which is
&gt;    still not what you want.&gt; &gt; &#40;The EXIF documentation makes no
&gt;    reference to any special ApertureValue used to represent f/&gt; 0, so
&gt;    it can only be interpreted according to the standard formula.&#41;&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376962" href="/Public/Bug/Display.html?id=29609#txn-376962">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:10:30&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> EXIFTOOL [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/376962/172080/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172080">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 409b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK.  Just to close this bug out, I&#39;m going to reject it as
an exiftool bug.  The problem is really in this version of
ActivePerl, which is printing &#34;1.$&#34; instead of &#34;inf&#34; &#40;as other
Perl versions do&#41; for an infinite value in a sprintf&#40;&#41; statement.

Also, the ApertureValue is invalid, and should be written
as a large NEGATIVE number for an Aperture of 1.0, in which
case exiftool would print 1.0 as expected.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376964" href="/Public/Bug/Display.html?id=29609#txn-376964">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:11:11&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  TimeWorked changed from &#40;no value&#41; to &#39;15&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376965" href="/Public/Bug/Display.html?id=29609#txn-376965">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:11:12&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376966" href="/Public/Bug/Display.html?id=29609#txn-376966">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:14:29&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/376966/172082/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172082">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 251b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Oct 30 08:10:30 2007, EXIFTOOL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also, the ApertureValue is invalid, and should be written
&gt; as a large NEGATIVE number for an Aperture of 1.0, in which
&gt; case exiftool would print 1.0 as expected.
</div>
Sorry.  I meant an aperture of 0.0.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376967" href="/Public/Bug/Display.html?id=29609#txn-376967">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:14:32&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376969" href="/Public/Bug/Display.html?id=29609#txn-376969">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;08:14:52&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376991" href="/Public/Bug/Display.html?id=29609#txn-376991">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:36:16&nbsp;2007</span>
    <span class="description">tuzen [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 30 Oct 2007 07:35:40 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Image-ExifTool [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Brian Williams&#34; &lt;tuzen [...] hotmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/376991/172107/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/172107">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 786b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
  Ok. Thanks for looking at this.
-Brian

--------------------------------------------------
From: &#34;Phil Harvey via RT&#34; &lt;bug-Image-ExifTool@rt.cpan.org&gt;
Sent: Tuesday, October 30, 2007 5:10 AM
To: &lt;tuzen@hotmail.com&gt;
Subject: [rt.cpan.org #29609] unexpected -EXIF:ApertureValue from jpeg 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=29609">http://rt.cpan.org/Ticket/Display.html?id=29609</a></span> &gt;
&gt; 
&gt; OK.  Just to close this bug out, I&#39;m going to reject it as
&gt; an exiftool bug.  The problem is really in this version of
&gt; ActivePerl, which is printing &#34;1.$&#34; instead of &#34;inf&#34; &#40;as other
&gt; Perl versions do&#41; for an infinite value in a sprintf&#40;&#41; statement.
&gt; 
&gt; Also, the ApertureValue is invalid, and should be written
&gt; as a large NEGATIVE number for an Aperture of 1.0, in which
&gt; case exiftool would print 1.0 as expected.
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-376992" href="/Public/Bug/Display.html?id=29609#txn-376992">#</a>      
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;10:36:33&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-377039" href="/Public/Bug/Display.html?id=29609#txn-377039">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Oct&nbsp;30&nbsp;11:10:46&nbsp;2007</span>
    <span class="description">EXIFTOOL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.455398</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
