<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #103195 for Sub-Name: On \0 in names before ~5.14</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #103195 for Sub-Name: On \0 in names before ~5.14</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Sub-Name/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Sub-Name/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Sub-Name/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Sub-Name/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Sub-Name">Sub-Name CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">103195</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">stalled</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Sub-Name/Active/">Sub-Name</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
pagaltzis [...] gmx.de

<br />
rurban [...] cpanel.net

<br />
sprout [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-30122-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-30123-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;30&nbsp;04:19:46&nbsp;2015</span>
    <span class="description">ribasushi [...] leporine.io -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> sprout [...] cpan.org, pagaltzis [...] gmx.de, rurban [...] cpanel.net</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> On \0 in names before ~5.14</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">After <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rurban/sub-name/commit/3dff81c8#commitcomment-10462302">https://github.com/rurban/sub-name/commit/3dff81c8#commitcomment-10462302</a></span> I figured it&#39;s worth opening a ticket specifically to track this issue &#40;it was mentioned briefly in RT#69422&#41;.

This ticket exists to raise 2 questions
- Should \0 be allowed by Sub::Name at all, or should the major version be bumped and an explicit exception be thrown
- What should Sub::Name do on perls prior to <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commit/435e8dd0d">http://perl5.git.perl.org/perl.git/commit/435e8dd0d</a></span>, where \0 in names is not supported by the interpreter itself

The considerations in answering this are the following:

- Use cases of anonymouns subroutine naming
  * The mro *next::method codepaths rely on methods being implmented via properly named coderefs
  * caller&#40;&#41; &#40;and by extension the ecosystem of stack trace generators/analyzers&#41;

- Technical validity of \0 in names
  * Do not work properly at all prior to perl 5.13.7
  * Are explicitly supported via tests since <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blobdiff/9343f4c..9922583:/ext/B/t/b.t">http://perl5.git.perl.org/perl.git/blobdiff/9343f4c..9922583:/ext/B/t/b.t</a></span> or maybe earlier

- Logical validity of \0 in names
  * In perl-land \0 is a character like any other. Allowing it seems sane
  * In almost all circumstances \0 is not rendered on output, thus making it of questionable &#40;malicious?&#41; utility in caller&#40;&#41; and friends


I myself am of the opinion: Allow \0 in line with perl5 &#40;that decision has already been made, rehashing it makes no sense&#41;, die before 5.13.7.


Thoughts?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;05:49:19&nbsp;2015</span>
    <span class="description">rurban [...] cpanel.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> pagaltzis [...] gmx.de, sprout [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103195] On \0 in names before ~5.14</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 Mar 2015 11:49:06 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Name [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reini Urban &lt;rurban [...] cpanel.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 03/30/2015 10:19 AM, Peter Rabbitson via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103195">https://rt.cpan.org/Ticket/Display.html?id=103195</a></span> &gt;
&gt; 
&gt; After <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rurban/sub-name/commit/3dff81c8#commitcomment-10462302">https://github.com/rurban/sub-name/commit/3dff81c8#commitcomment-10462302</a></span> I figured it&#39;s worth opening a ticket specifically to track this issue &#40;it was mentioned briefly in RT#69422&#41;.
&gt; 
&gt; This ticket exists to raise 2 questions
&gt; - Should \0 be allowed by Sub::Name at all, or should the major version be bumped and an explicit exception be thrown
</div>
Of course \0 needs to be allowed. upstream went with this horrible
decision even if most modules were not ready. But we have to follow.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - What should Sub::Name do on perls prior to <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/commit/435e8dd0d">http://perl5.git.perl.org/perl.git/commit/435e8dd0d</a></span>, where \0 in names is not supported by the interpreter itself
</div>
Of course do the same as before: Silently skip the rest. &lt;5.15 GvNAME
had no LEN, it was only a char*

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The considerations in answering this are the following:
&gt; 
&gt; - Use cases of anonymouns subroutine naming
&gt;   * The mro *next::method codepaths rely on methods being implmented via properly named coderefs
&gt;   * caller&#40;&#41; &#40;and by extension the ecosystem of stack trace generators/analyzers&#41;
&gt; 
&gt; - Technical validity of \0 in names
&gt;   * Do not work properly at all prior to perl 5.13.7
&gt;   * Are explicitly supported via tests since <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.git.perl.org/perl.git/blobdiff/9343f4c..9922583:/ext/B/t/b.t">http://perl5.git.perl.org/perl.git/blobdiff/9343f4c..9922583:/ext/B/t/b.t</a></span> or maybe earlier
</div>
And mostly my security concerns, which were not understood and ignored.
Years after they started fixing a few cases, but I cannot recommend
using perl &gt;5.14 on a public server still.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - Logical validity of \0 in names
&gt;   * In perl-land \0 is a character like any other. Allowing it seems sane
</div>
Not really. All packagenames went directly without any sanitation to the
filesystem, and hence loaded wrong files.

You forgot about TR39 Confusables also. Characters are definitely not
like any other. How many hidden unicode characters are in a typical
program? We can never know because we choose to ignore this problem.

Allowing everything is definitely not sane, it is a security risc.
<span class="clickylink"><a target="new" rel="nofollow" href="http://unicode.org/reports/tr39/">http://unicode.org/reports/tr39/</a></span>


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   * In almost all circumstances \0 is not rendered on output, thus making it of questionable &#40;malicious?&#41; utility in caller&#40;&#41; and friends
</div>
Not only in caller, until 5.20 in almost all helper functions which
prints a name. And in most XS extensions which ignore the LEN.
Such as this one.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I myself am of the opinion: Allow \0 in line with perl5 &#40;that decision has already been made, rehashing it makes no sense&#41;, die before 5.13.7.
</div>
Not die, skip the rest after \0
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;05:49:20&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;05:54:14&nbsp;2015</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> pagaltzis [...] gmx.de, sprout [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103195] On \0 in names before ~5.14</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 Mar 2015 11:54:01 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Name [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Rabbitson &lt;ribasushi [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 03/31/2015 11:49 AM, Reini Urban via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
<div class="message-stanza open">&gt;&gt; I myself am of the opinion: Allow \0 in line with perl5 &#40;that decision has already been made, rehashing it makes no sense&#41;, die before 5.13.7.
</div>&gt; Not die, skip the rest after \0
&gt;
</div>
This implies that a program will behave differently on &lt; 5.14 and do so 
*silently*. I think this is a crappy position for a library to be in - 
the job of a library is to present a consistent interface. Fail closed 
vs fail open kind of thing.

I strongly disagree with &#34;just cut everything after \0&#34;. At the very 
least a warning needs to be issued... In fact one can argue for a 
warning &#40;think &#34;non portable&#34;&#41; on *any* $]. This way a dev sitting on an 
unrealistically modern 5.20 will be alerted early something isn&#39;t right.

Thoughts?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;09:16:46&nbsp;2015</span>
    <span class="description">rurban [...] cpanel.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> pagaltzis [...] gmx.de, sprout [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103195] On \0 in names before ~5.14</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 Mar 2015 15:16:34 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Name [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reini Urban &lt;rurban [...] cpanel.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 03/31/2015 11:54 AM, Peter Rabbitson via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103195">https://rt.cpan.org/Ticket/Display.html?id=103195</a></span> &gt;
&gt; 
&gt; On 03/31/2015 11:49 AM, Reini Urban via RT wrote:
<div class="message-stanza open">&gt;&gt;
<div class="message-stanza open">&gt;&gt;&gt; I myself am of the opinion: Allow \0 in line with perl5 &#40;that decision has already been made, rehashing it makes no sense&#41;, die before 5.13.7.
</div>&gt;&gt; Not die, skip the rest after \0
&gt;&gt;
</div>&gt; 
&gt; This implies that a program will behave differently on &lt; 5.14 and do so 
&gt; *silently*. I think this is a crappy position for a library to be in - 
&gt; the job of a library is to present a consistent interface. Fail closed 
&gt; vs fail open kind of thing.
</div>
These are the decision p5p made, it is not on us to change it.
I was the only one who voiced his strong opposition then.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I strongly disagree with &#34;just cut everything after \0&#34;. At the very 
&gt; least a warning needs to be issued... In fact one can argue for a 
&gt; warning &#40;think &#34;non portable&#34;&#41; on *any* $]. This way a dev sitting on an 
&gt; unrealistically modern 5.20 will be alerted early something isn&#39;t right.
&gt; 
&gt; Thoughts?
</div>
I also strongly disagree with all of the p5p decisions in this regard.
1. to silently skip after \0 part for old names, and
2. to silently allow binary names and confusable names since 5.16.

Regardless we still need to follow the perl5 API.
Which is to silently skip everything after \0 with old names,
and to silently allow binary names after 5.16.

There is no room for opinions.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;15:50:32&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-03-31 06:16:46, rurban@cpanel.net wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; * In perl-land \0 is a character like any other. Allowing it seems sane
</div>&gt; Not really. All packagenames went directly without any sanitation to the filesystem, and hence loaded wrong files.
</div>
I&#39;ve raised the same issue with respect to unicode package names -- because filesystems do encodings differently &#40;and unpredictably&#41;, there&#39;s no way of knowing what file the package &#34;Acme::ಠ_ಠ&#34; can be found in.  On some filesystems it&#39;s &#39;Acme/ಠ_ಠ.pm&#39;, on others &#40;like mine, darwin/HFS+&#41; it&#39;s &#39;Acme/Ã Â²Â _Ã Â²Â.pm&#39;.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Regardless we still need to follow the perl5 API.
&gt; Which is to silently skip everything after \0 with old names,
&gt; and to silently allow binary names after 5.16.
&gt; 
&gt; There is no room for opinions.
</div>
Does it *have* to be silent? there&#39;s no reason why we can&#39;t add extra warnings, especially if we create a new warnings category for it that can be disabled.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;01&nbsp;04:29:42&nbsp;2015</span>
    <span class="description">rurban [...] cpanel.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> pagaltzis [...] gmx.de, sprout [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103195] On \0 in names before ~5.14</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 01 Apr 2015 10:29:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Sub-Name [...] rt.cpan.org, ribasushi [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reini Urban &lt;rurban [...] cpanel.net&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 03/31/2015 09:50 PM, Karen Etheridge via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103195">https://rt.cpan.org/Ticket/Display.html?id=103195</a></span> &gt;
&gt; 
&gt; On 2015-03-31 06:16:46, rurban@cpanel.net wrote:
&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt;&gt;&gt; * In perl-land \0 is a character like any other. Allowing it seems sane
</div>&gt;&gt; Not really. All packagenames went directly without any sanitation to the filesystem, and hence loaded wrong files.
</div>&gt; 
&gt; I&#39;ve raised the same issue with respect to unicode package names -- because filesystems do encodings differently &#40;and unpredictably&#41;, there&#39;s no way of knowing what file the package &#34;Acme::ಠ_ಠ&#34; can be found in.  On some filesystems it&#39;s &#39;Acme/ಠ_ಠ.pm&#39;, on others &#40;like mine, darwin/HFS+&#41; it&#39;s &#39;Acme/Ã Â²Â _Ã Â²Â.pm&#39;.
</div>
Also a good point. Encoded paths are not portable. perl and the syscall
just ignore the encoding. We can only hope that if the utf8 flag is
properly set, the syscall can do utf8. But we don&#39;t even support
multi-byte syscalls &#40;e.g on windows all countries east of germany are
essentially left out&#41; and no translation layers &#40;only symbian, vms and
cygwin do this in their ports&#41;, so this is a far call.

Don&#39;t we have a cpan xt test for unportable pathnames already?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Regardless we still need to follow the perl5 API.
&gt;&gt; Which is to silently skip everything after \0 with old names,
&gt;&gt; and to silently allow binary names after 5.16.
&gt;&gt;
&gt;&gt; There is no room for opinions.
</div>&gt; 
&gt; Does it *have* to be silent? there&#39;s no reason why we can&#39;t add extra warnings, especially if we create a new warnings category for it that can be disabled.
</div>
Personally I&#39;d like to see a warning. yes. Sure.
This would be a big change from perl5 behavior then, and needs to be
documented as such.
I only filed such a bug report for Package::Stash::XS which invented
it&#39;s own ASCII-only pathname policy without documentation.
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/doy/package-stash-xs/issues/5">https://github.com/doy/package-stash-xs/issues/5</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;03&nbsp;14:51:30&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2015-04-01 01:29:42, rurban@cpanel.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 03/31/2015 09:50 PM, Karen Etheridge via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103195">https://rt.cpan.org/Ticket/Display.html?id=103195</a></span> &gt;
&gt; &gt;
&gt; &gt; On 2015-03-31 06:16:46, rurban@cpanel.net wrote:
&gt; &gt;
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt;&gt; * In perl-land \0 is a character like any other. Allowing it seems
&gt; &gt;&gt;&gt; sane
</div>&gt; &gt;&gt; Not really. All packagenames went directly without any sanitation to
&gt; &gt;&gt; the filesystem, and hence loaded wrong files.
</div>&gt; &gt;
&gt; &gt; I&#39;ve raised the same issue with respect to unicode package names --
&gt; &gt; because filesystems do encodings differently &#40;and unpredictably&#41;,
&gt; &gt; there&#39;s no way of knowing what file the package &#34;Acme::ಠ_ಠ&#34; can be
&gt; &gt; found in.  On some filesystems it&#39;s &#39;Acme/ಠ_ಠ.pm&#39;, on others &#40;like
&gt; &gt; mine, darwin/HFS+&#41; it&#39;s &#39;Acme/Ã Â²Â _Ã Â²Â.pm&#39;.
</div>&gt; 
&gt; Also a good point. Encoded paths are not portable. perl and the
&gt; syscall
&gt; just ignore the encoding. We can only hope that if the utf8 flag is
&gt; properly set, the syscall can do utf8. But we don&#39;t even support
&gt; multi-byte syscalls &#40;e.g on windows all countries east of germany are
&gt; essentially left out&#41; and no translation layers &#40;only symbian, vms and
&gt; cygwin do this in their ports&#41;, so this is a far call.
&gt; 
&gt; Don&#39;t we have a cpan xt test for unportable pathnames already?
</div>
Yes, there&#39;s Test::Portability::Files, but that only encourages using ascii
in filenames, and doesn&#39;t help us figure out what to do if we want unicode
in a package name.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;15&nbsp;14:16:24&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> MITHALDU [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Mar 30 10:19:46 2015, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; After <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/rurban/sub-">https://github.com/rurban/sub-</a></span>
&gt; name/commit/3dff81c8#commitcomment-10462302 I figured it&#39;s worth
&gt; opening a ticket specifically to track this issue &#40;it was mentioned
&gt; briefly in RT#69422&#41;.
</div>
Closing due to lack of discussion of actual issue.

Feel free to reopen if a resource with both XS skills and reason becomes available.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;15&nbsp;14:16:31&nbsp;2016</span>
    <span class="description">ribasushi [...] leporine.io -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;16&nbsp;13:50:49&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think this should stay open so we are aware it&#39;s still an issue. I&#39;d forgotten about it until it was mentioned today at <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/moose/Moose/pull/127#issuecomment-240081105">https://github.com/moose/Moose/pull/127#issuecomment-240081105</a></span>.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;16&nbsp;13:50:49&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;rejected&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
