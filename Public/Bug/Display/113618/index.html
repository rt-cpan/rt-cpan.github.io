<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #113618 for PAR-Packer: Strange issue with not packing libperl.dylib</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #113618 for PAR-Packer: Strange issue with not packing libperl.dylib</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">113618</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
philkime [...] kime.org.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.030    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;09:43:25&nbsp;2016</span>
    <span class="description">philkime [...] kime.org.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Strange issue with not packing libperl.dylib</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 8 Apr 2016 15:43:06 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Kime Philip &lt;philkime [...] kime.org.uk&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">With 1.30, I just had a bug report that the packed binary top level script is looking for libperl.dylib in the place where the build machine expects it. I verified this by renaming /opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib and then the packed version fails with:


dyld: Library not loaded: /opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib
  Referenced from: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T//par-7068696c6b696d65/cache-a06ceeaebd8c05e62e25f7d6b91364d7adb646b8/biber
  Reason: image not found
Trace/BPT trap: 5

Iâ€™m sure this never used to happen. Do I now need to pack libperl.dylib explicitly on OSX?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;10:01:00&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I tried packing libperl.dylib explicitly but this makes no difference - the packed version still refers to the perl install tree path of libperl.dylib and fails if it&#39;s not there ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;10:01:01&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;10:01:39&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;10:01:39&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Broken in 1.030 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;10:22:14&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-08 10:01:00, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I tried packing libperl.dylib explicitly but this makes no difference
</div>
That&#39;s never going to work, libperl &#40;and any non-system libraries it is linked with&#41;
are _not_ packed in the zip part of the executable.

Please attach a full build log of PAR::Packer.

Also, what&#39;s the version of OS X on the machine where the packed executable fails?

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;11:07:18&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Build is on 10.6 and fails with same error on 10.8 and 10.11. I also tried to build on 10.11 with same issue.

Log is attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> log.txt</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;12:07:01&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-08 11:07:18, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Log is attached.
</div>
Sorry for not making myself more clear, I need the full log of how you built PAR::Packer &#40;i.e. &#34;perl Makefile.PL&#34;, &#34;make&#34;...&#41; , not the log of running pp.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;08&nbsp;14:28:31&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ah, sorry, here it is:
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> buildlog.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[grass][~] &gt; sudo perl -MCPAN -e shell

cpan shell -- CPAN exploration and modules installation &#40;v2.11&#41;
Enter &#39;h&#39; for help.

cpan&gt; install PAR::Packer                                                       
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/authors/01mailrc.txt.gz">http://cpan.strawberryperl.com/authors/01mailrc.txt.gz</a></span>
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/modules/02packages.details.txt.gz">http://cpan.strawberryperl.com/modules/02packages.details.txt.gz</a></span>
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/modules/03modlist.data.gz">http://cpan.strawberryperl.com/modules/03modlist.data.gz</a></span>
Database was generated on Tue, 05 Apr 2016 14:18:12 GMT

Updating database file ... 
Done!
Running install for module &#39;PAR::Packer&#39;
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/authors/id/R/RS/RSCHUPP/PAR-Packer-1.030.tar.gz">http://cpan.strawberryperl.com/authors/id/R/RS/RSCHUPP/PAR-Packer-1.030.tar.gz</a></span>
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/authors/id/R/RS/RSCHUPP/CHECKSUMS">http://cpan.strawberryperl.com/authors/id/R/RS/RSCHUPP/CHECKSUMS</a></span>
Checksum for /var/root/.cpan/sources/authors/id/R/RS/RSCHUPP/PAR-Packer-1.030.tar.gz ok
Scanning cache /var/root/.cpan/build for sizes
................................................----------------------------DONE
Configuring R/RS/RSCHUPP/PAR-Packer-1.030.tar.gz with Makefile.PL
*** You have extra Perl library paths set in your environment.
    Please note that these paths &#40;set with PERL5LIB or PERLLIB&#41;
    are not honored by perl when running under taint mode, which
    may lead to problems. This is a limitation &#40;by design&#41; of
    Perl, not of PAR::Packer; but some of the problems may
    manifest here during installation.
Checking if your kit is complete...
Looks good
Prototype mismatch: sub main::prompt: none vs &#40;$;$&#41; at /opt/local/lib/perl5/5.22/ExtUtils/MakeMaker.pm line 228.
Generating a Unix-style Makefile
Writing Makefile for myldr
Writing MYMETA.yml and MYMETA.json
Generating a Unix-style Makefile
Writing Makefile for PAR::Packer
Writing MYMETA.yml and MYMETA.json
  RSCHUPP/PAR-Packer-1.030.tar.gz
  /opt/local/bin/perl5.22 Makefile.PL -- OK
Running make for R/RS/RSCHUPP/PAR-Packer-1.030.tar.gz
cp script/tkpp blib/script/tkpp
cp script/par.pl blib/script/par.pl
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/tkpp
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/par.pl
cp lib/PAR/Filter/Bytecode.pm blib/lib/PAR/Filter/Bytecode.pm
cp lib/PAR/Packer.pm blib/lib/PAR/Packer.pm
cp lib/PAR/Filter/Obfuscate.pm blib/lib/PAR/Filter/Obfuscate.pm
cp lib/PAR/Filter/PodStrip.pm blib/lib/PAR/Filter/PodStrip.pm
cp lib/PAR/StrippedPARL/Base.pm blib/lib/PAR/StrippedPARL/Base.pm
cp lib/pp.pm blib/lib/pp.pm
cp lib/App/Packer/PAR.pm blib/lib/App/Packer/PAR.pm
cp lib/PAR/Filter/Bleach.pm blib/lib/PAR/Filter/Bleach.pm
cp lib/PAR/Filter/PatchContent.pm blib/lib/PAR/Filter/PatchContent.pm
cp lib/PAR/Filter.pm blib/lib/PAR/Filter.pm
cp script/pp blib/script/pp
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/pp
make[1]: Entering directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:337: warning: ignoring old recipe for target &#39;.c.o&#39;
&#34;/opt/local/bin/perl5.22&#34; par_pl2c.pl my_par_pl &lt; ../script/par.pl &gt; my_par_pl.c 
&#34;/opt/local/bin/perl5.22&#34; sha1.c.PL
/usr/bin/clang -c -pipe -Os  -fno-common -DPERL_DARWIN -I/opt/local/include -fno-strict-aliasing -fstack-protector-strong -I/opt/local/include  -I/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE  -DPARL_EXE=\&#34;parl\&#34; -O3 main.c
In file included from main.c:52:
In file included from ./mktmpdir.c:1:
In file included from ./mktmpdir.h:84:
In file included from ./utils.c:25:
./env.c:105:27: warning: passing &#39;unsigned int *&#39; to parameter of type &#39;int *&#39;
      converts between pointers to integer types with different sign
      [-Wpointer-sign]
        if &#40;&#40;c = __findenv&#40;name, &#38;offset&#41;&#41;&#41; {   /* find if already exists */
                                 ^~~~~~~
In file included from main.c:52:
./mktmpdir.c:63:23: warning: using the result of an assignment as a condition
      without parentheses [-Wparentheses]
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                  ~~~~^~~~~~~~~~~~~~~~~
./mktmpdir.c:63:23: note: place parentheses around the assignment to silence
      this warning
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                      ^
                  &#40;                    &#41;
./mktmpdir.c:63:23: note: use &#39;==&#39; to turn this assignment into an equality
      comparison
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                      ^
                      ==
./mktmpdir.c:65:29: warning: passing &#39;const char *&#39; to parameter of type
      &#39;char *&#39; discards qualifiers
      [-Wincompatible-pointer-types-discards-qualifiers]
            par_setenv&#40;key, stmpdir&#41;;
                            ^~~~~~~
main.c:121:23: warning: assigning to &#39;char *&#39; from &#39;const char *&#39; discards
      qualifiers [-Wincompatible-pointer-types-discards-qualifiers]
    fakeargv[argno++] = my_par_pl;
                      ^ ~~~~~~~~~
4 warnings generated.
env MACOSX_DEPLOYMENT_TARGET=10.11 /usr/bin/clang main.o  -L/opt/local/lib -Wl,-headerpad_max_install_names  -fstack-protector-strong  -L/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE -lperl -lpthread -ldl -lm -lutil -lc  -o ./par
true
&#34;/opt/local/bin/perl5.22&#34; encode_append.pl Dynamic.in ./par Dynamic.pm
&#34;/opt/local/bin/perl5.22&#34; embed_files.pl -c 32768 ./par &gt; boot_embedded_files.c
&#34;/opt/local/bin/perl5.22&#34; -Mblib=.. run_with_inc.pl ./par -q -B -Oparldyn
otool&#40;1&#41;: Apple Inc. version cctools-870
disassmbler: LLVM version 7.3.0
# using &#34;otool -L&#34; to find shared libraries needed by ./par
# embedding &#34;./par&#34; as &#34;par&#34;
# embedding &#34;/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib&#34; as &#34;libperl.dylib&#34;
cp parldyn ../blib/script/parldyn
true ../blib/script/parldyn
/usr/bin/clang -c -pipe -Os  -fno-common -DPERL_DARWIN -I/opt/local/include -fno-strict-aliasing -fstack-protector-strong -I/opt/local/include  -I/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE  -DPARL_EXE=\&#34;parl\&#34; -O3 boot.c
In file included from boot.c:10:
In file included from ./mktmpdir.c:1:
In file included from ./mktmpdir.h:84:
In file included from ./utils.c:25:
./env.c:105:27: warning: passing &#39;unsigned int *&#39; to parameter of type &#39;int *&#39;
      converts between pointers to integer types with different sign
      [-Wpointer-sign]
        if &#40;&#40;c = __findenv&#40;name, &#38;offset&#41;&#41;&#41; {   /* find if already exists */
                                 ^~~~~~~
In file included from boot.c:10:
./mktmpdir.c:63:23: warning: using the result of an assignment as a condition
      without parentheses [-Wparentheses]
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                  ~~~~^~~~~~~~~~~~~~~~~
./mktmpdir.c:63:23: note: place parentheses around the assignment to silence
      this warning
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                      ^
                  &#40;                    &#41;
./mktmpdir.c:63:23: note: use &#39;==&#39; to turn this assignment into an equality
      comparison
    for &#40; i = 0 ; key = ld_path_keys[i]; i++ &#41; {
                      ^
                      ==
./mktmpdir.c:65:29: warning: passing &#39;const char *&#39; to parameter of type
      &#39;char *&#39; discards qualifiers
      [-Wincompatible-pointer-types-discards-qualifiers]
            par_setenv&#40;key, stmpdir&#41;;
                            ^~~~~~~
3 warnings generated.
env MACOSX_DEPLOYMENT_TARGET=10.11 /usr/bin/clang boot.o   -o ./boot
true
&#34;/opt/local/bin/perl5.22&#34; encode_append.pl Static.in ./boot Static.pm
&#34;/opt/local/bin/perl5.22&#34; -Mblib=.. run_with_inc.pl ./boot -q -B -Oparl
cp Static.pm ../blib/lib/PAR/StrippedPARL/Static.pm
cp Dynamic.pm ../blib/lib/PAR/StrippedPARL/Dynamic.pm
cp parl ../blib/script/parl
true ../blib/script/parl
Manifying 2 pod documents
make[1]: Leaving directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Manifying 4 pod documents
Manifying 10 pod documents
  RSCHUPP/PAR-Packer-1.030.tar.gz
  /opt/local/bin/gmake -j3 -j3 -- OK
Running make test
make[1]: Entering directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:337: warning: ignoring old recipe for target &#39;.c.o&#39;
Manifying 2 pod documents
make[1]: Leaving directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
PERL_DL_NONLAZY=1 &#34;/opt/local/bin/perl5.22&#34; &#34;-MExtUtils::Command::MM&#34; &#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches; test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/00-pod.t t/10-parl-generation.t t/20-pp.t t/30-current_exec.t t/40-packer_cd_option.t t/80-doublecolon.t t/90-rt101800.t t/90-rt103861.t t/90-rt104560.t t/90-rt104635.t t/90-rt59710.t
t/00-pod.t ............... skipped: Set environment variable PERL_TEST_POD=1 to test POD
t/10-parl-generation.t ... ok     
t/20-pp.t ................ 13/34 /tmp/POSWEpmVkJ syntax OK
t/20-pp.t ................ ok     
t/30-current_exec.t ...... # Please wait
t/30-current_exec.t ...... ok   
t/40-packer_cd_option.t .. ok   
t/80-doublecolon.t ....... ok   
t/90-rt101800.t .......... 1/18 # PAR_TEMP = /tmp/zbUMhHNu87/par-726f6f74/cache-b708d6bb8cc3c9af4eea9c2a82444e244f45206b
t/90-rt101800.t .......... ok     
t/90-rt103861.t .......... ok   
t/90-rt104560.t .......... ok   
t/90-rt104635.t .......... ok   
t/90-rt59710.t ........... ok   
All tests successful.
Files=11, Tests=107, 76 wallclock secs &#40; 0.07 usr  0.02 sys + 54.73 cusr 11.03 csys = 65.85 CPU&#41;
Result: PASS
make[1]: Entering directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:337: warning: ignoring old recipe for target &#39;.c.o&#39;
make[1]: Nothing to be done for &#39;test&#39;.
make[1]: Leaving directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
  RSCHUPP/PAR-Packer-1.030.tar.gz
  /opt/local/bin/gmake test -- OK
Running make install
make[1]: Entering directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:337: warning: ignoring old recipe for target &#39;.c.o&#39;
Manifying 2 pod documents
make[1]: Leaving directory &#39;/private/var/root/.cpan/build/PAR-Packer-1.030-wQDuDt/myldr&#39;
Manifying 4 pod documents
Manifying 10 pod documents
Appending installation info to /opt/local/lib/perl5/5.22/darwin-thread-multi-2level/perllocal.pod
Installing /opt/local/lib/perl5/site_perl/5.22/PAR/Packer.pm
Installing /opt/local/share/perl5.22/siteman/man3/Dynamic.3pm
Installing /opt/local/share/perl5.22/siteman/man3/PAR::Packer.3pm
Installing /opt/local/share/perl5.22/siteman/man3/Static.3pm
  RSCHUPP/PAR-Packer-1.030.tar.gz
  /usr/bin/make install -j3 -- OK

cpan&gt; quit                                                                      

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:02:25&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-08 14:28:31, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ah, sorry, here it is:
&gt; 
&gt; &#34;/opt/local/bin/perl5.22&#34; embed_files.pl -c 32768 ./par &gt; boot_embedded_files.c 
&gt; # using &#34;otool -L&#34; to find shared libraries needed by ./par 
&gt; # embedding &#34;./par&#34; as &#34;par&#34; 
&gt; # embedding &#34;/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib&#34; as &#34;libperl.dylib&#34;
</div>
As expected...

I tried this on OSX 10.11, both with the perl 5.18 that came with it 
and also with a freshly perlbrew&#39;ed 5.22.1 and can&#39;t reproduce the problem:

- build log shows that libperl.dylib gets embedded &#40;see above&#41;
- running a packed executable shows an unpacked libperl.dylib in the 
  top level of the cache directory
- renaming the installed version of libperl.dylib and running the executable in
  the cache directory &#40;with the same name as the packed executable, though
  it&#39;s just par in disguise&#41; with DYLD_LIBRARY_PATH=&lt;cache directory&gt; works fine
  &#40;note: this will draw an error message from the executable, but the point is
  that it runs at all&#41;

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:05:34&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">So is there something I&#39;m doing wrong? I&#39;ve never seen this before 1.30 ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:09:07&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">When I run otool -L on the packed binary in the cache folder:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; otool -L /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-3ce6949415c8a684cec51d84d1f897600bd5b03e/biber-darwin_x86_64 
</div>/var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-3ce6949415c8a684cec51d84d1f897600bd5b03e/biber-darwin_x86_64:
        /opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib &#40;compatibility version 5.22.0, current version 5.22.1&#41;
        /usr/lib/libSystem.B.dylib &#40;compatibility version 1.0.0, current version 1226.10.1&#41;
        /usr/lib/libutil.dylib &#40;compatibility version 1.0.0, current version 1.0.0&#41;

It&#39;s looking for libperl.dylib in the wrong place ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:18:02&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 09:09:07, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; When I run otool -L on the packed binary in the cache folder:
&gt; 
<div class="message-stanza open">&gt; &gt; otool -L /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-
&gt; &gt; 7068696c6b696d65/cache-
&gt; &gt; 3ce6949415c8a684cec51d84d1f897600bd5b03e/biber-darwin_x86_64
</div>&gt; /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-
&gt; 7068696c6b696d65/cache-3ce6949415c8a684cec51d84d1f897600bd5b03e/biber-
&gt; darwin_x86_64:
&gt;         /opt/local/lib/perl5/5.22/darwin-thread-multi-
&gt; 2level/CORE/libperl.dylib &#40;compatibility version 5.22.0, current
&gt; version 5.22.1&#41;
&gt;         /usr/lib/libSystem.B.dylib &#40;compatibility version 1.0.0,
&gt; current version 1226.10.1&#41;
&gt;         /usr/lib/libutil.dylib &#40;compatibility version 1.0.0, current
&gt; version 1.0.0&#41;
&gt; 
&gt; It&#39;s looking for libperl.dylib in the wrong place ...
</div>
That&#39;s expected: OSX always burns absolute paths to shared libraries into 
executables. Can you try the following:

pp -o foo.exe -E &#39;say &#34;DYLD_LIBRARY_PATH=$ENV{DYLD_LIBRARY_PATH}&#34;;&#39;
./foo.exe

This should tell you the DYLD_LIBRARY_PATH seen by the unpacked executable
&#40;should be the cache directory&#41;. Look in this directory: there should be an executable foo.exe and also libperl.dylib. 

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:26:46&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the reply - that&#39;s all true:

DYLD_LIBRARY_PATH=/var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T//par-7068696c6b696d65/cache-2a87b1d6222c0a4dfff86a3067e459abc842a0ff

and the lib/exe is in there. But I can&#39;t work out what changed from 1.29? I remember there was some older OS related ticket which you merged for 1.30 to fix not following symlink names for libs &#40;which seems to be fixed&#41; - anything to do with it or do I need to explicitly set DYLD_LIBRARY_PATH in the exe now?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;09:53:58&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 09:26:46, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the reply - that&#39;s all true:
&gt; 
&gt; DYLD_LIBRARY_PATH=/var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T//par-
&gt; 7068696c6b696d65/cache-2a87b1d6222c0a4dfff86a3067e459abc842a0ff
&gt; 
&gt; and the lib/exe is in there. 
</div>
Puzzling...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But I can&#39;t work out what changed from 1.29? 
</div>
I fixed this &#34;unpack a directory and a file both called &#39;version&#39;&#34; problem
and rewrote some of the embedding stuff. But it&#39;s working as expected.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I remember there was some older OS related ticket which you
&gt; merged for 1.30 to fix not following symlink names for libs &#40;which
&gt; seems to be fixed&#41; - anything to do with it
</div>
No, this was for &#34;pp --link LIB&#34; - though both deal with shared libraries,
this doesn&#39;t have any implications here.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; or do I need to explicitly
&gt; set DYLD_LIBRARY_PATH in the exe now?
</div>
You can&#39;t because it needs to be set _before_ you can run the exe.
Also the test confirmed that the packed executable &#34;sees&#34; the correct setting.
If /your/dyld/path is what the test reported, try

DYLD_LIBRARY_PATH=/your/dyld/path DYLD_PRINT_LIBRARIES=1 /your/dyld/path/foo.exe

It should tell you _which_ libperl.dylib is used.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;10:07:37&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Strange, it looks ok and when I just tried the same thing, renaming the /opt/local ... libperl.dylib, it now works. I don&#39;t understand this since it was reported by someone else and I replicated it.

So, just to check, I downloaded the one they reported it on:

<span class="clickylink"><a target="new" rel="nofollow" href="https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/OSX_Intel/biber-darwin_x86_64.tar.gz">https://sourceforge.net/projects/biblatex-biber/files/biblatex-biber/development/binaries/OSX_Intel/biber-darwin_x86_64.tar.gz</a></span>

ran this and this works ok too now. Perhaps you can download the above and just do:

biber --cache

which prints the PAR:Packer cache? This failed before with the error I noted if /opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE/libperl.dylib was missing.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> out.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">dyld: loaded: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/biber-darwin_x86_64
dyld: loaded: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/libperl.dylib
dyld: loaded: /usr/lib/libSystem.B.dylib
dyld: loaded: /usr/lib/libutil.dylib
dyld: loaded: /usr/lib/system/libcache.dylib
dyld: loaded: /usr/lib/system/libcommonCrypto.dylib
dyld: loaded: /usr/lib/system/libcompiler_rt.dylib
dyld: loaded: /usr/lib/system/libcopyfile.dylib
dyld: loaded: /usr/lib/system/libcorecrypto.dylib
dyld: loaded: /usr/lib/system/libdispatch.dylib
dyld: loaded: /usr/lib/system/libdyld.dylib
dyld: loaded: /usr/lib/system/libkeymgr.dylib
dyld: loaded: /usr/lib/system/liblaunch.dylib
dyld: loaded: /usr/lib/system/libmacho.dylib
dyld: loaded: /usr/lib/system/libquarantine.dylib
dyld: loaded: /usr/lib/system/libremovefile.dylib
dyld: loaded: /usr/lib/system/libsystem_asl.dylib
dyld: loaded: /usr/lib/system/libsystem_blocks.dylib
dyld: loaded: /usr/lib/system/libsystem_c.dylib
dyld: loaded: /usr/lib/system/libsystem_configuration.dylib
dyld: loaded: /usr/lib/system/libsystem_coreservices.dylib
dyld: loaded: /usr/lib/system/libsystem_coretls.dylib
dyld: loaded: /usr/lib/system/libsystem_dnssd.dylib
dyld: loaded: /usr/lib/system/libsystem_info.dylib
dyld: loaded: /usr/lib/system/libsystem_kernel.dylib
dyld: loaded: /usr/lib/system/libsystem_m.dylib
dyld: loaded: /usr/lib/system/libsystem_malloc.dylib
dyld: loaded: /usr/lib/system/libsystem_network.dylib
dyld: loaded: /usr/lib/system/libsystem_networkextension.dylib
dyld: loaded: /usr/lib/system/libsystem_notify.dylib
dyld: loaded: /usr/lib/system/libsystem_platform.dylib
dyld: loaded: /usr/lib/system/libsystem_pthread.dylib
dyld: loaded: /usr/lib/system/libsystem_sandbox.dylib
dyld: loaded: /usr/lib/system/libsystem_secinit.dylib
dyld: loaded: /usr/lib/system/libsystem_trace.dylib
dyld: loaded: /usr/lib/system/libunc.dylib
dyld: loaded: /usr/lib/system/libunwind.dylib
dyld: loaded: /usr/lib/system/libxpc.dylib
dyld: loaded: /usr/lib/libobjc.A.dylib
dyld: loaded: /usr/lib/libauto.dylib
dyld: loaded: /usr/lib/libc++abi.dylib
dyld: loaded: /usr/lib/libc++.1.dylib
dyld: loaded: /usr/lib/libDiagnosticMessagesClient.dylib
dyld: loaded: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/biber-darwin_x86_64
dyld: loaded: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/libperl.dylib
dyld: loaded: /usr/lib/libSystem.B.dylib
dyld: loaded: /usr/lib/libutil.dylib
dyld: loaded: /usr/lib/system/libcache.dylib
dyld: loaded: /usr/lib/system/libcommonCrypto.dylib
dyld: loaded: /usr/lib/system/libcompiler_rt.dylib
dyld: loaded: /usr/lib/system/libcopyfile.dylib
dyld: loaded: /usr/lib/system/libcorecrypto.dylib
dyld: loaded: /usr/lib/system/libdispatch.dylib
dyld: loaded: /usr/lib/system/libdyld.dylib
dyld: loaded: /usr/lib/system/libkeymgr.dylib
dyld: loaded: /usr/lib/system/liblaunch.dylib
dyld: loaded: /usr/lib/system/libmacho.dylib
dyld: loaded: /usr/lib/system/libquarantine.dylib
dyld: loaded: /usr/lib/system/libremovefile.dylib
dyld: loaded: /usr/lib/system/libsystem_asl.dylib
dyld: loaded: /usr/lib/system/libsystem_blocks.dylib
dyld: loaded: /usr/lib/system/libsystem_c.dylib
dyld: loaded: /usr/lib/system/libsystem_configuration.dylib
dyld: loaded: /usr/lib/system/libsystem_coreservices.dylib
dyld: loaded: /usr/lib/system/libsystem_coretls.dylib
dyld: loaded: /usr/lib/system/libsystem_dnssd.dylib
dyld: loaded: /usr/lib/system/libsystem_info.dylib
dyld: loaded: /usr/lib/system/libsystem_kernel.dylib
dyld: loaded: /usr/lib/system/libsystem_m.dylib
dyld: loaded: /usr/lib/system/libsystem_malloc.dylib
dyld: loaded: /usr/lib/system/libsystem_network.dylib
dyld: loaded: /usr/lib/system/libsystem_networkextension.dylib
dyld: loaded: /usr/lib/system/libsystem_notify.dylib
dyld: loaded: /usr/lib/system/libsystem_platform.dylib
dyld: loaded: /usr/lib/system/libsystem_pthread.dylib
dyld: loaded: /usr/lib/system/libsystem_sandbox.dylib
dyld: loaded: /usr/lib/system/libsystem_secinit.dylib
dyld: loaded: /usr/lib/system/libsystem_trace.dylib
dyld: loaded: /usr/lib/system/libunc.dylib
dyld: loaded: /usr/lib/system/libunwind.dylib
dyld: loaded: /usr/lib/system/libxpc.dylib
dyld: loaded: /usr/lib/libobjc.A.dylib
dyld: loaded: /usr/lib/libauto.dylib
dyld: loaded: /usr/lib/libc++abi.dylib
dyld: loaded: /usr/lib/libc++.1.dylib
dyld: loaded: /usr/lib/libDiagnosticMessagesClient.dylib
Usage: /var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/biber-darwin_x86_64 [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [ program.pl ]
/var/folders/g0/t3rtgwks57366nz5dvxkrv_m0000gn/T/par-7068696c6b696d65/cache-671ac266ecef6ef66c1cc9249960e158b875f3e6/biber-darwin_x86_64 [ -B|-b ] [-Ooutfile] src.par
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;10:28:20&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Very odd, the user who reported this still has the issue with that version I mentioned - just verified five mins ago. I wonder if it is the same for you?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:10:40&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 10:28:20, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Very odd, the user who reported this still has the issue with that
&gt; version I mentioned - just verified five mins ago. I wonder if it is
&gt; the same for you?
</div>
Me too. But looking into the cache directory I see only a file called &#34;biber&#34; there,
no libperl.dylib. If I look at the real biber &#40;i.e. the packed exeutable&#41;,
it should consist of the following parts, concatenated in order:

[1] an executable &#40;myldr/boot&#41; which is really small except for some large 
    byte arrays consisting of myldr/par and libperl.dylib &#40;not compressed&#41;
[2] several core perl modules each starting with the string &#34;FILE&#34; 
    &#40;also uncompressed&#41;
[3] a zip containing the bulk of your application
[4] a small trailer with some meta data, e.g. the basename of the cache directory
    and the position where part [2] starts

Examining biber&#39;s [4] shows that [2] starts around 90k. That&#39;s way too small 
to contain libperl.dylib. So something went wrong, apparently already with
your build of PAR::Packer as part [1] is generated when PAR::Packer is build.
In fact, [1] is the contents of PAR::StrippedPARL::Static &#40;uuendoded&#41;
and not influenced by any packing you do. Err... except when you packed with
&#34;pp -d&#34;, then you would get PAR::StrippedPARL::Dynamic instead which lacks
libperl.dylib ...

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:29:56&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmm, ok. I need to check the build machine then. I wonder if you get the same problem with the i386 version:

<span class="clickylink"><a target="new" rel="nofollow" href="http://downloads.sourceforge.net/project/biblatex-biber/biblatex-biber/development/binaries/OSX_Intel/biber-darwin_x86_i386.tar.gz">http://downloads.sourceforge.net/project/biblatex-biber/biblatex-biber/development/binaries/OSX_Intel/biber-darwin_x86_i386.tar.gz</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:37:22&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Maybe a clue. Here is the PAR::Packer build log from the actual build machine. Perhaps there is an otool difference on later OSX builds? I build on 10.6 as the earliest viable 64-bit platform - that otool error is new as of 1.30



bbf-osx106:PAR-Packer-1.030-cHZXau root# /opt/local/bin/perl Makefile.PL
Checking if your kit is complete...
Looks good
Prototype mismatch: sub main::prompt: none vs &#40;$;$&#41; at /opt/local/lib/perl5/site_perl/5.22/ExtUtils/MakeMaker.pm line 228.
Generating a Unix-style Makefile
Writing Makefile for myldr
Writing MYMETA.yml and MYMETA.json
Generating a Unix-style Makefile
Writing Makefile for PAR::Packer
Writing MYMETA.yml and MYMETA.json
bbf-osx106:PAR-Packer-1.030-cHZXau root# make
cp lib/PAR/Filter.pm blib/lib/PAR/Filter.pm
cp lib/PAR/Filter/PatchContent.pm blib/lib/PAR/Filter/PatchContent.pm
cp lib/PAR/Filter/Obfuscate.pm blib/lib/PAR/Filter/Obfuscate.pm
cp lib/App/Packer/PAR.pm blib/lib/App/Packer/PAR.pm
cp lib/PAR/Filter/Bytecode.pm blib/lib/PAR/Filter/Bytecode.pm
cp lib/PAR/StrippedPARL/Base.pm blib/lib/PAR/StrippedPARL/Base.pm
cp lib/PAR/Filter/Bleach.pm blib/lib/PAR/Filter/Bleach.pm
cp lib/PAR/Packer.pm blib/lib/PAR/Packer.pm
cp lib/PAR/Filter/PodStrip.pm blib/lib/PAR/Filter/PodStrip.pm
cp lib/pp.pm blib/lib/pp.pm
Makefile:755: warning: overriding commands for target `.c.o&#39;
Makefile:337: warning: ignoring old commands for target `.c.o&#39;
&#34;/opt/local/bin/perl5.22&#34; par_pl2c.pl my_par_pl &lt; ../script/par.pl &gt; my_par_pl.c 
&#34;/opt/local/bin/perl5.22&#34; sha1.c.PL
/usr/bin/gcc-4.2 -c -pipe -Os  -fno-common -DPERL_DARWIN -I/opt/local/include -fno-strict-aliasing -fstack-protector -I/opt/local/include  -I/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE  -DPARL_EXE=\&#34;parl\&#34; -O3 main.c
main.c: In function &#39;main&#39;:
main.c:121: warning: assignment discards qualifiers from pointer target type
env MACOSX_DEPLOYMENT_TARGET=10.6 /usr/bin/gcc-4.2 main.o  -L/opt/local/lib -Wl,-headerpad_max_install_names  -fstack-protector  -L/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE -lperl -lpthread -ldl -lm -lutil -lc  -o ./par
true
&#34;/opt/local/bin/perl5.22&#34; encode_append.pl Dynamic.in ./par Dynamic.pm
&#34;/opt/local/bin/perl5.22&#34; embed_files.pl -c 32768 ./par &gt; boot_embedded_files.c
otool: unknown char `-&#39; in flag --version

Usage: otool [-fahlLDtdorSTMRIHvVcXm] &lt;object file&gt; ...
        -f print the fat headers
        -a print the archive header
        -h print the mach header
        -l print the load commands
        -L print shared libraries used
        -D print shared library id name
        -t print the text section &#40;disassemble with -v&#41;
        -p &lt;routine name&gt;  start dissassemble from routine name
        -s &lt;segname&gt; &lt;sectname&gt; print contents of section
        -d print the data section
        -o print the Objective-C segment
        -r print the relocation entries
        -S print the table of contents of a library
        -T print the table of contents of a dynamic shared library
        -M print the module table of a dynamic shared library
        -R print the reference table of a dynamic shared library
        -I print the indirect symbol table
        -H print the two-level hints table
        -v print verbosely &#40;symbolically&#41; when possible
        -V print disassembled operands symbolically
        -c print argument strings of a core file
        -X print no leading addresses or headers
        -m don&#39;t use archive&#40;member&#41; syntax
        -B force Thumb disassembly &#40;ARM objects only&#41;
# fall back to guessing what DLLs are needed by ./par
# embedding &#34;./par&#34; as &#34;par&#34;
/usr/bin/gcc-4.2 -c -pipe -Os  -fno-common -DPERL_DARWIN -I/opt/local/include -fno-strict-aliasing -fstack-protector -I/opt/local/include  -I/opt/local/lib/perl5/5.22/darwin-thread-multi-2level/CORE  -DPARL_EXE=\&#34;parl\&#34; -O3 boot.c
env MACOSX_DEPLOYMENT_TARGET=10.6 /usr/bin/gcc-4.2 boot.o   -o ./boot
true
&#34;/opt/local/bin/perl5.22&#34; encode_append.pl Static.in ./boot Static.pm
cp Static.pm ../blib/lib/PAR/StrippedPARL/Static.pm
cp Dynamic.pm ../blib/lib/PAR/StrippedPARL/Dynamic.pm
&#34;/opt/local/bin/perl5.22&#34; -Mblib=.. run_with_inc.pl ./par -q -B -Oparldyn
cp parldyn ../blib/script/parldyn
true ../blib/script/parldyn
&#34;/opt/local/bin/perl5.22&#34; -Mblib=.. run_with_inc.pl ./boot -q -B -Oparl
cp parl ../blib/script/parl
true ../blib/script/parl
Manifying 2 pod documents
cp script/tkpp blib/script/tkpp
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/tkpp
cp script/par.pl blib/script/par.pl
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/par.pl
cp script/pp blib/script/pp
&#34;/opt/local/bin/perl5.22&#34; &#34;-Iinc&#34; -MExtUtils::MY -e &#39;MY-&gt;fixin&#40;shift&#41;&#39; -- blib/script/pp
Manifying 4 pod documents
Manifying 10 pod documents
bbf-osx106:PAR-Packer-1.030-cHZXau root# 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:40:17&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 11:29:56, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hmm, ok. I need to check the build machine then. I wonder if you get
&gt; the same problem with the i386 version:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://downloads.sourceforge.net/project/biblatex-biber/biblatex-">http://downloads.sourceforge.net/project/biblatex-biber/biblatex-</a></span>
&gt; biber/development/binaries/OSX_Intel/biber-darwin_x86_i386.tar.gz
</div>
Yes, complains about libperl.dylib, part [2] starts at around 83k.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:45:04&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This must be the issue - otool on 10.6 and 10.5 &#40;which is what my build machines are&#41; doesn&#39;t have a &#34;--version&#34; option so it doesn&#39;t use otool to get dependencies which is why it&#39;s not finding libperl.dylib
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;11:57:10&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think this is resolved - attached is a patch to embed_files.pl which fixes this for me. It uses a more generic test for otool presence which works on any OSX version.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> embed_files.pl.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- PAR-Packer-1.030/myldr/embed_files.pl	2016-03-29 09:11:23.000000000 +0200
+++ embed_files.pl	2016-04-10 17:50:43.000000000 +0200
@@ -43,7 +43,7 @@
     }
 
     # Max OS X: use &#34;otool -L&#34;
-    if &#40;/darwin/i &#38;&#38; &#40;qx&#40;otool --version&#41;, $? == 0&#41;&#41; 
+    if &#40;/darwin/i &#38;&#38; &#40;qx&#40;which otool&#41;, $? == 0&#41;&#41; 
     {
         print STDERR qq[# using &#34;otool -L&#34; to find shared libraries needed by $par\n];
         *is_system_lib = sub { shift =~ m{^/usr/lib|^/System/Library/} };
@@ -55,7 +55,7 @@
     # Windows with Mingw toolchain: use &#34;objdump&#34; recursively
     if &#40;/mswin32/i &#38;&#38; &#40;qx&#40;objdump --version&#41;, $? == 0&#41;&#41;
     {
-        print STDERR qq[# using &#34;objdump&#34; recusrively to find DLLs needed by $par\n];
+        print STDERR qq[# using &#34;objdump&#34; recursively to find DLLs needed by $par\n];
         my $system_root = realpath&#40;$ENV{SystemRoot}&#41;;
         *is_system_lib = sub { realpath&#40;shift&#41; =~ m{^\Q$system_root\E/}i };
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;12:01:41&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 11:45:04, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This must be the issue - otool on 10.6 and 10.5 &#40;which is what my
&gt; build machines are&#41; doesn&#39;t have a &#34;--version&#34; option so it doesn&#39;t
&gt; use otool to get dependencies which is why it&#39;s not finding
&gt; libperl.dylib
</div>
The use of otool is completely new in PAR::Packer 1.30 - before it used
to guess &#40;and often got it wrong&#41;. But if otool doesn&#39;t seem to be available
&#40;tested with &#34;otool --version&#34;&#41;, it should fall back to the previous method.
OK, there are two issues here: detection of otool failed on your build
machine &#40;easily fixed&#41; and the fallback method isn&#39;t complete &#40;needs some thinking&#41;.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;12:06:54&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Why not just mandate the install of the command-line dev tools for OSX? Anyone building PAR things is likely to have it anyway and it is a sensible requirement, that way, the otool is fine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;13:14:17&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-04-10 12:06:54, PHILKIME wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Why not just mandate the install of the command-line dev tools for
&gt; OSX? Anyone building PAR things is likely to have it anyway and it is
&gt; a sensible requirement, that way, the otool is fine.
</div>
Sure. The problem is more apparent on platforms where I don&#39;t have
anything like otool &#40;OSX&#41; or ldd &#40;Linux, *BSD, Solaris&#41; at all -
I totally bungled the fallback method. But apparently nobody noticed yet:&#41;

OK, I just uploaded PAR::Packer 1.031 to CPAN.

Thanks for your patience while investigating this.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;13:16:18&nbsp;2016</span>
    <span class="description">PHILKIME [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Many thanks for your patience too - I know these things are a pain - I just received four bug reports today for biblatex ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;13:18:34&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 1.031
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;10&nbsp;13:18:38&nbsp;2016</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
