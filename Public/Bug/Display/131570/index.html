<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #131570 for Alien-uv: Please do not use Alien::CMake</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #131570 for Alien-uv: Please do not use Alien::CMake</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Alien-uv">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Alien-uv">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Alien-uv">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Alien-uv">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Alien-uv">Alien-uv CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">131570</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Alien-uv">Alien-uv</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
PLICEASE [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
cwhitener [...] gmail.com

<br />
DBOOK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-274604-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-274605-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=131570">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881387" href="/Public/Bug/Display.html?id=131570#txn-1881387">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;25&nbsp;20:59:24&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Please do not use Alien::CMake</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881387/1009540/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009540">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 447b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please do not use Alien::CMake.  For a share install &#40;if it even works&#41; it downloads a very old version of cmake.  It is not reliable.  It is not actively developed or maintained.  Please instead use Alien::cmake3, which is more reliable, will download a recent version for a share install and is actively maintained.

Also, you may not be aware but there is already an Alien which provides libuv called Alien::libuv which has a good track record.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881423" href="/Public/Bug/Display.html?id=131570#txn-1881423">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;26&nbsp;05:02:09&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #131570] Please do not use Alien::CMake</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 26 Jan 2020 13:01:49 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-uv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Олег Пронин &lt;syber.rus [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881423/1009557/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009557">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you. I will change it.

Alien::uv uses another approach other than Alien::libuv. It uses
XS::Install framework.
Main differences are:

- shared library is built, so all dependencies shares the same library

- you dont need to pass various flags &#40;ccflags, libs, etc&#41; by hand. You
only say
BIN_DEPS =&gt; ‘Alien::uv’
And you’re done. And this works recursively also for all children binary
modules.

- automatic binary incompability protection.

вс, 26 янв. 2020 г. в 04:59, Graham Ollis via RT &lt;bug-Alien-uv@rt.cpan.org&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sat Jan 25 20:59:24 2020: Request 131570 was acted upon.
&gt; Transaction: Ticket created by PLICEASE
&gt;        Queue: Alien-uv
&gt;      Subject: Please do not use Alien::CMake
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: PLICEASE@cpan.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=131570">https://rt.cpan.org/Ticket/Display.html?id=131570</a></span> &gt;
&gt;
&gt;
&gt; Please do not use Alien::CMake.  For a share install &#40;if it even works&#41; it
&gt; downloads a very old version of cmake.  It is not reliable.  It is not
&gt; actively developed or maintained.  Please instead use Alien::cmake3, which
&gt; is more reliable, will download a recent version for a share install and is
&gt; actively maintained.
&gt;
&gt; Also, you may not be aware but there is already an Alien which provides
&gt; libuv called Alien::libuv which has a good track record.
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881423/1009558/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009558">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881424" href="/Public/Bug/Display.html?id=131570#txn-1881424">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;26&nbsp;05:02:10&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881426" href="/Public/Bug/Display.html?id=131570#txn-1881426">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;26&nbsp;05:03:48&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #131570] Please do not use Alien::CMake</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 26 Jan 2020 13:03:29 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-uv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Олег Пронин &lt;syber.rus [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881426/1009561/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009561">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Maybe it would be better to reupload Alien::CMake and mark it as deprecated
somewhere in description or abstract?

вс, 26 янв. 2020 г. в 04:59, Graham Ollis via RT &lt;bug-Alien-uv@rt.cpan.org&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sat Jan 25 20:59:24 2020: Request 131570 was acted upon.
&gt; Transaction: Ticket created by PLICEASE
&gt;        Queue: Alien-uv
&gt;      Subject: Please do not use Alien::CMake
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: PLICEASE@cpan.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=131570">https://rt.cpan.org/Ticket/Display.html?id=131570</a></span> &gt;
&gt;
&gt;
&gt; Please do not use Alien::CMake.  For a share install &#40;if it even works&#41; it
&gt; downloads a very old version of cmake.  It is not reliable.  It is not
&gt; actively developed or maintained.  Please instead use Alien::cmake3, which
&gt; is more reliable, will download a recent version for a share install and is
&gt; actively maintained.
&gt;
&gt; Also, you may not be aware but there is already an Alien which provides
&gt; libuv called Alien::libuv which has a good track record.
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881426/1009562/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009562">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.4k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881510" href="/Public/Bug/Display.html?id=131570#txn-1881510">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;26&nbsp;16:16:51&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881510/1009614/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009614">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Jan 26 05:02:09 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - shared library is built, so all dependencies shares the same library
</div>
Interesting.  It seems as though you are trying to do something similar to Module::CAPIMaker.  It might be worth while spending some time collaborating or at least coordinating with the author of that module &#40;or the tool chain folks&#41; to avoid duplication or incompatibilities.

This approach means that your Alien becomes a run-time requirement.  &#40;Aliens typically are build-only prereqs for XS modules&#41;.  It also means that installing an upgraded to one of your Aliens with a breaking API change will break all of the XS modules that are depending on it.

I can see some advantages for this approach, but I do think it should be decoupled from the Alien concept.  Something like Module::CAPIMaker or XS::Install could use an existing Alien to create an XS with dependencies, instead of trying to reproduce what the Alien infrastructure that already exists.  A fair amount of thought and experience has gone into creating these tools.

As an example, I noticed that Alien::uv, unlike the normal practice of Aliens, does not attempt to use the system libuv.  This can be a problem for system integrators &#40;like Debian or Fedora&#41;, should they want to create packages of your downstream modules.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - you dont need to pass various flags &#40;ccflags, libs, etc&#41; by hand.
</div>
This is also not necessary with Alien::Base::Wrapper, which works with existing installer ExtUtils::MakeMaker and Module::Build.  The Alien-Build infrastructure also works well with other technologies like Inline::C and FFI. Frankly it is sometimes useful to be able to get the cflags and libs from an Alien.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; - automatic binary incompability protection.
</div>
After reviewing the XS::Install documentation, I am not exactly sure what you mean by this.

I think what you are trying to do is useful and has value, but working with the developers of the existing related technology on CPAN will improve the chances of your tools being useful.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881564" href="/Public/Bug/Display.html?id=131570#txn-1881564">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;27&nbsp;11:42:10&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881564/1009639/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009639">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Вск Янв 26 16:16:51 2020, PLICEASE писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Jan 26 05:02:09 2020, SYBER wrote:
<div class="message-stanza open">&gt; &gt; - shared library is built, so all dependencies shares the same
&gt; &gt; library
</div>&gt; 
&gt; Interesting.  It seems as though you are trying to do something
&gt; similar to Module::CAPIMaker.  It might be worth while spending some
&gt; time collaborating or at least coordinating with the author of that
&gt; module &#40;or the tool chain folks&#41; to avoid duplication or
&gt; incompatibilities.
</div>
Now exactly similar. XS::Install provides way more features. With Module::CAPIMaker i have to write additional strange file with C API &#40;a copy-paste of methods definitions that are externally visible&#41;, while XS::Install works like native C infrastructure &#40;it installs all needed header files&#41;. It is especially important when writing in C++.

XS::Install also automatically propagates all CCFLAGS/ LIBS etc to children

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; This approach means that your Alien becomes a run-time requirement.
&gt; &#40;Aliens typically are build-only prereqs for XS modules&#41;.
</div>
Yes. But i don&#39;t see anything bad about it. It saves disk space and memory. Because with static library concept, it will be inside multiple XS modules that use it and it will load to memory several times.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  It also
&gt; means that installing an upgraded to one of your Aliens with a
&gt; breaking API change will break all of the XS modules that are
&gt; depending on it.
</div>
Almost all of CPAN XS modules has very simple architecture. They are black boxes that only interact with perl.

Our modules uses another approach.

For example there is URI::XS and Date fast frameworks. On one hand they expose their functionality to perl as usual. On the other hand, Unievent::HTTP &#40;not yet on cpan&#41; uses them both in it&#39;s API and receive those objects to its functions &#40;URI::XS and Date has &#34;xs/uri.h&#34; and &#34;xs/date.h&#34; which exposes shared typemaps for other XS modules&#41;.

for example 
my $uri = URI:XS-&gt;new&#40;&#34;.....&#34;&#41;; # a C++ object hidden behind perl&#39;s magic
my $request = UniEvent::HTTP::Request-&gt;new&#40;
    ...
    uri =&gt; $uri,
    ...
&#41;;

XS function UniEvent::HTTP::Request::new receives uri as C++ object via typemaps

    auto uri = xs::in&lt;URI*&gt;&#40;sv&#41;;

UE::HTTP works with C++ framework URI directly and therefore has no penalty on perl-C-perl interaction. This approach is very important for achieving extremely high speeds.

For example it is hundred times faster than Starman and even faster than plain NGINX.

and the same for UniEvent::WebSocket and so on.

XS::Install and XS::Framework together has a huge support for building such architectures. And it is a superset, more general and more C-native way than Module::CAPIMaker offers.

So as you share the same objects between different XS modules, they HAVE to use shared libraries. To protect yourself from various hard-to-debug SIGSEGVs caused by updating some parent to a new version, there is a binary compability protection feature &#40;see below&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I can see some advantages for this approach, but I do think it should
&gt; be decoupled from the Alien concept.  Something like Module::CAPIMaker
&gt; or XS::Install could use an existing Alien to create an XS with
&gt; dependencies, instead of trying to reproduce what the Alien
&gt; infrastructure that already exists.  A fair amount of thought and
&gt; experience has gone into creating these tools.
</div>
We could in theory use Alien::libuv to create module, but only for something like Alien::uv &#41;&#41;
Because C objects created in one XS module can easily be passed to another XS module, it is required that libuv is shared library.

For example consider 2 XS modules
Libuv::Adapter &#40;exposes libuv interface to perl&#41;
Libuv::Plugin &#40;some addon that does something to libuv objects&#41;

Because both are built against libuv, and objects created in Libuv::Adapter are passed to Libuv::Plugin, libuv has to be a shared library. Otherwise binary incompability would occur if they are built again different versions of libuv

So we anyway need something like Alien::uv that builds and make available libuv.so

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; As an example, I noticed that Alien::uv, unlike the normal practice of
&gt; Aliens, does not attempt to use the system libuv.  
</div>
Yes this is a must-have feature, that we didn&#39;t implement yet. I planned to add it soon.

If you want to expel us from Alien::* namespace we could of course move to another namespace. But i chose Alien:: namespace because it logically seems ok &#40;it provides access to external library&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This can be a
&gt; problem for system integrators &#40;like Debian or Fedora&#41;, should they
&gt; want to create packages of your downstream modules.
&gt; 
<div class="message-stanza open">&gt; &gt; - you dont need to pass various flags &#40;ccflags, libs, etc&#41; by hand.
</div>&gt; 
&gt; This is also not necessary with Alien::Base::Wrapper, which works with
&gt; existing installer ExtUtils::MakeMaker and Module::Build.  The Alien-
&gt; Build infrastructure also works well with other technologies like
&gt; Inline::C and FFI. Frankly it is sometimes useful to be able to get
&gt; the cflags and libs from an Alien.
&gt; 
<div class="message-stanza open">&gt; &gt; - automatic binary incompability protection.
</div>&gt; 
&gt; After reviewing the XS::Install documentation, I am not exactly sure
&gt; what you mean by this.
</div>
I&#39;ll explain with example:

i installed Alien::uv version 1.28
then i installed libuv::adapter

everything&#39;s ok.

and then i update Alien::uv to 1.29
while doing this i&#39;ll get a warning:

******************************************************************************
XS::Install: There are XS modules that binary depend on current XS module Alien::uv.
They were built with currently installed Alien::uv version 1.28.0.5.
If you install Alien::uv version 1.29.0.5, you will have to reinstall all XS modules that binary depend on it:
cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP UniEvent::Socks UniEvent::WebSocket
******************************************************************************

&#40;Unfortunately i haven&#39;t found any API in CPAN that would make that &#34;rebuild&#34; occur automatically&#41;

And even if i ignore that warning and try to run my software after upgrading Alien::libuv and not rebuilding libuv::adapter,

i&#39;ll get on startup:

  DB&lt;1&gt; use UniEvent
******************************************************************************
XS::Loader: XS module UniEvent binary depends on XS module Alien::uv.
UniEvent was compiled with Alien::uv version 1.28.0.5, but current version is 1.29.0.5.
Please reinstall all modules that binary depend on Alien::uv:
cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP UniEvent::Socks UniEvent::WebSocket
******************************************************************************
Compilation failed in require at &#40;eval 13&#41;[/home/syber/perl5/perlbrew/perls/5.30.0dm/lib/5.30.0/perl5db.pl:738] line 2.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I think what you are trying to do is useful and has value, but working
&gt; with the developers of the existing related technology on CPAN will
&gt; improve the chances of your tools being useful.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881648" href="/Public/Bug/Display.html?id=131570#txn-1881648">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;00:58:34&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881648/1009694/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009694">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 27 11:42:10 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Now exactly similar. XS::Install provides way more features. With
&gt; Module::CAPIMaker i have to write additional strange file with C API
&gt; &#40;a copy-paste of methods definitions that are externally visible&#41;,
&gt; while XS::Install works like native C infrastructure &#40;it installs all
&gt; needed header files&#41;. It is especially important when writing in C++.
</div>
My point was Module::CAPIMaker or core XS could probably be extended to support at least some probably all those features.  Putting some of this tech in upstream XS would probably be a greater benefit to everyone and increase the likelihood of adoption.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes. But i don&#39;t see anything bad about it. It saves disk space and
&gt; memory. Because with static library concept, it will be inside
&gt; multiple XS modules that use it and it will load to memory several
&gt; times.
</div>
Since Aliens are normally a build-time prereq they don&#39;t need to be installed if you are really worried about disk space.  Although it&#39;s 2020, disk space is cheap and this seems to be an unnecessary optimization.  As for saving memory, there is nothing stopping you from using your XSI tech with a conventional Alien.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Almost all of CPAN XS modules has very simple architecture. They are
&gt; black boxes that only interact with perl.
</div>
Er.  I don&#39;t think you can guarantee that the libuv api will not ever have any breaking changes.  I don&#39;t really think its true for XS either.  But okay.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Our modules uses another approach.
&gt; 
&gt; For example there is URI::XS and Date fast frameworks. On one hand
&gt; they expose their functionality to perl as usual. On the other hand,
&gt; Unievent::HTTP &#40;not yet on cpan&#41; uses them both in it&#39;s API and
&gt; receive those objects to its functions &#40;URI::XS and Date has
&gt; &#34;xs/uri.h&#34; and &#34;xs/date.h&#34; which exposes shared typemaps for other XS
&gt; modules&#41;.
&gt; 
&gt; for example
&gt; my $uri = URI:XS-&gt;new&#40;&#34;.....&#34;&#41;; # a C++ object hidden behind perl&#39;s
&gt; magic
&gt; my $request = UniEvent::HTTP::Request-&gt;new&#40;
&gt;    ...
&gt;    uri =&gt; $uri,
&gt;    ...
&gt; &#41;;
&gt; 
&gt; XS function UniEvent::HTTP::Request::new receives uri as C++ object
&gt; via typemaps
&gt; 
&gt; auto uri = xs::in&lt;URI*&gt;&#40;sv&#41;;
&gt; 
&gt; UE::HTTP works with C++ framework URI directly and therefore has no
&gt; penalty on perl-C-perl interaction. This approach is very important
&gt; for achieving extremely high speeds.
&gt; 
&gt; For example it is hundred times faster than Starman and even faster
&gt; than plain NGINX.
&gt; 
&gt; and the same for UniEvent::WebSocket and so on.
&gt; 
&gt; XS::Install and XS::Framework together has a huge support for building
&gt; such architectures. And it is a superset, more general and more C-
&gt; native way than Module::CAPIMaker offers.
&gt; 
&gt; So as you share the same objects between different XS modules, they
&gt; HAVE to use shared libraries. To protect yourself from various hard-
&gt; to-debug SIGSEGVs caused by updating some parent to a new version,
&gt; there is a binary compability protection feature &#40;see below&#41;.
</div>
Cool.  This has a lot to do with XS and not a lot to do with the Alien concept though.   

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So we anyway need something like Alien::uv that builds and make
&gt; available libuv.so
</div>
Alien::uv builds libuv as a .a and then links it into the XS .so.  There is no reason you couldn&#39;t use Alien::libuv and save yourself the trouble of reimplementing what Alien::libuv already does.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes this is a must-have feature, that we didn&#39;t implement yet. I
&gt; planned to add it soon.
</div>
I emplor you to do some research into the existing tech instead of going off and reinventing wheels here.  The Alien-Build system was designed specifically to be installer agnostic, which is why it works equally well with EUMM or MB, or non-installer tech like Inline::C and FFI.  Alien::libuv already does all of this precisely because it does build on stuff that already works.  I am happy to extend the Alien-Build system if there is something that you think XSI needs.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you want to expel us from Alien::* namespace we could of course
&gt; move to another namespace. But i chose Alien:: namespace because it
&gt; logically seems ok &#40;it provides access to external library&#41;
</div>
I think in the very least Alien::uv et al should be clearly marked as something which does not work with the mainstream installer tools EUMM and MB.  It is also a good practice to include a SEE ALSO section when there might be confusion about what the differences between your module and existing modules that provide similar or related functionality &#40;ie SEE ALSO Alien::libuv which works with EUMM etc&#41;.  And yeah, I think that something in the dist name should probably distinguish it from conventional Aliens which work with mainstream installers.  Maybe as a compromise a prefix like Alien::XSI::uv would be suitable.  Or maybe a suffix like UV::XSI &#40;using a standard suffix like XSI or something similar would also distinguish it from mainstream XS, and could be a good branding opportunity&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ll explain with example:
&gt; 
&gt; i installed Alien::uv version 1.28
&gt; then i installed libuv::adapter
&gt; 
&gt; everything&#39;s ok.
&gt; 
&gt; and then i update Alien::uv to 1.29
&gt; while doing this i&#39;ll get a warning:
&gt; 
&gt; ******************************************************************************
&gt; XS::Install: There are XS modules that binary depend on current XS
&gt; module Alien::uv.
&gt; They were built with currently installed Alien::uv version 1.28.0.5.
&gt; If you install Alien::uv version 1.29.0.5, you will have to reinstall
&gt; all XS modules that binary depend on it:
&gt; cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP
&gt; UniEvent::Socks UniEvent::WebSocket
&gt; ******************************************************************************
&gt; 
&gt; &#40;Unfortunately i haven&#39;t found any API in CPAN that would make that
&gt; &#34;rebuild&#34; occur automatically&#41;
&gt; 
&gt; And even if i ignore that warning and try to run my software after
&gt; upgrading Alien::libuv and not rebuilding libuv::adapter,
&gt; 
&gt; i&#39;ll get on startup:
&gt; 
&gt; DB&lt;1&gt; use UniEvent
&gt; ******************************************************************************
&gt; XS::Loader: XS module UniEvent binary depends on XS module Alien::uv.
&gt; UniEvent was compiled with Alien::uv version 1.28.0.5, but current
&gt; version is 1.29.0.5.
&gt; Please reinstall all modules that binary depend on Alien::uv:
&gt; cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP
&gt; UniEvent::Socks UniEvent::WebSocket
&gt; ******************************************************************************
&gt; Compilation failed in require at &#40;eval
&gt; 13&#41;[/home/syber/perl5/perlbrew/perls/5.30.0dm/lib/5.30.0/perl5db.pl:738]
&gt; line 2.
</div>
Neat.  It doesn&#39;t have anything to do with the Alien concept, and it seems like this would be useful in upstream XS.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881684" href="/Public/Bug/Display.html?id=131570#txn-1881684">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;08:03:08&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881684/1009714/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009714">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Втр Янв 28 00:58:34 2020, PLICEASE писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Jan 27 11:42:10 2020, SYBER wrote:
<div class="message-stanza open">&gt; &gt; Now exactly similar. XS::Install provides way more features. With
&gt; &gt; Module::CAPIMaker i have to write additional strange file with C API
&gt; &gt; &#40;a copy-paste of methods definitions that are externally visible&#41;,
&gt; &gt; while XS::Install works like native C infrastructure &#40;it installs all
&gt; &gt; needed header files&#41;. It is especially important when writing in C++.
</div>&gt; 
&gt; My point was Module::CAPIMaker or core XS could probably be extended
&gt; to support at least some probably all those features.  Putting some of
&gt; this tech in upstream XS would probably be a greater benefit to
&gt; everyone and increase the likelihood of adoption.
&gt; 
<div class="message-stanza open">&gt; &gt; Yes. But i don&#39;t see anything bad about it. It saves disk space and
&gt; &gt; memory. Because with static library concept, it will be inside
&gt; &gt; multiple XS modules that use it and it will load to memory several
&gt; &gt; times.
</div>&gt; 
&gt; Since Aliens are normally a build-time prereq they don&#39;t need to be
&gt; installed if you are really worried about disk space.  Although it&#39;s
&gt; 2020, disk space is cheap and this seems to be an unnecessary
&gt; optimization.  As for saving memory, there is nothing stopping you
&gt; from using your XSI tech with a conventional Alien.
&gt; 
<div class="message-stanza open">&gt; &gt; Almost all of CPAN XS modules has very simple architecture. They are
&gt; &gt; black boxes that only interact with perl.
</div>&gt; 
&gt; Er.  I don&#39;t think you can guarantee that the libuv api will not ever
&gt; have any breaking changes.  I don&#39;t really think its true for XS
&gt; either.  But okay.
&gt; 
<div class="message-stanza open">&gt; &gt; Our modules uses another approach.
&gt; &gt;
&gt; &gt; For example there is URI::XS and Date fast frameworks. On one hand
&gt; &gt; they expose their functionality to perl as usual. On the other hand,
&gt; &gt; Unievent::HTTP &#40;not yet on cpan&#41; uses them both in it&#39;s API and
&gt; &gt; receive those objects to its functions &#40;URI::XS and Date has
&gt; &gt; &#34;xs/uri.h&#34; and &#34;xs/date.h&#34; which exposes shared typemaps for other XS
&gt; &gt; modules&#41;.
&gt; &gt;
&gt; &gt; for example
&gt; &gt; my $uri = URI:XS-&gt;new&#40;&#34;.....&#34;&#41;; # a C++ object hidden behind perl&#39;s
&gt; &gt; magic
&gt; &gt; my $request = UniEvent::HTTP::Request-&gt;new&#40;
&gt; &gt;    ...
&gt; &gt;    uri =&gt; $uri,
&gt; &gt;    ...
&gt; &gt; &#41;;
&gt; &gt;
&gt; &gt; XS function UniEvent::HTTP::Request::new receives uri as C++ object
&gt; &gt; via typemaps
&gt; &gt;
&gt; &gt; auto uri = xs::in&lt;URI*&gt;&#40;sv&#41;;
&gt; &gt;
&gt; &gt; UE::HTTP works with C++ framework URI directly and therefore has no
&gt; &gt; penalty on perl-C-perl interaction. This approach is very important
&gt; &gt; for achieving extremely high speeds.
&gt; &gt;
&gt; &gt; For example it is hundred times faster than Starman and even faster
&gt; &gt; than plain NGINX.
&gt; &gt;
&gt; &gt; and the same for UniEvent::WebSocket and so on.
&gt; &gt;
&gt; &gt; XS::Install and XS::Framework together has a huge support for
&gt; &gt; building
&gt; &gt; such architectures. And it is a superset, more general and more C-
&gt; &gt; native way than Module::CAPIMaker offers.
&gt; &gt;
&gt; &gt; So as you share the same objects between different XS modules, they
&gt; &gt; HAVE to use shared libraries. To protect yourself from various hard-
&gt; &gt; to-debug SIGSEGVs caused by updating some parent to a new version,
&gt; &gt; there is a binary compability protection feature &#40;see below&#41;.
</div>&gt; 
&gt; Cool.  This has a lot to do with XS and not a lot to do with the Alien
&gt; concept though.
&gt; 
<div class="message-stanza open">&gt; &gt; So we anyway need something like Alien::uv that builds and make
&gt; &gt; available libuv.so
</div>&gt; 
&gt; Alien::uv builds libuv as a .a and then links it into the XS .so.
&gt; There is no reason you couldn&#39;t use Alien::libuv and save yourself the
&gt; trouble of reimplementing what Alien::libuv already does.
</div>
Yeah, it is possible.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Yes this is a must-have feature, that we didn&#39;t implement yet. I
&gt; &gt; planned to add it soon.
</div>&gt; 
&gt; I emplor you to do some research into the existing tech instead of
&gt; going off and reinventing wheels here.  The Alien-Build system was
&gt; designed specifically to be installer agnostic, which is why it works
&gt; equally well with EUMM or MB, or non-installer tech like Inline::C and
&gt; FFI.  Alien::libuv already does all of this precisely because it does
&gt; build on stuff that already works.  I am happy to extend the Alien-
&gt; Build system if there is something that you think XSI needs.
</div>
By saying &#34;i planned to add it&#34; i meant looking some module like plugin pkgconfig or whatever on CPAN which does the work&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; If you want to expel us from Alien::* namespace we could of course
&gt; &gt; move to another namespace. But i chose Alien:: namespace because it
&gt; &gt; logically seems ok &#40;it provides access to external library&#41;
</div>&gt; 
&gt; I think in the very least Alien::uv et al should be clearly marked as
&gt; something which does not work with the mainstream installer tools EUMM
&gt; and MB. 
</div>
It indeed works with EUMM.
With alien, you ask params from Alien module and then passes it manually to installer. And you need to have alien installed in order to do that.

The same with XSI. You need it to be installed.
The only difference is with XS::Install you don&#39;t pass it manually, instead you call it&#39;s own write_makefile function, and it changes the params and passes it to EUMM.
However it has second API where you can just pass EUMM params to XSI and get tuned params back. And then pass it manually where you want.

 It is also a good practice to include a SEE ALSO section when
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; there might be confusion about what the differences between your
&gt; module and existing modules that provide similar or related
&gt; functionality &#40;ie SEE ALSO Alien::libuv which works with EUMM etc&#41;.
&gt; And yeah, I think that something in the dist name should probably
&gt; distinguish it from conventional Aliens which work with mainstream
&gt; installers.  Maybe as a compromise a prefix like Alien::XSI::uv would
&gt; be suitable.  Or maybe a suffix like UV::XSI &#40;using a standard suffix
&gt; like XSI or something similar would also distinguish it from
&gt; mainstream XS, and could be a good branding opportunity&#41;.
&gt; 
<div class="message-stanza open">&gt; &gt; I&#39;ll explain with example:
&gt; &gt;
&gt; &gt; i installed Alien::uv version 1.28
&gt; &gt; then i installed libuv::adapter
&gt; &gt;
&gt; &gt; everything&#39;s ok.
&gt; &gt;
&gt; &gt; and then i update Alien::uv to 1.29
&gt; &gt; while doing this i&#39;ll get a warning:
&gt; &gt;
&gt; &gt; ******************************************************************************
&gt; &gt; XS::Install: There are XS modules that binary depend on current XS
&gt; &gt; module Alien::uv.
&gt; &gt; They were built with currently installed Alien::uv version 1.28.0.5.
&gt; &gt; If you install Alien::uv version 1.29.0.5, you will have to reinstall
&gt; &gt; all XS modules that binary depend on it:
&gt; &gt; cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP
&gt; &gt; UniEvent::Socks UniEvent::WebSocket
&gt; &gt; ******************************************************************************
&gt; &gt;
&gt; &gt; &#40;Unfortunately i haven&#39;t found any API in CPAN that would make that
&gt; &gt; &#34;rebuild&#34; occur automatically&#41;
&gt; &gt;
&gt; &gt; And even if i ignore that warning and try to run my software after
&gt; &gt; upgrading Alien::libuv and not rebuilding libuv::adapter,
&gt; &gt;
&gt; &gt; i&#39;ll get on startup:
&gt; &gt;
&gt; &gt; DB&lt;1&gt; use UniEvent
&gt; &gt; ******************************************************************************
&gt; &gt; XS::Loader: XS module UniEvent binary depends on XS module Alien::uv.
&gt; &gt; UniEvent was compiled with Alien::uv version 1.28.0.5, but current
&gt; &gt; version is 1.29.0.5.
&gt; &gt; Please reinstall all modules that binary depend on Alien::uv:
&gt; &gt; cpanm -f Panda::W Panda::X Panda::X::Front UniEvent UniEvent::HTTP
&gt; &gt; UniEvent::Socks UniEvent::WebSocket
&gt; &gt; ******************************************************************************
&gt; &gt; Compilation failed in require at &#40;eval
&gt; &gt; 13&#41;[/home/syber/perl5/perlbrew/perls/5.30.0dm/lib/5.30.0/perl5db.pl:738]
&gt; &gt; line 2.
</div>&gt; 
&gt; Neat.  It doesn&#39;t have anything to do with the Alien concept, and it
&gt; seems like this would be useful in upstream XS.
</div>
In order to not confuse you or anybody else i&#39;d suggest we move to Shared::* or External::* namespace. And technically i can use Alien::xxx to use static library to build shared one. However for libraries that are not currently exist in Alien::*, i would not make an Alien module because i&#39;m scared of how MUCH code every Alien&#39;s Makefile.PL + alienfile has &#40;several screens of code&#41;. In XSI we&#39;re having only several lines and maybe a couple more will appear for checking presence if shared library in OS.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881701" href="/Public/Bug/Display.html?id=131570#txn-1881701">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;11:33:40&nbsp;2020</span>
    <span class="description">DBOOK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881701/1009719/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009719">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 681b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 28 08:03:08 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; However for
&gt; libraries that are not currently exist in Alien::*, i would not make
&gt; an Alien module because i&#39;m scared of how MUCH code every Alien&#39;s
&gt; Makefile.PL + alienfile has &#40;several screens of code&#41;. In XSI we&#39;re
&gt; having only several lines and maybe a couple more will appear for
&gt; checking presence if shared library in OS.
</div>
I think you have just been looking at the overcomplex examples. Before all of the special cases a library may need, all you need is something like <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile">https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile</a></span>, and the additions to Makefile.PL or whatever installer you use are completely trivial.

-Dan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881707" href="/Public/Bug/Display.html?id=131570#txn-1881707">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;11:36:28&nbsp;2020</span>
    <span class="description">DBOOK [...] cpan.org -  Cc DBOOK added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881715" href="/Public/Bug/Display.html?id=131570#txn-1881715">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;28&nbsp;12:31:10&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881715/1009732/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009732">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 28 11:33:40 2020, DBOOK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think you have just been looking at the overcomplex examples. Before
&gt; all of the special cases a library may need, all you need is something
&gt; like <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile">https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile</a></span>,
&gt; and the additions to Makefile.PL or whatever installer you use are
&gt; completely trivial.
</div>
That is a great example.

I tend to be very aggressive about supporting weird edge cases and as many platforms as possible... which yeah adds some complexity that can&#39;t entirely be abstracted into the Alien-Build core.  The Alien-Build distro also comes with very simple alienfiles with detailed comments to explain what they are doing.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl5-Alien/Alien-Build/tree/master/example">https://github.com/Perl5-Alien/Alien-Build/tree/master/example</a></span>

I also take your point about the simplicity of the interface of just declaring a single dependency once so I&#39;ve created a ticket to improve the Alien::Base::Wrapper interface to make it easier for users who are manually writing their own Makefile.PL.

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl5-Alien/Alien-Build/issues/157">https://github.com/Perl5-Alien/Alien-Build/issues/157</a></span>

You mentioned using the appropriate pkg-config plugin on CPAN, and there are a lot of options, but there aren&#39;t any that work as reliably in as many weird environments as the Alien-Build pkg-config interface.  &#40;again, I am aggressive about supporting weird edge cases and as many platforms as possible&#41;.

If any of this is scary or seems confusing there are some good support channels that you can use.  I am very response to the github issue tracker, there is a mailing list and the #native channel on irc.perl.org is low volume but active and responsive.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881819" href="/Public/Bug/Display.html?id=131570#txn-1881819">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;05:24:49&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #131570] Please do not use Alien::CMake</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 29 Jan 2020 13:24:27 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-uv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Олег Пронин &lt;syber.rus [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881819/1009780/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009780">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for your explanations, Graham. I appreciate it.

Yesterday i noticed that Alien::libuv fails on systems other than
freebsd&#38;linux. Is anyone aware of it?

 our alien-uv installs on bsd/linux, solaris, mac, winxp, win10 without
problems

вт, 28 янв. 2020 г. в 20:31, Graham Ollis via RT &lt;bug-Alien-uv@rt.cpan.org&gt;:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Alien-uv
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=131570">https://rt.cpan.org/Ticket/Display.html?id=131570</a></span> &gt;
&gt;
&gt; On Tue Jan 28 11:33:40 2020, DBOOK wrote:
<div class="message-stanza open">&gt; &gt; I think you have just been looking at the overcomplex examples. Before
&gt; &gt; all of the special cases a library may need, all you need is something
&gt; &gt; like <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile">https://metacpan.org/source/DBOOK/Alien-cmark-0.005/alienfile</a></span>,
&gt; &gt; and the additions to Makefile.PL or whatever installer you use are
&gt; &gt; completely trivial.
</div>&gt;
&gt; That is a great example.
&gt;
&gt; I tend to be very aggressive about supporting weird edge cases and as many
&gt; platforms as possible... which yeah adds some complexity that can&#39;t
&gt; entirely be abstracted into the Alien-Build core.  The Alien-Build distro
&gt; also comes with very simple alienfiles with detailed comments to explain
&gt; what they are doing.
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl5-Alien/Alien-Build/tree/master/example">https://github.com/Perl5-Alien/Alien-Build/tree/master/example</a></span>
&gt;
&gt; I also take your point about the simplicity of the interface of just
&gt; declaring a single dependency once so I&#39;ve created a ticket to improve the
&gt; Alien::Base::Wrapper interface to make it easier for users who are manually
&gt; writing their own Makefile.PL.
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/Perl5-Alien/Alien-Build/issues/157">https://github.com/Perl5-Alien/Alien-Build/issues/157</a></span>
&gt;
&gt; You mentioned using the appropriate pkg-config plugin on CPAN, and there
&gt; are a lot of options, but there aren&#39;t any that work as reliably in as many
&gt; weird environments as the Alien-Build pkg-config interface.  &#40;again, I am
&gt; aggressive about supporting weird edge cases and as many platforms as
&gt; possible&#41;.
&gt;
&gt; If any of this is scary or seems confusing there are some good support
&gt; channels that you can use.  I am very response to the github issue tracker,
&gt; there is a mailing list and the #native channel on irc.perl.org is low
&gt; volume but active and responsive.
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881819/1009781/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009781">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881880" href="/Public/Bug/Display.html?id=131570#txn-1881880">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;08:37:39&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881880/1009822/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009822">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1022b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 29 05:24:49 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for your explanations, Graham. I appreciate it.
&gt; 
&gt; Yesterday i noticed that Alien::libuv fails on systems other than
&gt; freebsd&#38;linux. Is anyone aware of it?
&gt; 
&gt; our alien-uv installs on bsd/linux, solaris, mac, winxp, win10 without
&gt; problems
</div>
I know that Alien::libuv doesn&#39;t support Windows XP.  Neither does the upstream libuv though &#40;or cmake for that matter&#41;.  Are you sure that Alien::uv actually works on older MSWin32?  failures here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/8d9d7011-6bf8-1014-92ac-fdb0929fb1c9">http://www.cpantesters.org/cpan/report/8d9d7011-6bf8-1014-92ac-fdb0929fb1c9</a></span>

It does install cleanly for me on my mac and windows 10 boxs.  I don&#39;t have a solaris box to test with anymore.  The failures on cpantesters for these platforms seem to be test failures, so it is possible that there is something wrong with Alien::libuv, or it is possible they are uncovering a bug in that platform that Alien::uv is missing since it has a much simpler test suite.  The author or Alien::libuv may know more I will check with him.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881887" href="/Public/Bug/Display.html?id=131570#txn-1881887">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;08:54:32&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881887/1009828/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009828">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд Янв 29 08:37:39 2020, PLICEASE писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jan 29 05:24:49 2020, SYBER wrote:
<div class="message-stanza open">&gt; &gt; Thanks for your explanations, Graham. I appreciate it.
&gt; &gt;
&gt; &gt; Yesterday i noticed that Alien::libuv fails on systems other than
&gt; &gt; freebsd&#38;linux. Is anyone aware of it?
&gt; &gt;
&gt; &gt; our alien-uv installs on bsd/linux, solaris, mac, winxp, win10
&gt; &gt; without
&gt; &gt; problems
</div>&gt; 
&gt; I know that Alien::libuv doesn&#39;t support Windows XP.  Neither does the
&gt; upstream libuv though &#40;or cmake for that matter&#41;.  Are you sure that
&gt; Alien::uv actually works on older MSWin32?  failures here:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/8d9d7011-6bf8-1014-92ac-">http://www.cpantesters.org/cpan/report/8d9d7011-6bf8-1014-92ac-</a></span>
&gt; fdb0929fb1c9
</div>
Nope, sorry. It fails on WinXP. I mistaken. However it successfully installs on Win10. For Alien::libuv i see fails for Win10 on cpantesters.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; It does install cleanly for me on my mac and windows 10 boxs.  I don&#39;t
&gt; have a solaris box to test with anymore.  The failures on cpantesters
&gt; for these platforms seem to be test failures, so it is possible that
&gt; there is something wrong with Alien::libuv, or it is possible they are
&gt; uncovering a bug in that platform that Alien::uv is missing since it
&gt; has a much simpler test suite.  The author or Alien::libuv may know
&gt; more I will check with him.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881889" href="/Public/Bug/Display.html?id=131570#txn-1881889">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;08:55:04&nbsp;2020</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881889/1009830/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009830">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Installation on WinXP does not work as upstream libuv does not work on WinXP. Also, WinXP is long EOLed and any effort to get anything to work on that platform is just wasted time.

Installation on Win10 works without problem. Part of the reason it works at all on Win10 is because the test suite on Windows is completely turned off &#40;libuv itself has broken tests on the platform&#41; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/alienfile#L33">https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/alienfile#L33</a></span>

Unfortunately, most testers contributing to the testers matrix use WinXP still. This is a constant thorn in my side as it makes it appear as if the library doesn&#39;t work on Windows. That&#39;s just not true.

Installation on other platforms, such as Solaris and NetBSD, are again not in the Supported Platforms for libuv: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/libuv/libuv/blob/v1.x/SUPPORTED_PLATFORMS.md">https://github.com/libuv/libuv/blob/v1.x/SUPPORTED_PLATFORMS.md</a></span>  However, I&#39;m not doing anything at all to prevent installation on those platforms other than running make check so that libuv&#39;s own tests are run after compilation.  I know certain key members maintaining NetBSD are working to get it behaving on current versions of NetBSD, but that testers matrix does not have anyone testing on the latest NetBSD, so it appears all fail. Look into each failure. The testers matrix is a bit misleading here.

In short, libuv itself will compile and install on any machine currently listed in the supported platforms matrix. It will also install cleanly on a few more as the upstream tests are turned off &#40;Windows&#41;.

It definitely installs on Mac, FreeBSD, Linux, and Windows.

If you find that you can make it install on another OS, please let me know and I&#39;ll be happy to alter the install script or send it upstream to libuv.

-- Chase
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881901" href="/Public/Bug/Display.html?id=131570#txn-1881901">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;09:18:50&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #131570] Please do not use Alien::CMake</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 29 Jan 2020 17:18:28 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-uv [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Олег Пронин &lt;syber.rus [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881901/1009838/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009838">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For example, this one is a fail on Win10

<span class="clickylink"><a target="new" rel="nofollow" href="http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png">http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png</a></span>



ср, 29 янв. 2020 г. в 16:55, Chase Whitener via RT &lt;bug-Alien-uv@rt.cpan.org
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Alien-uv
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=131570">https://rt.cpan.org/Ticket/Display.html?id=131570</a></span> &gt;
&gt;
&gt; Installation on WinXP does not work as upstream libuv does not work on
&gt; WinXP. Also, WinXP is long EOLed and any effort to get anything to work on
&gt; that platform is just wasted time.
&gt;
&gt; Installation on Win10 works without problem. Part of the reason it works
&gt; at all on Win10 is because the test suite on Windows is completely turned
&gt; off &#40;libuv itself has broken tests on the platform&#41;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/alienfile#L33">https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/alienfile#L33</a></span>
&gt;
&gt; Unfortunately, most testers contributing to the testers matrix use WinXP
&gt; still. This is a constant thorn in my side as it makes it appear as if the
&gt; library doesn&#39;t work on Windows. That&#39;s just not true.
&gt;
&gt; Installation on other platforms, such as Solaris and NetBSD, are again not
&gt; in the Supported Platforms for libuv:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/libuv/libuv/blob/v1.x/SUPPORTED_PLATFORMS.md">https://github.com/libuv/libuv/blob/v1.x/SUPPORTED_PLATFORMS.md</a></span>  However,
&gt; I&#39;m not doing anything at all to prevent installation on those platforms
&gt; other than running make check so that libuv&#39;s own tests are run after
&gt; compilation.  I know certain key members maintaining NetBSD are working to
&gt; get it behaving on current versions of NetBSD, but that testers matrix does
&gt; not have anyone testing on the latest NetBSD, so it appears all fail. Look
&gt; into each failure. The testers matrix is a bit misleading here.
&gt;
&gt; In short, libuv itself will compile and install on any machine currently
&gt; listed in the supported platforms matrix. It will also install cleanly on a
&gt; few more as the upstream tests are turned off &#40;Windows&#41;.
&gt;
&gt; It definitely installs on Mac, FreeBSD, Linux, and Windows.
&gt;
&gt; If you find that you can make it install on another OS, please let me know
&gt; and I&#39;ll be happy to alter the install script or send it upstream to libuv.
&gt;
&gt; -- Chase
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881901/1009839/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009839">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881950" href="/Public/Bug/Display.html?id=131570#txn-1881950">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;09:58:14&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881950/1009879/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009879">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 424b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 29 09:18:50 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For example, this one is a fail on Win10
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png">http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png</a></span>
</div>
I suspect that version is misreported, or might be the OS that was used to build Windows.

<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/Makefile.PL#L13-24">https://metacpan.org/source/CAPOEIRAB/Alien-libuv-1.012/Makefile.PL#L13-24</a></span>

On my windows 10 machine I get this:

F:\&gt;perl -MWin32 -E &#34;say [Win32::GetOSVersion&#40;&#41;]-&gt;[1]&#34;
10
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881953" href="/Public/Bug/Display.html?id=131570#txn-1881953">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;09:59:08&nbsp;2020</span>
    <span class="description">PLICEASE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881953/1009882/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009882">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 187b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 29 09:58:14 2020, PLICEASE wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I suspect that version is misreported, or might be the OS that was
&gt; used to build Windows.
</div>
sorry should have read: used to build Perl.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881963" href="/Public/Bug/Display.html?id=131570#txn-1881963">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;10:04:18&nbsp;2020</span>
    <span class="description">cwhitener [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1881963/1009891/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1009891">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 502b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 29 09:18:50 2020, SYBER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For example, this one is a fail on Win10
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png">http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png</a></span>
&gt; 
</div>

Right. That is a WinXP machine. If you look at the report, it shows that it&#39;s on WinXP. The version of Perl it is using was _built_ using Windows 10. That column is a bit misleading. We can&#39;t just trust what&#39;s in Config.pm here. We actually have to check it using the Win32 API to find out the actual host&#39;s OS version.

Hope that helps.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1881974" href="/Public/Bug/Display.html?id=131570#txn-1881974">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;29&nbsp;10:11:48&nbsp;2020</span>
    <span class="description">cwhitener [...] gmail.com -  Cc CAPOEIRAB added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1882433" href="/Public/Bug/Display.html?id=131570#txn-1882433">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;31&nbsp;09:14:06&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1882433/1010141/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1010141">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 613b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Срд Янв 29 10:04:18 2020, CAPOEIRAB писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jan 29 09:18:50 2020, SYBER wrote:
<div class="message-stanza open">&gt; &gt; For example, this one is a fail on Win10
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png">http://service.crazypanda.ru/v/monosnap/2020-01-29-17-17-24-mc7fp.png</a></span>
&gt; &gt;
</div>&gt; 
&gt; 
&gt; Right. That is a WinXP machine. If you look at the report, it shows
&gt; that it&#39;s on WinXP. The version of Perl it is using was _built_ using
&gt; Windows 10. That column is a bit misleading. We can&#39;t just trust
&gt; what&#39;s in Config.pm here. We actually have to check it using the Win32
&gt; API to find out the actual host&#39;s OS version.
&gt; 
&gt; Hope that helps.
</div>
Thanks for the explanations!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1882435" href="/Public/Bug/Display.html?id=131570#txn-1882435">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;31&nbsp;09:15:03&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1882435/1010143/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1010143">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 90b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">We&#39;re completely moved out of Alien::* namespace, so that the issue is no longer an issue&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1882437" href="/Public/Bug/Display.html?id=131570#txn-1882437">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;31&nbsp;09:15:04&nbsp;2020</span>
    <span class="description">syber.rus [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.935049</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
