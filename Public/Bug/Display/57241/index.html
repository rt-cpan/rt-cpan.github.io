<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57241 for CPANPLUS: selfupdate fails using local::lib with perl 5.12.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57241 for CPANPLUS: selfupdate fails using local::lib with perl 5.12.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CPANPLUS/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CPANPLUS/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CPANPLUS/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CPANPLUS/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPANPLUS">CPANPLUS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57241</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CPANPLUS/Active/">CPANPLUS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
abraxxa [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8270-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.9003    </td>
  </tr>
  <tr id="CF-8271-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;05&nbsp;16:39:47&nbsp;2010</span>
    <span class="description">abraxxa [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> selfupdate fails using local::lib with perl 5.12.0</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ubuntu 10.04 x86_64

perl 5.12.0 installed in ~/perl-5.12 with ./Configure -des
-Dprefix=$HOME/perl-5.12

local::lib installed with perl Makefile.PL --bootstrap=~/perl-5.12/

content of .bashrc:
eval $&#40;perl -I$HOME/perl-5.12/lib/perl5 -Mlocal::lib=$HOME/perl-5.12&#41;

This is the output from CPAN Terminal&gt; s selfupdate all


[MSG] No &#39;/home/abraxxa/.cpanplus/custom-sources&#39; dir, skipping custom
sources
[MSG] No &#39;/home/abraxxa/.cpanplus/custom-sources&#39; dir, skipping custom
sources
The following updates will take place:

  Core:
    CPANPLUS                                   0.90   -&gt; 0.9003 

  Dependencies:
    No upgrades required

  Modules for &#39;md5&#39; support:
    No upgrades required

  Modules for &#39;prefer_makefile&#39; support:
    No upgrades required

  Modules for &#39;shell&#39; support:
    No upgrades required

  Modules for &#39;storable&#39; support:
    No upgrades required

Updating your CPANPLUS installation
Running [/home/abraxxa/perl-5.12/bin/perl
/home/abraxxa/perl-5.12/bin/cpanp-run-perl
/home/abraxxa/.cpanplus/5.12.0/build/CPANPLUS-0.9003/Makefile.PL]...

### IMPORTANT! ######################################################
    
    
As of CPANPLUS 0.070, configuration during &#39;perl Makefile.PL&#39;
is no longer required. A default config is now shipped that
should work out of the box on most machines, for priviliged
and unprivileged users.

If you wish to configure CPANPLUS to your environment, you can 
either do that from the interactive shell after installation:

    $ cpanp
    CPAN Terminal&gt; s reconfigure
    
Or you can invoke this program as follows, to do it now:

    $ /home/abraxxa/perl-5.12/bin/perl Makefile.PL --setup      

This also means that any config created by any CPANPLUS older
than 0.070 will no longer work, and you are required to 
reconfigure. See the ChangeLog file for details.

We appologize for the inconvenience.
    

### PLEASE NOTE ###################################################

CPANPLUS also ships a &#39;boxed&#39; cpanp client, so you can run it
out of it&#39;s extraction dir, by typing:

    $ perl bin/cpanp-boxed

This may help you with bootstrap issues, or other situations 
where you need to use CPANPLUS but can not use a system installation.

You can install all of CPANPLUS&#39; dependencies like this, before 
installing CPANPLUS itself by running:

    $ perl bin/cpanp-boxed -s selfupdate dependencies 

All the modules bundled are found in the &#39;inc/bundle&#39; directory. If
you, for whatever reason, wish to not install these from cpan, you
could include them into your environment as such &#40;using tcsh&#41;:

    $ setenv PERL5LIB
/home/abraxxa/.cpanplus/5.12.0/build/CPANPLUS-0.9003/inc/bundle
    
###################################################################
    
    
Writing Makefile for CPANPLUS
Running [/usr/bin/make test]...
PERL_DL_NONLAZY=1 /home/abraxxa/perl-5.12/bin/perl
&#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;,
&#39;blib/arch&#39;&#41;&#34; t/*.t
t/00_CPANPLUS-Internals-Utils.t ............... ok
t/01_CPANPLUS-Configure.t ..................... ok
t/02_CPANPLUS-Internals.t ..................... ok
t/031_CPANPLUS-Internals-Source-SQLite.t ...... skipped: SQLite engine
not available
t/032_CPANPLUS-Internals-Source-via-sqlite.t .. skipped: SQLite engine
not available
t/03_CPANPLUS-Internals-Source.t .............. ok
t/04_CPANPLUS-Module.t ........................ ok
t/05_CPANPLUS-Internals-Fetch.t ............... ok
t/06_CPANPLUS-Internals-Constants.t ........... ok
t/07_CPANPLUS-Internals-Extract.t ............. ok
t/08_CPANPLUS-Backend.t ....................... ok
t/09_CPANPLUS-Internals-Search.t .............. ok
t/10_CPANPLUS-Error.t ......................... ok
t/15_CPANPLUS-Shell.t ......................... ok
t/19_CPANPLUS-Dist.t .......................... ok
Only one of PREFIX or INSTALL_BASE can be given.  Not both.

#   Failed test &#39;Installing module&#39;
#   at t/20_CPANPLUS-Dist-MM.t line 153.

#   Failed test &#39;   Module installed according to status&#39;
#   at t/20_CPANPLUS-Dist-MM.t line 158.
# Looks like you failed 2 tests of 83.
t/20_CPANPLUS-Dist-MM.t ....................... 
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/83 subtests 
        &#40;less 8 skipped subtests: 73 okay&#41;
t/21_CPANPLUS-Dist-No-Build.t ................. ok
t/25_CPANPLUS.t ............................... ok
t/30_CPANPLUS-Internals-Selfupdate.t .......... ok
t/40_CPANPLUS-Internals-Report.t .............. ok

Test Summary Report
-------------------
t/20_CPANPLUS-Dist-MM.t                     &#40;Wstat: 512 Tests: 83 Failed: 2&#41;
  Failed tests:  21-22
  Non-zero exit status: 2
Files=20, Tests=1615, 14 wallclock secs &#40; 0.22 usr  0.02 sys +  8.19
cusr  1.94 csys = 10.37 CPU&#41;
Result: FAIL
Failed 1/20 test programs. 2/1615 subtests failed.
make: *** [test_dynamic] Fehler 255
[ERROR] MAKE TEST failed: Inappropriate ioctl for device
PERL_DL_NONLAZY=1 /home/abraxxa/perl-5.12/bin/perl
&#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;,
&#39;blib/arch&#39;&#41;&#34; t/*.t
t/00_CPANPLUS-Internals-Utils.t ............... ok
t/01_CPANPLUS-Configure.t ..................... ok
t/02_CPANPLUS-Internals.t ..................... ok
t/031_CPANPLUS-Internals-Source-SQLite.t ...... skipped: SQLite engine
not available
t/032_CPANPLUS-Internals-Source-via-sqlite.t .. skipped: SQLite engine
not available
t/03_CPANPLUS-Internals-Source.t .............. ok
t/04_CPANPLUS-Module.t ........................ ok
t/05_CPANPLUS-Internals-Fetch.t ............... ok
t/06_CPANPLUS-Internals-Constants.t ........... ok
t/07_CPANPLUS-Internals-Extract.t ............. ok
t/08_CPANPLUS-Backend.t ....................... ok
t/09_CPANPLUS-Internals-Search.t .............. ok
t/10_CPANPLUS-Error.t ......................... ok
t/15_CPANPLUS-Shell.t ......................... ok
t/19_CPANPLUS-Dist.t .......................... ok
Only one of PREFIX or INSTALL_BASE can be given.  Not both.

#   Failed test &#39;Installing module&#39;
#   at t/20_CPANPLUS-Dist-MM.t line 153.

#   Failed test &#39;   Module installed according to status&#39;
#   at t/20_CPANPLUS-Dist-MM.t line 158.
# Looks like you failed 2 tests of 83.
t/20_CPANPLUS-Dist-MM.t ....................... 
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/83 subtests 
        &#40;less 8 skipped subtests: 73 okay&#41;
t/21_CPANPLUS-Dist-No-Build.t ................. ok
t/25_CPANPLUS.t ............................... ok
t/30_CPANPLUS-Internals-Selfupdate.t .......... ok
t/40_CPANPLUS-Internals-Report.t .............. ok

Test Summary Report
-------------------
t/20_CPANPLUS-Dist-MM.t                     &#40;Wstat: 512 Tests: 83 Failed: 2&#41;
  Failed tests:  21-22
  Non-zero exit status: 2
Files=20, Tests=1615, 14 wallclock secs &#40; 0.22 usr  0.02 sys +  8.19
cusr  1.94 csys = 10.37 CPU&#41;
Result: FAIL
Failed 1/20 test programs. 2/1615 subtests failed.
make: *** [test_dynamic] Fehler 255



The tests for &#39;CPANPLUS&#39; failed. Would you like me to proceed anyway or
should we abort?
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
