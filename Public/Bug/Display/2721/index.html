<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #2721 for Archive-Tar: uninitialized values in test of Archive-Tar-1.00</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #2721 for Archive-Tar: uninitialized values in test of Archive-Tar-1.00</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Archive-Tar">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Archive-Tar">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Archive-Tar">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Archive-Tar">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Archive-Tar">Archive-Tar CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">2721</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Archive-Tar">Archive-Tar</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
marek.rouchal [...] infineon.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-2526-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.00    </td>
  </tr>
  <tr id="CF-2527-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.02    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=2721">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81980" href="/Public/Bug/Display.html?id=2721#txn-81980">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;02&nbsp;04:57:00&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> uninitialized values in test of Archive-Tar-1.00</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81980/9522/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9522">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Solaris 7 &#40;Sparc&#41;, Perl 5.8.0 &#40;ithreads, shared libperl&#41;, compiled
with Forte 6.2, latest Compress::Zlib and IO::Zlib.

&#40;and also on RedHat Linux 7.2, gcc&#41;:

The -&gt;data method seems to return &#34;undef&#34; in line 704...

Cheers,

Marek


$ make test TEST_VERBOSE=1                                            PERL_DL_NONLAZY=1 /opt/perl_5.8.0/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;1, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_use........1..2
ok 1 - use Archive::Tar;
ok 2 - Object created isa Archive::Tar
ok
t/02_methods....ok 1 - Object created isa Archive::Tar
ok 2 - Reading uncompressed file using &#39;read&#40;&#41;&#39;
ok 3 -    All files accounted for
ok 4 -    Content OK
ok 5 -    Content OK
ok 6 -    Content OK
ok 7 - Reading uncompressed file using &#39;list_archive&#40;&#41;&#39;
ok 8 -    All files accounted for
ok 9 -    Found expected file
ok 10 -    Found expected file
ok 11 -    Found expected file
ok 12 - Reading compressed file using &#39;read&#40;&#41;&#39;
ok 13 -    All files accounted for
ok 14 -    Content OK
ok 15 -    Content OK
ok 16 -    Content OK
ok 17 - Reading compressed file using &#39;list_archive&#40;&#41;&#39;
ok 18 -    All files accounted for
ok 19 -    Found expected file
ok 20 -    Found expected file
ok 21 -    Found expected file
ok 22 - Adding files
ok 23 -    Proper name
ok 24 -    Proper type
ok 25 -    Content OK
ok 26 - Adding data
ok 27 -    Proper name
ok 28 -    Proper type
ok 29 -    Content OK
ok 30 - Renaming
ok 31 - Replacing content
ok 32 - Removing files
ok 33 -    Proper files remaining
Use of uninitialized value in print at /home/hwadm/.cpan/build/Archive-Tar-1.00/blib/lib/Archive/Tar.pm line 704.
Use of uninitialized value in print at /home/hwadm/.cpan/build/Archive-Tar-1.00/blib/lib/Archive/Tar.pm line 704.
ok 34 - Writing tarfile using &#39;write&#40;&#41;&#39;
ok 35 -    File written
ok 36 - Writing tarfile using &#39;create_archive&#40;&#41;&#39;
ok 37 -    File written
Use of uninitialized value in print at /home/hwadm/.cpan/build/Archive-Tar-1.00/blib/lib/Archive/Tar.pm line 704.
Use of uninitialized value in print at /home/hwadm/.cpan/build/Archive-Tar-1.00/blib/lib/Archive/Tar.pm line 704.
ok 38 - Writing compressed file using &#39;write&#40;&#41;&#39;
ok 39 -    File written
ok 40 - Writing compressed file using &#39;create_archive&#40;&#41;&#39;
ok 41 -    File written
ok 42 - Found expected files
ok 43 - Extracting files using &#39;extract&#40;&#41;&#39;
ok 44 -    Expected file found
ok 45 -    Opening file
ok 46 -    Contents OK
ok 47 -    Expected file found
ok 48 -    Opening file
ok 49 -    Contents OK
ok 50 -    Expected file found
ok 51 -    Opening file
ok 52 -    Contents OK
ok 53 - Extracting files using &#39;extract_archive&#40;&#41;&#39;
ok 54 -    Expected file found
ok 55 -    Opening file
ok 56 -    Contents OK
ok 57 -    Expected file found
ok 58 -    Opening file
ok 59 -    Contents OK
ok 60 -    Expected file found
ok 61 -    Opening file
ok 62 -    Contents OK
ok 63 - Limited read
ok 64 -    Expected file found
ok 65 - Found old data
ok 66 -    Clearing old data
ok 67 -    Old data cleared
1..67
ok
All tests successful.
Files=2, Tests=69,  4 wallclock secs &#40; 1.88 cusr +  0.48 csys =  2.36 CPU&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81981" href="/Public/Bug/Display.html?id=2721#txn-81981">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;02&nbsp;09:19:48&nbsp;2003</span>
    <span class="description">kane [...] dwim.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 2 Jun 2003 15:19:44 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #2721] uninitialized values in test of Archive-Tar-1.00 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] dwim.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81981/9526/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9526">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 714b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Monday, Jun 2, 2003, at 10:57 Europe/Amsterdam, Guest via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Solaris 7 &#40;Sparc&#41;, Perl 5.8.0 &#40;ithreads, shared libperl&#41;, compiled
&gt; with Forte 6.2, latest Compress::Zlib and IO::Zlib.
&gt;
&gt; &#40;and also on RedHat Linux 7.2, gcc&#41;:
&gt;
&gt; The -&gt;data method seems to return &#34;undef&#34; in line 704...
</div>
i&#39;m unable to reproduce this on any of my systems... can you add some 
debug info &#40;dumpers of the file objects might work here&#41;, and mail me 
that?

--

Jos Boumans

        &#34;You know you are never more indignant in life than when you&#39;re
        shopping at a store you feel is beneath you and one of the other
        customers mistakes you for one of the employees of that store.&#34;
                - Dennis Miller

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81982" href="/Public/Bug/Display.html?id=2721#txn-81982">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;02&nbsp;10:01:36&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marek.rouchal [...] infineon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81982/9527/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9527">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[kane@dwim.org - Mon Jun  2 09:19:48 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; i&#39;m unable to reproduce this on any of my systems... can you add some 
&gt; debug info &#40;dumpers of the file objects might work here&#41;, and mail me 
&gt; that?
</div>
Hope this helps a bit - it seems to me that the entry shown does
not have a &#34;data&#34; key in the hash - perhaps it was not properly
initialized?

$ perl -d -Mblib t/02_methods.t
main::&#40;t/02_methods.t:11&#41;:      my $tar = new Archive::Tar;
  DB&lt;1&gt; b Archive::Tar::_write_to_handle
  DB&lt;2&gt; r
ok 1 - Object created isa Archive::Tar
ok 2 - Reading uncompressed file using &#39;read&#40;&#41;&#39;
ok 3 -    All files accounted for
ok 4 -    Content OK
ok 5 -    Content OK
ok 6 -    Content OK
ok 7 - Reading uncompressed file using &#39;list_archive&#40;&#41;&#39;
ok 8 -    All files accounted for
ok 9 -    Found expected file
ok 10 -    Found expected file
ok 11 -    Found expected file
ok 12 - Reading compressed file using &#39;read&#40;&#41;&#39;
ok 13 -    All files accounted for
ok 14 -    Content OK
ok 15 -    Content OK
ok 16 -    Content OK
ok 17 - Reading compressed file using &#39;list_archive&#40;&#41;&#39;
ok 18 -    All files accounted for
ok 19 -    Found expected file
ok 20 -    Found expected file
ok 21 -    Found expected file
ok 22 - Adding files
ok 23 -    Proper name
ok 24 -    Proper type
ok 25 -    Content OK
ok 26 - Adding data
ok 27 -    Proper name
ok 28 -    Proper type
ok 29 -    Content OK
ok 30 - Renaming
ok 31 - Replacing content
ok 32 - Removing files
ok 33 -    Proper files remaining
Archive::Tar::_write_to_handle&#40;/home/hwadm/.cpan/build/Archive-Tar-
1.00/blib/lib/Archive/Tar.pm:684&#41;:
684:        my $self    = shift;
  DB&lt;2&gt; n
[... a couple of n&#39;s removed ...]
Archive::Tar::_write_to_handle&#40;/home/hwadm/.cpan/build/Archive-Tar-
1.00/blib/lib/Archive/Tar.pm:704&#41;:
704:            print $handle $entry-&gt;data or &#40;
705:                $self-&gt;_error&#40; qq[Could not write data for: ] . 
$entry-&gt;name &#41;,
706:                return undef
707:            &#41;;
  DB&lt;2&gt; x $handle
0  IO::File=GLOB&#40;0x84ca97c&#41;
   -&gt; *Symbol::GEN5
         FileHandle&#40;{*Symbol::GEN5}&#41; =&gt; fileno&#40;3&#41;
  DB&lt;3&gt; x $entry
0  Archive::Tar::File=HASH&#40;0x85f5144&#41;
   &#39;chksum&#39; =&gt; 5045
   &#39;devmajor&#39; =&gt; 0
   &#39;devminor&#39; =&gt; 0
   &#39;gid&#39; =&gt; 20
   &#39;gname&#39; =&gt; &#39;staff&#39;
   &#39;linkname&#39; =&gt; &#39;&#39;
   &#39;magic&#39; =&gt; &#39;ustar&#39;
   &#39;mode&#39; =&gt; 16877
   &#39;mtime&#39; =&gt; 1051037954
   &#39;name&#39; =&gt; &#39;directory/&#39;
   &#39;prefix&#39; =&gt; &#39;&#39;
   &#39;raw&#39; =&gt; &#34;directory/
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@0040755\c@0000765
\c@0000024\c@00000000000\c@07651310402\c@011665\c@ 5
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@ustar  
\c@kane\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c
@\c@\c@\c@\c@\c@\c@staff\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@
\c@\c@&#34;
   &#39;size&#39; =&gt; 0
   &#39;type&#39; =&gt; 5
   &#39;uid&#39; =&gt; 501
   &#39;uname&#39; =&gt; &#39;kane&#39;
   &#39;version&#39; =&gt; &#39;&#39;
  DB&lt;4&gt; s
Archive::Tar::File::CODE&#40;0x8506cec&#41;&#40;/home/hwadm/.cpan/build/Archive-Tar-
1.00/blib/lib/Archive/Tar/File.pm:43&#41;:
43:             my $self = shift;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81983" href="/Public/Bug/Display.html?id=2721#txn-81983">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;02&nbsp;10:24:31&nbsp;2003</span>
    <span class="description">kane [...] dwim.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 2 Jun 2003 16:24:26 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #2721] uninitialized values in test of Archive-Tar-1.00 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] dwim.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81983/9528/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9528">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Monday, Jun 2, 2003, at 16:01 Europe/Amsterdam, Guest via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; This message about Archive-Tar was sent to you by guest &lt;&gt; via  
&gt; rt.cpan.org
&gt;
&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=2721">https://rt.cpan.org/Ticket/Display.html?id=2721</a></span> &gt;
&gt;
&gt; [kane@dwim.org - Mon Jun  2 09:19:48 2003]:
<div class="message-stanza open">&gt;&gt; i&#39;m unable to reproduce this on any of my systems... can you add some
&gt;&gt; debug info &#40;dumpers of the file objects might work here&#41;, and mail me
&gt;&gt; that?
</div>&gt;
&gt; Hope this helps a bit - it seems to me that the entry shown does
&gt; not have a &#34;data&#34; key in the hash - perhaps it was not properly
&gt; initialized?
</div>
no, it seems to me the problem is when it&#39;s writing out a directory.  
and directories don&#39;t have &#39;data&#39; like a normal file does.. i&#39;m not  
sure why it warns for you and not for me though.

anyway, below the sig is a patch, try it, i think it should quell the  
warnings.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ok 33 -    Proper files remaining
&gt; Archive::Tar::_write_to_handle&#40;/home/hwadm/.cpan/build/Archive-Tar-
&gt; 1.00/blib/lib/Archive/Tar.pm:684&#41;:
&gt; 684:        my $self    = shift;
&gt;   DB&lt;2&gt; n
&gt; [... a couple of n&#39;s removed ...]
&gt; Archive::Tar::_write_to_handle&#40;/home/hwadm/.cpan/build/Archive-Tar-
&gt; 1.00/blib/lib/Archive/Tar.pm:704&#41;:
&gt; 704:            print $handle $entry-&gt;data or &#40;
&gt; 705:                $self-&gt;_error&#40; qq[Could not write data for: ] .
&gt; $entry-&gt;name &#41;,
&gt; 706:                return undef
&gt; 707:            &#41;;
&gt;   DB&lt;2&gt; x $handle
&gt; 0  IO::File=GLOB&#40;0x84ca97c&#41;
&gt;    -&gt; *Symbol::GEN5
&gt;          FileHandle&#40;{*Symbol::GEN5}&#41; =&gt; fileno&#40;3&#41;
&gt;   DB&lt;3&gt; x $entry
&gt; 0  Archive::Tar::File=HASH&#40;0x85f5144&#41;
&gt;    &#39;chksum&#39; =&gt; 5045
&gt;    &#39;devmajor&#39; =&gt; 0
&gt;    &#39;devminor&#39; =&gt; 0
&gt;    &#39;gid&#39; =&gt; 20
&gt;    &#39;gname&#39; =&gt; &#39;staff&#39;
&gt;    &#39;linkname&#39; =&gt; &#39;&#39;
&gt;    &#39;magic&#39; =&gt; &#39;ustar&#39;
&gt;    &#39;mode&#39; =&gt; 16877
&gt;    &#39;mtime&#39; =&gt; 1051037954
&gt;    &#39;name&#39; =&gt; &#39;directory/&#39;
&gt;    &#39;prefix&#39; =&gt; &#39;&#39;
&gt;    &#39;raw&#39; =&gt; &#34;directory/
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@0040755\c@0000765
&gt; \c@0000024\c@00000000000\c@07651310402\c@011665\c@ 5
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@ustar
&gt; \c@kane\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\ 
&gt; c
&gt; @\c@\c@\c@\c@\c@\c@staff\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c@\c 
&gt; @
&gt; \c@\c@&#34;
&gt;    &#39;size&#39; =&gt; 0
&gt;    &#39;type&#39; =&gt; 5
&gt;    &#39;uid&#39; =&gt; 501
&gt;    &#39;uname&#39; =&gt; &#39;kane&#39;
&gt;    &#39;version&#39; =&gt; &#39;&#39;
&gt;
</div>--

Jos Boumans

        &#34;If superman is so smart, why does he wear underpants over his  
        trousers?&#34;

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>

==== //member/kane/archive-tar-new/lib/Archive/Tar.pm#27 -  
/Users/kane/p4/other/archive-tar-new/lib/Archive/Tar.pm ====
703a704
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;     if&#40; length $entry-&gt;data &#41; {
</div>708c709
&lt;     #}
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;     } 
</div>       
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81985" href="/Public/Bug/Display.html?id=2721#txn-81985">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;08:00:49&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marek.rouchal [...] infineon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81985/9567/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9567">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Hope this helps a bit - it seems to me that the entry shown does
&gt;&gt; not have a &#34;data&#34; key in the hash - perhaps it was not properly
&gt;&gt; initialized?
</div>&gt;
&gt;no, it seems to me the problem is when it&#39;s writing out a directory.  
&gt;and directories don&#39;t have &#39;data&#39; like a normal file does.. i&#39;m not  
&gt;sure why it warns for you and not for me though.
&gt;
&gt;anyway, below the sig is a patch, try it, i think it should quell the  
&gt;warnings.
&gt;
&gt;==== //member/kane/archive-tar-new/lib/Archive/Tar.pm#27 -  
&gt;/Users/kane/p4/other/archive-tar-new/lib/Archive/Tar.pm ====
&gt;703a704
<div class="message-stanza open">&gt; &gt;     if&#40; length $entry-&gt;data &#41; {
</div>&gt;708c709
&gt;&lt;     #}
&gt;---
<div class="message-stanza open">&gt; &gt;     } 
</div></div>
Well, I don&#39;t think this will work - the length&#40;&#41; function
will also complain about an undefined value! Note that if
there is no such key in the hash, then the value of this
key will be &#34;undef&#34;.
The &#34;if&#34; should be sth. like this maybe:

if&#40; $entry-&gt;has_data &#41; {
 ...
}

and of course we need a method in
Archive::Tar::File:

sub has_data {
  exists&#40;shift-&gt;{data}&#41;;
}      

Hope this helps,

Marek
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81986" href="/Public/Bug/Display.html?id=2721#txn-81986">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;04&nbsp;14:32:57&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> blaise [...] hobbystage.net</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81986/9593/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9593">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Worst problem  with FreeBSD on 486

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; install Archive::Tar
</div>Running install for module Archive::Tar
Running make for K/KA/KANE/Archive-Tar-1.00.tar.gz
  Is already unwrapped into directory /root/.cpan/build/Archive-Tar-
1.00
  Has already been processed within this session
Running make test
PERL_DL_NONLAZY=1 /usr/bin/perl -Iblib/arch -Iblib/lib -
I/usr/local/lib/perl5/5.6.1/i386-freebsd-thread-multi -
I/usr/local/lib/perl5/5.6.1 -e &#39;use Test::Harness qw&#40;&#38;runtests 
$verbose&#41;; $verbose=0; runtests @ARGV;&#39; t/*.t
t/01_use............ok                                                 
      
t/02_methods........Use of uninitialized value in print at 
blib/lib/Archive/Tar.pm line 704.
Use of uninitialized value in print at blib/lib/Archive/Tar.pm line 
704.
Use of uninitialized value in print at blib/lib/Archive/Tar.pm line 
704.
Use of uninitialized value in print at blib/lib/Archive/Tar.pm line 
704.
t/02_methods........FAILED tests 1-
67                                        
        Failed 67/67 tests, 0.00% okay
Failed Test    Status Wstat Total Fail  Failed  List of Failed
-----------------------------------------------------------------------
---------
t/02_methods.t                67   67 100.00%  1-67
Failed 1/2 test scripts, 50.00% okay. 67/69 subtests failed, 2.90% 
okay.
*** Error code 35

Stop in /root/.cpan/build/Archive-Tar-1.00.
  /usr/bin/make test -- NOT OK
Running make install
  make test had returned bad status, won&#39;t install without force
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81987" href="/Public/Bug/Display.html?id=2721#txn-81987">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;07&nbsp;05:35:27&nbsp;2003</span>
    <span class="description">kane [...] dwim.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Jun 2003 11:35:17 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #2721] uninitialized values in test of Archive-Tar-1.00 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] dwim.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81987/9626/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9626">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Wednesday, Jun 4, 2003, at 20:32 Europe/Amsterdam, Guest via RT 
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This message about Archive-Tar was sent to you by guest &lt;&gt; via 
&gt; rt.cpan.org
</div>
i&#39;m sorry, i&#39;ll need a slightly better bug report than this.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Full context and any attached attachments can be found at:
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=2721">https://rt.cpan.org/Ticket/Display.html?id=2721</a></span> &gt;
</div>
1&#41; if you&#39;re not sure it&#39;s the same bug, please file a different bug -- 
uninitialized variables do not make /all/ tests fail.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Worst problem  with FreeBSD on 486
</div>
2&#41; what freebsd? what configuration? what perl? what perl 
configuaration?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; cpan&gt; install Archive::Tar
</div></div>
3&#41; what happens if you install it manually? is this perhaps a CPAN.pm 
bug?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/02_methods........FAILED tests 1-
&gt; 67
&gt;         Failed 67/67 tests, 0.00% okay
&gt; Failed Test    Status Wstat Total Fail  Failed  List of Failed
</div>
4&#41; i need the test output -- otherwise i have no idea of knowing what 
is broken. please run the test seperately with TEST_VERBOSE = 1

--

Jos Boumans

        &#34;You know you are never more indignant in life than when you&#39;re
        shopping at a store you feel is beneath you and one of the other
        customers mistakes you for one of the employees of that store.&#34;
                - Dennis Miller

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81988" href="/Public/Bug/Display.html?id=2721#txn-81988">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;07&nbsp;05:44:35&nbsp;2003</span>
    <span class="description">kane [...] dwim.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 7 Jun 2003 11:44:29 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #2721] uninitialized values in test of Archive-Tar-1.00 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] dwim.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81988/9627/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9627">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Tuesday, Jun 3, 2003, at 14:00 Europe/Amsterdam, Guest via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; ==== //member/kane/archive-tar-new/lib/Archive/Tar.pm#27 -
&gt;&gt; /Users/kane/p4/other/archive-tar-new/lib/Archive/Tar.pm ====
&gt;&gt; 703a704
<div class="message-stanza open">&gt;&gt;&gt;     if&#40; length $entry-&gt;data &#41; {
</div>&gt;&gt; 708c709
&gt;&gt; &lt;     #}
&gt;&gt; ---
<div class="message-stanza open">&gt;&gt;&gt;     }
</div></div>&gt;
&gt; Well, I don&#39;t think this will work - the length&#40;&#41; function
&gt; will also complain about an undefined value!
</div>
d&#39;oh, it&#39;s kinda hard fixing a problem that doesn&#39;t exist on your own 
box =/

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Note that if
&gt; there is no such key in the hash, then the value of this
&gt; key will be &#34;undef&#34;.
</div>
which is fine

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; and of course we need a method in
&gt; Archive::Tar::File:
&gt;
&gt; sub has_data {
&gt;   exists&#40;shift-&gt;{data}&#41;;
&gt; }
&gt;
</div>
i applied the following patches:

==== //member/kane/archive-tar-new/lib/Archive/Tar.pm#30 &#40;text&#41; ====

712c712
&lt;     if&#40; length $entry-&gt;data &#41; {
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;     if&#40; $entry-&gt;has_content &#41; {
</div>
==== //member/kane/archive-tar-new/lib/Archive/Tar/File.pm#14 &#40;text&#41; 
====

337a338,351
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; =head2 has_content
 &gt;
 &gt; Returns a boolean to indicate whether the current object has content.
 &gt; Some special files like directories and so on never will have any
 &gt; content. This method is mainly to make sure you don&#39;t get warnings
 &gt; for using unitialized values when looking at an objects&#39;s content.
 &gt;
 &gt; =cut
 &gt;
 &gt; sub has_content {
 &gt;     my $self = shift;
 &gt;     return defined $self-&gt;data&#40;&#41; &#38;&#38; length $self-&gt;data&#40;&#41; ? 1 : 0;
 &gt; }
 &gt;
</div>
==== //member/kane/archive-tar-new/lib/Archive/Tar/File.pm#15 &#40;text&#41; 
====

45c45,49
&lt;         return $self-&gt;{$key};
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;
 &gt;         ### just in case the key is not there or undef or something 
</div>###
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt;         {   local $^W = 0;
 &gt;             return $self-&gt;{$key};
 &gt;         }
</div>

and these still make all my tests succeed... perhaps you can try them 
on your system
and verify that they also fix the problem you reported?

--
        Jos Boumans

        &#34;Cocaine is God&#39;s way of telling you you make too much money&#34;

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81989" href="/Public/Bug/Display.html?id=2721#txn-81989">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;10&nbsp;08:44:54&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SOLVED, BUT: uninitialized values in test of Archive-Tar-1.00</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> marek.rouchal [...] infineon.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81989/9680/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9680">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[kane@dwim.org - Sat Jun  7 05:44:35 2003]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; i applied the following patches:
&gt; ... 
&gt; and these still make all my tests succeed... perhaps you can try them 
&gt; on your system
&gt; and verify that they also fix the problem you reported?
</div>
The version 1.01 fixes the problem described in this ticket -
however I get a new one :-/

$ make test TEST_VERBOSE=1
PERL_DL_NONLAZY=1 /opt/perl_5.8.0/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-
e&#34; &#34;test_harness&#40;1, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_use........1..2
Useless use of a constant in void context 
at /home/hwadm/.cpan/build/Archive-Tar-
1.01/blib/lib/Archive/Tar/File.pm line 395.
ok 1 - use Archive::Tar;
ok 2 - Object created isa Archive::Tar
ok

This can be fixed easily with this patch &#40;see also perlop for
the operator precedence&#41;:

--- lib/Archive/Tar/File.pm.orig   2003-06-10 14:43:01.490721000 +0200
+++ lib/Archive/Tar/File.pm        2003-06-10 14:43:08.605720000 +0200
@@ -392,7 +392,7 @@
 
 sub replace_content {
     my $self = shift;
-    my $data = shift or &#39;&#39;;
+    my $data = shift || &#39;&#39;;
     
     $self-&gt;data&#40; $data &#41;;
     $self-&gt;size&#40; length $data &#41;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81990" href="/Public/Bug/Display.html?id=2721#txn-81990">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;10&nbsp;09:00:20&nbsp;2003</span>
    <span class="description">kane [...] dwim.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 10 Jun 2003 14:59:58 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #2721] SOLVED, BUT: uninitialized values in test of Archive-Tar-1.00 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jos I. Boumans&#34; &lt;kane [...] dwim.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Archive-Tar [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/81990/9681/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/9681">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 841b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
On Tuesday, Jun 10, 2003, at 14:44 Europe/Amsterdam, Guest via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The version 1.01 fixes the problem described in this ticket -
&gt; however I get a new one :-/
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; --- lib/Archive/Tar/File.pm.orig   2003-06-10 14:43:01.490721000 +0200
&gt; +++ lib/Archive/Tar/File.pm        2003-06-10 14:43:08.605720000 +0200
&gt; @@ -392,7 +392,7 @@
&gt;
&gt;  sub replace_content {
&gt;      my $self = shift;
&gt; -    my $data = shift or &#39;&#39;;
&gt; +    my $data = shift || &#39;&#39;;
&gt;
&gt;      $self-&gt;data&#40; $data &#41;;
&gt;      $self-&gt;size&#40; length $data &#41;;
</div>

this seems like a silly oopsie. thanks for spotting


--

Jos Boumans

        &#34;You know you are never more indignant in life than when you&#39;re
        shopping at a store you feel is beneath you and one of the other
        customers mistakes you for one of the employees of that store.&#34;
                - Dennis Miller

        CPANPLUS        <span class="clickylink"><a target="new" rel="nofollow" href="http://cpanplus.sf.net">http://cpanplus.sf.net</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81991" href="/Public/Bug/Display.html?id=2721#txn-81991">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;13&nbsp;10:56:35&nbsp;2003</span>
    <span class="description">kane [...] cpan.org -  Fixed in 1.02 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-81992" href="/Public/Bug/Display.html?id=2721#txn-81992">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;13&nbsp;10:57:12&nbsp;2003</span>
    <span class="description">kane [...] cpan.org -  Status changed from &#39;new&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.43688</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
