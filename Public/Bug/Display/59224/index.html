<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #59224 for PAR-Packer: make error with version 1.006 on aix 5.3</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #59224 for PAR-Packer: make error with version 1.006 on aix 5.3</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PAR-Packer">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PAR-Packer">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PAR-Packer">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PAR-Packer">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">59224</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PAR-Packer">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Emanuel.Reisinger [...] ils.at

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




par.debugge<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/813872/421737/par.debugge">
Thu Aug 05 09:28:05 2010 (21.3k) by mailto.ogv [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=59224">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-801932" href="/Public/Bug/Display.html?id=59224#txn-801932">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;09&nbsp;10:00:34&nbsp;2010</span>
    <span class="description">Emanuel.Reisinger [...] ils.at -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> make error with version 1.006 on aix 5.3</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 9 Jul 2010 16:00:17 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-PAR-Packer [...] rt.cpan.org&#39;&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] ils.at&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/801932/415734/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/415734">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
# make
[Output truncated]
/usr/opt/perl5_32/bin/perl run_with_inc.pl ./par -I../blib/lib -q -B -O../script/parldyn
./par: execution of ./par failed - aborting with -1.
BEGIN failed--compilation aborted at -e line 966.
make[1]: *** [../script/parldyn] Error 1
make[1]: Leaving directory `/tmp/.cpan/build/PAR-Packer-1.006-mi3hxv/myldr&#39;
make: *** [subdirs] Error 2
  RSCHUPP/PAR-Packer-1.006.tar.gz
  /usr/bin/make -- NOT OK


../script/parldyn does not exits, but it does as ../script/parl! After copy of parl to parldyn make passes.

And a following make test results in:

# make test
make[1]: Entering directory `/sys/tools/perl/PAR-Packer-1.006/myldr&#39;
perl -e &#34;chmod&#40;oct&#40;&#39;0600&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Static.pm&#39;&#41;;&#34;
perl encode_append.pl ./static ../blib/lib/PAR/StrippedPARL/Static.pm
perl -e &#34;chmod&#40;oct&#40;&#39;0444&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Static.pm&#39;&#41;;&#34;
perl -e &#34;chmod&#40;oct&#40;&#39;0600&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Dynamic.pm&#39;&#41;;&#34;
perl encode_append.pl ./par ../blib/lib/PAR/StrippedPARL/Dynamic.pm
perl -e &#34;chmod&#40;oct&#40;&#39;0444&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Dynamic.pm&#39;&#41;;&#34;
make[1]: Leaving directory `/sys/tools/perl/PAR-Packer-1.006/myldr&#39;
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/00-pod.t t/10-parl-generation.t  t/20-pp.t t/30-current_exec.t t/40-packer_cd_option.t
t/00-pod.t ............... skipped: Set environment variable PERL_TEST_POD=1 to test POD
t/10-parl-generation.t ... 10/31 /tmp/parlB0V7: execution of /tmp/parlB0V7 failed - aborting with -1.
BEGIN failed--compilation aborted at -e line 966.
t/10-parl-generation.t ... 28/31
#   Failed test &#39;...Dynamic-&gt;write_parl didn&#39;t return false&#39;
#   at t/10-parl-generation.t line 212.

#   Failed test &#39;...Dynamic-&gt;write_parl created non-empty file&#39;
#   at t/10-parl-generation.t line 216.
# Looks like you failed 2 tests of 31.
t/10-parl-generation.t ... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 2/31 subtests
t/20-pp.t ................ ok
t/30-current_exec.t ...... # Please wait
t/30-current_exec.t ...... 2/4 cannot remove directory for /sys/tools/perl/PAR-Packer-1.006/t-tmp/par-root/cache-d6cfbf8681919deb85889e7785d7d6bc78bed21e: File exists at t/30-current_exec.t line 98
cannot remove directory for /sys/tools/perl/PAR-Packer-1.006/t-tmp/par-root: File exists at t/30-current_exec.t line 98
cannot remove directory for /sys/tools/perl/PAR-Packer-1.006/t-tmp: File exists at t/30-current_exec.t line 98
t/30-current_exec.t ...... ok
t/40-packer_cd_option.t .. ok

Test Summary Report
-------------------
t/10-parl-generation.t &#40;Wstat: 512 Tests: 31 Failed: 2&#41;
  Failed tests:  29, 31
  Non-zero exit status: 2
Files=5, Tests=71, 744 wallclock secs &#40; 0.08 usr  0.02 sys + 418.28 cusr 43.53 csys = 461.91 CPU&#41;
Result: FAIL
Failed 1/5 test programs. 2/71 subtests failed.
make: *** [test_dynamic] Error 255


Our system AIX 5.3:
# oslevel -s
5300-10-01-0921



Freundliche Grüße / Best regards

Dipl.-Ing. &#40;FH&#41; Emanuel Reisinger
Software Engineer

ILS Consult GmbH
Kompetenz-Center für IT &#38; Logistik-Software
www.ils.at&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ils.at">http://www.ils.at</a></span>&gt;

Goethestraße 84 | 4020 Linz | Austria
Tel.: +43 &#40;5&#41; 1715 - 1844
Fax: +43 &#40;5&#41; 1715 - 9844

E-Mail: emanuel.reisinger@ils.at

Sitz: Linz | LG Linz | FN: 127950m | UID-Nr.: ATU37517004

PART OF IMTECH &gt;&gt; www.imtech.eu&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.imtech.eu">http://www.imtech.eu</a></span>&gt;
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/801932/415735/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/415735">with headers</a>
<br />
<span class="downloadcontenttype">text/html 15.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-801963" href="/Public/Bug/Display.html?id=59224#txn-801963">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;09&nbsp;10:45:49&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/801963/415754/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/415754">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 578b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-07-09 10:00:34, Emanuel.Reisinger@ils.at wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; # make
&gt; [Output truncated]
</div>
Please post the full output of make, so we can get a clue what&#39;s going
on here.
You might what to change the last line of myldr/run_with_inc.pl
beforehand from

  exit&#40;system&#40;@ARGV&#41; == 0 ? 0 : 1&#41;;

to

  system&#40;@ARGV&#41; == 0 or die &#34;system failed: exit=$? error=$!&#34;;

so that we can get a bit more diagnostics.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ../script/parldyn does not exits, but it does as ../script/parl! After
&gt; copy of parl to parldyn make passes.
</div>
It&#39;s useless to continue after the above error.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-801966" href="/Public/Bug/Display.html?id=59224#txn-801966">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;09&nbsp;10:45:49&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-802547" href="/Public/Bug/Display.html?id=59224#txn-802547">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;12&nbsp;00:57:27&nbsp;2010</span>
    <span class="description">Emanuel.Reisinger [...] ils.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 12 Jul 2010 06:56:58 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-PAR-Packer [...] rt.cpan.org&#39;&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] ils.at&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/802547/416053/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/416053">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 81.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-802567" href="/Public/Bug/Display.html?id=59224#txn-802567">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;12&nbsp;04:05:33&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/802567/416068/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/416068">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-07-12 00:57:27, Emanuel.Reisinger@ils.at wrote:

This is AIX, right? Sorry, I can&#39;t help you there because I don&#39;t have
access to such a machine. Also, CPAN Testers doesn&#39;t have a history
of anyone having built PAR::Packer there. Anyway, here are some
general remarks:

The warnings &#34;ld: 0711-319 WARNING: Exported symbol not defined&#34;
for the command

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; cc -q32 static.o -bE:/usr/opt/perl5/lib/5.12.1/aix/CORE/perl.exp
&gt;    -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000
&gt;    -L/usr/opt/perl5/lib/5.12.1/aix/CORE -lbind -lnsl -ldl -lld -lm
&gt;    -lcrypt -lc  -o ./static
</div>
are probably harmless. But that&#39;s just a guess, because I don&#39;t know
the meaning of AIX-specific options like -bE:...
Anyway this is a standalone executable that uses only 
standard C library fucntions.

./par &#40;built 3 commands eralier&#41; is another matter. This is
actually a special purpose Perl interpreter. But compiling
and linking it seems to have been successful.
But it looks like your using a 32bit Perl installation in a 
64bit user space? 

Try debugging ./par, you probably need to rebuild it first with
debugging enabled. At least run ./par under a debugger and 
try to get a stack trace or something.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-802985" href="/Public/Bug/Display.html?id=59224#txn-802985">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;13&nbsp;02:03:57&nbsp;2010</span>
    <span class="description">Emanuel.Reisinger [...] ils.at -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 13 Jul 2010 08:03:39 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;&#39;bug-PAR-Packer [...] rt.cpan.org&#39;&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] ils.at&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/802985/416281/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/416281">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 7.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes it&#39;s a AIX 5.3 &#40;technical level 10&#41;

AIX linker option -bE includes an export file of shared library listing the global symbols.
FYI: <span class="clickylink"><a target="new" rel="nofollow" href="http://publib.boulder.ibm.com/infocenter/comphelp/v9v111/index.jsp?topic=/com.ibm.xlcpp9.aix.doc/getstart/new_features.htm">http://publib.boulder.ibm.com/infocenter/comphelp/v9v111/index.jsp?topic=/com.ibm.xlcpp9.aix.doc/getstart/new_features.htm</a></span>

Yes that&#39;s right I&#39;m using a 32bit Perl installation on a 64bit hardware and kernel. But that should doesn&#39;t matter.
That&#39;s a development host and all target hosts may have not a 64bit environment, so I&#39;ve to use the 32bit version.


Here are the debugging information:

# dbx par
&#40;dbx&#41; stop at 134
[1] stop at &#34;main.c&#34;:134
&#40;dbx&#41; run -I../blib/lib -q -B -O../script/parldyn
[1] stopped in main at line 134 in file &#34;main.c&#34; &#40;$t1&#41;
  134       exitstatus = perl_parse&#40;my_perl, par_xs_init, argc + options_count - 1, fakeargv, &#40;char **&#41;NULL&#41;;
&#40;dbx&#41; where
main&#40;argc = 5, argv = 0x2ff22bdc, env = 0x2ff22bf4&#41;, line 134 in &#34;main.c&#34; &#40;dbx&#41; dump
main&#40;argc = 5, argv = 0x2ff22bdc, env = 0x2ff22bf4&#41;, line 134 in &#34;main.c&#34;
argno = 4
exitstatus = -559038737
i = 5
__func__ = &#34;main&#34; 
&#40;dbx&#41; p my_perl
0x3000fb78 
&#40;dbx&#41; p par_xs_init
par_xs_init 
&#40;dbx&#41; p argc
5 
&#40;dbx&#41; p options_count
4
&#40;dbx&#41; p fakeargv[0]
&#34;par&#34; 
&#40;dbx&#41; p fakeargv[1]
&#34;-e&#34; 
&#40;dbx&#41; p fakeargv[2]
&#34;#!/usr/bin/perl\neval &#39;exec /usr/bin/perl  -S $0 ${1+&#34;$@&#34;}&#39;\n    if 0; # not running under some shell\n\npackage __par_pl;\n\n# --- This script must not use any modules at compile time ---\n# use strict;\n\n#line 158\n\nmy &#40;$par_temp, $progname, @tmpfile&#41;;\nEND { if &#40;$ENV{PAR_CLEAN}&#41; {\n    require File::Temp;\n    require File::Basename;\n    require File::Spec;\n    my $topdir = File::Basename::dirname&#40;$par_temp&#41;;\n    outs&#40;qq{Removing files in &#34;$par_temp&#34;}&#41;;\n    File::Find::finddepth&#40;sub { &#40; -d &#41; ? rmdir : unlink }, $par_temp&#41;;\n    rmdir $par_temp;\n    # Don&#39;t remove topdir because this causes a race with other apps\n    # that are trying to start.\n\n    if &#40;-d $par_temp &#38;&#38; $^O ne &#39;MSWin32&#39;&#41; {\n        # Something went wrong unlinking the temporary directory.  This\n        # typic
[truncated]
&#40;dbx&#41; p fakeargv[3]
&#34;--&#34; 
&#40;dbx&#41; p fakeargv[4]
&#34;-I../blib/lib&#34; 
&#40;dbx&#41; p fakeargv[5]
&#34;-q&#34; 
&#40;dbx&#41; p fakeargv[6]
&#34;-B&#34; 
&#40;dbx&#41; p fakeargv[7]
&#34;-O../script/parldyn&#34;
&#40;dbx&#41; n
program terminated by signal 9
&#40;dbx&#41; quit

Execution of perl_parse at line 134 of myldr/main.c terminates myldr/par with signal 9.

This error occur in perl v5.12.1 and AIX 5.3 default perl package v5.8.2

Here is the make output of perl v5.8.2:
cp lib/PAR/Packer.pm blib/lib/PAR/Packer.pm
cp lib/PAR/StrippedPARL/Base.pm blib/lib/PAR/StrippedPARL/Base.pm
cp lib/PAR/Filter/PodStrip.pm blib/lib/PAR/Filter/PodStrip.pm
cp lib/PAR/Filter/Obfuscate.pm blib/lib/PAR/Filter/Obfuscate.pm
cp lib/App/Packer/PAR.pm blib/lib/App/Packer/PAR.pm
cp lib/PAR/Filter.pm blib/lib/PAR/Filter.pm
cp lib/PAR/StrippedPARL/Dynamic.pm blib/lib/PAR/StrippedPARL/Dynamic.pm
cp lib/PAR/Filter/PatchContent.pm blib/lib/PAR/Filter/PatchContent.pm
cp lib/PAR/Filter/Bytecode.pm blib/lib/PAR/Filter/Bytecode.pm
cp lib/pp.pm blib/lib/pp.pm
cp lib/PAR/Filter/Bleach.pm blib/lib/PAR/Filter/Bleach.pm
cp lib/PAR/StrippedPARL/Static.pm blib/lib/PAR/StrippedPARL/Static.pm
make[1]: Entering directory `/tmp/.cpan/build/PAR-Packer-1.006/myldr&#39;
perl sha1.c.PL sha1.c
cc_r -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=16384 -qnoansialias
-DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -q32 -D_LARGE_FILES -qlonglong  -I/usr/opt/p
erl5/lib/5.8.2/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O main.c
perl ./file2c.pl ../script/par.pl my_par_pl.c load_my_par_pl 0
cc_r -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=16384 -qnoansialias
-DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -q32 -D_LARGE_FILES -qlonglong  -I/usr/opt/p
erl5/lib/5.8.2/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O my_par_pl.c
cc_r main.o my_par_pl.o  -bE:/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE/perl.exp
 -bE:/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE/perl.exp -bE:/usr/opt/perl5/lib/
5.8.2/aix-thread-multi/CORE/perl.exp -bE:/usr/opt/perl5/lib/5.8.2/aix-thread-multi/C
ORE/perl.exp  -brtl -b32 -bmaxdata:0x80000000 /usr/opt/perl5/lib/5.8.2/aix-thread-mu
lti/auto/DynaLoader/DynaLoader.a -L/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE -l
perl -lbind -lnsl -ldl -lld -lm -lpthreads -lc_r -lcrypt -lbsd -lPW -o ./par
perl -e1
perl ./file2c.pl ./par my_par.c load_my_par 0 30000
perl ./file2c.pl /usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE/libperl.a my_libperl
.c load_my_libperl 0 30000
cc_r -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=16384 -qnoansialias
-DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -q32 -D_LARGE_FILES -qlonglong  -I/usr/opt/p
erl5/lib/5.8.2/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O static.c
cc_r static.o -bE:/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE/perl.exp -bE:/usr/o
pt/perl5/lib/5.8.2/aix-thread-multi/CORE/perl.exp -bE:/usr/opt/perl5/lib/5.8.2/aix-t
hread-multi/CORE/perl.exp -bE:/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE/perl.ex
p  -brtl -b32 -bmaxdata:0x80000000 /usr/opt/perl5/lib/5.8.2/aix-thread-multi/auto/Dy
naLoader/DynaLoader.a -L/usr/opt/perl5/lib/5.8.2/aix-thread-multi/CORE -lbind -lnsl
-ldl -lld -lm -lpthreads -lc_r -lcrypt -lbsd -lPW  -o ./static
perl -e1
perl parlsig.pl ./static ./par 1 30000
perl run_with_inc.pl ./static -I../blib/lib -q -B -O../script/parl
perl -e &#34;chmod&#40;oct&#40;&#39;0600&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Static.pm&#39;&#41;;&#34;
perl encode_append.pl ./static ../blib/lib/PAR/StrippedPARL/Static.pm
perl -e &#34;chmod&#40;oct&#40;&#39;0444&#39;&#41;, &#39;../blib/lib/PAR/StrippedPARL/Static.pm&#39;&#41;;&#34;
perl run_with_inc.pl ./par -I../blib/lib -q -B -O../script/parldyn
make[1]: Leaving directory `/tmp/.cpan/build/PAR-Packer-1.006/myldr&#39;
./par: execution of ./par failed - aborting with -1.
BEGIN failed--compilation aborted at -e line 966.
system failed: exit=1792 error= at run_with_inc.pl line 6.
make[1]: *** [../script/parldyn] Error 7
make: *** [subdirs] Error 2


Directory PAR-Packer-1.006/script includes
-rwxr-xr-x    1 2000     2000          29524 Jun 13 19:10 par.pl
-rwxr-xr-x    1 root     system      3191047 Jul 12 14:16 parl
-rwxr-xr-x    1 2000     2000           4413 Jun 13 19:10 parl.pod
-rwxr-xr-x    1 2000     2000             63 Jun 13 19:10 pp
-rwxr-xr-x    1 2000     2000          28825 Jun 13 19:10 tkpp


Cheers, Emanuel


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Ursprüngliche Nachricht-----
Von: RSCHUPP via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Gesendet: Montag, 12. Juli 2010 10:06
An: Reisinger Emanuel
Betreff: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59224">https://rt.cpan.org/Ticket/Display.html?id=59224</a></span> &gt;

On 2010-07-12 00:57:27, Emanuel.Reisinger@ils.at wrote:

This is AIX, right? Sorry, I can&#39;t help you there because I don&#39;t have
access to such a machine. Also, CPAN Testers doesn&#39;t have a history
of anyone having built PAR::Packer there. Anyway, here are some
general remarks:

The warnings &#34;ld: 0711-319 WARNING: Exported symbol not defined&#34;
for the command

<div class="message-stanza open">&gt; cc -q32 static.o -bE:/usr/opt/perl5/lib/5.12.1/aix/CORE/perl.exp
&gt;    -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000
&gt;    -L/usr/opt/perl5/lib/5.12.1/aix/CORE -lbind -lnsl -ldl -lld -lm
&gt;    -lcrypt -lc  -o ./static
</div>
are probably harmless. But that&#39;s just a guess, because I don&#39;t know
the meaning of AIX-specific options like -bE:...
Anyway this is a standalone executable that uses only 
standard C library fucntions.

./par &#40;built 3 commands eralier&#41; is another matter. This is
actually a special purpose Perl interpreter. But compiling
and linking it seems to have been successful.
But it looks like your using a 32bit Perl installation in a 
64bit user space? 

Try debugging ./par, you probably need to rebuild it first with
debugging enabled. At least run ./par under a debugger and 
try to get a stack trace or something.

Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-803205" href="/Public/Bug/Display.html?id=59224#txn-803205">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;13&nbsp;08:13:27&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/803205/416386/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/416386">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 664b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-07-13 02:03:57, Emanuel.Reisinger@ils.at wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; AIX linker option -bE includes an export file of shared library
&gt;    listing the global symbols.
</div>
That&#39;s what I guessed.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;dbx&#41; p fakeargv[7]
&gt; &#34;-O../script/parldyn&#34;
&gt; &#40;dbx&#41; n
&gt; program terminated by signal 9
&gt; &#40;dbx&#41; quit
&gt; 
&gt; Execution of perl_parse at line 134 of myldr/main.c terminates
&gt;    myldr/par with signal 9.
</div>
What a crappy debugger that doesn&#39;t show you a stack trace when
the debuggee dies from a signal... 
Anyway, thanks for the effort, but there&#39;s no use continuing here,
as perl_parse leads into the realm of perl internals, i.e. Black Magic
Territory.

Cheers, Roderich
Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-813346" href="/Public/Bug/Display.html?id=59224#txn-813346">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;04&nbsp;06:07:10&nbsp;2010</span>
    <span class="description">mailto.ogv [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mailto.ogv [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/813346/421432/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/421432">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 32.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-813824" href="/Public/Bug/Display.html?id=59224#txn-813824">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;05&nbsp;07:26:28&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/813824/421704/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/421704">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 638b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-08-04 06:07:10, ogv wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; hi everybody !
&gt; I have this error on my AIX 5.3 machine too.
&gt; Here is the output: truss -f par
</div>
Thanks for doing this as I don&#39;t have access to
an AIX machine.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 508042: execve&#40;&#34;par&#34;, 0x30021598, 0x30048CF8&#41;           Err#7  E2BIG
&gt; par: execution of par failed - aborting with -1.
</div>
Is there an option to AIX&#39; truss to show the arg list
and environment of an execve&#40;&#41; call? I&#39;m beginning to
suspect that the process environment on AIX is rather small?
Can you retry the experiment with an empty environment, e.g.

  $ env - truss ... ./par

&#40;at least that&#39;s what I&#39;d do on Linux&#41;.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-813865" href="/Public/Bug/Display.html?id=59224#txn-813865">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;05&nbsp;08:54:11&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-813872" href="/Public/Bug/Display.html?id=59224#txn-813872">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;05&nbsp;09:28:05&nbsp;2010</span>
    <span class="description">mailto.ogv [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mailto.ogv [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/813872/421736/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/421736">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 814b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">hi!
I hope this is what you need.
the output: env - truss -f -a -e par
Thanks.

Чтв Авг 05 07:26:28 2010, RSCHUPP писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2010-08-04 06:07:10, ogv wrote:
<div class="message-stanza open">&gt; &gt; hi everybody !
&gt; &gt; I have this error on my AIX 5.3 machine too.
&gt; &gt; Here is the output: truss -f par
</div>&gt; 
&gt; Thanks for doing this as I don&#39;t have access to
&gt; an AIX machine.
&gt; 
<div class="message-stanza open">&gt; &gt; 508042: execve&#40;&#34;par&#34;, 0x30021598, 0x30048CF8&#41;           Err#7  E2BIG
&gt; &gt; par: execution of par failed - aborting with -1.
</div>&gt; 
&gt; Is there an option to AIX&#39; truss to show the arg list
&gt; and environment of an execve&#40;&#41; call? I&#39;m beginning to
&gt; suspect that the process environment on AIX is rather small?
&gt; Can you retry the experiment with an empty environment, e.g.
&gt; 
&gt;   $ env - truss ... ./par
&gt; 
&gt; &#40;at least that&#39;s what I&#39;d do on Linux&#41;.
&gt; 
&gt; Cheers, Roderich
</div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> par.debugge</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/813872/421737/par.debugge">Download par.debugge</a><br />
<span class="downloadcontenttype">application/octet-stream 21.3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-814231" href="/Public/Bug/Display.html?id=59224#txn-814231">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;06&nbsp;06:33:08&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/814231/421915/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/421915">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-08-05 09:28:05, ogv wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I hope this is what you need.
&gt; the output: env - truss -f -a -e par
</div>
Yes, that confirms that the E2BIG for execve&#40;&#41; is caused
by too large args+env passed to the program.
According to IBM docs, AIX 5 has a ridiculous, non-configurable
limit of 24K for args. 
The main culprit here is PAR::Packer: it calls par with one
argument that is already 23K long &#40;it&#39;s a &#34;perl -e ...&#34; type
command&#41;. Maybe I can eliminate that, but that&#39;s a bit of work
and I want to make sure beforehand that this the only reason 
why PAR::Packer doesn&#39;t work on AIX 5. 
Hence, are you ready for a little experiment?

&#40;1&#41; Run &#34;make clean&#34; to start with a clean slate
&#40;2&#41; Try to shrink your process enviroment by unsetting all 
    environment variables that are not absolutely necessary
&#40;3&#41; Strip non-functional whitespace from script/par.pl 
    &#40;saves ~4K&#41; by running

    $ perl -i -p -e &#39;s/^\s+// if /^=cut/../^1;/&#39; script/par.pl

&#40;4&#41; Save some more environmental bytes by reducing the array
    ld_path_keys in function par_setup_libpath in myldr/mktmpdir.c 
    like this

       const char *ld_path_keys[3] = {
         &#34;LIBPATH&#34;, &#34;PATH&#34;, &#34;&#34;
       };

    &#40;note the empty string as last element&#41;
&#40;5&#41; Now try a normal build

    $ perl Makefile.PL
    $ make
    $ make test  

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-814240" href="/Public/Bug/Display.html?id=59224#txn-814240">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;06&nbsp;07:40:19&nbsp;2010</span>
    <span class="description">mailto.ogv [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mailto.ogv [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/814240/421921/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/421921">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes,
I have fulfilled all steps 1-5
now build works fine.
thanks.

Птн Авг 06 06:33:08 2010, RSCHUPP писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2010-08-05 09:28:05, ogv wrote:
<div class="message-stanza open">&gt; &gt; I hope this is what you need.
&gt; &gt; the output: env - truss -f -a -e par
</div>&gt; 
&gt; Yes, that confirms that the E2BIG for execve&#40;&#41; is caused
&gt; by too large args+env passed to the program.
&gt; According to IBM docs, AIX 5 has a ridiculous, non-configurable
&gt; limit of 24K for args. 
&gt; The main culprit here is PAR::Packer: it calls par with one
&gt; argument that is already 23K long &#40;it&#39;s a &#34;perl -e ...&#34; type
&gt; command&#41;. Maybe I can eliminate that, but that&#39;s a bit of work
&gt; and I want to make sure beforehand that this the only reason 
&gt; why PAR::Packer doesn&#39;t work on AIX 5. 
&gt; Hence, are you ready for a little experiment?
&gt; 
&gt; &#40;1&#41; Run &#34;make clean&#34; to start with a clean slate
&gt; &#40;2&#41; Try to shrink your process enviroment by unsetting all 
&gt;     environment variables that are not absolutely necessary
&gt; &#40;3&#41; Strip non-functional whitespace from script/par.pl 
&gt;     &#40;saves ~4K&#41; by running
&gt; 
&gt;     $ perl -i -p -e &#39;s/^\s+// if /^=cut/../^1;/&#39; script/par.pl
&gt; 
&gt; &#40;4&#41; Save some more environmental bytes by reducing the array
&gt;     ld_path_keys in function par_setup_libpath in myldr/mktmpdir.c 
&gt;     like this
&gt; 
&gt;        const char *ld_path_keys[3] = {
&gt;          &#34;LIBPATH&#34;, &#34;PATH&#34;, &#34;&#34;
&gt;        };
&gt; 
&gt;     &#40;note the empty string as last element&#41;
&gt; &#40;5&#41; Now try a normal build
&gt; 
&gt;     $ perl Makefile.PL
&gt;     $ make
&gt;     $ make test  
&gt; 
&gt; Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-814774" href="/Public/Bug/Display.html?id=59224#txn-814774">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;08&nbsp;12:45:58&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/814774/422161/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/422161">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 352b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2010-08-06 07:40:19, ogv wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes,
&gt; I have fulfilled all steps 1-5
&gt; now build works fine.
&gt; thanks.
</div>
Thanks for testing. 
I&#39;ll leave the bug open for now, so that people can find 
the workaround until I &#40;or someone else&#41;
can find the time to fix it properly by getting rid of
the 23K arg to execve&#40;&#41; par during bootstrapping.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369256" href="/Public/Bug/Display.html?id=59224#txn-1369256">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;28&nbsp;05:53:59&nbsp;2014</span>
    <span class="description">Emanuel.Reisinger [...] imtech-logistics.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 28 May 2014 09:53:42 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] imtech-logistics.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369256/726942/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/726942">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Roderich,

I&#39;ve run in the same problem with PAR-Packer-1.018 again. But this time I found another quick-fix for this problem:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.nntp.perl.org/group/perl.par/2008/06/msg3615.html">http://www.nntp.perl.org/group/perl.par/2008/06/msg3615.html</a></span>

##### QUOTE BEGIN #####
On all AIX versions I tested &#40;4.3 - 5.3&#41; the following compiler error 
will be seen when running a &#39;make&#39; for PAR::Packer:

------------
./par: execution of ./par failed - aborting with -1.
BEGIN failed--compilation aborted at -e line 975.
make: 1254-004 The error code from the last command is 7.

Stop.
------------

A trace of the process showed E2BIG - which means the default AIX 
setting of ncargs &#40;ARG/ENV list size in 4K byte blocks&#41; is not 
sufficient for PAR::Packer to function.

A possible &#40;quick&#41;fix is to increase ncargs from its default value of 6 
by running &#39;chdev -l sys0 -a ncargs=7&#39;, bearing in mind this can only be 
done on AIX 5L and higher, not AIX 4.3.

Can this ncargs requirement really not be avoided by the distribution? 
It was not a problem during earlier PAR::Packer distributions I built 
&#40;at least 0.970, possibly 0.976&#41;.
##### QUOTE END #####

Maybe you can append this quick-fix to the ticket.

Cheers, Emanuel

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Ursprüngliche Nachricht-----
Von: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Gesendet: Freitag, 6. August 2010 12:33
An: Reisinger Emanuel
Betreff: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3 

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59224">https://rt.cpan.org/Ticket/Display.html?id=59224</a></span> &gt;

On 2010-08-05 09:28:05, ogv wrote:
<div class="message-stanza open">&gt; I hope this is what you need.
&gt; the output: env - truss -f -a -e par
</div>
Yes, that confirms that the E2BIG for execve&#40;&#41; is caused
by too large args+env passed to the program.
According to IBM docs, AIX 5 has a ridiculous, non-configurable
limit of 24K for args. 
The main culprit here is PAR::Packer: it calls par with one
argument that is already 23K long &#40;it&#39;s a &#34;perl -e ...&#34; type
command&#41;. Maybe I can eliminate that, but that&#39;s a bit of work
and I want to make sure beforehand that this the only reason 
why PAR::Packer doesn&#39;t work on AIX 5. 
Hence, are you ready for a little experiment?

&#40;1&#41; Run &#34;make clean&#34; to start with a clean slate
&#40;2&#41; Try to shrink your process enviroment by unsetting all 
    environment variables that are not absolutely necessary
&#40;3&#41; Strip non-functional whitespace from script/par.pl 
    &#40;saves ~4K&#41; by running

    $ perl -i -p -e &#39;s/^\s+// if /^=cut/../^1;/&#39; script/par.pl

&#40;4&#41; Save some more environmental bytes by reducing the array
    ld_path_keys in function par_setup_libpath in myldr/mktmpdir.c 
    like this

       const char *ld_path_keys[3] = {
         &#34;LIBPATH&#34;, &#34;PATH&#34;, &#34;&#34;
       };

    &#40;note the empty string as last element&#41;
&#40;5&#41; Now try a normal build

    $ perl Makefile.PL
    $ make
    $ make test  

Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1369305" href="/Public/Bug/Display.html?id=59224#txn-1369305">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;28&nbsp;10:19:54&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1369305/726984/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/726984">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 996b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-05-28 05:53:59, Emanuel.Reisinger@imtech-logistics.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can this ncargs requirement really not be avoided by the distribution?
&gt; It was not a problem during earlier PAR::Packer distributions I built
&gt; &#40;at least 0.970, possibly 0.976&#41;.
</div>
Well script/par.pl went from 26536 bytes in PAR::Packer 0.970 to
29466 bytes in 1.018. Not much, but apparently enough to hit the 
limited argv space in AIX.

Can you try the patch below which shrinks the infamous fakeargv[2]
by about 8k.

Cheers, Roderich

Index: myldr/par_pl2c.pl
===================================================================
--- myldr/par_pl2c.pl   &#40;revision 1461&#41;
+++ myldr/par_pl2c.pl   &#40;working copy&#41;
@@ -13,6 +13,8 @@
 print &#34;const char *$var =\n&#34;;
 foreach &#40;split&#40;/\n/, $slurp&#41;&#41;
 {
+    s/^\s*|\s*$//g;             # strip leading and trailing whitespace
+    next if /^#|^$/;            # skip comment and empty lines
     s/&#40;[&#34;\\]&#41;/\\$1/g;           # escape quotes and backslashes
     print qq[&#34;$_\\n&#34;\n];
 }
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1371450" href="/Public/Bug/Display.html?id=59224#txn-1371450">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;06:18:26&nbsp;2014</span>
    <span class="description">Emanuel.Reisinger [...] imtech-logistics.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 3 Jun 2014 10:18:11 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] imtech-logistics.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1371450/728203/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/728203">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 7.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve tried the patch, but I couldn&#39;t apply it. 

../PAR-Packer-1.018&gt; svn patch par_pl2c.patch
Skipped missing target: &#39;myldr/par_pl2c.pl   &#40;working copy&#41;&#39;
Summary of conflicts:
  Skipped paths: 1

So I added the two lines manually and it doesn&#39;t worked.

BR
Emanuel


../PAR-Packer-1.018&gt; lsattr -E -l sys0 -a ncargs
ncargs 6 ARG/ENV list size in 4K byte blocks True


cpan[10]&gt; clean PAR::Packer
Running clean for module &#39;PAR::Packer&#39;
Running make clean
  make clean already called once

cpan[11]&gt; make PAR::Packer
Running make for module &#39;PAR::Packer&#39;
  RSCHUPP/PAR-Packer-1.018.tar.gz
  Has already been unwrapped into directory /home/root/.cpan/build/PAR-Packer-1.018-O72JX7
Configuring R/RS/RSCHUPP/PAR-Packer-1.018.tar.gz with Makefile.PL
*** You have extra Perl library paths set in your environment.
    Please note that these paths &#40;set with PERL5LIB or PERLLIB&#41;
    are not honored by perl when running under taint mode, which
    may lead to problems. This is a limitation &#40;by design&#41; of
    Perl, not of PAR::Packer; but some of the problems may
    manifest here during installation.
Checking if your kit is complete...
Looks good
Prototype mismatch: sub main::prompt: none vs &#40;$;$&#41; at /usr/opt/perl5/lib/5.20.0/ExtUtils/MakeMaker.pm line 221.
Generating a Unix-style Makefile
Writing Makefile for par
Writing MYMETA.yml and MYMETA.json
Generating a Unix-style Makefile
Writing Makefile for PAR::Packer
Writing MYMETA.yml and MYMETA.json
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/opt/perl5/bin/perl Makefile.PL -- OK
Running make for R/RS/RSCHUPP/PAR-Packer-1.018.tar.gz
cp lib/PAR/Filter/Obfuscate.pm blib/lib/PAR/Filter/Obfuscate.pm
cp lib/PAR/Filter.pm blib/lib/PAR/Filter.pm
cp lib/PAR/Filter/PodStrip.pm blib/lib/PAR/Filter/PodStrip.pm
cp lib/PAR/Filter/PatchContent.pm blib/lib/PAR/Filter/PatchContent.pm
cp lib/PAR/Packer.pm blib/lib/PAR/Packer.pm
cp lib/PAR/StrippedPARL/Base.pm blib/lib/PAR/StrippedPARL/Base.pm
cp lib/pp.pm blib/lib/pp.pm
cp lib/PAR/Filter/Bleach.pm blib/lib/PAR/Filter/Bleach.pm
cp lib/PAR/Filter/Bytecode.pm blib/lib/PAR/Filter/Bytecode.pm
cp lib/App/Packer/PAR.pm blib/lib/App/Packer/PAR.pm
make[1]: Entering directory &#39;/home/root/.cpan/build/PAR-Packer-1.018-O72JX7/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:334: warning: ignoring old recipe for target &#39;.c.o&#39;
/usr/opt/perl5/bin/perl par_pl2c.pl my_par_pl &lt; ../script/par.pl &gt; my_par_pl.c
/usr/opt/perl5/bin/perl sha1.c.PL
cc_r -q32 -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -I/usr/local/include -q32 -D_LARGE_FILES  -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O main.c
&#34;main.c&#34;, line 121.23: 1506-068 &#40;W&#41; Operation between types &#34;char*&#34; and &#34;const char*&#34; is not allowed.
cc_r -q32 main.o  -bE:/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/perl.exp  -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000  -L/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE -lperl -lbind -lnsl -ldl -lld -lm -lcrypt -lpthreads -lc  -o ./par
true
/usr/opt/perl5/bin/perl encode_append.pl Dynamic.in ./par Dynamic.pm
/usr/opt/perl5/bin/perl ./file2c.pl -c 30000 ./par /usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/libperl.a &gt; boot_embedded_files.c
cc_r -q32 -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -I/usr/local/include -q32 -D_LARGE_FILES  -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O boot.c
cc_r -q32 boot.o   -bE:/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/perl.exp  -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000  -L/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE -lbind -lnsl -ldl -lld -lm -lcrypt -lpthreads -lc   -o ./boot
ld: 0711-319 WARNING: Exported symbol not defined: ASCII_TO_NEED
ld: 0711-319 WARNING: Exported symbol not defined: boot_DynaLoader
ld: 0711-319 WARNING: Exported symbol not defined: NATIVE_TO_NEED
ld: 0711-319 WARNING: Exported symbol not defined: Perl__add_range_to_invlist
ld: 0711-319 WARNING: Exported symbol not defined: Perl__core_swash_init
...
...
...
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_nosemi
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_reserved
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_uninit
ld: 0711-319 WARNING: Exported symbol not defined: PL_Yes
true
/usr/opt/perl5/bin/perl encode_append.pl Static.in ./boot Static.pm
cp Static.pm ../blib/lib/PAR/StrippedPARL/Static.pm
cp Dynamic.pm ../blib/lib/PAR/StrippedPARL/Dynamic.pm
/usr/opt/perl5/bin/perl -Mblib=.. run_with_inc.pl ./boot -q -B -Oparl
cp parl ../blib/script/parl
true ../blib/script/parl
/usr/opt/perl5/bin/perl -Mblib=.. run_with_inc.pl ./par -q -B -Oparldyn
./par: execution of ./par failed &#40;errno=-1&#41;
BEGIN failed--compilation aborted at -e line 965.
system&#40;./par -I../blib/arch -I../blib/lib -I/usr/opt/perl5/lib/site_perl/5.20.0/aix-thread-multi -I/usr/opt/perl5/lib/site_perl/5.20.0 -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi -I/usr/opt/perl5/lib/5.20.0 -I/usr/opt/perl5/lib/site_perl/5.18.2 -I/usr/opt/perl5/lib/site_perl/5.12.2 -I/usr/opt/perl5/lib/site_perl/5.12.1 -I/usr/opt/perl5/lib/site_perl/5.8.8 -I/usr/opt/perl5/lib/site_perl/5.8.2 -I/usr/opt/perl5/lib/site_perl -I. -q -B -Oparldyn&#41; failed:
Makefile:801: recipe for target &#39;parldyn&#39; failed
make[1]: *** [parldyn] Error 7
make[1]: Leaving directory &#39;/home/root/.cpan/build/PAR-Packer-1.018-O72JX7/myldr&#39;
Makefile:607: recipe for target &#39;subdirs&#39; failed
make: *** [subdirs] Error 2
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/bin/make -- NOT OK
Failed during this command:
 RSCHUPP/PAR-Packer-1.018.tar.gz              : make NO


../PAR-Packer-1.018&gt; chdev -l sys0 -a ncargs=7
sys0 changed
../PAR-Packer-1.018&gt; lsattr -E -l sys0 -a ncargs
ncargs 7 ARG/ENV list size in 4K byte blocks True
../PAR-Packer-1.018&gt; cpan

cpan[1]&gt; clean PAR::Packer
Reading &#39;/home/root/.cpan/Metadata&#39;
  Database was generated on Tue, 03 Jun 2014 04:29:02 GMT
Running clean for module &#39;PAR::Packer&#39;
Running make clean
...

cpan[2]&gt; make PAR::Packer
...
...
Manifying blib/man3/PAR::StrippedPARL::Base.3
Manifying blib/man3/pp.3
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/bin/make -- OK



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Ursprüngliche Nachricht-----
Von: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Gesendet: Mittwoch, 28. Mai 2014 16:20
An: Reisinger Emanuel
Betreff: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59224">https://rt.cpan.org/Ticket/Display.html?id=59224</a></span> &gt;

On 2014-05-28 05:53:59, Emanuel.Reisinger@imtech-logistics.com wrote:
<div class="message-stanza open">&gt; Can this ncargs requirement really not be avoided by the distribution?
&gt; It was not a problem during earlier PAR::Packer distributions I built
&gt; &#40;at least 0.970, possibly 0.976&#41;.
</div>
Well script/par.pl went from 26536 bytes in PAR::Packer 0.970 to
29466 bytes in 1.018. Not much, but apparently enough to hit the 
limited argv space in AIX.

Can you try the patch below which shrinks the infamous fakeargv[2]
by about 8k.

Cheers, Roderich

Index: myldr/par_pl2c.pl
===================================================================
--- myldr/par_pl2c.pl   &#40;revision 1461&#41;
+++ myldr/par_pl2c.pl   &#40;working copy&#41;
@@ -13,6 +13,8 @@
 print &#34;const char *$var =\n&#34;;
 foreach &#40;split&#40;/\n/, $slurp&#41;&#41;
 {
+    s/^\s*|\s*$//g;             # strip leading and trailing whitespace
+    next if /^#|^$/;            # skip comment and empty lines
     s/&#40;[&#34;\\]&#41;/\\$1/g;           # escape quotes and backslashes
     print qq[&#34;$_\\n&#34;\n];
 }

</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1371454" href="/Public/Bug/Display.html?id=59224#txn-1371454">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;06:31:33&nbsp;2014</span>
    <span class="description">Emanuel.Reisinger [...] imtech-logistics.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 3 Jun 2014 10:31:07 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Reisinger Emanuel &lt;Emanuel.Reisinger [...] imtech-logistics.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1371454/728207/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/728207">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 7.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, forget my last mail. Your patch worked with sys0 ncargs=6 on AIX!
I&#39;ve applied the patch in the wrong .cpan/build/PAR-Packer-1.018-XYZ directory.

BR
Emanuel

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Ursprüngliche Nachricht-----
Von: Reisinger Emanuel via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Gesendet: Dienstag, 3. Juni 2014 12:18
An: Reisinger Emanuel
Betreff: AW: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59224">https://rt.cpan.org/Ticket/Display.html?id=59224</a></span> &gt;

I&#39;ve tried the patch, but I couldn&#39;t apply it. 

../PAR-Packer-1.018&gt; svn patch par_pl2c.patch
Skipped missing target: &#39;myldr/par_pl2c.pl   &#40;working copy&#41;&#39;
Summary of conflicts:
  Skipped paths: 1

So I added the two lines manually and it doesn&#39;t worked.

BR
Emanuel


../PAR-Packer-1.018&gt; lsattr -E -l sys0 -a ncargs
ncargs 6 ARG/ENV list size in 4K byte blocks True


cpan[10]&gt; clean PAR::Packer
Running clean for module &#39;PAR::Packer&#39;
Running make clean
  make clean already called once

cpan[11]&gt; make PAR::Packer
Running make for module &#39;PAR::Packer&#39;
  RSCHUPP/PAR-Packer-1.018.tar.gz
  Has already been unwrapped into directory /home/root/.cpan/build/PAR-Packer-1.018-O72JX7
Configuring R/RS/RSCHUPP/PAR-Packer-1.018.tar.gz with Makefile.PL
*** You have extra Perl library paths set in your environment.
    Please note that these paths &#40;set with PERL5LIB or PERLLIB&#41;
    are not honored by perl when running under taint mode, which
    may lead to problems. This is a limitation &#40;by design&#41; of
    Perl, not of PAR::Packer; but some of the problems may
    manifest here during installation.
Checking if your kit is complete...
Looks good
Prototype mismatch: sub main::prompt: none vs &#40;$;$&#41; at /usr/opt/perl5/lib/5.20.0/ExtUtils/MakeMaker.pm line 221.
Generating a Unix-style Makefile
Writing Makefile for par
Writing MYMETA.yml and MYMETA.json
Generating a Unix-style Makefile
Writing Makefile for PAR::Packer
Writing MYMETA.yml and MYMETA.json
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/opt/perl5/bin/perl Makefile.PL -- OK
Running make for R/RS/RSCHUPP/PAR-Packer-1.018.tar.gz
cp lib/PAR/Filter/Obfuscate.pm blib/lib/PAR/Filter/Obfuscate.pm
cp lib/PAR/Filter.pm blib/lib/PAR/Filter.pm
cp lib/PAR/Filter/PodStrip.pm blib/lib/PAR/Filter/PodStrip.pm
cp lib/PAR/Filter/PatchContent.pm blib/lib/PAR/Filter/PatchContent.pm
cp lib/PAR/Packer.pm blib/lib/PAR/Packer.pm
cp lib/PAR/StrippedPARL/Base.pm blib/lib/PAR/StrippedPARL/Base.pm
cp lib/pp.pm blib/lib/pp.pm
cp lib/PAR/Filter/Bleach.pm blib/lib/PAR/Filter/Bleach.pm
cp lib/PAR/Filter/Bytecode.pm blib/lib/PAR/Filter/Bytecode.pm
cp lib/App/Packer/PAR.pm blib/lib/App/Packer/PAR.pm
make[1]: Entering directory &#39;/home/root/.cpan/build/PAR-Packer-1.018-O72JX7/myldr&#39;
Makefile:755: warning: overriding recipe for target &#39;.c.o&#39;
Makefile:334: warning: ignoring old recipe for target &#39;.c.o&#39;
/usr/opt/perl5/bin/perl par_pl2c.pl my_par_pl &lt; ../script/par.pl &gt; my_par_pl.c
/usr/opt/perl5/bin/perl sha1.c.PL
cc_r -q32 -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -I/usr/local/include -q32 -D_LARGE_FILES  -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O main.c
&#34;main.c&#34;, line 121.23: 1506-068 &#40;W&#41; Operation between types &#34;char*&#34; and &#34;const char*&#34; is not allowed.
cc_r -q32 main.o  -bE:/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/perl.exp  -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000  -L/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE -lperl -lbind -lnsl -ldl -lld -lm -lcrypt -lpthreads -lc  -o ./par
true
/usr/opt/perl5/bin/perl encode_append.pl Dynamic.in ./par Dynamic.pm
/usr/opt/perl5/bin/perl ./file2c.pl -c 30000 ./par /usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/libperl.a &gt; boot_embedded_files.c
cc_r -q32 -c -D_ALL_SOURCE -D_ANSI_C_SOURCE -D_POSIX_SOURCE -qmaxmem=-1 -qnoansialias -qlanglvl=extc99 -DUSE_NATIVE_DLOPEN -DNEED_PTHREAD_INIT -I/usr/local/include -q32 -D_LARGE_FILES  -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE  -DPARL_EXE=\&#34;parl\&#34; -O boot.c
cc_r -q32 boot.o   -bE:/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE/perl.exp  -brtl -bdynamic -L/usr/local/lib -b32 -bmaxdata:0x80000000  -L/usr/opt/perl5/lib/5.20.0/aix-thread-multi/CORE -lbind -lnsl -ldl -lld -lm -lcrypt -lpthreads -lc   -o ./boot
ld: 0711-319 WARNING: Exported symbol not defined: ASCII_TO_NEED
ld: 0711-319 WARNING: Exported symbol not defined: boot_DynaLoader
ld: 0711-319 WARNING: Exported symbol not defined: NATIVE_TO_NEED
ld: 0711-319 WARNING: Exported symbol not defined: Perl__add_range_to_invlist
ld: 0711-319 WARNING: Exported symbol not defined: Perl__core_swash_init
...
...
...
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_nosemi
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_reserved
ld: 0711-319 WARNING: Exported symbol not defined: PL_warn_uninit
ld: 0711-319 WARNING: Exported symbol not defined: PL_Yes
true
/usr/opt/perl5/bin/perl encode_append.pl Static.in ./boot Static.pm
cp Static.pm ../blib/lib/PAR/StrippedPARL/Static.pm
cp Dynamic.pm ../blib/lib/PAR/StrippedPARL/Dynamic.pm
/usr/opt/perl5/bin/perl -Mblib=.. run_with_inc.pl ./boot -q -B -Oparl
cp parl ../blib/script/parl
true ../blib/script/parl
/usr/opt/perl5/bin/perl -Mblib=.. run_with_inc.pl ./par -q -B -Oparldyn
./par: execution of ./par failed &#40;errno=-1&#41;
BEGIN failed--compilation aborted at -e line 965.
system&#40;./par -I../blib/arch -I../blib/lib -I/usr/opt/perl5/lib/site_perl/5.20.0/aix-thread-multi -I/usr/opt/perl5/lib/site_perl/5.20.0 -I/usr/opt/perl5/lib/5.20.0/aix-thread-multi -I/usr/opt/perl5/lib/5.20.0 -I/usr/opt/perl5/lib/site_perl/5.18.2 -I/usr/opt/perl5/lib/site_perl/5.12.2 -I/usr/opt/perl5/lib/site_perl/5.12.1 -I/usr/opt/perl5/lib/site_perl/5.8.8 -I/usr/opt/perl5/lib/site_perl/5.8.2 -I/usr/opt/perl5/lib/site_perl -I. -q -B -Oparldyn&#41; failed:
Makefile:801: recipe for target &#39;parldyn&#39; failed
make[1]: *** [parldyn] Error 7
make[1]: Leaving directory &#39;/home/root/.cpan/build/PAR-Packer-1.018-O72JX7/myldr&#39;
Makefile:607: recipe for target &#39;subdirs&#39; failed
make: *** [subdirs] Error 2
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/bin/make -- NOT OK
Failed during this command:
 RSCHUPP/PAR-Packer-1.018.tar.gz              : make NO


../PAR-Packer-1.018&gt; chdev -l sys0 -a ncargs=7
sys0 changed
../PAR-Packer-1.018&gt; lsattr -E -l sys0 -a ncargs
ncargs 7 ARG/ENV list size in 4K byte blocks True
../PAR-Packer-1.018&gt; cpan

cpan[1]&gt; clean PAR::Packer
Reading &#39;/home/root/.cpan/Metadata&#39;
  Database was generated on Tue, 03 Jun 2014 04:29:02 GMT
Running clean for module &#39;PAR::Packer&#39;
Running make clean
...

cpan[2]&gt; make PAR::Packer
...
...
Manifying blib/man3/PAR::StrippedPARL::Base.3
Manifying blib/man3/pp.3
  RSCHUPP/PAR-Packer-1.018.tar.gz
  /usr/bin/make -- OK



<div class="message-stanza open">-----Ursprüngliche Nachricht-----
Von: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Gesendet: Mittwoch, 28. Mai 2014 16:20
An: Reisinger Emanuel
Betreff: [rt.cpan.org #59224] make error with version 1.006 on aix 5.3

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=59224">https://rt.cpan.org/Ticket/Display.html?id=59224</a></span> &gt;

On 2014-05-28 05:53:59, Emanuel.Reisinger@imtech-logistics.com wrote:
<div class="message-stanza open">&gt; Can this ncargs requirement really not be avoided by the distribution?
&gt; It was not a problem during earlier PAR::Packer distributions I built
&gt; &#40;at least 0.970, possibly 0.976&#41;.
</div>
Well script/par.pl went from 26536 bytes in PAR::Packer 0.970 to
29466 bytes in 1.018. Not much, but apparently enough to hit the 
limited argv space in AIX.

Can you try the patch below which shrinks the infamous fakeargv[2]
by about 8k.

Cheers, Roderich

Index: myldr/par_pl2c.pl
===================================================================
--- myldr/par_pl2c.pl   &#40;revision 1461&#41;
+++ myldr/par_pl2c.pl   &#40;working copy&#41;
@@ -13,6 +13,8 @@
 print &#34;const char *$var =\n&#34;;
 foreach &#40;split&#40;/\n/, $slurp&#41;&#41;
 {
+    s/^\s*|\s*$//g;             # strip leading and trailing whitespace
+    next if /^#|^$/;            # skip comment and empty lines
     s/&#40;[&#34;\\]&#41;/\\$1/g;           # escape quotes and backslashes
     print qq[&#34;$_\\n&#34;\n];
 }


</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1371458" href="/Public/Bug/Display.html?id=59224#txn-1371458">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;06:54:51&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1371458/728211/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/728211">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 274b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-06-03 06:31:33, Emanuel.Reisinger@imtech-logistics.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry, forget my last mail. Your patch worked with sys0 ncargs=6 on
&gt; AIX!
</div>
Good news :&#41;
I&#39;ve committed the above patch, will be in the next release of PAR::Packer.
Thanks for testing.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1371462" href="/Public/Bug/Display.html?id=59224#txn-1371462">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;03&nbsp;06:54:55&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.826703</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
