<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #4545 for ExtUtils-MakeMaker: MakeMaker in Win32 makes bad Makefile if PREFIX not set</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #4545 for ExtUtils-MakeMaker: MakeMaker in Win32 makes bad Makefile if PREFIX not set</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-MakeMaker/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-MakeMaker">ExtUtils-MakeMaker CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">4545</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">10 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-MakeMaker/Active/">ExtUtils-MakeMaker</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
sidney [...] sidney.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-12494-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
6.21    </td>
  </tr>
  <tr id="CF-12495-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;02&nbsp;17:15:30&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This bug breaks the install of SpamAssassin under Windows unless there is an explicit PREFIX=something on the perl Makefile.PL command line.

Using ActivePerl 5.6.1 and ActivePerl 5.8.1 under Windows XP both produce the same results. Perl is installed in C:\Perl directory. C:\Perl\bin is in the path.

This works with MakeMaker 5.45, is broken in Makemaker 6.05 and in 6.21. I didn&#39;t test other versions.

I used the Makefile.PL from the latest CVS version of SpamAssassin, available at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.spamassassin.org">http://www.spamassassin.org</a></span>

If run perl Makefile.PL without specifying PREFIX=something, the generated Makefile contains the following correct lines when using MakeMaker 5.45:

PREFIX = C:\Perl
PERLPREFIX = $&#40;PREFIX&#41;
SITEPREFIX = $&#40;PREFIX&#41;

But with MakeMaker 6.05 and with 6.21, it contains the following lines:

PREFIX = $&#40;SITEPREFIX&#41;
PERLPREFIX = C:\Perl
SITEPREFIX = C:\Perl\site

which breaks everything because $&#40;SITEPREFIX&#41; is not yet defined when it is used. Besides, that&#39;s the wrong default for PREFIX. According to the perldoc it is supposed to default to installprefix.

If I run perl -V:installprefix I get
 C:\Perl

I&#39;m not in a position to determine if this is really the same as bug #3275, but the strange errors that result from PREFIX being set weird look similar and are misleading.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;02&nbsp;23:15:09&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was playing with Net::DNS and found that perl Makefile.PL without any
PREFIX=something produces the same erroneous PREFIX=$&#40;SITEPREFIX&#41; line.

So this should be pretty easy to reproduce. The effect on trying to make
the resulting Makefile may vary, but the bug can be seen by looking for
the PREFIX = line in the generated Makefile.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;03&nbsp;02:46:24&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 2 Dec 2003 23:46:16 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #4545&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #4545] MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Dec 02, 2003 at 05:15:30PM -0500, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If run perl Makefile.PL without specifying PREFIX=something, the generated Makefile contains the following correct lines when using MakeMaker 5.45:
&gt; 
&gt; PREFIX = C:\Perl
&gt; PERLPREFIX = $&#40;PREFIX&#41;
&gt; SITEPREFIX = $&#40;PREFIX&#41;
&gt; 
&gt; But with MakeMaker 6.05 and with 6.21, it contains the following lines:
&gt; 
&gt; PREFIX = $&#40;SITEPREFIX&#41;
&gt; PERLPREFIX = C:\Perl
&gt; SITEPREFIX = C:\Perl\site
&gt; 
&gt; which breaks everything because $&#40;SITEPREFIX&#41; is not yet defined when it is used. 
</div>
That looks correct.  make should be able to handle that.  What make are you 
using?  How does this break?  Can you check that by throwing something like 
this into your Makefile.PL:

sub postamble {
    return q{
print_prefix:
        @echo $&#40;PREFIX&#41;
};
}

And trying &#39;make print_prefix&#39;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Besides, that&#39;s the wrong default for PREFIX. According to the perldoc it is supposed to default to installprefix.
</div>
The meaning of PREFIX has changed a bit.  Previously it was *both* 
installprefix and the user set prefix.  This caused maintenance headaches.

To simplify matters its now just the user set prefix.  PERLPREFIX, 
SITEPREFIX and VENDORPREFIX represent installprefix, installsiteprefix and 
installvendorprefix.  If the user sets no PREFIX it defaults to
whatever makes sense according to INSTALLDIRS.


-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
Home of da bomb
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;03&nbsp;12:42:02&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[schwern@pobox.com - Wed Dec  3 02:46:24 2003]:

Ah, it didn&#39;t occur to me that make would work with what looked like the
variable being used before it is initialized, so I thought that was the
problem. Adding the printout shows that PREFIX is fine. Using nmake
under Win32 SpamAssassin definitely doesn&#39;t make using MakeMaker 6.05 or
later, but now I have to track down the real reason and modify this bug
report or submit one to SpamAssassin depending on the cause. Sorry about
the false report.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;03&nbsp;13:22:32&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 3 Dec 2003 10:22:26 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #4545&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #4545] MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Dec 03, 2003 at 12:42:03PM -0500, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ah, it didn&#39;t occur to me that make would work with what looked like the
&gt; variable being used before it is initialized, so I thought that was the
&gt; problem. Adding the printout shows that PREFIX is fine. Using nmake
&gt; under Win32 SpamAssassin definitely doesn&#39;t make using MakeMaker 6.05 or
&gt; later, but now I have to track down the real reason and modify this bug
&gt; report or submit one to SpamAssassin depending on the cause. Sorry about
&gt; the false report.
</div>
SpamAssassin does some dirty things inside MakeMaker, so I suspect its
something in its Makefile.PL hackery.

So what exactly *is* the bug?


-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
Nature is pissed.
        <span class="clickylink"><a target="new" rel="nofollow" href="http://www.unamerican.com/">http://www.unamerican.com/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;03&nbsp;14:59:59&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[schwern@pobox.com - Wed Dec  3 13:22:32 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So what exactly *is* the bug?
</div>
Well, it really looks like it is, as you said, inside the SpamAssassin
Makefile.PL hackery, which is off topic for a bug report here, but since
you asked...

Under Windows XP, with the current CVS version of SpamAssassin, using
ActivePerl 5.6.1 with MakeMaker 6.05 or greater installed &#40;it ships with
5.45&#41;, or using ActivePerl 5.8.1 with MakeMaker 6.05 0r 6.21, and using
nmake:

1&#41; I found that I have to do this after playing around with it to be
sure to reproduce the bug:

nmake realclean

2&#41; Then

  perl Makefile.PL
  nmake

produces a lot of errors, starting with

C:\spamassassin&gt;nmake

Microsoft &#40;R&#41; Program Maintenance Utility   Version 1.50
Copyright &#40;c&#41; Microsoft Corp 1988-94. All rights reserved.

Bareword found where operator expected at -e line 1, near &#34;&#41; lib&#34;
        &#40;Missing operator before lib?&#41;
Backslash found where operator expected at -e line 1, near &#34;lib\&#34;
Backslash found where operator expected at -e line 1, near &#34;Mail\&#34;
Backslash found where operator expected at -e line 1, near &#34;SpamAssassin\&#34;
Bareword found where operator expected at -e line 1, near
&#34;/Mail/SpamAssassin&#34;
        &#40;Missing operator before SpamAssassin?&#41;
Backslash found where operator expected at -e line 1, near &#34;lib\&#34;
 [...]

Looking at the Makefile it all seems be related to the PM_FILTER
variable, which in Makefile.PL is set with

    &#39;PM_FILTER&#39; =&gt; &#39;$&#40;PREPROCESS&#41; -Mconditional -Mvars
-DVERSION=&#34;$&#40;VERSION&#41;&#34; -DPREFIX=&#34;$&#40;I_PREFIX&#41;&#34;&#39;,


In the Makefile it is used in two places, both which produce errors the
same way. The first one starts out like this:

    $&#40;NOECHO&#41; $&#40;PERLRUN&#41; -MExtUtils::Install -e &#34;pm_to_blib&#40;{@ARGV},
&#39;$&#40;INST_LIB&#41;\auto&#39;, &#39;$&#40;PM_FILTER&#41;&#39;&#41;&#34; \
      lib/Mail/SpamAssassin/Replier.pm
blib\lib\Mail\SpamAssassin\Replier.pm \


If I change $&#40;NOECHO&#41; to $&#40;ECHO&#41; where PM_FILTER is used, I can see the
messed up result that is causing the errors:

C:\Perl\bin\perl.exe -MExtUtils::Install -e pm_to_blib&#40;{@ARGV},
&#39;blib\lib\auto&#39;, &#39; -Mconditional -Mvars -DVERSION=2.70 -DPREFIX=&#34;&#39;&#41;
lib/Mail/SpamAssassin/Replier.pm blib\lib\Mail\SpamAssassin\Replier.pm
lib/Mail/SpamAssassin/NetSet.pm blib\


Notice the -DPREFIX=&#34; instead of -DPREFIX=&#34;C:\Perl\Site&#34;

Ok, that&#39;s the bug but I don&#39;t have a clue about the cause. I am not an
nmake or a perl expert.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;03:40:47&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think I see the problem, but I don&#39;t understand how it works with GNU
make running under Cygwin...

This is how PM_FILTER is set in Makefile.PL
    &#39;PM_FILTER&#39; =&gt; &#39;$&#40;PREPROCESS&#41; -Mconditional -Mvars
-DVERSION=&#34;$&#40;VERSION&#41;&#34; -DPREFIX=&#34;$&#40;I_PREFIX&#41;&#34;&#39;,

In the generated Makefile, the first use of PM_FILTER is earlier than
the definition of PREPROCESS and $&#40;PMFILTER&#41; seems not to expand
properly. If I replace $&#40;PREPROCESS&#41; in the definition of PM_FILTER with
the definition of PREPROCESS, it all seems to work ok.

But this doesn&#39;t explain how it works fine under CygWin.

Looking at MakeMaker 5.45 under Win32, I don&#39;t see any place in the
generated Makefile where PM_FILTER is ever defined. How is it supposed
to work if it is not defined in the Makefile?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;15:39:24&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I found the cause of the problem. You can see it if you create a
makefile containing just the following:

testtarg:
        @echo foo1 $&#40;FOO1&#41; foo1

FOO1 = &#34;This is foo1 text&#34;

If you use GNU make testtarg it outputs

foo1 This is foo1 text foo1

But if you use nmake testtarg under Windows you get

foo1 foo1

In other words, nmake requires a variable to be set earlier in the
makefile than the first target that refers to it, while GNU make seems
to process the entire makefile first, defining the variables, then
processes the targets. To maintain portability to nmake you can&#39;t use
GNU make&#39;s ability to define variables after the target.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;16:44:51&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 4 Dec 2003 13:44:44 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #4545&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #4545] MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed, Dec 03, 2003 at 03:00:00PM -0500, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looking at the Makefile it all seems be related to the PM_FILTER
&gt; variable, which in Makefile.PL is set with
&gt; 
&gt;     &#39;PM_FILTER&#39; =&gt; &#39;$&#40;PREPROCESS&#41; -Mconditional -Mvars
&gt; -DVERSION=&#34;$&#40;VERSION&#41;&#34; -DPREFIX=&#34;$&#40;I_PREFIX&#41;&#34;&#39;,
&gt; 
&gt; In the Makefile it is used in two places, both which produce errors the
&gt; same way. The first one starts out like this:
&gt; 
&gt;     $&#40;NOECHO&#41; $&#40;PERLRUN&#41; -MExtUtils::Install -e &#34;pm_to_blib&#40;{@ARGV},
&gt; &#39;$&#40;INST_LIB&#41;\auto&#39;, &#39;$&#40;PM_FILTER&#41;&#39;&#41;&#34; \
&gt;       lib/Mail/SpamAssassin/Replier.pm
&gt; blib\lib\Mail\SpamAssassin\Replier.pm \
&gt; 
&gt; 
&gt; If I change $&#40;NOECHO&#41; to $&#40;ECHO&#41; where PM_FILTER is used, I can see the
&gt; messed up result that is causing the errors:
&gt; 
&gt; C:\Perl\bin\perl.exe -MExtUtils::Install -e pm_to_blib&#40;{@ARGV},
&gt; &#39;blib\lib\auto&#39;, &#39; -Mconditional -Mvars -DVERSION=2.70 -DPREFIX=&#34;&#39;&#41;
&gt; lib/Mail/SpamAssassin/Replier.pm blib\lib\Mail\SpamAssassin\Replier.pm
&gt; lib/Mail/SpamAssassin/NetSet.pm blib\
&gt; 
&gt; Notice the -DPREFIX=&#34; instead of -DPREFIX=&#34;C:\Perl\Site&#34;
</div>
Hmm.  That shouldn&#39;t happen.  Something&#39;s gone wrong with the quoting
rules.  The double quotes before pm_to_blib and the trailing one 
disappeared along with the value of $&#40;I_PREFIX&#41;.  Could you show 
me what I_PREFIX is set to the in Makefile?


-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
I need a SHOWER a BURGER and some ROBOTS, STAT!
        -- <span class="clickylink"><a target="new" rel="nofollow" href="http://www.angryflower.com/allrigh.gif">http://www.angryflower.com/allrigh.gif</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;16:54:15&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[schwern@pobox.com - Thu Dec  4 16:44:51 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Could you show
&gt; me what I_PREFIX is set to the in Makefile?
</div>
That seems to be it... Both PREPROCESS and I_PREFIX are set in code that
is generated by postamble, and so comes after the pm_to_blib section
where PM_FILTER is first used. That is fine in GNU make, but with nmake
it results in PREPROCESS and I_PREFIX both being empty when PM_FILTER is
expanded.

I moved the PREPROCESS and I_PREFIX definitions into the constants
section and it worked fine.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;17:03:01&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 4 Dec 2003 14:02:21 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #4545&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #4545] MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 04, 2003 at 03:40:47AM -0500, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looking at MakeMaker 5.45 under Win32, I don&#39;t see any place in the
&gt; generated Makefile where PM_FILTER is ever defined. How is it supposed
&gt; to work if it is not defined in the Makefile?
</div>
If the Makefile.PL doesn&#39;t define a PM_FILTER there won&#39;t be one.  An
undefined make variable simply defaults to an empty string.

Anyhow, the SA Makefile.PL says this:

# MakeMaker prior to 5.46 doesn&#39;t support PM_FILTER, so we have to
# implement it ourselves. Also bear in mind that MakeMaker &#40;5.45&#41; from
# Perl 5.6.1 supports that option while the one from 5.6.0 doesn&#39;t; they
# do have the same version though! See bug 1652.
$mm_has_pm_filter    = $mm_version &gt;  5.45 || &#40;$mm_version == 5.45 &#38;&#38; $] &gt; 5.006
&#41;;

So if you&#39;re using Perl 5.6.0 it doesn&#39;t have PM_FILTER and SA works around
it.


-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
michael schwern is not
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;17:34:16&nbsp;2003</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 4 Dec 2003 14:34:08 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Guest via RT &lt;bug-ExtUtils-MakeMaker [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;AdminCc of cpan Ticket #4545&#34;: ;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [cpan #4545] MakeMaker in Win32 makes bad Makefile if PREFIX not set</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">RT-Send-Cc:</td>
    <td class="message-header-value"> </td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu, Dec 04, 2003 at 03:39:25PM -0500, Guest via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In other words, nmake requires a variable to be set earlier in the
&gt; makefile than the first target that refers to it, while GNU make seems
&gt; to process the entire makefile first, defining the variables, then
&gt; processes the targets. To maintain portability to nmake you can&#39;t use
&gt; GNU make&#39;s ability to define variables after the target.
</div>
&lt;grumble&gt; Bloody one pass make implementations. &lt;/grumble&gt;


-- 
Michael G Schwern        schwern@pobox.com  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.pobox.com/~schwern/">http://www.pobox.com/~schwern/</a></span>
&lt;mendel&gt;         ScHWeRnsChweRN    sChWErN   SchweRN  SCHWErNSChwERnsCHwERN    
  sChWErn  ScHWeRn      schweRn           sCHWErN           schWeRn    scHWeRN 
   SchWeRN      scHWErn SchwErn       scHWErn       ScHweRN       sChwern      
scHWerN        scHWeRn           scHWerN        ScHwerN       SChWeRN scHWeRn  
        SchwERNschwERn        SCHwern  sCHWErN   SCHWErN           sChWeRn 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;04&nbsp;17:44:02&nbsp;2003</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> sidney [...] sidney.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[schwern@pobox.com - Thu Dec  4 17:03:01 2003]: 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; # MakeMaker prior to 5.46 doesn&#39;t support PM_FILTER, so we have to
&gt; # implement it ourselves.
</div>
I see what&#39;s going on. That was taken out of the CVS version about two
months ago. There is no longer support for versions that don&#39;t have
PM_FILTER.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Also bear in mind that MakeMaker &#40;5.45&#41; from
&gt; # Perl 5.6.1 supports that option while the one from 5.6.0 doesn&#39;t
</div>
It&#39;s worse than that. I was trying to test using ActivePerl 5.6.1 &#40;under
Windows&#41;, which ships with MakeMaker 5.45. Looking at the MakeMaker
code, the generation of the definition of PM_FILTER is in the constants
sub in MM_Unix.pm, but is not in the constants sub &#40;or anywhere else&#41; in
MM_Win32.pm. That is consistent with what I am seeing, that PM_FILTER is
not defined in ActivePerl 5.6.1 with MakeMaker 5.45.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; $mm_has_pm_filter    = $mm_version &gt;  5.45 || &#40;$mm_version == 5.45 &#38;&#38;
&gt; $] &gt; 5.006
&gt; &#41;;
</div>
That explains why the above code did not work in &#40;Windows&#41; ActivePerl
5.6.1. But in any case the code no longer exists, leaving ActivePerl
5.6.1 still not working without an upgrade to a MakeMaker version with
PM_FILTER.

I think all the problems I was wrestling with are now identified:
MakeMaker 5.45 doesn&#39;t have PM_FILTER in the Windows version, and
Makefile.PL in SpamAssassin defines PREPROCESS and I_PREFIX too early
for nmake but not a problem for GNU make.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;20:02:43&nbsp;2004</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Thu Dec  4 17:44:02 2003]:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think all the problems I was wrestling with are now identified:
&gt; MakeMaker 5.45 doesn&#39;t have PM_FILTER in the Windows version, and
&gt; Makefile.PL in SpamAssassin defines PREPROCESS and I_PREFIX too early
&gt; for nmake but not a problem for GNU make.
</div>
It looks like PREPROCESS and I_PREFIX are still getting set too late.

I&#39;m going to correct this by setting PM_FILTER as late as possible,
at the end of the tools_other section.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;20:04:34&nbsp;2004</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[MSCHWERN - Sat Dec 18 20:02:43 2004]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [guest - Thu Dec  4 17:44:02 2003]:
<div class="message-stanza open">&gt; &gt; I think all the problems I was wrestling with are now identified:
&gt; &gt; MakeMaker 5.45 doesn&#39;t have PM_FILTER in the Windows version, and
&gt; &gt; Makefile.PL in SpamAssassin defines PREPROCESS and I_PREFIX too early
&gt; &gt; for nmake but not a problem for GNU make.
</div>&gt; 
&gt; It looks like PREPROCESS and I_PREFIX are still getting set too late.
&gt; 
&gt; I&#39;m going to correct this by setting PM_FILTER as late as possible,
&gt; at the end of the tools_other section.
</div>
PS  Try out the latest snapshot available from makemaker.org and let me
know.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.makemaker.org/">http://www.makemaker.org/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;18&nbsp;21:01:44&nbsp;2004</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;11&nbsp;16:28:14&nbsp;2006</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Are you still having this problem on recent MakeMakers?  Specificly
6.30_04 which is the latest alpha.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;11&nbsp;16:28:15&nbsp;2006</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;11&nbsp;16:28:29&nbsp;2006</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:04:28&nbsp;2013</span>
    <span class="description">BINGOS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This ticket is 7 years old.

Assuming that the issue has been resolved.

Many thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:04:28&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;28&nbsp;17:04:29&nbsp;2013</span>
    <span class="description">BINGOS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
