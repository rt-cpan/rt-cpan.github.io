<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #55128 for Mail-SNCF: Fixes for CPAN Testers FAIL reports &#40;&#38; doc fixes&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #55128 for Mail-SNCF: Fixes for CPAN Testers FAIL reports &#40;&#38; doc fixes&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Mail-SNCF/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Mail-SNCF/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Mail-SNCF/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Mail-SNCF/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mail-SNCF">Mail-SNCF CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">55128</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Mail-SNCF/Active/">Mail-SNCF</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
BARBIE [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-227130-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.02    </td>
  </tr>
  <tr id="CF-227131-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;02&nbsp;04:20:55&nbsp;2010</span>
    <span class="description">BARBIE [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fixes for CPAN Testers FAIL reports &#40;&#38; doc fixes&#41;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The CPAN Testers are currently reporting this distribution with a FAIL
due to the differing locales used when matching the dates in test
output. This patch includes fixes to ignore the date pattern, and ensure
all other text formats correctly.

In addition it also includes documentation patches, adds a missing
dependency and the includes skips for tests not required during user
installation.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mail-sncf-fixes.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Mail-SNCF/Mail-SNCF-0.02/Changes	Thu Mar 26 16:15:32 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/Changes	Mon Mar  1 17:11:31 2010
@@ -1,5 +1,13 @@
 Revision history for Mail::SNCF
 
+0.02_01 01/03/2010
+        - Changes by Barbie
+        - added missing &#39;MIME::QuotedPrint&#39; dependency.
+        - updated documentation
+        - relaxed date matching in text.t, as this can depend on locale
+        - simplified sncf-parse and added usage statement
+        - added skips for pod tests, as not required during installation.
+
 0.011   26/03
 		Now it&#39;s called Mail::SNCF instead of SNCF
--- Mail-SNCF/Mail-SNCF-0.02/lib/Mail/SNCF.pm	Thu Jun 11 10:04:14 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/lib/Mail/SNCF.pm	Mon Mar  1 13:57:27 2010
@@ -115,6 +115,10 @@
     dump&#40;$self&#41;;
 }
 
+1; # End of Mail::SNCF
+
+__END__
+
 =head1 AUTHOR
 
 Olivier Schwander, C&lt;&lt; &lt;iderrick at cpan.org&gt; &gt;&gt;
@@ -164,4 +168,3 @@
 
 =cut
--- Mail-SNCF/Mail-SNCF-0.02/lib/Mail/SNCF/ICal.pm	Thu Apr  2 08:49:43 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/lib/Mail/SNCF/ICal.pm	Mon Mar  1 14:02:03 2010
@@ -26,9 +26,9 @@
 
 This backend produces an output suitable for ICal based programs.
 
-    use Mail::SNCF;
+    use Mail::SNCF::ICal;
 
-    my $foo = Mail::SNCF::Text-&gt;parse&#40;&#34;Mail/sncf&#34;&#41;;
+    my $foo = Mail::SNCF::ICal-&gt;parse&#40;&#34;Mail/sncf&#34;&#41;;
     my $s = $foo-&gt;as_string;
     $foo-&gt;print;
 
@@ -89,6 +89,11 @@
     return $self;
 }
 
+
+1; # End of Mail::SNCF::ICal
+
+__END__
+
 =head1 AUTHOR
 
 Olivier Schwander, C&lt;&lt; &lt;iderrick at cpan.org&gt; &gt;&gt;
@@ -128,10 +133,8 @@
 
 =back
 
-
 =head1 ACKNOWLEDGEMENTS
 
-
 =head1 COPYRIGHT &#38; LICENSE
 
 Copyright 2009 Olivier Schwander, all rights reserved.
@@ -139,7 +142,4 @@
 This program is free software; you can redistribute it and/or modify it
 under the same terms as Perl itself.
 
-
 =cut
-
--- Mail-SNCF/Mail-SNCF-0.02/lib/Mail/SNCF/Remind.pm	Thu Mar 26 16:22:25 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/lib/Mail/SNCF/Remind.pm	Mon Mar  1 14:02:03 2010
@@ -25,9 +25,9 @@
 This backend produces an output suitable for remind
 &#40;L&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.roaringpenguin.com/products/remind">http://www.roaringpenguin.com/products/remind</a></span>&gt;&#41;
 
-    use Mail::SNCF;
+    use Mail::SNCF::Remind;
 
-    my $foo = Mail::SNCF::Text-&gt;parse&#40;&#34;Mail/sncf&#34;&#41;;
+    my $foo = Mail::SNCF::Remind-&gt;parse&#40;&#34;Mail/sncf&#34;&#41;;
     my $s = $foo-&gt;as_string;
     $foo-&gt;print;
 
@@ -80,6 +80,10 @@
     return $string;
 }
 
+1; # End of Mail::SNCF::Remind
+
+__END__
+
 =head1 AUTHOR
 
 Olivier Schwander, C&lt;&lt; &lt;iderrick at cpan.org&gt; &gt;&gt;
@@ -119,10 +123,8 @@
 
 =back
 
-
 =head1 ACKNOWLEDGEMENTS
 
-
 =head1 COPYRIGHT &#38; LICENSE
 
 Copyright 2009 Olivier Schwander, all rights reserved.
@@ -130,7 +132,4 @@
 This program is free software; you can redistribute it and/or modify it
 under the same terms as Perl itself.
 
-
 =cut
-
--- Mail-SNCF/Mail-SNCF-0.02/lib/Mail/SNCF/Text.pm	Thu Mar 26 16:22:28 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/lib/Mail/SNCF/Text.pm	Mon Mar  1 14:02:03 2010
@@ -24,7 +24,7 @@
 
 This backend produces a pretty text output.
 
-    use Mail::SNCF;
+    use Mail::SNCF::Text;
 
     my $foo = Mail::SNCF::Text-&gt;parse&#40;&#34;Mail/sncf&#34;&#41;;
     my $s = $foo-&gt;as_string;
@@ -79,6 +79,10 @@
     return $string;
 }
 
+1; # End of Mail::SNCF::Text
+
+__END__
+
 =head1 AUTHOR
 
 Olivier Schwander, C&lt;&lt; &lt;iderrick at cpan.org&gt; &gt;&gt;
@@ -118,10 +122,8 @@
 
 =back
 
-
 =head1 ACKNOWLEDGEMENTS
 
-
 =head1 COPYRIGHT &#38; LICENSE
 
 Copyright 2009 Olivier Schwander, all rights reserved.
@@ -129,7 +131,4 @@
 This program is free software; you can redistribute it and/or modify it
 under the same terms as Perl itself.
 
-
 =cut
-
--- Mail-SNCF/Mail-SNCF-0.02/Makefile.PL	Fri Apr 24 13:07:17 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/Makefile.PL	Mon Mar  1 13:58:54 2010
@@ -10,6 +10,7 @@
 requires       &#39;DateTime&#39;           =&gt; 0;
 requires       &#39;Email::Folder&#39;      =&gt; 0;
 requires       &#39;Data::Dump&#39;         =&gt; 0;
+requires       &#39;MIME::QuotedPrint&#39;  =&gt; 0;
 
 test_requires  &#39;Test::More&#39;         =&gt; &#39;0.42&#39;;
--- Mail-SNCF/Mail-SNCF-0.02/META.yml	Thu Jun 11 10:06:36 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/META.yml	Mon Mar  1 13:58:51 2010
@@ -24,6 +24,7 @@
   Date::ICal: 0
   DateTime: 0
   Email::Folder: 0
+  MIME::QuotedPrint: 0
 resources:
   license: <span class="clickylink"><a target="new" rel="nofollow" href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a></span>
--- Mail-SNCF/Mail-SNCF-0.02/script/sncf-parse	Thu Mar 26 16:23:38 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/script/sncf-parse	Mon Mar  1 16:21:07 2010
@@ -9,36 +9,28 @@
 use Mail::SNCF::Text;
 use Mail::SNCF::Remind;
 
-my $ical;
-my $text;
-my $remind;
-my $file;
+my &#40;$ical,$text,$remind,$file&#41;;
 
 GetOptions&#40;
     &#34;c|ical&#34;        =&gt; \$ical,
     &#34;t|text&#34;        =&gt; \$text,
     &#34;r|remind&#34;      =&gt; \$remind,
-    &#34;o|outfile=s&#34; =&gt; \$file,
-    &#41;;
+    &#34;o|outfile=s&#34;   =&gt; \$file,
+&#41; or usage&#40;&#41;;
 
 my $mailbox = shift;
 
-my $sncf;
-if &#40;$ical&#41; {
-    $sncf = Mail::SNCF::ICal-&gt;parse&#40;$mailbox&#41;;
-}
-else {
-    if &#40;$remind&#41; {
-        $sncf = Mail::SNCF::Remind-&gt;parse&#40;$mailbox&#41;;
-    }
-    else {
-        $sncf = Mail::SNCF::Text-&gt;parse&#40;$mailbox&#41;;
-    }
-}
+my $sncf =  $ical   ?   Mail::SNCF::ICal-&gt;parse&#40;$mailbox&#41;   :
+            $remind ?   Mail::SNCF::Remind-&gt;parse&#40;$mailbox&#41; :
+                        Mail::SNCF::Text-&gt;parse&#40;$mailbox&#41;;
+
 if &#40;defined&#40;$file&#41;&#41; {
     $sncf-&gt;file&#40;$file&#41;;
-}
-else {
+} else {
     $sncf-&gt;print;
 }
 
+sub usage {
+    print &#34;Usage: $0 &#40;-c | -t | -r&#41; [-o=&lt;file&gt;] &lt;mailfile&gt;\n&#34;;
+    exit;
--- Mail-SNCF/Mail-SNCF-0.02/t/pod-coverage.t	Thu Mar 26 16:25:34 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/t/pod-coverage.t	Mon Mar  1 16:23:11 2010
@@ -2,6 +2,10 @@
 use warnings;
 use Test::More;
 
+# Skip if doing a regular install
+plan skip_all =&gt; &#34;Author tests not required for installation&#34;
+    unless &#40; $ENV{AUTOMATED_TESTING} &#41;;
+
 # Ensure a recent version of Test::Pod::Coverage
 my $min_tpc = 1.08;
 eval &#34;use Test::Pod::Coverage $min_tpc&#34;;
@@ -16,3 +20,4 @@
     if $@;
 
 all_pod_coverage_ok&#40;&#41;;
--- Mail-SNCF/Mail-SNCF-0.02/t/pod.t	Thu Mar 26 12:34:32 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/t/pod.t	Mon Mar  1 16:23:11 2010
@@ -4,6 +4,10 @@
 use warnings;
 use Test::More;
 
+# Skip if doing a regular install
+plan skip_all =&gt; &#34;Author tests not required for installation&#34;
+    unless &#40; $ENV{AUTOMATED_TESTING} &#41;;
+
 # Ensure a recent version of Test::Pod
 my $min_tp = 1.22;
--- Mail-SNCF/Mail-SNCF-0.02/t/text.t	Thu Mar 26 16:26:40 2009
+++ Mail-SNCF/Mail-SNCF-0.02_01/t/text.t	Mon Mar  1 17:10:30 2010
@@ -7,10 +7,17 @@
 my @lines = &lt;DATA&gt;;
 my $output = join&#40;&#34;&#34;, @lines&#41;;
 
+$output =~ s/&#40;[\w\x20-\x7E\xA0-\xFF]{3}\s+\d{1,2},?\s+\d{4}&#41;/&lt;DATE&gt;/sig;
+$output =~ s/&#40;\d{1,2}\s+[\w\x20-\x7E\xA0-\xFF]{3}\s+\d{4}&#41;/&lt;DATE&gt;/sig;
+
 my $file = &#34;t/sncf&#34;;
 my $sncf = Mail::SNCF::Text-&gt;parse&#40;$file&#41;;
+my $sncf_string = $sncf-&gt;as_string;
 
-is&#40;$sncf-&gt;as_string, $output, &#34;Text output works&#34;&#41;;
+$sncf_string =~ s/&#40;[\w\x20-\x7E\xA0-\xFF]{3}\s+\d{1,2},?\s+\d{4}&#41;/&lt;DATE&gt;/sig;
+$sncf_string =~ s/&#40;\d{1,2}\s+[\w\x20-\x7E\xA0-\xFF]{3}\s+\d{4}&#41;/&lt;DATE&gt;/sig;
+
+is&#40;$sncf_string, $output, &#34;Text output works&#34;&#41;;
 
 __DATA__
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;02&nbsp;04:21:38&nbsp;2010</span>
    <span class="description">BARBIE [...] cpan.org -  Severity Important added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
