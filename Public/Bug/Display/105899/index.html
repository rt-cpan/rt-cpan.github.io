<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #105899 for Perl-Tags: test causes vim to fail if any plugins using line continuations exist</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #105899 for Perl-Tags: test causes vim to fail if any plugins using line continuations exist</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Perl-Tags">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Perl-Tags">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Perl-Tags">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Perl-Tags">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Tags">Perl-Tags CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">105899</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Perl-Tags">Perl-Tags</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-40124-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.32    </td>
  </tr>
  <tr id="CF-40125-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




vim_noplugin.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1609302/861026/vim_noplugin.patch">
Sat Mar 19 00:28:38 2016 (580b) by KENTNL [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=105899">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1517519" href="/Public/Bug/Display.html?id=105899#txn-1517519">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;16&nbsp;07:16:05&nbsp;2015</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test causes vim to fail if any plugins using line continuations exist</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1517519/809292/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/809292">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>
	&nbsp;</p>

<p>
	vim -u _vimrc implies that the default, &quot;nocp&quot; is disabled.</p>

<p>
	Under compatibility mode, line continuations are disabled.</p>

<p>
	Thus, the absence of a &quot;:set nocp&quot; in this vimrc causes any plugins that vim loads using line continuations to fail.</p>

<p>
	For example:</p>

<p>
	When vim attempts to load:</p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/vim-scripts/Briofita/blob/master/plugin/briofita-support.vim#L127">https://github.com/vim-scripts/Briofita/blob/master/plugin/briofita-support.vim#L127</a></span></p>

<p>
	&nbsp;</p>

<p>
	It fails with<br>

	&nbsp;</p>

<p>
	Error detected while processing /usr/share/vim/vimfiles/plugin/briofita-support.vim:<br>

	line&nbsp; 127:<br>

	E723: Missing end of Dictionary &#39;}&#39;:<br>

	E15: Invalid expression: { &quot;statusline&quot;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;StatusLine&quot;,<br>

	line&nbsp; 128:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 129:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 130:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 131:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 132:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 133:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 134:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 135:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 136:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 137:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 138:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	line&nbsp; 139:<br>

	E10: \ should be followed by /, ? or &amp;<br>

	Press ENTER or type command to continue &lt;-- indefinitely blocks</p>

<p>
	&nbsp;</p>

<br>

<p>
	The exact reason why this is not usually observed, is typically, when vim has a ~/.vimrc, &#39;C&#39; mode is disabled by default.&nbsp; However, that property is *not* granted to -u</p>

<p>
	&nbsp;</p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="http://vimhelp.appspot.com/message.txt.html#E10">http://vimhelp.appspot.com/message.txt.html#E10</a></span></p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="http://vimhelp.appspot.com/options.txt.html#%27cpoptions%27">http://vimhelp.appspot.com/options.txt.html#%27cpoptions%27</a></span></p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="http://vimhelp.appspot.com/options.txt.html#%27compatible%27">http://vimhelp.appspot.com/options.txt.html#%27compatible%27</a></span> # &lt;-- take special note of the special casing of -u</p>

<p>
	<span class="clickylink"><a target="new" rel="nofollow" href="http://vimhelp.appspot.com/starting.txt.html#compatible-default">http://vimhelp.appspot.com/starting.txt.html#compatible-default</a></span></p>

<p>
	&nbsp;</p>

<p>
	This effectively means the majority of users using vim are using it in nocompatible mode, and as such, most plugins etc are written under that assumption, and are poorly tested without compatible mode.</p>

<p>
	&nbsp;</p>

<p>
	Each case of a plugin failing to guard against this is still a bug in the plugin in question, but requires every plugin to work around it, which, not all do.</p>

<p>
	&nbsp;</p>

<p>
	In essence, this test turns itself into a &quot;Do you have any vim plugins not written to work without compatibility mode&quot; test, instead of a &quot;Is Perl-Tags broken&quot; test.</p>

<p>
	&nbsp;</p>

<p>
	The easiest most obvious fix is put</p>

<p>
	&nbsp;</p>

<p>
	:set nocp</p>

<p>
	&nbsp;</p>

<p>
	in the top of _vimrc, which will give much better average results.</p>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1567288" href="/Public/Bug/Display.html?id=105899#txn-1567288">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;13:19:21&nbsp;2015</span>
    <span class="description">osfameron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1567288/836634/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/836634">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 829b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 16 07:16:05 2015, KENTNL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; vim -u _vimrc implies that the default, &#34;nocp&#34; is disabled.
&gt; 
&gt; Under compatibility mode, line continuations are disabled.
&gt; 
&gt; Thus, the absence of a &#34;:set nocp&#34; in this vimrc causes any plugins
&gt; that vim
&gt; loads using line continuations to fail.
</div>...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In essence, this test turns itself into a &#34;Do you have any vim plugins
&gt; not
&gt; written to work without compatibility mode&#34; test, instead of a &#34;Is
&gt; Perl-Tags
&gt; broken&#34; test.
&gt; 
&gt; The easiest most obvious fix is put
&gt; :set nocp
&gt; in the top of _vimrc, which will give much better average results.
</div>
Oh, interesting!  I had probably thought by setting `-u t/_vimrc` it wouldn&#39;t load plugins.  But I guess $VIMRUNTIMEPATH is still as before.  I wonder if running with `--noplugin` is a sensible thing to do here.  Will have a look.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1567289" href="/Public/Bug/Display.html?id=105899#txn-1567289">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;13:19:21&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1567340" href="/Public/Bug/Display.html?id=105899#txn-1567340">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;15:17:52&nbsp;2015</span>
    <span class="description">osfameron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1567340/836667/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/836667">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 579b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 28 13:19:21 2015, OSFAMERON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jul 16 07:16:05 2015, KENTNL wrote:
<div class="message-stanza open">&gt; &gt; vim -u _vimrc implies that the default, &#34;nocp&#34; is disabled.
&gt; &gt;
&gt; &gt; Under compatibility mode, line continuations are disabled.
</div>&gt;
<div class="message-stanza open">&gt; &gt; In essence, this test turns itself into a &#34;Do you have any vim
&gt; &gt; plugins not written to work without compatibility mode&#34; test, instead of a &#34;Is
&gt; &gt; Perl-Tags broken&#34; test.
</div></div>
Hi.  I can&#39;t replicate this issue, having installed vimscripts/Briofita with Vundle &#40;Vim 7.3, perl 5.22&#41;.  Can you tell me more about your setup to help me replicate the issue?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1567343" href="/Public/Bug/Display.html?id=105899#txn-1567343">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;15:22:04&nbsp;2015</span>
    <span class="description">osfameron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1567343/836670/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/836670">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 454b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 28 15:17:52 2015, OSFAMERON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi.  I can&#39;t replicate this issue, having installed
&gt; vimscripts/Briofita with Vundle &#40;Vim 7.3, perl 5.22&#41;.  Can you tell me
&gt; more about your setup to help me replicate the issue?
</div>
Ah, I see - Vundle is an extra layer around loading plugins.  You have the briofita plugin directly in $VIMDIR/plugins/

I can replicate the behaviour, and see that adding --noplugin should fix it.  Thanks for the report!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1567346" href="/Public/Bug/Display.html?id=105899#txn-1567346">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;15:30:57&nbsp;2015</span>
    <span class="description">osfameron [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1567346/836673/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/836673">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 759b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 28 15:22:04 2015, OSFAMERON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat Nov 28 15:17:52 2015, OSFAMERON wrote:
<div class="message-stanza open">&gt; &gt; Hi.  I can&#39;t replicate this issue, having installed
&gt; &gt; vimscripts/Briofita with Vundle &#40;Vim 7.3, perl 5.22&#41;.  Can you tell
&gt; &gt; me
&gt; &gt; more about your setup to help me replicate the issue?
</div>&gt; 
&gt; Ah, I see - Vundle is an extra layer around loading plugins.  You have
&gt; the briofita plugin directly in $VIMDIR/plugins/
&gt; 
&gt; I can replicate the behaviour, and see that adding --noplugin should
&gt; fix it.  Thanks for the report!
</div>
hmm, that said, though I can replicate by manually calling:

   PERL5LIB=$PERL5LIB:lib/ vim -u t/_vimrc

Actually running t/05_vim.t doesn&#39;t fail for me.  So I&#39;ll have no way of knowing if --noplugin fixes it for your case too.  Meh.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1609302" href="/Public/Bug/Display.html?id=105899#txn-1609302">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;19&nbsp;00:28:38&nbsp;2016</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1609302/861025/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/861025">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><p>
	On 2015-11-29 09:30:57, OSFAMERON wrote:<br>

	&gt; On Sat Nov 28 15:22:04 2015, OSFAMERON wrote:<br>

	&gt; &gt; On Sat Nov 28 15:17:52 2015, OSFAMERON wrote:<br>

	&gt; &gt; &gt; Hi. I can&#39;t replicate this issue, having installed<br>

	&gt; &gt; &gt; vimscripts/Briofita with Vundle (Vim 7.3, perl 5.22). Can you tell<br>

	&gt; &gt; &gt; me<br>

	&gt; &gt; &gt; more about your setup to help me replicate the issue?<br>

	&gt; &gt;<br>

	&gt; &gt; Ah, I see - Vundle is an extra layer around loading plugins. You<br>

	&gt; &gt; have<br>

	&gt; &gt; the briofita plugin directly in $VIMDIR/plugins/<br>

	&gt; &gt;<br>

	&gt; &gt; I can replicate the behaviour, and see that adding --noplugin should<br>

	&gt; &gt; fix it. Thanks for the report!<br>

	&gt;<br>

	&gt; hmm, that said, though I can replicate by manually calling:<br>

	&gt;<br>

	&gt; PERL5LIB=$PERL5LIB:lib/ vim -u t/_vimrc<br>

	&gt;<br>

	&gt; Actually running t/05_vim.t doesn&#39;t fail for me. So I&#39;ll have no way<br>

	&gt; of knowing if --noplugin fixes it for your case too. Meh.<br>

	<br>

	Sorry for the delay.</p>

<p>
	&nbsp;</p>

<p>
	Locally patching the vim test file to use --noplugin does indeed circumvent this bug.<br>

	<br>

	<br>

	<br>

	&nbsp;</p>


</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> vim_noplugin.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1609302/861026/vim_noplugin.patch">Download vim_noplugin.patch</a><br />
<span class="downloadcontenttype">text/x-diff 580b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -Naur Perl-Tags-0.32/t/05_vim.t Perl-Tags-0.32b/t/05_vim.t
--- Perl-Tags-0.32/t/05_vim.t	2014-05-11 12:11:34.000000000 +0000
+++ Perl-Tags-0.32b/t/05_vim.t	2016-03-19 04:25:04.831985917 +0000
@@ -37,6 +37,7 @@
     system vim =&gt;
              -u =&gt; &#39;t/_vimrc&#39;,        # use our vimrc to add Perl::Tags settings etc.
              -S =&gt; &#39;t/session.vim&#39;,   # use our session file to make modfications to file
+             &#39;--noplugin&#39;,            # Don&#39;t load 3rd party plugins which can break
             &#39;-n&#39;,                     # don&#39;t use swapfile
             $temp;
 
</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.427591</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
