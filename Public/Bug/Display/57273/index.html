<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57273 for PAR-Packer: Error building on Strawberry 5.12.0.1 64-bit &#40;win32.coff file format not recognized&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57273 for PAR-Packer: Error building on Strawberry 5.12.0.1 64-bit &#40;win32.coff file format not recognized&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57273</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
csjewell [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




PAR-Packer-1.009 dmake test.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/950174/494063/PAR-Packer-1.009%20dmake%20test.log">
Tue Jun 28 10:53:32 2011 (760b) by vvm [...] tut.by
</a>
</font></li>
</ul>


PAR-Packer-1.009-1307954507.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/950170/494055/PAR-Packer-1.009-1307954507.log">
Tue Jun 28 10:31:49 2011 (7.9k) by vvm [...] tut.by
</a>
</font></li>
</ul>


PAR-Packer-1.009.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/950174/494061/PAR-Packer-1.009.patch">
Tue Jun 28 10:53:32 2011 (2.7k) by vvm [...] tut.by
</a>
</font></li>
</ul>


PAR-Packer.yml<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/950174/494062/PAR-Packer.yml">
Tue Jun 28 10:53:32 2011 (352b) by vvm [...] tut.by
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;07&nbsp;01:00:10&nbsp;2010</span>
    <span class="description">csjewell [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Error building on Strawberry 5.12.0.1 64-bit &#40;win32.coff file
 format not recognized&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;5.12.0.1 is the version where the libperl511.a/perl512.dll mismatch got
resolved, I was hoping that PAR::Packer would finally build once that
was fixed. Guess not. It&#39;s being uploaded right now, should be available
within 8 hours, I hope.&#41;

Note that the 32-bit version of this compiler understands win32.coff
just fine, the failure seems to be later on there.

I&#39;m thinking we may need a win32-64bit.coff or something...  Is there
anything else I can do to help you fix this?

  CPAN.pm: Going to build R/RS/RSCHUPP/PAR-Packer-1.004.tar.gz

cp lib/App/Packer/PAR.pm blib\lib\App\Packer\PAR.pm
cp lib/PAR/Packer.pm blib\lib\PAR\Packer.pm
cp lib/PAR/Filter/Obfuscate.pm blib\lib\PAR\Filter\Obfuscate.pm
cp lib/PAR/Filter/PodStrip.pm blib\lib\PAR\Filter\PodStrip.pm
cp lib/PAR/StrippedPARL/Base.pm blib\lib\PAR\StrippedPARL\Base.pm
cp lib/PAR/Filter.pm blib\lib\PAR\Filter.pm
cp lib/PAR/Filter/PatchContent.pm blib\lib\PAR\Filter\PatchContent.pm
cp lib/PAR/StrippedPARL/Dynamic.pm blib\lib\PAR\StrippedPARL\Dynamic.pm
cp lib/PAR/Filter/Bytecode.pm blib\lib\PAR\Filter\Bytecode.pm
cp lib/pp.pm blib\lib\pp.pm
cp lib/PAR/Filter/Bleach.pm blib\lib\PAR\Filter\Bleach.pm
cp lib/PAR/StrippedPARL/Static.pm blib\lib\PAR\StrippedPARL\Static.pm
C:\strawberry\perl\bin\perl.exe sha1.c.PL sha1.c
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DWIN64 -DCONSERVATIVE 
-DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLI
CIT_SYS -fno-strict-aliasing -mms-bitfields -DPERL_MSVCRT_READFIX 
-I&#34;C:\strawberry\perl\lib\CORE&#34;  -DPARL_EXE=\&#34;parl.ex
e\&#34; -s -O2 sha1.c
sha1.c: In function &#39;sha_transform&#39;:
sha1.c:146: warning: right shift count &gt;= width of type
C:\strawberry\perl\bin\perl.exe file2c.pl
C:\strawberry\perl\bin\perl512.dll my_perl.c load_me_0 1 30000
dmake:  Warning: -- Found file corresponding to virtual target [mktmpdir.h].
dmake:  Warning: -- Found file corresponding to virtual target [mktmpdir.c].
dmake:  Warning: -- Found file corresponding to virtual target [main.c].
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DWIN64 -DCONSERVATIVE 
-DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLI
CIT_SYS -fno-strict-aliasing -mms-bitfields -DPERL_MSVCRT_READFIX 
-I&#34;C:\strawberry\perl\lib\CORE&#34;  -DPARL_EXE=\&#34;parl.ex
e\&#34; -s -O2 main.c
C:\strawberry\perl\bin\perl.exe file2c.pl ..\script\par.pl my_par_pl.c
load_me_2 1
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DWIN64 -DCONSERVATIVE 
-DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CONTEXT -DPERL_IMPLI
CIT_SYS -fno-strict-aliasing -mms-bitfields -DPERL_MSVCRT_READFIX 
-I&#34;C:\strawberry\perl\lib\CORE&#34;  -DPARL_EXE=\&#34;parl.ex
e\&#34; -s -O2 my_par_pl.c
g++ main.o my_par_pl.o win32.coff -s   -s
-L&#34;C:\strawberry\perl\lib\CORE&#34; -L&#34;C:\strawberry\c\lib&#34; 
C:\strawberry\perl\li
b\CORE\libperl512.a C:\strawberry\c\x86_64-w64-mingw32\lib\libmoldname.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libkerne
l32.a C:\strawberry\c\x86_64-w64-mingw32\lib\libuser32.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libgdi32.a C:\strawberry
\c\x86_64-w64-mingw32\lib\libwinspool.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libcomdlg32.a
C:\strawberry\c\x86_64-w64-
mingw32\lib\libadvapi32.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libshell32.a
C:\strawberry\c\x86_64-w64-mingw32\lib\lib
ole32.a C:\strawberry\c\x86_64-w64-mingw32\lib\liboleaut32.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libnetapi32.a C:\str
awberry\c\x86_64-w64-mingw32\lib\libuuid.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libws2_32.a
C:\strawberry\c\x86_64-w64
-mingw32\lib\libmpr.a C:\strawberry\c\x86_64-w64-mingw32\lib\libwinmm.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libversio
n.a C:\strawberry\c\x86_64-w64-mingw32\lib\libodbc32.a
C:\strawberry\c\x86_64-w64-mingw32\lib\libodbccp32.a C:\strawberr
y\c\x86_64-w64-mingw32\lib\libcomctl32.a -o par.exe
win32.coff: file not recognized: File format not recognized
collect2: ld returned 1 exit status
dmake:  Error code 129, while making &#39;par.exe&#39;
dmake.EXE:  Error code 255, while making &#39;subdirs&#39;
  RSCHUPP/PAR-Packer-1.004.tar.gz
  C:\strawberry\c\bin\dmake.EXE -- NOT OK
Running make test
  Can&#39;t test without successful make
Running make install
  Make had returned bad status, install seems impossible

C:\Users\Curtis&gt;perl -V
Summary of my perl5 &#40;revision 5 version 12 subversion 0&#41; configuration:

  Platform:
    osname=MSWin32, osvers=6.1, archname=MSWin32-x64-multi-thread
    uname=&#39;Win32 strawberryperl 5.12.0.1 #1 Thu May  6 16:10:36 2010 x64&#39;
    config_args=&#39;undef&#39;
    hint=recommended, useposix=true, d_sigaction=undef
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc&#39;, ccflags =&#39; -s -O2 -DWIN32 -DHAVE_DES_FCRYPT -DWIN64
-DCONSERVATIVE  -DUSE_SITECUSTOMIZE -DPERL_IMPLICIT_CO
NTEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields
-DPERL_MSVCRT_READFIX&#39;,
    optimize=&#39;-s -O2&#39;,
    cppflags=&#39;-DWIN32&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.4.3&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;long
long&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++&#39;, ldflags =&#39;-s -L&#34;C:\strawberry\perl\lib\CORE&#34;
-L&#34;C:\strawberry\c\lib&#34;&#39;
    libpth=C:\strawberry\c\lib C:\strawberry\c\x86_64-w64-mingw32\lib
    libs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool -lcomdlg32
-ladvapi32 -lshell32 -lole32 -loleaut32 -lnetapi32
 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32
    perllibs=-lmoldname -lkernel32 -luser32 -lgdi32 -lwinspool
-lcomdlg32 -ladvapi32 -lshell32 -lole32 -loleaut32 -lneta
pi32 -luuid -lws2_32 -lmpr -lwinmm -lversion -lodbc32 -lodbccp32 -lcomctl32
    libc=, so=dll, useshrplib=true, libperl=libperl512.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_win32.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39;-mdll -s -L&#34;C:\strawberry\perl\lib\CORE&#34;
-L&#34;C:\strawberry\c\lib&#34;&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_IMPLICIT_SYS
                        PERL_MALLOC_WRAP PL_OP_SLAB_ALLOC USE_64_BIT_INT
                        USE_ITHREADS USE_LARGE_FILES USE_PERLIO
USE_PERL_ATOF
                        USE_SITECUSTOMIZE
  Built under MSWin32
  Compiled at May  6 2010 16:19:55
  @INC:
    C:/strawberry/perl/site/lib
    C:/strawberry/perl/vendor/lib
    C:/strawberry/perl/lib
    .

C:\Users\Curtis&gt;gcc -v
Using built-in specs.
Target: x86_64-w64-mingw32
Configured with: ../gcc44-svn/configure --target=x86_64-w64-mingw32
--host=x86_64-w64-mingw32 --disable-multilib --disab
le-nls --disable-win32-registry --prefix=/mingw64 --with-gmp=/mingw64
--with-mpfr=/mingw64 --enable-languages=c,c++
Thread model: win32
gcc version 4.4.3 &#40;GCC&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;13&nbsp;05:58:06&nbsp;2011</span>
    <span class="description">vvm [...] tut.by -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> vvm [...] tut.by</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 07 01:00:10 2010, CSJEWELL wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; win32.coff: file not recognized: File format not recognized
&gt; collect2: ld returned 1 exit status
&gt; dmake:  Error code 129, while making &#39;par.exe&#39;
&gt; dmake.EXE:  Error code 255, while making &#39;subdirs&#39;
&gt;   RSCHUPP/PAR-Packer-1.004.tar.gz
&gt;   C:\strawberry\c\bin\dmake.EXE -- NOT OK
</div>
 See:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.mail-archive.com/win32-vanilla@perl.org/msg00312.html">http://www.mail-archive.com/win32-vanilla@perl.org/msg00312.html</a></span>
==
Hi!

HowTo: Strawberry Perl v5.12.3 x64 and PAR-Packer
 
<span class="clickylink"><a target="new" rel="nofollow" href="http://vvm.blog.tut.by/2011/06/13/howto-strawberry-perl-v5-12-3-x64-and-">http://vvm.blog.tut.by/2011/06/13/howto-strawberry-perl-v5-12-3-x64-and-</a></span>
par-packer/

==
  . . .
 
 See:
<span class="clickylink"><a target="new" rel="nofollow" href="http://news.tcx.org.uk/msg/4D93C148.1060301@znix.com">http://news.tcx.org.uk/msg/4D93C148.1060301@znix.com</a></span>
===
 . . .
 
 For fix this issue:
==
win32.coff: file not recognized: File format not recognized
==
 . . .
 

The zip
 
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.wxperl.co.uk/ppamd64_resource.zip">http://www.wxperl.co.uk/ppamd64_resource.zip</a></span>
 
Contains objects that can be unzipped into the current PAR::Packer 
source in the directory myldr. You want the contained win32.coff / 
win32.obj to replace the originals.
 
Should then compile OK on Strawberry.
 . . .
===
 

 Download:
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.wxperl.co.uk/ppamd64_resource.zip">http://www.wxperl.co.uk/ppamd64_resource.zip</a></span>
 
 Unpack from &#34;ppamd64_resource.zip&#34; 
==
win32.coff
win32.obj
win32.res
win32.manifest
win32.rc
win32.ico
==
 to
C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-1.009\myldr

 
 Run
cpanp i .
 
 Screenshot:
===

 . . .
 
0-current_exec.t t/40-packer_cd_option.t t/90-rt59710.t
t/00-pod.t ............... skipped: Set environment variable 
PERL_TEST_POD=1 to test POD
t/10-parl-generation.t ... ok
The application has failed to start because its side-by-side 
configuration is incorrect. Please see the application event log or use 
the command-line sxstrace.e
xe tool for more detail.
C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-1.009\blib\script/pp: 
Cannot open hello.exe for reading: No such file or directory at 
C:\strawberry\cpanplus\5.12
.3\build\PAR-Packer-1.009\blib\lib/PAR/Packer.pm line 1172.
 
#   Failed test &#39;pp_gui_tests
# amsg572: sub pp_gui_tests cannot system pp --gui --icon hi.ico -o 
hello.exe hello.pl:No such file or directory:
# &#39;
#   at automated_pp_test.pl line 8445.
# Looks like you failed 1 test of 34.
t/20-pp.t ................
Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/34 subtests
# Please wait
t/30-current_exec.t ...... ok
t/40-packer_cd_option.t .. ok
t/90-rt59710.t ........... ok
 
Test Summary Report
-------------------
t/20-pp.t              &#40;Wstat: 256 Tests: 34 Failed: 1&#41;
  Failed test:  32
  Non-zero exit status: 1
Files=6, Tests=74, 2506 wallclock secs &#40; 0.09 usr +  0.05 sys =  0.14 
CPU&#41;
Result: FAIL
Failed 1/6 test programs. 1/74 subtests failed.
dmake.EXE:  Error code 255, while making &#39;test_dynamic&#39;
 
The tests for &#39;PAR::Packer&#39; failed. Would you like me to proceed anyway 
or should we abort?
 
Proceed anyway? [y/N]: y
*** Install log written to:
  C:\strawberry\cpanplus\install-logs\PAR-Packer-1.009-1307954507.log
 
Module &#39;PAR::Packer&#39; installed successfully
 . . .
===
 
  . . .
==
 

Best regards, Victor Miasnikov
Blog:  <span class="clickylink"><a target="new" rel="nofollow" href="http://vvm.blog.tut.by/">http://vvm.blog.tut.by/</a></span>

==
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;13&nbsp;05:58:08&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;27&nbsp;07:26:15&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-06-13 05:58:06, vvm wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; t/10-parl-generation.t ... ok
&gt; The application has failed to start because its side-by-side 
&gt; configuration is incorrect. Please see the application event log or use 
&gt; the command-line sxstrace.e
&gt; xe tool for more detail.
&gt; C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-1.009\blib\script/pp: 
&gt; Cannot open hello.exe for reading: No such file or directory at 
&gt; C:\strawberry\cpanplus\5.12
&gt; .3\build\PAR-Packer-1.009\blib\lib/PAR/Packer.pm line 1172.
&gt;  
&gt; #   Failed test &#39;pp_gui_tests
&gt; # amsg572: sub pp_gui_tests cannot system pp --gui --icon hi.ico -o 
&gt; hello.exe hello.pl:No such file or directory:
&gt; # &#39;
&gt; #   at automated_pp_test.pl line 8445.
&gt; # Looks like you failed 1 test of 34.
</div>

Please attach the output of a clean build after overwriting
myldr/win32.* with the stuff in ppamd64_resource.zip

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;28&nbsp;10:31:49&nbsp;2011</span>
    <span class="description">vvm [...] tut.by -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> vvm [...] tut.by</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jun 27 07:26:15 2011, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2011-06-13 05:58:06, vvm wrote:
<div class="message-stanza open">&gt; &gt; # Looks like you failed 1 test of 34.
</div>&gt; 
&gt; Please attach the output of a clean build after overwriting
&gt; myldr/win32.* with the stuff in ppamd64_resource.zip
&gt; 
</div>
 Not shue, what this is &#34;output of a clean build&#34; . . .
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-Packer-1.009-1307954507.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/950170/494055/PAR-Packer-1.009-1307954507.log">Download PAR-Packer-1.009-1307954507.log</a><br />
<span class="downloadcontenttype">application/octet-stream 7.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;28&nbsp;10:53:31&nbsp;2011</span>
    <span class="description">vvm [...] tut.by -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> vvm [...] tut.by</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jun 27 07:26:15 2011, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2011-06-13 05:58:06, vvm wrote:
&gt; build after 
&gt; overwriting myldr/win32.* with the stuff in ppamd64_resource.zip
</div>
 I&#39;m try &#34;Method N2&#34;: simply &#34;Turn off use win32.coff&#34;

 Short: 
==
#### Patch data follows ####
diff -c &#34;C:\strawberry\cpanplus -VVM\00_--_PAR-Packer-1.009
\myldr\Makefile.PL&#34; &#34;C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-
1.009\myldr\Makefile.PL&#34;
Index: ./myldr/Makefile.PL
*** ./myldr/Makefile.PL Tue Mar 22 19:53:31 2011
--- ./myldr/Makefile.PL Tue Jun 14 16:49:32 2011
***************
*** 104,110 ****
      $ccdebug = $debug ? &#39;-g &#39; : &#39;&#39;;
      $lddebug = &#40;$debug or $^O eq &#39;darwin&#39;&#41; ? &#39;&#39; : &#39;-s &#39;;
      $warn = $debug ? &#39;-Wall -Wno-comments &#39; : &#39;&#39;;
!     $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win32.coff&#39; : &#39;&#39;;
      $long_literal = &#39;-l&#39;;
      $mt_cmd = &#39;-$&#40;NOOP&#41;&#39;;
  } else {
--- 104,111 ----
      $ccdebug = $debug ? &#39;-g &#39; : &#39;&#39;;
      $lddebug = &#40;$debug or $^O eq &#39;darwin&#39;&#41; ? &#39;&#39; : &#39;-s &#39;;
      $warn = $debug ? &#39;-Wall -Wno-comments &#39; : &#39;&#39;;
!     $res =  &#39;&#39;; # VVM
! #    $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win32.coff&#39; : &#39;&#39;;
      $long_literal = &#39;-l&#39;;
      $mt_cmd = &#39;-$&#40;NOOP&#41;&#39;;
  } else {
#### End of Patch data ####
== 


==
cd C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-1.009
dmake.EXE test UNINST=1

 . . . 

t/10-parl-generation.t ... ok
t/20-pp.t ................ ok
t/30-current_exec.t ...... # Please wait
t/30-current_exec.t ...... ok
t/40-packer_cd_option.t .. ok
t/90-rt59710.t ........... ok
All tests successful.
==


 and see attached files
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-Packer-1.009.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
# Turn off use win32.coff
# 
# To apply this patch:
# STEP 1: Chdir to the source directory.
# STEP 2: Run the &#39;applypatch&#39; program with this patch file as input.
#
# If you do not have &#39;applypatch&#39;, it is part of the &#39;makepatch&#39; package
# that you can fetch from the Comprehensive Perl Archive Network:
# <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.com/CPAN/authors/Johan_Vromans/makepatch-x.y.tar.gz">http://www.perl.com/CPAN/authors/Johan_Vromans/makepatch-x.y.tar.gz</a></span>
# In the above URL, &#39;x&#39; should be 2 or higher.
#
# To apply this patch without the use of &#39;applypatch&#39;:
# STEP 1: Chdir to the source directory.
# STEP 2: Run the &#39;patch&#39; program with this file as input.
#
#### End of Preamble ####

#### Patch data follows ####
diff -c &#34;C:\strawberry\cpanplus -VVM\00_--_PAR-Packer-1.009\myldr\Makefile.PL&#34; &#34;C:\strawberry\cpanplus\5.12.3\build\PAR-Packer-1.009\myldr\Makefile.PL&#34;
Index: ./myldr/Makefile.PL
*** ./myldr/Makefile.PL	Tue Mar 22 19:53:31 2011
--- ./myldr/Makefile.PL	Tue Jun 14 16:49:32 2011
***************
*** 104,110 ****
      $ccdebug = $debug ? &#39;-g &#39; : &#39;&#39;;
      $lddebug = &#40;$debug or $^O eq &#39;darwin&#39;&#41; ? &#39;&#39; : &#39;-s &#39;;
      $warn = $debug ? &#39;-Wall -Wno-comments &#39; : &#39;&#39;;
!     $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win32.coff&#39; : &#39;&#39;;
      $long_literal = &#39;-l&#39;;
      $mt_cmd = &#39;-$&#40;NOOP&#41;&#39;;
  } else {
--- 104,111 ----
      $ccdebug = $debug ? &#39;-g &#39; : &#39;&#39;;
      $lddebug = &#40;$debug or $^O eq &#39;darwin&#39;&#41; ? &#39;&#39; : &#39;-s &#39;;
      $warn = $debug ? &#39;-Wall -Wno-comments &#39; : &#39;&#39;;
!     $res =  &#39;&#39;; # VVM
! #    $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win32.coff&#39; : &#39;&#39;;
      $long_literal = &#39;-l&#39;;
      $mt_cmd = &#39;-$&#40;NOOP&#41;&#39;;
  } else {
#### End of Patch data ####

#### ApplyPatch data follows ####
# Data version        : 1.0
# Date generated      : Tue Jun 14 16:59:06 2011
# Generated by        : makepatch 2.04
# Recurse directories : Yes
# Excluded files      : &#40;\A|/&#41;.*\~\Z
#                       &#40;\A|/&#41;.*\.a\Z
#                       &#40;\A|/&#41;.*\.bak\Z
#                       &#40;\A|/&#41;.*\.BAK\Z
#                       &#40;\A|/&#41;.*\.elc\Z
#                       &#40;\A|/&#41;.*\.exe\Z
#                       &#40;\A|/&#41;.*\.gz\Z
#                       &#40;\A|/&#41;.*\.ln\Z
#                       &#40;\A|/&#41;.*\.o\Z
#                       &#40;\A|/&#41;.*\.obj\Z
#                       &#40;\A|/&#41;.*\.olb\Z
#                       &#40;\A|/&#41;.*\.old\Z
#                       &#40;\A|/&#41;.*\.orig\Z
#                       &#40;\A|/&#41;.*\.rej\Z
#                       &#40;\A|/&#41;.*\.so\Z
#                       &#40;\A|/&#41;.*\.Z\Z
#                       &#40;\A|/&#41;\.del\-.*\Z
#                       &#40;\A|/&#41;\.make\.state\Z
#                       &#40;\A|/&#41;\.nse_depinfo\Z
#                       &#40;\A|/&#41;core\Z
#                       &#40;\A|/&#41;tags\Z
#                       &#40;\A|/&#41;TAGS\Z
# p &#34;myldr/Makefile.PL&#34; 10179 1308059372 0100666
#### End of ApplyPatch data ####

#### End of Patch kit [created: Tue Jun 14 16:59:06 2011] ####
#### Patch checksum: 56 2184 611 ####
#### Checksum: 74 2829 54096 ####
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-Packer.yml</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">---
comment: |

  PAR::Packer needs a patch to install in gcc4 Strawberry Perl x64 &#40; but patch Ok and for x86&#41;

match:
  distribution: |
    ^&#40;?x:
    .^   # never matches, only purpose is to let things align nicely
    |RSCHUPP/PAR-Packer-1.009.tar.gz          # Needs a patch to install.
    &#41;|
patches:
    - &#34;PAR-Packer-1.009.patch&#34;

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-Packer-1.009 dmake test.log</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/950174/494063/PAR-Packer-1.009%20dmake%20test.log">Download PAR-Packer-1.009 dmake test.log</a><br />
<span class="downloadcontenttype">application/octet-stream 760b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;29&nbsp;08:51:43&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-06-28 10:31:49, vvm wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  Not shue, what this is &#34;output of a clean build&#34; . . .
</div>
It&#39;s the log you attached :&#41; But nothing suspicious there...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;29&nbsp;08:54:45&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2011-06-28 10:53:31, vvm wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  I&#39;m try &#34;Method N2&#34;: simply &#34;Turn off use win32.coff&#34;
</div>
Unfortunately &#34;Method N2&#34; breaks PAR::Packer on 32-bit Windows systems -
the same test that fails on 64 bit _with_ win32.coff now fails
on 32 bit _without_ win32.coff.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;29&nbsp;12:38:18&nbsp;2011</span>
    <span class="description">vvm [...] tut.by -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> vvm [...] tut.by</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jun 29 08:54:45 2011, RSCHUPP wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 2011-06-28 10:53:31, vvm wrote:
<div class="message-stanza open">&gt; &gt;  I&#39;m try &#34;Method N2&#34;: simply &#34;Turn off use win32.coff&#34;
</div>&gt; Unfortunately &#34;Method N2&#34; breaks PAR::Packer on 32-bit Windows 
</div>
 =&gt;

 Idea: need implement this &#40; or like this&#41; algoritm

if x86
 $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win32.coff&#39; : &#39;&#39;;
elsif x64
 $res = &#40;$^O =~ /^&#40;?:MSWin|cygwin&#41;/&#41; ? &#39;win64.coff&#39; : &#39;&#39;;
end if
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;10:11:08&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in PAR::Packer 1.010
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;13&nbsp;10:11:10&nbsp;2011</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
