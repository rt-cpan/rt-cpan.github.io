<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #121070 for ExtUtils-XSpp: Fails tests when no &#34;.&#34; in @INC &#40; Can&#39;t locate t/lib/XSP/Test.pm in @INC &#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #121070 for ExtUtils-XSpp: Fails tests when no &#34;.&#34; in @INC &#40; Can&#39;t locate t/lib/XSP/Test.pm in @INC &#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ExtUtils-XSpp/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ExtUtils-XSpp/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ExtUtils-XSpp/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ExtUtils-XSpp/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ExtUtils-XSpp">ExtUtils-XSpp CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">121070</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ExtUtils-XSpp/Active/">ExtUtils-XSpp</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
KENTNL [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-227968-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-227969-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;11&nbsp;03:51:41&nbsp;2017</span>
    <span class="description">KENTNL [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Fails tests when no &#34;.&#34; in @INC &#40; Can&#39;t locate t/lib/XSP/Test.pm
 in @INC &#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza">when no &#39;.&#39; is in @INC on Perl &gt;5.25.11 ( for example, when executing by hand&nbsp; , or with PERL_USE_UNSAFE_INC=0 in env ),&nbsp; tests fail as follows:<br>

<br>

<br>

Can&#39;t locate t/lib/XSP/Test.pm in @INC (you may need to install the t::lib::XSP::Test module) (@INC contains: &lt;&gt;) at t/010_base.t line 5.<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">===(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0;0&nbsp; 0/?&nbsp; 0/? )==============================================Can&#39;t locate t/lib/XSP/Test.pm in @INC (you may need to install the t::lib::XSP::Test module) (@INC contains: &lt;&gt;) at t/011_multiple_files.t line 5.<br>

===(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0;0&nbsp; 0/?&nbsp; 0/? )==============================================Can&#39;t locate t/lib/XSP/Test.pm in @INC (you may need to install the t::lib::XSP::Test module) (@INC contains:&lt;&gt;) at t/012_preprocessor.t line 5.<br>

===(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0;0&nbsp; 0/?&nbsp; 0/? )==============================================Can&#39;t locate t/lib/XSP/Test.pm in @INC (you may need to install the t::lib::XSP::Test module) (@INC contains: &lt;&gt;) at t/013_typemap_output.t line 5.<br>

===(&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0;0&nbsp; 0/?&nbsp; 0/? )==============================================Can&#39;t locate t/lib/XSP/Test.pm in @INC (you may need to install the t::lib::XSP::Test module) (@INC contains: &lt;&gt;) at t/015_reference.t line 5.<br>
</div><br>

<br>

<br>

--&nbsp;<br>

- CPAN kentnl@cpan.org<br>

- Gentoo Perl Maintainer kentnl@gentoo.org ( perl@gentoo.org )<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;20&nbsp;18:22:06&nbsp;2017</span>
    <span class="description">KENTNL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="messagebody">
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> cpan.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 6875b61003a7a5e3d4c96ad12d74a02433baf9d7 Mon Sep 17 00:00:00 2001
From: Kent Fredric &lt;kentnl@gentoo.org&gt;
Date: Sat, 21 Oct 2017 11:04:37 +1300
Subject: Fix test failures without &#39;.&#39; in @INC on 5.26+

This fixes test failures when perl is running with PERL_USE_UNSAFE_INC=0
set in the environment.

Bug: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121070">https://rt.cpan.org/Ticket/Display.html?id=121070</a></span>
Bug: <span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.gentoo.org/615240">https://bugs.gentoo.org/615240</a></span>
Bug: <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/mbarbon/extutils-xspp/pull/3">https://github.com/mbarbon/extutils-xspp/pull/3</a></span>
---
 t/010_base.t            | 3 ++-
 t/011_multiple_files.t  | 3 ++-
 t/012_preprocessor.t    | 3 ++-
 t/013_typemap_output.t  | 3 ++-
 t/015_reference.t       | 3 ++-
 t/020_rename.t          | 3 ++-
 t/022_static.t          | 3 ++-
 t/022_virtual.t         | 3 ++-
 t/023_base_classes.t    | 3 ++-
 t/024_enum.t            | 3 ++-
 t/025_member.t          | 3 ++-
 t/030_code_blocks.t     | 3 ++-
 t/031_verbatim_blocks.t | 3 ++-
 t/035_include.t         | 3 ++-
 t/040_plugin.t          | 7 ++++---
 t/043_parser_plugins.t  | 3 ++-
 t/075_types.t           | 3 ++-
 t/080_complex_typemap.t | 3 ++-
 t/090_exceptions.t      | 3 ++-
 t/lib/XSP/Plugin.pm     | 2 +-
 t/lib/XSP/Test.pm       | 4 ++--
 21 files changed, 43 insertions&#40;+&#41;, 24 deletions&#40;-&#41;

diff --git a/t/010_base.t b/t/010_base.t
index 893857a..1c36dce 100644
--- a/t/010_base.t
+++ b/t/010_base.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 14;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 14;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/011_multiple_files.t b/t/011_multiple_files.t
index addf386..e4df4a5 100644
--- a/t/011_multiple_files.t
+++ b/t/011_multiple_files.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 3;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 3;
 
 run_diff process =&gt; &#39;expected&#39;;
 
diff --git a/t/012_preprocessor.t b/t/012_preprocessor.t
index 44e41a7..9a73626 100644
--- a/t/012_preprocessor.t
+++ b/t/012_preprocessor.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 6;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 6;
 
 # monkeypatch print methods to test conditionals are parsed correctly
 no warnings &#39;redefine&#39;;
diff --git a/t/013_typemap_output.t b/t/013_typemap_output.t
index 6ed48bb..fb38f4a 100644
--- a/t/013_typemap_output.t
+++ b/t/013_typemap_output.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 5;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 5;
 
 use ExtUtils::XSpp;
 use ExtUtils::XSpp::Typemap::simple;
diff --git a/t/015_reference.t b/t/015_reference.t
index e3ade61..0728c16 100644
--- a/t/015_reference.t
+++ b/t/015_reference.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 2;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 2;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/020_rename.t b/t/020_rename.t
index da55b07..7ecb125 100644
--- a/t/020_rename.t
+++ b/t/020_rename.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 9;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 9;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/022_static.t b/t/022_static.t
index 857ca30..24c13ed 100644
--- a/t/022_static.t
+++ b/t/022_static.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 1;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 1;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/022_virtual.t b/t/022_virtual.t
index b8d3a65..1dfdb3d 100644
--- a/t/022_virtual.t
+++ b/t/022_virtual.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 3;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 3;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/023_base_classes.t b/t/023_base_classes.t
index 52b01be..a25aeb7 100644
--- a/t/023_base_classes.t
+++ b/t/023_base_classes.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 2;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 2;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/024_enum.t b/t/024_enum.t
index 536d661..53c1774 100644
--- a/t/024_enum.t
+++ b/t/024_enum.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 2;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 2;
 
 # monkeypatch Enum/EnumValue just to test that they were parsed correctly
 no warnings &#39;redefine&#39;;
diff --git a/t/025_member.t b/t/025_member.t
index c7f4fdc..ba1d8a3 100644
--- a/t/025_member.t
+++ b/t/025_member.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 4;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 4;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/030_code_blocks.t b/t/030_code_blocks.t
index 56cc97e..1f2f873 100644
--- a/t/030_code_blocks.t
+++ b/t/030_code_blocks.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 6;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 6;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/031_verbatim_blocks.t b/t/031_verbatim_blocks.t
index 68b66a7..1f3b6a7 100644
--- a/t/031_verbatim_blocks.t
+++ b/t/031_verbatim_blocks.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 2;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 2;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/035_include.t b/t/035_include.t
index b52a25d..66de3e0 100644
--- a/t/035_include.t
+++ b/t/035_include.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 1;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 1;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/040_plugin.t b/t/040_plugin.t
index dc3d975..680eda1 100644
--- a/t/040_plugin.t
+++ b/t/040_plugin.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 2;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 2;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
@@ -12,8 +13,8 @@ __DATA__
 --- xsp_stdout
 %module{Foo};
 %package{Foo};
-%loadplugin{t::lib::XSP::Plugin};
-%loadplugin{t::lib::XSP::Plugin};
+%loadplugin{XSP::Plugin};
+%loadplugin{XSP::Plugin};
 
 int foo&#40;int y&#41;;
 
diff --git a/t/043_parser_plugins.t b/t/043_parser_plugins.t
index 5d2a56e..9c11b1b 100644
--- a/t/043_parser_plugins.t
+++ b/t/043_parser_plugins.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 4;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 4;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/075_types.t b/t/075_types.t
index 7616be2..b31de8d 100644
--- a/t/075_types.t
+++ b/t/075_types.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 5;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 5;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/080_complex_typemap.t b/t/080_complex_typemap.t
index 560f502..5e7c84b 100644
--- a/t/080_complex_typemap.t
+++ b/t/080_complex_typemap.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 6;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 6;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/090_exceptions.t b/t/090_exceptions.t
index 0ad4f94..8043f61 100644
--- a/t/090_exceptions.t
+++ b/t/090_exceptions.t
@@ -2,7 +2,8 @@
 
 use strict;
 use warnings;
-use t::lib::XSP::Test tests =&gt; 9;
+use lib &#39;t/lib&#39;;
+use XSP::Test tests =&gt; 9;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/lib/XSP/Plugin.pm b/t/lib/XSP/Plugin.pm
index 8f0cd2a..e4b2212 100644
--- a/t/lib/XSP/Plugin.pm
+++ b/t/lib/XSP/Plugin.pm
@@ -1,4 +1,4 @@
-package t::lib::XSP::Plugin;
+package XSP::Plugin;
 
 use strict;
 use warnings;
diff --git a/t/lib/XSP/Test.pm b/t/lib/XSP/Test.pm
index 4bd7000..1d9f4bb 100644
--- a/t/lib/XSP/Test.pm
+++ b/t/lib/XSP/Test.pm
@@ -1,4 +1,4 @@
-package t::lib::XSP::Test;
+package XSP::Test;
 
 use strict;
 use warnings;
@@ -39,7 +39,7 @@ sub run_diff&#40;@&#41; {
 
 use ExtUtils::XSpp;
 
-package t::lib::XSP::Test::Filter;
+package XSP::Test::Filter;
 
 use Test::Base::Filter -base;
 
-- 
2.14.2

</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> github-master.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From be74444b69e0b1ea5228e9feb8f1c6ec3a5a9a73 Mon Sep 17 00:00:00 2001
From: Kent Fredric &lt;kentnl@gentoo.org&gt;
Date: Sat, 21 Oct 2017 11:04:37 +1300
Subject: Fix test failures without &#39;.&#39; in @INC on 5.26+

This fixes test failures when perl is running with PERL_USE_UNSAFE_INC=0
set in the environment.

Bug: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=121070">https://rt.cpan.org/Ticket/Display.html?id=121070</a></span>
Bug: <span class="clickylink"><a target="new" rel="nofollow" href="https://bugs.gentoo.org/615240">https://bugs.gentoo.org/615240</a></span>
---
 t/010_base.t            | 3 ++-
 t/011_multiple_files.t  | 3 ++-
 t/012_preprocessor.t    | 3 ++-
 t/013_typemap_output.t  | 3 ++-
 t/015_reference.t       | 3 ++-
 t/020_rename.t          | 3 ++-
 t/022_static.t          | 3 ++-
 t/022_virtual.t         | 3 ++-
 t/023_base_classes.t    | 3 ++-
 t/024_enum.t            | 3 ++-
 t/025_member.t          | 3 ++-
 t/026_thx.t             | 3 ++-
 t/030_code_blocks.t     | 3 ++-
 t/031_verbatim_blocks.t | 3 ++-
 t/035_include.t         | 3 ++-
 t/040_plugin.t          | 7 ++++---
 t/043_parser_plugins.t  | 3 ++-
 t/075_types.t           | 3 ++-
 t/080_complex_typemap.t | 3 ++-
 t/090_exceptions.t      | 3 ++-
 t/lib/XSP/Plugin.pm     | 2 +-
 t/lib/XSP/Test.pm       | 4 ++--
 22 files changed, 45 insertions&#40;+&#41;, 25 deletions&#40;-&#41;

diff --git a/t/010_base.t b/t/010_base.t
index 703c581..c2bee21 100644
--- a/t/010_base.t
+++ b/t/010_base.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/011_multiple_files.t b/t/011_multiple_files.t
index c36ec47..411ac3f 100644
--- a/t/011_multiple_files.t
+++ b/t/011_multiple_files.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff process =&gt; &#39;expected&#39;;
 
diff --git a/t/012_preprocessor.t b/t/012_preprocessor.t
index 896ca7d..9a80586 100644
--- a/t/012_preprocessor.t
+++ b/t/012_preprocessor.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 # monkeypatch print methods to test conditionals are parsed correctly
 no warnings &#39;redefine&#39;;
diff --git a/t/013_typemap_output.t b/t/013_typemap_output.t
index 721a6b5..ff96c44 100644
--- a/t/013_typemap_output.t
+++ b/t/013_typemap_output.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 use ExtUtils::XSpp;
 use ExtUtils::XSpp::Typemap::simple;
diff --git a/t/015_reference.t b/t/015_reference.t
index d1eb409..75d52cf 100644
--- a/t/015_reference.t
+++ b/t/015_reference.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/020_rename.t b/t/020_rename.t
index 5d4cd66..7f62660 100644
--- a/t/020_rename.t
+++ b/t/020_rename.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/022_static.t b/t/022_static.t
index eae1c3e..40f8e7b 100644
--- a/t/022_static.t
+++ b/t/022_static.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/022_virtual.t b/t/022_virtual.t
index f94e75d..b8057c8 100644
--- a/t/022_virtual.t
+++ b/t/022_virtual.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/023_base_classes.t b/t/023_base_classes.t
index 3596c32..f9f52da 100644
--- a/t/023_base_classes.t
+++ b/t/023_base_classes.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/024_enum.t b/t/024_enum.t
index ef3880b..8932efc 100644
--- a/t/024_enum.t
+++ b/t/024_enum.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 # monkeypatch Enum/EnumValue just to test that they were parsed correctly
 no warnings &#39;redefine&#39;;
diff --git a/t/025_member.t b/t/025_member.t
index 14b838e..f93f92c 100644
--- a/t/025_member.t
+++ b/t/025_member.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/026_thx.t b/t/026_thx.t
index 8050e96..3a3f695 100644
--- a/t/026_thx.t
+++ b/t/026_thx.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/030_code_blocks.t b/t/030_code_blocks.t
index ce37086..295a649 100644
--- a/t/030_code_blocks.t
+++ b/t/030_code_blocks.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/031_verbatim_blocks.t b/t/031_verbatim_blocks.t
index 2a3fc99..9ed75f1 100644
--- a/t/031_verbatim_blocks.t
+++ b/t/031_verbatim_blocks.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/035_include.t b/t/035_include.t
index 226a523..1d33910 100644
--- a/t/035_include.t
+++ b/t/035_include.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/040_plugin.t b/t/040_plugin.t
index 1bf3210..f91083d 100644
--- a/t/040_plugin.t
+++ b/t/040_plugin.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
@@ -10,8 +11,8 @@ __DATA__
 --- xsp_stdout
 %module{XspTest};
 %package{Foo};
-%loadplugin{t::lib::XSP::Plugin};
-%loadplugin{t::lib::XSP::Plugin};
+%loadplugin{XSP::Plugin};
+%loadplugin{XSP::Plugin};
 
 int foo&#40;int y&#41;;
 
diff --git a/t/043_parser_plugins.t b/t/043_parser_plugins.t
index f072d8f..d4b01ed 100644
--- a/t/043_parser_plugins.t
+++ b/t/043_parser_plugins.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/075_types.t b/t/075_types.t
index ae34fc9..b43c9d8 100644
--- a/t/075_types.t
+++ b/t/075_types.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/080_complex_typemap.t b/t/080_complex_typemap.t
index 71033ab..d2ab2cc 100644
--- a/t/080_complex_typemap.t
+++ b/t/080_complex_typemap.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
 
diff --git a/t/090_exceptions.t b/t/090_exceptions.t
index 3926d51..e8705e5 100644
--- a/t/090_exceptions.t
+++ b/t/090_exceptions.t
@@ -1,6 +1,7 @@
 #!/usr/bin/perl -w
 
-use t::lib::XSP::Test;
+use lib &#39;t/lib&#39;;
+use XSP::Test;
 
 with_exception_handling&#40;&#41;;
 run_diff xsp_stdout =&gt; &#39;expected&#39;;
diff --git a/t/lib/XSP/Plugin.pm b/t/lib/XSP/Plugin.pm
index 8f0cd2a..e4b2212 100644
--- a/t/lib/XSP/Plugin.pm
+++ b/t/lib/XSP/Plugin.pm
@@ -1,4 +1,4 @@
-package t::lib::XSP::Plugin;
+package XSP::Plugin;
 
 use strict;
 use warnings;
diff --git a/t/lib/XSP/Test.pm b/t/lib/XSP/Test.pm
index 2aa79f7..5ac3674 100644
--- a/t/lib/XSP/Test.pm
+++ b/t/lib/XSP/Test.pm
@@ -1,4 +1,4 @@
-package t::lib::XSP::Test;
+package XSP::Test;
 
 use strict;
 use warnings;
@@ -207,7 +207,7 @@ sub _munge_output&#40;$&#41; {
 
 use ExtUtils::XSpp;
 
-package t::lib::XSP::Test::Filter;
+package XSP::Test::Filter;
 
 use Test::Base::Filter -base;
 
-- 
2.14.2

</div></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
