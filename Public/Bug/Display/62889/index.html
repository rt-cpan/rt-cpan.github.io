<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #62889 for GDGraph: Allow ticks outside the axes with long_ticks</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #62889 for GDGraph: Allow ticks outside the axes with long_ticks</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=GDGraph">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=GDGraph">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=GDGraph">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=GDGraph">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GDGraph">GDGraph CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>There are plenty of good ideas of what people can do published here on the queue. Turning a patch from the tracker into a pull request is not one of them. In order to get maintainers' attention way more quickier, PR should have at least a sample included. We know it's hard to test images generating software, but it doesn't mean we can not test numbers produced by intermediate algorithms used to generate these images, so either a test or a sample.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">62889</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=GDGraph">GDGraph</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
patermanns [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-14346-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.44    </td>
  </tr>
  <tr id="CF-14347-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




long_tick.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/853643/441829/long_tick.diff">
Wed Nov 10 05:24:54 2010 (9.1k) by patermanns [...] gmail.com
</a>
</font></li>
</ul>


test_chartg03.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/854045/442062/test_chartg03.pl">
Thu Nov 11 06:48:30 2010 (1.2k) by patermanns [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=62889">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-853643" href="/Public/Bug/Display.html?id=62889#txn-853643">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;10&nbsp;05:24:54&nbsp;2010</span>
    <span class="description">patermanns [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Allow ticks outside the axes with long_ticks</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/853643/441828/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/441828">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 683b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Using a negative value for tick length tells GD::Graph to put the ticks
outside the axes; however, long_ticks currently overrides the
tick_length setting and so ticks do not appear on the axes if long_ticks
are used.

Long ticks are effectively grid lines and it would be useful to use both
options together so I have attached a patch to axestype.pm which draws
both gridlines and ticks where tick_length is negative and long_ticks
are used.

Using ActiveState Perl 5.8.9 on Windows XP and Perl 5.8.8 on Red Hat
Enterprise Linux 5.3 &#40;64-bit&#41;.

N.B. This patch should be applied after the previous patch &#40;Min/Max y
values do not work for two axes&#41; for the line numbers to be correct.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> long_tick.diff</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/853643/441829/long_tick.diff">Download long_tick.diff</a><br />
<span class="downloadcontenttype">text/x-diff 9.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">*** axestype-patched.pm	Mon Nov 08 17:24:08 2010
--- axestype.pm	Tue Nov 09 17:24:35 2010
***************
*** 998,1003 ****
--- 998,1008 ----
  {
      my $self = shift;
  
+     # Get tick length - set to zero if greater than zero and using long ticks
+     #                   as the gridlines will overwrite the ticks
+     my $tick_length = $self-&gt;{y_tick_length};
+     $tick_length = 0 if $self-&gt;{y_long_ticks} &#38;&#38; &#40;$self-&gt;{y_tick_length} &gt; 0&#41;;
+ 
      for my $t &#40;0 .. $self-&gt;{y_tick_number}&#41; 
      {
          for my $axis &#40;1 .. &#40;$self-&gt;{two_axes} + 1&#41;&#41; 
***************
*** 1006,1030 ****
              my $label = $self-&gt;{y_labels}[$axis][$t];
              
              my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;0, $value, -$axis&#41;;
              $y = &#40;$axis == 1&#41; ? $self-&gt;{bottom} : $self-&gt;{top};
              
!             if &#40;$self-&gt;{y_long_ticks}&#41; 
              {
!                 $self-&gt;{graph}-&gt;line&#40; 
!                     $x, $self-&gt;{bottom}, 
!                     $x, $self-&gt;{top}, 
!                     $self-&gt;{fgci} 
!                 &#41; unless &#40;$axis-1&#41;;
!             } 
!             else 
!             {
!                 $self-&gt;{graph}-&gt;line&#40; 
!                     $x, $y, 
!                     $x, $y  - $self-&gt;{y_tick_length}, 
!                     $self-&gt;{fgci} 
!                 &#41;;
              }
! 
              next 
                  if $t % &#40;$self-&gt;{y_label_skip}&#41; || ! $self-&gt;{y_plot_values};
  
--- 1011,1028 ----
              my $label = $self-&gt;{y_labels}[$axis][$t];
              
              my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;0, $value, -$axis&#41;;
+             my $y1 = &#40;$axis == 1&#41; ? $self-&gt;{bottom} : $self-&gt;{top};
+             my $y2 = &#40;$axis == 1&#41; ? $self-&gt;{bottom} - $tick_length:
+                                     $self-&gt;{top}    + $tick_length;
              $y = &#40;$axis == 1&#41; ? $self-&gt;{bottom} : $self-&gt;{top};
              
!             if &#40;$self-&gt;{y_long_ticks} &#38;&#38; $axis == 1&#41; # draw the gridline
              {
!                 $y1 -= $tick_length;
!                 $y2 = $self-&gt;{top};
              }
!             $self-&gt;{graph}-&gt;line&#40;$x, $y1, $x, $y2, $self-&gt;{fgci}&#41; if $y1 != $y2;
!             
              next 
                  if $t % &#40;$self-&gt;{y_label_skip}&#41; || ! $self-&gt;{y_plot_values};
  
***************
*** 1050,1055 ****
--- 1048,1058 ----
  {
      my $self = shift;
  
+     # Get tick length - set to zero if greater than zero and using long ticks
+     #                   as the gridlines will overwrite the ticks
+     my $tick_length = $self-&gt;{y_tick_length};
+     $tick_length = 0 if $self-&gt;{y_long_ticks} &#38;&#38; &#40;$self-&gt;{y_tick_length} &gt; 0&#41;;
+ 
      for my $t &#40;0 .. $self-&gt;{y_tick_number}&#41; 
      {
          # XXX Ugh, why did I ever do it this way? How bloody obscure.
***************
*** 1059,1082 ****
              my $label = $self-&gt;{y_labels}[$axis][$t];
              
              my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;0, $value, -$axis&#41;;
              $x = &#40;$axis == 1&#41; ? $self-&gt;{left} : $self-&gt;{right};
! 
!             if &#40;$self-&gt;{y_long_ticks}&#41; 
              {
!                 $self-&gt;{graph}-&gt;line&#40; 
!                     $x, $y, 
!                     $x + $self-&gt;{right} - $self-&gt;{left}, $y, 
!                     $self-&gt;{fgci} 
!                 &#41; unless &#40;$axis-1&#41;;
!             } 
!             else 
!             {
!                 $self-&gt;{graph}-&gt;line&#40; 
!                     $x, $y, 
!                     $x + &#40;3 - 2 * $axis&#41; * $self-&gt;{y_tick_length}, $y, 
!                     $self-&gt;{fgci} 
!                 &#41;;
              }
  
              next 
                  if $t % &#40;$self-&gt;{y_label_skip}&#41; || ! $self-&gt;{y_plot_values};
--- 1062,1078 ----
              my $label = $self-&gt;{y_labels}[$axis][$t];
              
              my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;0, $value, -$axis&#41;;
+             my $x1 = &#40;$axis == 1&#41; ? $self-&gt;{left} : $self-&gt;{right};
+             my $x2 = &#40;$axis == 1&#41; ? $self-&gt;{left}  + $tick_length:
+                                     $self-&gt;{right} - $tick_length;
              $x = &#40;$axis == 1&#41; ? $self-&gt;{left} : $self-&gt;{right};
!             
!             if &#40;$self-&gt;{y_long_ticks} &#38;&#38; $axis == 1&#41; # draw the gridline
              {
!                 $x1 += $tick_length;
!                 $x2 = $self-&gt;{right};
              }
+             $self-&gt;{graph}-&gt;line&#40;$x1, $y, $x2, $y, $self-&gt;{fgci}&#41; if $x1 != $x2;
  
              next 
                  if $t % &#40;$self-&gt;{y_label_skip}&#41; || ! $self-&gt;{y_plot_values};
***************
*** 1113,1118 ****
--- 1109,1119 ----
  {
      my $self = shift;
  
+     # Get tick length - set to zero if greater than zero and using long ticks
+     #                   as the gridlines will overwrite the ticks
+     my $tick_length = $self-&gt;{x_tick_length};
+     $tick_length = 0 if $self-&gt;{x_long_ticks} &#38;&#38; &#40;$self-&gt;{x_tick_length} &gt; 0&#41;;
+ 
      for &#40;my $i = 0; $i &lt; $self-&gt;{_data}-&gt;num_points; $i++&#41; 
      {
          my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;$i + 1, 0, 1&#41;;
***************
*** 1127,1142 ****
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             if &#40;$self-&gt;{x_long_ticks}&#41;
!             {
!                 $self-&gt;{graph}-&gt;line&#40;$self-&gt;{left}, $y, $self-&gt;{right}, $y, 
!                     $self-&gt;{fgci}&#41;;
!             }
!             else
              {
!                 $self-&gt;{graph}-&gt;line&#40; $x, $y, $x + $self-&gt;{x_tick_length}, $y,
!                     $self-&gt;{fgci}&#41;;
              }
          }
  
          # CONTRIB Damon Brodie for x_tick_offset
--- 1128,1142 ----
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             my $x1 = $x;
!             my $x2 = $x + $tick_length;
!             
!             if &#40;$self-&gt;{x_long_ticks}&#41; # draw the gridline
              {
!                 $x1 = $self-&gt;{left} + $tick_length;
!                 $x2 = $self-&gt;{right};
              }
+             $self-&gt;{graph}-&gt;line&#40;$x1, $y, $x2, $y, $self-&gt;{fgci}&#41; if $x1 != $x2;
          }
  
          # CONTRIB Damon Brodie for x_tick_offset
***************
*** 1174,1179 ****
--- 1174,1184 ----
  {
      my $self = shift;
  
+     # Get tick length - set to zero if greater than zero and using long ticks
+     #                   as the gridlines will overwrite the ticks
+     my $tick_length = $self-&gt;{x_tick_length};
+     $tick_length = 0 if $self-&gt;{x_long_ticks} &#38;&#38; &#40;$self-&gt;{x_tick_length} &gt; 0&#41;;
+ 
      for &#40;my $i = 0; $i &lt; $self-&gt;{_data}-&gt;num_points; $i++&#41; 
      {
          my &#40;$x, $y&#41; = $self-&gt;val_to_pixel&#40;$i + 1, 0, 1&#41;;
***************
*** 1188,1203 ****
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             if &#40;$self-&gt;{x_long_ticks}&#41;
!             {
!                 $self-&gt;{graph}-&gt;line&#40;$x, $self-&gt;{bottom}, $x, $self-&gt;{top},
!                     $self-&gt;{fgci}&#41;;
!             }
!             else
              {
!                 $self-&gt;{graph}-&gt;line&#40;$x, $y, $x, $y - $self-&gt;{x_tick_length},
!                     $self-&gt;{fgci}&#41;;
              }
          }
  
          # CONTRIB Damon Brodie for x_tick_offset
--- 1193,1207 ----
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             my $y1 = $y;
!             my $y2 = $y - $tick_length;
!             
!             if &#40;$self-&gt;{x_long_ticks}&#41; # draw the gridline
              {
!                 $y1 = $self-&gt;{bottom} - $tick_length;
!                 $y2 = $self-&gt;{top};
              }
+             $self-&gt;{graph}-&gt;line&#40;$x, $y1, $x, $y2, $self-&gt;{fgci}&#41; if $y1 != $y2;
          }
  
          # CONTRIB Damon Brodie for x_tick_offset
***************
*** 1274,1279 ****
--- 1278,1288 ----
  {
      my $self = shift;
  
+     # Get tick length - set to zero if greater than zero and using long ticks
+     #                   as the gridlines will overwrite the ticks
+     my $tick_length = $self-&gt;{x_tick_length};
+     $tick_length = 0 if $self-&gt;{x_long_ticks} &#38;&#38; &#40;$self-&gt;{x_tick_length} &gt; 0&#41;;
+ 
      for my $i &#40;0 .. $self-&gt;{x_tick_number}&#41;
      {
          my &#40;$value, $x, $y&#41;;
***************
*** 1297,1323 ****
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             if &#40;$self-&gt;{x_long_ticks}&#41;
!             {
!                 # XXX This mod needs to be done everywhere ticks are
!                 # drawn
!                 if &#40; $self-&gt;{x_tick_length} &gt;= 0 &#41; 
!                 {
!                     $self-&gt;{graph}-&gt;line&#40;$x, $self-&gt;{bottom}, 
!                         $x, $self-&gt;{top}, $self-&gt;{fgci}&#41;;
!                 } 
!                 else 
!                 {
!                     $self-&gt;{graph}-&gt;line&#40;
!                         $x, $self-&gt;{bottom} - $self-&gt;{x_tick_length}, 
!                         $x, $self-&gt;{top}, $self-&gt;{fgci}&#41;;
!                 }
!             }
!             else
              {
!                 $self-&gt;{graph}-&gt;line&#40;$x, $y, 
!                     $x, $y - $self-&gt;{x_tick_length}, $self-&gt;{fgci} &#41;;
              }
          }
  
          # If we have to skip labels, we&#39;ll do it here.
--- 1306,1320 ----
  
          if &#40;$self-&gt;{x_ticks}&#41;
          {
!             my $y1 = $y;
!             my $y2 = $y - $tick_length;
!             
!             if &#40;$self-&gt;{x_long_ticks}&#41; # draw the gridline
              {
!                 $y1 = $self-&gt;{bottom} - $tick_length;
!                 $y2 = $self-&gt;{top};
              }
+             $self-&gt;{graph}-&gt;line&#40;$x, $y1, $x, $y2, $self-&gt;{fgci}&#41; if $y1 != $y2;
          }
  
          # If we have to skip labels, we&#39;ll do it here.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-854039" href="/Public/Bug/Display.html?id=62889#txn-854039">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;11&nbsp;06:07:59&nbsp;2010</span>
    <span class="description">patermanns [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Allow ticks outside the axes with long_ticks [PATCH]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> patermanns [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/854039/442054/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/442054">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 249b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The subject should contain &#34;[PATCH]&#34; to show that a patch is supplied
and the severity should be &#34;Wishlist&#34;, not &#34;Normal&#34;. However, I do not
appear to have the necessary permissions to change these. It would be
great if someone would do that for me.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-854045" href="/Public/Bug/Display.html?id=62889#txn-854045">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;11&nbsp;06:48:30&nbsp;2010</span>
    <span class="description">patermanns [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> patermanns [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/854045/442061/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/442061">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 51b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I attach a short test program that shows the issue.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test_chartg03.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/854045/442062/test_chartg03.pl">Download test_chartg03.pl</a><br />
<span class="downloadcontenttype">text/x-perl 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl -w
use strict;
use GD::Graph::lines;

my $data1 = &#39;50,30,40,150,60,70,80,120,180,90,20,210&#39;;
my $data2 = &#39;400,545,450,600,750,400,1200,800,1000,500,900,1100&#39;;
my @x_axis_data = qw&#40;00:00 01:00 02:00 03:00
                     04:00 05:00 06:00 07:00
                     08:00 09:00 10:00 11:00
                     12:00 13:00 14:00 15:00
                     16:00 17:00 18:00 19:00
                     20:00 21:00 22:00 23:00
                     23:59 &#41;;
my @y1_axis_data = split&#40;/,/, $data1&#41;;
my @y2_axis_data = split&#40;/,/, $data2&#41;;
my @data = &#40; \@x_axis_data, \@y1_axis_data, \@y2_axis_data &#41;;
   
my $graph = GD::Graph::lines-&gt;new&#40;240, 175&#41;;
$graph-&gt;set&#40;
      title =&gt; &#39;Test 2 Axes&#39;,
      transparent =&gt; 0,
      dclrs =&gt; [ qw&#40;red blue&#41; ],
      # bgclr =&gt; &#39;white&#39;,
      line_width =&gt; 2,
      two_axes =&gt; 2,
      x_label_skip =&gt; 4,
      y_long_ticks =&gt; 1,
      y1_min_value =&gt; 0,
      y1_max_value =&gt; 250,
      y2_min_value =&gt; 400,
      y2_max_value =&gt; 1200,
      tick_length =&gt; -4
 &#41; or die $graph-&gt;error;
$graph-&gt;set_legend&#40;split&#40;/,/, &#39;Line1,Line2&#39;&#41;&#41;;

my $gd = $graph-&gt;plot&#40;\@data&#41; or die $graph-&gt;error;

open&#40;IMAGE,&#34;&gt;test_chart03.png&#34;&#41; or die &#34;Cannot open output file\n&#34;;
binmode&#40;IMAGE&#41;;
print IMAGE $gd-&gt;png;
close&#40;IMAGE&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1226808" href="/Public/Bug/Display.html?id=62889#txn-1226808">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;21&nbsp;16:51:53&nbsp;2013</span>
    <span class="description">RUZ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> New GD::Graph co-maintainer and new release on CPAN</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1226808/648164/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/648164">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 514b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

You recieved this message as you filed a bug report or feature request against GD::Graph module on CPAN.

My name is Ruslan and I&#39;m new co-maintainer of the module. I&#39;ve updated the module to 1.45 with doc changes and released it to CPAN. See distribution status [1].

I have TODO list for several releases, so if your ticket was a patch then turning it into a nice pull request may expedite inclusion :&#41;

[1] <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~ruz/GDGraph-1.45/Graph.pm#DISTRIBUTION_STATUS">http://search.cpan.org/~ruz/GDGraph-1.45/Graph.pm#DISTRIBUTION_STATUS</a></span>

-- 
Best regards, Ruslan.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1226809" href="/Public/Bug/Display.html?id=62889#txn-1226809">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;21&nbsp;16:51:53&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.376629</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
