<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #8417 for WebService-GoogleHack: Test requires interaction</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #8417 for WebService-GoogleHack: Test requires interaction</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/WebService-GoogleHack/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/WebService-GoogleHack/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/WebService-GoogleHack/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/WebService-GoogleHack/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/WebService-GoogleHack">WebService-GoogleHack CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">8417</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/WebService-GoogleHack/Active/">WebService-GoogleHack</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
corion [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
imacat [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35286-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-35287-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;13&nbsp;15:13:51&nbsp;2004</span>
    <span class="description">corion [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test requires interaction</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The distribution WebService::GoogleHack cannot be tested automatically by the CPAN testers, because it enters an infinite loop if the test is run unattended.

Please either remove the interaction, or check if there is a terminal connected &#40;C&lt;-t STDIN&gt;&#41; before looping again. Skipping the test&#40;s&#41; that require the interaction is the best course of action.

-max
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;22:31:21&nbsp;2008</span>
    <span class="description">imacat [...] cpan.org -  Cc IMACAT added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;22:33:46&nbsp;2008</span>
    <span class="description">imacat [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Use prompt&#40;&#41; in GoogleHack/t/1.t to Allow Automated Tests</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dear Pratheepan Raveendranathan,

    Hi.  This is imacat from Taiwan.  I found that the GoogleHack/t/1.t
of WebService-GoogleHack-0.15 goes into an infinite loop if nothing is
read from keyboard.  I would suggest that you use prompt&#40;&#41; instead of
directly obtain input from the STDIN, as suggested in the
ExtUtils::MakeMaker document, so that the it won&#39;t go into an infinite loop.

&lt;&lt;ExtUtils::MakeMaker&gt;&gt;
Other Handy Functions
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/perldoc?ExtUtils::MakeMaker#Other_Handy_Functions">http://search.cpan.org/perldoc?ExtUtils::MakeMaker#Other_Handy_Functions</a></span>

    I made a simple patch to WebService-GoogleHack-0.15, in the hope
that it helps.  Please tell me if you have any question, or if I could
be of any help.  Thank you.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

diff -u -r WebService.orig/GoogleHack/t/1.t WebService/GoogleHack/t/1.t
- --- WebService.orig/GoogleHack/t/1.t	2005-01-06 15:32:15.000000000 +0800
+++ WebService/GoogleHack/t/1.t	2008-04-16 10:27:15.000000000 +0800
@@ -11,6 +11,7 @@
 use constant TMPFILE =&gt; &#34;../Datafiles/initconfig.txt&#34;;
 
 use Test::More tests =&gt; 2;
+use ExtUtils::MakeMaker;
 BEGIN { use_ok&#40;&#39;WebService::GoogleHack&#39;&#41; };
 
 #########################
@@ -20,6 +21,7 @@
 	
 #Trying to make sure that i get the right key
 
+SKIP:
 while &#40;&#40;$ans ne &#34;y&#34;&#41; &#38;&#38; &#40;$ans ne &#34;yes&#34;&#41; &#41;
 {
 $flag=&#34;false&#34;;
@@ -33,8 +35,7 @@
 
 diag&#40;&#34;\n&#34;.&#34;Please Enter your Google API key here:\n&#34;&#41;;
 
- -$key = &lt;STDIN&gt;;
- -chomp $key;
+$key = prompt&#40;&#34;&#34;&#41;;
 #print $key;
 
 
@@ -45,24 +46,21 @@
 diag&#40;&#34;\n&#34;.     &#34;Please Enter the Entire Path to the wsdl File, \n EG, /home/public/GoogleSearch.wsdl&#34;.
      &#34;\n&#34;&#41;;
 
- -$wsdl = &lt;STDIN&gt;;
- -chomp $wsdl;
+$wsdl = prompt&#40;&#34;&#34;&#41;;
 diag&#40;&#34;\n&#34;.     &#34;This is the path to the WSDL file: $wsdl, Thanks&#34;.
      &#34;\n&#34;&#41;;
 
 diag&#40;&#34;\n&#34;.     &#34;Please Enter path to the directory in which the untarred GoogleHack resides , \n EG, /home/username/WebService/GoogleHack/&#34;.
      &#34;\n&#34;&#41;;
 
- -$basedir = &lt;STDIN&gt;;
- -chomp $basedir;
+$basedir = prompt&#40;&#34;&#34;&#41;;
 diag&#40;&#34;\n&#34;.     &#34;This is the path to the Google Hack directory: $basedir, Thanks&#34;.
      &#34;\n&#34;&#41;;
 
 diag&#40;&#34;\n&#34;.     &#34;Please Enter path to the directory in which the  Brill Tagger executable, \n EG, /home/username/RULE_BASED_TAGGER_V1.14/Bin_and_Data/&#34;.
      &#34;\n&#34;&#41;;
 
- -$tagger = &lt;STDIN&gt;;
- -chomp $tagger;
+$tagger = prompt&#40;&#34;&#34;&#41;;
 diag&#40;&#34;\n&#34;.     &#34;This is the path to the tagger executable: $tagger, Thanks&#34;.
      &#34;\n&#34;&#41;;
 
@@ -70,8 +68,11 @@
 diag&#40;&#34;\n&#34;.     &#34;Is the above information accurate y-yes, n-no&#34;.
      &#34;\n&#34;&#41;;
 
- -$ans = &lt;STDIN&gt;;
- -chomp $ans;
+$tagger = prompt&#40;&#34;&#34;&#41;;
+if &#40;!$target&#41; {
+    skip &#34;Cannot continue&#34;, 1;
+    exit 0;
+}
 
 $ans=lc&#40;$ans&#41;;
 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 &#40;GNU/Linux&#41;

iEYEARECAAYFAkgFZGIACgkQi9gubzC5S1yN8gCffbOgiESeuVAgZyaPboIRKe8j
GiAAniei15tm5YAAuera1TiUCsSnfXVm
=N0Q2
-----END PGP SIGNATURE-----
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;15&nbsp;22:33:48&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
