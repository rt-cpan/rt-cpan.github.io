<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80593 for Git-Repository: git 1.8.0 tests break</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80593 for Git-Repository: git 1.8.0 tests break</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Git-Repository/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Git-Repository/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Git-Repository/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Git-Repository/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Git-Repository">Git-Repository CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80593</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Git-Repository/Active/">Git-Repository</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jcrotty_alpine [...] hotmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-233462-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.27    </td>
  </tr>
  <tr id="CF-233463-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.28    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;18:09:33&nbsp;2012</span>
    <span class="description">jcrotty_alpine [...] hotmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> git 1.8.0 tests break</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">==&gt; Found dependencies: Git::Repository
Searching Git::Repository on cpanmetadb ...
--&gt; Working on Git::Repository
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/B/BO/BOOK/Git-Repository-1.27.tar.gz">http://www.cpan.org/authors/id/B/BO/BOOK/Git-Repository-1.27.tar.gz</a></span>
-&gt; OK
Unpacking Git-Repository-1.27.tar.gz
Entering Git-Repository-1.27
Checking configure dependencies from META.yml
Checking if you have Module::Build 0.38 ... Yes &#40;0.4003&#41;
Configuring Git-Repository-1.27
Running Build.PL
Created MYMETA.yml and MYMETA.json
Creating new &#39;Build&#39; script for &#39;Git-Repository&#39; version &#39;1.27&#39;
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have Test::More 0 ... Yes &#40;0.98&#41;
Checking if you have List::Util 0 ... Yes &#40;1.23&#41;
Checking if you have System::Command 1.05 ... Yes &#40;1.07&#41;
Checking if you have File::Spec 0 ... Yes &#40;3.33&#41;
Checking if you have File::Path 0 ... Yes &#40;2.08_01&#41;
Checking if you have IPC::Open3 0 ... Yes &#40;1.09&#41;
Checking if you have Cwd 0 ... Yes &#40;3.36&#41;
Building and testing Git-Repository-1.27
Building Git-Repository
# Tested Git::Repository 1.27, Perl 5.014002, /usr/local/perlbrew/perls/perl-
5.14.2/bin/perl
t/00-load.t ........ ok
# Testing _is_git with /usr/local/bin/git from 
/usr/local/jcrotty/repos/git/poma_tusko_backend/perl-
lib/.cpanm/work/1351893991.28751/Git-Repository-1.27
# Testing _is_git with ../../../../../../../../../bin/git from 
/usr/local/jcrotty/repos/git/poma_tusko_backend/perl-
lib/.cpanm/work/1351893991.28751/Git-Repository-1.27
t/05-try_git.t ..... ok
# git version 1.8.0
t/06-version.t ..... ok
t/07-version.t ..... ok
t/10-new_fail.t .... ok
warning: You appear to have cloned an empty repository. at t/11-create.t line 117.
warning: You appear to have cloned an empty repository. at t/11-create.t line 132.
warning: You appear to have cloned an empty repository. at t/11-create.t line 150.
t/11-create.t ...... ok
t/12-create.t ...... ok
t/13-sudo.t ........ ok
t/20-simple.t ...... ok
t/21-submodule.t ... ok
t/22-backward.t .... ok
t/23-quiet.t ....... ok
t/25-plugins.t ..... ok
t/30-log.t ......... ok

#   Failed test &#39;commit 1 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
# &#39;
#     expected: &#39;&#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 1 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
# 
# &#39;
#     expected: &#39;&#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 1 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
# &#39;
#     expected: &#39;&#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 1 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
# &#39;
#     expected: &#39;&#39;

#   Failed test &#39;commit 2 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;of data
# 
# Change-Id: I32d05f060bf19e6c08091bc88afc37b784b4c349
# &#39;
#     expected: &#39;of data
# &#39;

#   Failed test &#39;commit 1 body&#39;
#   at t/40-plugin-log.t line 53.
#          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
# &#39;
#     expected: &#39;&#39;
# Looks like you failed 11 tests of 86.
t/40-plugin-log.t .. 
Dubious, test returned 11 &#40;wstat 2816, 0xb00&#41;
Failed 11/86 subtests 
t/pod-coverage.t ... skipped: Test::Pod::Coverage 1.08 required for testing POD 
coverage
t/pod.t ............ skipped: Test::Pod 1.22 required for testing POD

Test Summary Report
-------------------
t/40-plugin-log.t &#40;Wstat: 2816 Tests: 86 Failed: 11&#41;
  Failed tests:  9, 17, 25, 37, 42, 50, 55, 63, 68, 76, 81
  Non-zero exit status: 11
Files=17, Tests=535,  3 wallclock secs &#40; 0.09 usr  0.02 sys +  1.09 cusr  0.64 csys =  
1.84 CPU&#41;
Result: FAIL
Failed 1/17 test programs. 11/535 subtests failed.
-&gt; FAIL Installing Git::Repository failed. See /usr/local/tusko/fbl/perl-
lib/.cpanm/build.log for details.
-&gt; FAIL Bailing out the installation for Dist-Zilla-Plugin-ChangeStats-Git-0.1.3. Retry 
with --prompt or --force.
Already tried Git::Repository. Skipping.
-&gt; FAIL Bailing out the installation for Dist-Zilla-PluginBundle-YANICK-0.12.0. Retry 
with --prompt or --force.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;19:44:51&nbsp;2012</span>
    <span class="description">book [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #80593] git 1.8.0 tests break</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Nov 2012 00:44:40 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Joseph Crotty via RT &lt;bug-Git-Repository [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Philippe Bruhat &#40;BooK&#41;&#34; &lt;book [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Nov 02, 2012 at 06:09:34PM -0400, Joseph Crotty via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; #   Failed test &#39;commit 1 body&#39;
&gt; #   at t/40-plugin-log.t line 53.
&gt; #          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
&gt; # &#39;
&gt; #     expected: &#39;&#39;
</div>
It seems the Change-Id line is added by external tools like Gerrit.

Is that installed on your system? Any way I could detect this?

-- 
 Philippe Bruhat &#40;BooK&#41;

 When it is time for voting-      /     In the West or in the East-
 Why must we always settle for-   /     The man we hate the least?
                                &#40;Intro poem to Groo The Wanderer #108 &#40;Epic&#41;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;19:44:52&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;20:08:51&nbsp;2012</span>
    <span class="description">book [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #80593] git 1.8.0 tests break</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Nov 2012 01:08:42 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Joseph Crotty via RT &lt;bug-Git-Repository [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Philippe Bruhat &#40;BooK&#41;&#34; &lt;book [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat, Nov 03, 2012 at 12:44:40AM +0100, Philippe Bruhat &#40;BooK&#41; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, Nov 02, 2012 at 06:09:34PM -0400, Joseph Crotty via RT wrote:
<div class="message-stanza open">&gt; &gt; 
&gt; &gt; #   Failed test &#39;commit 1 body&#39;
&gt; &gt; #   at t/40-plugin-log.t line 53.
&gt; &gt; #          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
&gt; &gt; # &#39;
&gt; &gt; #     expected: &#39;&#39;
</div>&gt; 
&gt; It seems the Change-Id line is added by external tools like Gerrit.
&gt; 
&gt; Is that installed on your system? Any way I could detect this?
&gt; 
</div>
After some more research, and some help from the #git irc channel, it
seems that this could be a gerrit-related hook that is in the templates
directory for new repositories.

If you could confirm that you have such templates installed, that would
help me adapt my tests for this case, and avoid future failures.

If you&#39;re worried about Git::Repository itself, there&#39;s no issue,
it should work just fine.

-- 
 Philippe Bruhat &#40;BooK&#41;

 If you doubt a friend, you are not being a friend.
                                    &#40;Moral from Groo The Wanderer #62 &#40;Epic&#41;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;02&nbsp;23:20:50&nbsp;2012</span>
    <span class="description">jcrotty_alpine [...] hotmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jcrotty_alpine [...] hotmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Nov 02 20:08:51 2012, BOOK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat, Nov 03, 2012 at 12:44:40AM +0100, Philippe Bruhat &#40;BooK&#41; wrote:
<div class="message-stanza open">&gt; &gt; On Fri, Nov 02, 2012 at 06:09:34PM -0400, Joseph Crotty via RT wrote:
<div class="message-stanza open">&gt; &gt; &gt; 
&gt; &gt; &gt; #   Failed test &#39;commit 1 body&#39;
&gt; &gt; &gt; #   at t/40-plugin-log.t line 53.
&gt; &gt; &gt; #          got: &#39;Change-Id: I87d6318b88327f8f573b9784777d9018ca0eb660
&gt; &gt; &gt; # &#39;
&gt; &gt; &gt; #     expected: &#39;&#39;
</div>&gt; &gt; 
&gt; &gt; It seems the Change-Id line is added by external tools like Gerrit.
&gt; &gt; 
&gt; &gt; Is that installed on your system? Any way I could detect this?
&gt; &gt; 
</div>&gt; 
&gt; After some more research, and some help from the #git irc channel, it
&gt; seems that this could be a gerrit-related hook that is in the templates
&gt; directory for new repositories.
&gt; 
&gt; If you could confirm that you have such templates installed, that would
&gt; help me adapt my tests for this case, and avoid future failures.
&gt; 
&gt; If you&#39;re worried about Git::Repository itself, there&#39;s no issue,
&gt; it should work just fine.
&gt; 
</div>
Yes, I am using Gerrit. The hook is always located here:

.git/hooks/commit-msg

I have my unix user setup with a ~/.git_template/hooks/commit-msg file and my 
.gitconfig with the following:

snip
[init]
    templatedir = ~/.git_template
snip

That way whenever a new repo is created the gerrit commit-msg hook is always copied 
to .git/hooks/ from my templatedir. We use Gerrit for all our work repos and this 
reduces setup time per repo.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;03&nbsp;04:07:41&nbsp;2012</span>
    <span class="description">book [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #80593] git 1.8.0 tests break</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 3 Nov 2012 09:07:30 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Joseph Crotty via RT &lt;bug-Git-Repository [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Philippe Bruhat &#40;BooK&#41;&#34; &lt;book [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Nov 02, 2012 at 11:20:50PM -0400, Joseph Crotty via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 
&gt; &gt; If you could confirm that you have such templates installed, that would
&gt; &gt; help me adapt my tests for this case, and avoid future failures.
&gt; &gt; 
</div>&gt; 
&gt; Yes, I am using Gerrit. The hook is always located here:
&gt; 
&gt; .git/hooks/commit-msg
&gt; 
&gt; I have my unix user setup with a ~/.git_template/hooks/commit-msg file and my 
&gt; .gitconfig with the following:
&gt; 
&gt; snip
&gt; [init]
&gt;     templatedir = ~/.git_template
&gt; snip
&gt; 
&gt; That way whenever a new repo is created the gerrit commit-msg hook is always copied 
&gt; to .git/hooks/ from my templatedir. We use Gerrit for all our work repos and this 
&gt; reduces setup time per repo.
&gt; 
</div>
OK, so this is a case that my tests weren&#39;t prepared for. I&#39;ll adapt the tests
so that they remove the commit-msg hook from the test repositories.

Thanks for the bug report and the explanation!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt; If you&#39;re worried about Git::Repository itself, there&#39;s no issue,
&gt; &gt; it should work just fine.
</div>
And I confirm that the issue was with the test &#40;that were not taking hooks
added by templates into account&#41; and not with the module itself.

-- 
 Philippe Bruhat &#40;BooK&#41;

 Your life is the greatest show of all. Do not let anyone else direct.
                                    &#40;Moral from Groo The Wanderer #84 &#40;Epic&#41;&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;05&nbsp;02:35:55&nbsp;2012</span>
    <span class="description">book [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;05&nbsp;02:35:56&nbsp;2012</span>
    <span class="description">book [...] cpan.org -  Fixed in 1.28 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
