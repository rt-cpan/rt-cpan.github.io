<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77536 for IO-Socket-IP: The Module dies on Unexpected Parameters to Constructor</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77536 for IO-Socket-IP: The Module dies on Unexpected Parameters to Constructor</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IO-Socket-IP">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IO-Socket-IP">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IO-Socket-IP">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IO-Socket-IP">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-Socket-IP">IO-Socket-IP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77536</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IO-Socket-IP">IO-Socket-IP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
STEPHANJ [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-234790-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-234791-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.11    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




rt77536-2.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1086090/570830/rt77536-2.patch">
Fri Jun 01 11:06:33 2012 (1.1k) by leonerd-cpan [...] leonerd.org.uk
</a>
</font></li>
</ul>


rt77536.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1085424/570446/rt77536.patch">
Wed May 30 17:13:58 2012 (3.9k) by leonerd-cpan [...] leonerd.org.uk
</a>
</font></li>
</ul>


rt77536.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1085997/570778/rt77536.pl">
Fri Jun 01 07:13:11 2012 (398b) by leonerd-cpan [...] leonerd.org.uk
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=77536">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085237" href="/Public/Bug/Display.html?id=77536#txn-1085237">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;13:15:36&nbsp;2012</span>
    <span class="description">STEPHANJ [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> The Module dies on Unexpected Parameters to Constructor</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085237/570325/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570325">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Today i had to suffer from an nasty bug with your module..

I tried to use IO::Socket::SSL with IO::Socket::IP.

As soon as i made it work my app crashed with the following error:

perl -E &#39;use IO::Socket::IP; use IO::Socket::SSL;
$IO::Socket::SSL::ISA[0] = &#39;IO::Socket::IP&#39;; my $test =
IO::Socket::SSL-&gt;new&#40;SSL_ =&gt;1&#41;;&#39;
Unexpected keys - SSL_, SSL_cert_file, SSL_check_crl,
SSL_honor_cipher_order, SSL_key_file, SSL_server, SSL_use_cert,
SSL_verify_mode, SSL_version at -e line 1

The workaround is just to load the Module into IO::Socket::SSL.

You see as as soon as IO::Socket::SSL is constructed the underlying
constructor of IO::Socket::IP dies cause it doesn&#39;t like the Keys!

Another Example:

perl -MIO::Socket::IP -E &#39;my $ip = IO::Socket::IP-&gt;new&#40;blabla =&gt; 1&#41;;&#39;
Unexpected keys - blabla at -e line 1


This is a critical bug and i either request you fixing this behavior and
just don&#39;t care about these keys&#40;don&#39;t doing the checks&#41;, or to remove
the &#34;drop in replacement&#34; advert from the Modules Text, because in this
state it can&#39;t be called a drop in at all!

As Reference here the Functionality of both Examples when using
IO::Socket::INET:

perl -E &#39;use IO::Socket::SSL; my $test = IO::Socket::SSL-&gt;new&#40;SSL_ =&gt;1&#41;;&#39;

perl -MIO::Socket::INET -E &#39;my $ip = IO::Socket::INET-&gt;new&#40;blabla =&gt;
1&#41;;&#39;      

It doesn&#39;t complain, and the same i expect from your module.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085413" href="/Public/Bug/Display.html?id=77536#txn-1085413">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;17:05:01&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085413/570437/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570437">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 938b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 30 13:15:36 2012, STEPHANJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is a critical bug and i either request you fixing this behavior and
&gt; just don&#39;t care about these keys&#40;don&#39;t doing the checks&#41;, or to remove
&gt; the &#34;drop in replacement&#34; advert from the Modules Text, because in this
&gt; state it can&#39;t be called a drop in at all!
&gt; 
&gt; As Reference here the Functionality of both Examples when using
&gt; IO::Socket::INET:
&gt; 
&gt; perl -E &#39;use IO::Socket::SSL; my $test = IO::Socket::SSL-&gt;new&#40;SSL_ =&gt;1&#41;;&#39;
&gt; 
&gt; perl -MIO::Socket::INET -E &#39;my $ip = IO::Socket::INET-&gt;new&#40;blabla =&gt;
&gt; 1&#41;;&#39;      
&gt; 
&gt; It doesn&#39;t complain, and the same i expect from your module.
</div>
Ahhh yes. I wasn&#39;t aware that ::INET had that behaviour; my naturally defensive 
coding just had the checking for unrecognised keys in the constructor.

That is somewhat unfortunate but it looks like to remain compatible it will 
indeed have to not care also here. I&#39;ll make that change.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085415" href="/Public/Bug/Display.html?id=77536#txn-1085415">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;17:05:02&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085424" href="/Public/Bug/Display.html?id=77536#txn-1085424">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;17:13:58&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085424/570445/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570445">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 48b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached patch should fix this.

-- 

Paul Evans
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt77536.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085424/570446/rt77536.patch">Download rt77536.patch</a><br />
<span class="downloadcontenttype">text/x-diff 3.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">=== modified file &#39;lib/IO/Socket/IP.pm&#39;
--- lib/IO/Socket/IP.pm	2012-05-08 19:05:06 +0000
+++ lib/IO/Socket/IP.pm	2012-05-30 21:11:32 +0000
@@ -306,7 +306,8 @@
 
 If neither C&lt;Type&gt; nor C&lt;Proto&gt; hints are provided, a default of
 C&lt;SOCK_STREAM&gt; and C&lt;IPPROTO_TCP&gt; respectively will be set, to maintain
-compatibility with C&lt;IO::Socket::INET&gt;.
+compatibility with C&lt;IO::Socket::INET&gt;. Other named arguments that are not
+recognised are ignored.
 
 If the constructor fails, it will set C&lt;$@&gt; to an appropriate error message;
 this may be from C&lt;$!&gt; or it may be some other string; not every failure
@@ -370,20 +371,17 @@
    my @localinfos;
    my @peerinfos;
 
-   $hints{flags} = &#40; delete $arg-&gt;{GetAddrInfoFlags} || 0 &#41; | $AI_ADDRCONFIG;
-
-   # Check for definedness of args, but delete them anyway even if they&#39;re
-   # not defined. Then the only remaining keys will be unrecognised ones.
-
-   if&#40; defined&#40; my $family = delete $arg-&gt;{Family} &#41; &#41; {
+   $hints{flags} = &#40; $arg-&gt;{GetAddrInfoFlags} || 0 &#41; | $AI_ADDRCONFIG;
+
+   if&#40; defined&#40; my $family = $arg-&gt;{Family} &#41; &#41; {
       $hints{family} = $family;
    }
 
-   if&#40; defined&#40; my $type = delete $arg-&gt;{Type} &#41; &#41; {
+   if&#40; defined&#40; my $type = $arg-&gt;{Type} &#41; &#41; {
       $hints{socktype} = $type;
    }
 
-   if&#40; defined&#40; my $proto = delete $arg-&gt;{Proto} &#41; &#41; {
+   if&#40; defined&#40; my $proto = $arg-&gt;{Proto} &#41; &#41; {
       unless&#40; $proto =~ m/^\d+$/ &#41; {
          my $protonum = getprotobyname&#40; $proto &#41;;
          defined $protonum or croak &#34;Unrecognised protocol $proto&#34;;
@@ -407,7 +405,7 @@
       $hints{socktype} = SOCK_DGRAM  if $hints{protocol} == IPPROTO_UDP;
    }
 
-   if&#40; my $info = delete $arg-&gt;{LocalAddrInfo} &#41; {
+   if&#40; my $info = $arg-&gt;{LocalAddrInfo} &#41; {
       ref $info eq &#34;ARRAY&#34; or croak &#34;Expected &#39;LocalAddrInfo&#39; to be an ARRAY ref&#34;;
       @localinfos = @$info;
    }
@@ -434,17 +432,15 @@
          return;
       }
    }
-   delete $arg-&gt;{LocalHost};
-   delete $arg-&gt;{LocalService};
 
-   if&#40; my $info = delete $arg-&gt;{PeerAddrInfo} &#41; {
+   if&#40; my $info = $arg-&gt;{PeerAddrInfo} &#41; {
       ref $info eq &#34;ARRAY&#34; or croak &#34;Expected &#39;PeerAddrInfo&#39; to be an ARRAY ref&#34;;
       @peerinfos = @$info;
    }
    elsif&#40; defined $arg-&gt;{PeerHost} or defined $arg-&gt;{PeerService} &#41; {
-      defined&#40; my $host = delete $arg-&gt;{PeerHost} &#41; or
+      defined&#40; my $host = $arg-&gt;{PeerHost} &#41; or
          croak &#34;Expected &#39;PeerHost&#39;&#34;;
-      defined&#40; my $service = delete $arg-&gt;{PeerService} &#41; or
+      defined&#40; my $service = $arg-&gt;{PeerService} &#41; or
          croak &#34;Expected &#39;PeerService&#39;&#34;;
 
       local $1; # Placate a taint-related bug; [perl #67962]
@@ -463,22 +459,20 @@
          return;
       }
    }
-   delete $arg-&gt;{PeerHost};
-   delete $arg-&gt;{PeerService};
 
    my @sockopts_enabled;
-   push @sockopts_enabled, SO_REUSEADDR if delete $arg-&gt;{ReuseAddr};
-   push @sockopts_enabled, SO_REUSEPORT if delete $arg-&gt;{ReusePort};
-   push @sockopts_enabled, SO_BROADCAST if delete $arg-&gt;{Broadcast};
+   push @sockopts_enabled, SO_REUSEADDR if $arg-&gt;{ReuseAddr};
+   push @sockopts_enabled, SO_REUSEPORT if $arg-&gt;{ReusePort};
+   push @sockopts_enabled, SO_BROADCAST if $arg-&gt;{Broadcast};
 
-   my $listenqueue = delete $arg-&gt;{Listen};
+   my $listenqueue = $arg-&gt;{Listen};
 
    croak &#34;Cannot Listen with a PeerHost&#34; if defined $listenqueue and @peerinfos;
 
-   my $blocking = delete $arg-&gt;{Blocking};
+   my $blocking = $arg-&gt;{Blocking};
    defined $blocking or $blocking = 1;
 
-   my $v6only = delete $arg-&gt;{V6Only};
+   my $v6only = $arg-&gt;{V6Only};
 
    # IO::Socket::INET defines this key. IO::Socket::IP always implements the
    # behaviour it requests, so we can ignore it, unless the caller is for some
@@ -486,9 +480,6 @@
    if&#40; defined $arg-&gt;{MultiHomed} and !$arg-&gt;{MultiHomed} &#41; {
       croak &#34;Cannot disable the MultiHomed parameter&#34;;
    }
-   delete $arg-&gt;{MultiHomed};
-
-   keys %$arg and croak &#34;Unexpected keys - &#34; . join&#40; &#34;, &#34;, sort keys %$arg &#41;;
 
    my @infos;
    foreach my $local &#40; @localinfos ? @localinfos : {} &#41; {

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085426" href="/Public/Bug/Display.html?id=77536#txn-1085426">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;17:13:58&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085945" href="/Public/Bug/Display.html?id=77536#txn-1085945">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;02:28:01&nbsp;2012</span>
    <span class="description">STEPHANJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085945/570735/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570735">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 93b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

This code segfaults:
<span class="clickylink"><a target="new" rel="nofollow" href="http://paste.stejau.de/?20">http://paste.stejau.de/?20</a></span>

Without the override everything works.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085947" href="/Public/Bug/Display.html?id=77536#txn-1085947">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;02:28:02&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1085997" href="/Public/Bug/Display.html?id=77536#txn-1085997">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;07:13:11&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085997/570777/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570777">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 555b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 01 02:28:01 2012, STEPHANJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This code segfaults:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://paste.stejau.de/?20">http://paste.stejau.de/?20</a></span>
</div>
&#40;code attached for future reference&#41;

Indeed it does.

$ perl -Mblib rt77536.pl
Segmentation fault

That&#39;s rather worrying, as IO::Socket::IP is pureperl. I suspect this 
fault comes out of IO::Socket::SSL, perhaps somewhere it is expecting to 
definitely get an IPv4 address and gets confused by the wrong length of 
an IPv6 one. I&#39;ll take a look but at this point I suspect the bug is 
likely to be in IO::Socket::SSL, not IO::Socket::IP.

-- 

Paul Evans
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt77536.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1085997/570778/rt77536.pl">Download rt77536.pl</a><br />
<span class="downloadcontenttype">text/x-perl 398b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use IO::Socket::IP;
use IO::Socket::SSL;


$IO::Socket::SSL::ISA[0] = &#39;IO::Socket::IP&#39;;

my $client = IO::Socket::SSL-&gt;new&#40;&#34;twitter.com:https&#34;&#41;  || warn &#34;I encountered a problem: &#34;.IO::Socket::SSL::errstr&#40;&#41;;
$client-&gt;verify_hostname&#40; &#39;twitter.com&#39;,&#39;http&#39; &#41;   || die &#34;hostname verification failed&#34;;

print $client-&gt;opened&#40;&#41;,&#34;\n&#34;;
print $client &#34;GET / HTTP/1.0\r\n\r\n&#34;;
print &lt;$client&gt;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086007" href="/Public/Bug/Display.html?id=77536#txn-1086007">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;07:19:16&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086007/570783/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570783">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hmm. The plot thickens:

$ strace perl -Mblib rt77536.pl
...
socket&#40;PF_INET, SOCK_STREAM, IPPROTO_TCP&#41; = 3
ioctl&#40;3, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fff93d8f570&#41; = -1 ENOTTY &#40;Inappropriate ioctl for device&#41;
lseek&#40;3, 0, SEEK_CUR&#41;                   = -1 ESPIPE &#40;Illegal seek&#41;
ioctl&#40;3, SNDCTL_TMR_TIMEBASE or TCGETS, 0x7fff93d8f570&#41; = -1 ENOTTY &#40;Inappropriate ioctl for device&#41;
lseek&#40;3, 0, SEEK_CUR&#41;                   = -1 ESPIPE &#40;Illegal seek&#41;
fcntl&#40;3, F_SETFD, FD_CLOEXEC&#41;           = 0
connect&#40;3, {sa_family=AF_INET, sin_port=htons&#40;443&#41;, sin_addr=inet_addr&#40;&#34;199.59.150.39&#34;&#41;}, 16&#41; = 0
write&#40;2, &#34;Constructed IO::Socket::SSL=GLOB&#34;..., 44Constructed IO::Socket::SSL=GLOB&#40;0x2215678&#41;
&#41; = 44
--- SIGSEGV &#40;Segmentation fault&#41; @ 0 &#40;0&#41; ---
+++ killed by SIGSEGV +++
Segmentation fault


So it is working to IPv4, not IPv6.


$ gdb --args perl -Mblib rt77536.pl
GNU gdb &#40;GDB&#41; 7.4.1-debian
...
&#40;gdb&#41; run
Starting program: /usr/bin/perl -Mblib rt77536.pl
[Thread debugging using libthread_db enabled]
Using host libthread_db library &#34;/lib/x86_64-linux-gnu/libthread_db.so.1&#34;.
Constructed IO::Socket::SSL=GLOB&#40;0xb106b0&#41;

Program received signal SIGSEGV, Segmentation fault.
0x00007ffff5c3fe10 in X509_get_subject_name &#40;&#41; from /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
&#40;gdb&#41; bt
#0  0x00007ffff5c3fe10 in X509_get_subject_name &#40;&#41; from /usr/lib/x86_64-linux-gnu/libcrypto.so.1.0.0
#1  0x00007ffff619d117 in XS_Net__SSLeay_X509_get_subject_name &#40;&#41; from /usr/lib/perl5/auto/Net/SSLeay/SSLeay.so
#2  0x00007ffff7b1572f in Perl_pp_entersub &#40;&#41; from /usr/lib/libperl.so.5.14
#3  0x00007ffff7b0cbc6 in Perl_runops_standard &#40;&#41; from /usr/lib/libperl.so.5.14
#4  0x00007ffff7aae26a in perl_run &#40;&#41; from /usr/lib/libperl.so.5.14
#5  0x0000000000400f19 in main &#40;&#41;

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086080" href="/Public/Bug/Display.html?id=77536#txn-1086080">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;10:51:08&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086080/570823/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570823">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have made progress.

IO::Socket::INET&#39;s new/configure methods eventually call $self-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;connect&#40;&#41; to set up the connection. IO::Socket::SSL overrides the 
</div>connect method to insert its own SSL setup code in there. This is what 
provides a number of state keys on the %{*$self} hash, including 
_SSL_object.

IO::Socket::IP&#39;s configure method doesn&#39;t call $self-&gt;connect&#40;&#41; because 
of the way that IO::Socket::connect masks certain types of error 
relating to nonblocking, that IO::Socket::IP needs to use in order to 
make nonblocking connections correctly.

Because of this, the SSL connection setup is never performed when using 
IO::Socket::SSL via ::IP.

A further and unrelated problem is that your monkeypatch hackery of 
setting @IO::Socket::SSL::ISA after it has been constructed will break a 
lot of things. All over the SSL.pm code, it uses SUPER:: dispatches. 
These are resolved at compiletime, the moment the file is &#39;use&#39;d; 
changing @ISA at runtime will not fix these up. The only safe way to use 
IO::Socket::IP with IO::Socket::SSL is to edit the latter to use the 
former. I am in the process of writing that logic now.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086090" href="/Public/Bug/Display.html?id=77536#txn-1086090">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;11:06:33&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086090/570829/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570829">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 01 10:51:08 2012, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I have made progress.
&gt; 
</div>...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; IO::Socket::IP&#39;s configure method doesn&#39;t call $self-&gt;connect&#40;&#41; because 
&gt; of the way that IO::Socket::connect masks certain types of error 
&gt; relating to nonblocking, that IO::Socket::IP needs to use in order to 
&gt; make nonblocking connections correctly.
&gt; 
&gt; Because of this, the SSL connection setup is never performed when using 
&gt; IO::Socket::SSL via ::IP.
</div>
Attached also is a patch that fixes this one.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; A further and unrelated problem is that your monkeypatch hackery of 
&gt; setting @IO::Socket::SSL::ISA after it has been constructed will break a 
&gt; lot of things. All over the SSL.pm code, it uses SUPER:: dispatches. 
&gt; These are resolved at compiletime, the moment the file is &#39;use&#39;d; 
&gt; changing @ISA at runtime will not fix these up. The only safe way to use 
&gt; IO::Socket::IP with IO::Socket::SSL is to edit the latter to use the 
&gt; former. I am in the process of writing that logic now.
</div>
I in fact already reported a bug to write such a fix:

  <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75218">https://rt.cpan.org/Ticket/Display.html?id=75218</a></span>

I&#39;ll get to work on that now.

-- 

Paul Evans
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> rt77536-2.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086090/570830/rt77536-2.patch">Download rt77536-2.patch</a><br />
<span class="downloadcontenttype">text/x-diff 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">=== modified file &#39;lib/IO/Socket/IP.pm&#39;
--- lib/IO/Socket/IP.pm	2012-05-30 21:11:55 +0000
+++ lib/IO/Socket/IP.pm	2012-06-01 15:01:00 +0000
@@ -560,12 +560,7 @@
       }
 
       if&#40; defined&#40; my $addr = $info-&gt;{peeraddr} &#41; &#41; {
-         # It seems that IO::Socket hides EINPROGRESS errors, making them look
-         # like a success. This is annoying here.
-         # Instead of putting up with its frankly-irritating intentional
-         # breakage of useful APIs I&#39;m just going to end-run around it and
-         # call CORE::connect&#40;&#41; directly
-         if&#40; CORE::connect&#40; $self, $addr &#41; &#41; {
+         if&#40; $self-&gt;connect&#40; $addr &#41; &#41; {
             $! = 0;
             return 1;
          }
@@ -590,7 +585,14 @@
 sub connect
 {
    my $self = shift;
-   return $self-&gt;SUPER::connect&#40; @_ &#41; if @_;
+
+   # It seems that IO::Socket hides EINPROGRESS errors, making them look like
+   # a success. This is annoying here.
+   # Instead of putting up with its frankly-irritating intentional breakage of
+   # useful APIs I&#39;m just going to end-run around it and call CORE::connect&#40;&#41;
+   # directly
+
+   return CORE::connect&#40; $self, $_[0] &#41; if @_;
 
    $! = 0, return 1 if $self-&gt;fileno and defined $self-&gt;peername;
 

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086121" href="/Public/Bug/Display.html?id=77536#txn-1086121">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;12:09:14&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086121/570854/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570854">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">These patches now released to CPAN in version 0.11.

On Fri Jun 01 11:06:33 2012, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; A further and unrelated problem is that your monkeypatch hackery of 
&gt; &gt; setting @IO::Socket::SSL::ISA after it has been constructed will break a 
&gt; &gt; lot of things. All over the SSL.pm code, it uses SUPER:: dispatches. 
&gt; &gt; These are resolved at compiletime, the moment the file is &#39;use&#39;d; 
&gt; &gt; changing @ISA at runtime will not fix these up. The only safe way to use 
&gt; &gt; IO::Socket::IP with IO::Socket::SSL is to edit the latter to use the 
&gt; &gt; former. I am in the process of writing that logic now.
</div>&gt; 
&gt; I in fact already reported a bug to write such a fix:
&gt; 
&gt;   <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=75218">https://rt.cpan.org/Ticket/Display.html?id=75218</a></span>
&gt; 
&gt; I&#39;ll get to work on that now.
</div>
Patch now in place in the above bug.

That patch + IO::Socket::IP 0.11 makes this all work fine. With both modules 
installed, IO::Socket::SSL will automatically use IO::Socket::IP if it can, 
only falling back on IO::Socket::INET6 if the former isn&#39;t available. I hope 
to get IO::Socket::IP into core quite soon so that should be solved.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086123" href="/Public/Bug/Display.html?id=77536#txn-1086123">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;01&nbsp;12:09:15&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086319" href="/Public/Bug/Display.html?id=77536#txn-1086319">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;11:27:08&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1086319/570969/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/570969">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 34b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Released as 0.11.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086321" href="/Public/Bug/Display.html?id=77536#txn-1086321">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;11:27:09&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086322" href="/Public/Bug/Display.html?id=77536#txn-1086322">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;11:27:09&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1086324" href="/Public/Bug/Display.html?id=77536#txn-1086324">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;11:27:19&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Fixed in 0.11 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.734282</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
