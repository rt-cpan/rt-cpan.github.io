<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #84984 for POE-Component-IRC: poco-irc does not work well with OFTC</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #84984 for POE-Component-IRC: poco-irc does not work well with OFTC</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/POE-Component-IRC/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/POE-Component-IRC/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/POE-Component-IRC/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/POE-Component-IRC/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/POE-Component-IRC">POE-Component-IRC CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">84984</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">patched</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/POE-Component-IRC/Active/">POE-Component-IRC</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
tincho [...] debian.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26508-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26509-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




autojoin.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1209983/638899/autojoin.patch">
Thu May 09 14:36:33 2013 (1.2k) by hinrik.sig [...] gmail.com
</a>
</font></li>
</ul>


kgb-bot-not-working.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1209952/638876/kgb-bot-not-working.log">
Thu May 09 13:45:20 2013 (531.4k) by tincho [...] debian.org
</a>
</font></li>
</ul>


kgb-bot.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1209952/638875/kgb-bot.log">
Thu May 09 13:45:20 2013 (29.3k) by tincho [...] debian.org
</a>
</font></li>
</ul>


pocoirc.log<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1209952/638877/pocoirc.log">
Thu May 09 13:45:20 2013 (21.1k) by tincho [...] debian.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;01&nbsp;22:46:05&nbsp;2013</span>
    <span class="description">tincho [...] debian.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> poco-irc does not work well with OFTC</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 2 May 2013 03:45:50 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE-Component-IRC [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martín Ferrari &lt;tincho [...] debian.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Sorry that I cannot provide a detailed bug report, as I don&#39;t really
understand the nature of the problem.

SInce a few versions ago, PoCo-IRC-NickServID changed the way it
autenticates, and that seems to break oftc authentication in OFTC. It
is very difficult to tell exactly what&#39;s going on, as I am using this
in a bot, but I think it is related to the change in the hooks to
which it responds.

I see that the nick gets protected by nickserv &#40;a ghost user is
created&#41;, and my bot gets a guestXXXX nick. With the older version I
was using &#40;debian stable&#41;, it worked, although it seemed to depend on
some of the nickserv settings

-- 
Martín Ferrari
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;09&nbsp;12:33:18&nbsp;2013</span>
    <span class="description">hinrik.sig [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="https://gist.github.com/hinrik/5548593">https://gist.github.com/hinrik/5548593</a></span>

Works for me. Can you install App::Pocoirc, run the command specified in that gist &#40;with your nick&#41;, and show me the output?

Can you find out which version you were using earlier?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;09&nbsp;12:33:18&nbsp;2013</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;09&nbsp;13:45:20&nbsp;2013</span>
    <span class="description">tincho [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84984] poco-irc does not work well with OFTC</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 9 May 2013 18:45:05 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE-Component-IRC [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martín Ferrari &lt;tincho [...] debian.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On 9 May 2013 17:33, Hinrik Orn Sigurdsson via RT
&lt;bug-POE-Component-IRC@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://gist.github.com/hinrik/5548593">https://gist.github.com/hinrik/5548593</a></span>
&gt;
&gt; Works for me. Can you install App::Pocoirc, run the command specified in that gist &#40;with your nick&#41;, and show me the output?
</div>
I&#39;ve tried this, and it gave me an insight. With pocoirc works, so I
tried to see if this was a problem in our application
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://alioth.debian.org/projects/kgb&#41;">http://alioth.debian.org/projects/kgb&#41;</a></span> and produced a minimum config
to show you the equivalent log. And then I saw that it worked too
&#40;with the new lib&#41;! It seems that it is related to the number of
channels it joins. When joining only one channel it works, but our bot
is joining currently 32 channels in OFTC, plus two in Freenode.

See the logs attached, in the -not-working example, the IDENTIFY
command is sent too late. Might this be an issue related to
throttling? I see it sends first the JOIN commands, so maybe the
throttling already took hold, and that&#39;s why it does not identify in
time..

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Can you find out which version you were using earlier?
</div>
I am using 6.35, because if I upgrade the authenticaton does not work any more.

-- 
Martín Ferrari
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209952/638875/kgb-bot.log">Download kgb-bot.log</a><br />
<span class="downloadcontenttype">application/octet-stream 29.3k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209952/638876/kgb-bot-not-working.log">Download kgb-bot-not-working.log</a><br />
<span class="downloadcontenttype">application/octet-stream 531.4k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1209952/638877/pocoirc.log">Download pocoirc.log</a><br />
<span class="downloadcontenttype">application/octet-stream 21.1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;09&nbsp;14:36:33&nbsp;2013</span>
    <span class="description">hinrik.sig [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think the problem here is that a few releases ago, I changed the NickServID and AutoJoin plugins to work better together. Namely, so that it would only join channels after you&#39;re identified &#40;which is nice if you use a cloak&#41; and after turning on the IDENTIFY-MSG on the server &#40;if available&#41;.

OFTC changes your nickname to Guest if it takes you too long to identify, and since later releases try to identify slightly later, and your script joins all channels as soon as possible &#40;after irc_001&#41;, it was taking too long to join the channels before the server responded to your identification request.

The solution be to just let the AutoJoin plugin join channels for you, so things will happen in the right order. I attached a patch which does that.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> autojoin.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Index: script/kgb-bot
===================================================================
--- script/kgb-bot  &#40;revision 876&#41;
+++ script/kgb-bot  &#40;working copy&#41;
@@ -87,6 +87,7 @@
     Connsvc =&gt; &#34;Connecter&#34;,
     NSsvc   =&gt; &#34;NickServID&#34;,
     NRsvc   =&gt; &#34;NickReclaim&#34;,
+    AJsvc   =&gt; &#34;AutoJoin&#34;,
 &#41;;
 our %supported_protos = &#40;
     &#34;0&#34; =&gt; 1,
@@ -951,6 +952,11 @@
     $alias =~ s/^irc_//;
     my $opts = $KGB::config-&gt;{networks}{$alias};
 
+    if &#40;$opts-&gt;{channels}&#41; {
+        $irc_object-&gt;plugin_add&#40; $KGB::const{AJsvc},
+            POE::Component::IRC::Plugin::AutoJoin-&gt;new&#40;Channels =&gt; $opts-&gt;{channels}&#41; &#41;;
+    }
+
     $irc_object-&gt;plugin_add&#40;
         $KGB::const{NSsvc},
         POE::Component::IRC::Plugin::NickServID-&gt;new&#40;
@@ -1043,9 +1049,6 @@
     my $channels = $KGB::config-&gt;{networks}{$net}{channels};
     if &#40;$channels&#41; {
         KGB-&gt;out&#40;&#34;Joining @$channels...\n&#34;&#41;;
-
-        # In any irc_* events SENDER will be the PoCo-IRC session
-        $kernel-&gt;post&#40; $sender =&gt; join =&gt; $_ &#41; for @$channels;
     }
     undef;
 }
@@ -1430,6 +1433,7 @@
 use POE;
 use POE::Component::Server::SOAP;
 use POE::Component::IRC::State;
+use POE::Component::IRC::Plugin::AutoJoin;
 use POE::Component::IRC::Plugin::BotAddressed;
 use POE::Component::IRC::Plugin::Connector;
 use POE::Component::IRC::Plugin::NickReclaim;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;09&nbsp;14:36:33&nbsp;2013</span>
    <span class="description">hinrik.sig [...] gmail.com -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;10&nbsp;11:05:53&nbsp;2013</span>
    <span class="description">tincho [...] debian.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #84984] poco-irc does not work well with OFTC</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 10 May 2013 16:05:35 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE-Component-IRC [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Martín Ferrari &lt;tincho [...] debian.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 9 May 2013 19:36, Hinrik Orn Sigurdsson via RT
&lt;bug-POE-Component-IRC@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=84984">https://rt.cpan.org/Ticket/Display.html?id=84984</a></span> &gt;
&gt;
&gt; I think the problem here is that a few releases ago, I changed the NickServID and AutoJoin plugins to work better together. Namely, so that it would only join channels after you&#39;re identified &#40;which is nice if you use a cloak&#41; and after turning on the IDENTIFY-MSG on the server &#40;if available&#41;.
</div>
I&#39;ve seen that, and imagined it might be the cause.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OFTC changes your nickname to Guest if it takes you too long to identify, and since later releases try to identify slightly later, and your script joins all channels as soon as possible &#40;after irc_001&#41;, it was taking too long to join the channels before the server responded to your identification request.
&gt;
&gt; The solution be to just let the AutoJoin plugin join channels for you, so things will happen in the right order. I attached a patch which does that.
</div>
You nailed it, this works like a charm!

Thank you very much, sir!

-- 
Martín Ferrari
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
