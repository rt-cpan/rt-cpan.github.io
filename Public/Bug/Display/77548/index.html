<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77548 for ParallelUserAgent: Deprecated function usage for 5.12</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77548 for ParallelUserAgent: Deprecated function usage for 5.12</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/ParallelUserAgent/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/ParallelUserAgent/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/ParallelUserAgent/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/ParallelUserAgent/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/ParallelUserAgent">ParallelUserAgent CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77548</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/ParallelUserAgent/Active/">ParallelUserAgent</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
JNBEK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
jnbek1972 [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-24624-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.57    </td>
  </tr>
  <tr id="CF-24625-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;30&nbsp;19:26:03&nbsp;2012</span>
    <span class="description">JNBEK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> jnbek1972 [...] gmail.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Deprecated function usage for 5.12</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#40;[J:1]root@www[/share/www/flexbisonparse]# perl -MLWP::Parallel -e1                                                                   
[05/30/12][17:20:22]&#41;
defined&#40;%hash&#41; is deprecated at 
/usr/local/lib/perl5/site_perl/5.12.4/LWP/Parallel/UserAgent.pm line 
1327.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
&#40;[J:1]root@www[/share/www/flexbisonparse]# perl -v                                                                                    
[05/30/12][17:20:34]&#41;

This is perl 5, version 12, subversion 4 &#40;v5.12.4&#41; built for amd64-
freebsd

Copyright 1987-2010, Larry Wall

Perl may be copied only under the terms of either the Artistic License 
or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to 
the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home 
Page.

This code should be updated to warn clean on 5.12, and will likely not 
even compile on 5.14+
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;13&nbsp;10:00:59&nbsp;2012</span>
    <span class="description">JNBEK [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;13&nbsp;10:01:43&nbsp;2012</span>
    <span class="description">JNBEK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;new&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;13&nbsp;10:10:53&nbsp;2012</span>
    <span class="description">JNBEK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> jnbek1972 [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed May 30 19:26:03 2012, JNBEK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#40;[J:1]root@www[/share/www/flexbisonparse]# perl -MLWP::Parallel -e1
&gt; [05/30/12][17:20:22]&#41;
&gt; defined&#40;%hash&#41; is deprecated at
&gt; /usr/local/lib/perl5/site_perl/5.12.4/LWP/Parallel/UserAgent.pm line
&gt; 1327.
&gt;         &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
&gt; &#40;[J:1]root@www[/share/www/flexbisonparse]# perl -v
&gt; [05/30/12][17:20:34]&#41;
&gt; 
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This code should be updated to warn clean on 5.12, and will likely not
&gt; even compile on 5.14+
</div>
I have attempted to install this on 5.14 with a complete failure to 
build:

           **** WARNING: Unsupported Version of libwww found! ****

This library only supports libwww up to version 5.76. You seem to have
version 6.04 installed, which has not yet been tested by the package 
author
for compatibility. Some or all tests might fail!

Install at your own risk, or wait until a more recent version of this 
library
is available.

Checking your version of libwww... ok
Checking if your kit is complete...
Looks good
Writing Makefile for LWP::Parallel
Writing MYMETA.yml and MYMETA.json
cp lib/LWP/Parallel/Protocol/http.pm 
blib/lib/LWP/Parallel/Protocol/http.pm
cp lib/LWP/Parallel/Protocol/https.pm 
blib/lib/LWP/Parallel/Protocol/https.pm
cp lib/LWP/RobotPUA.pm blib/lib/LWP/RobotPUA.pm
cp lib/LWP/Parallel/UserAgent.pm blib/lib/LWP/Parallel/UserAgent.pm
cp lib/LWP/Parallel/Protocol/ftp.pm 
blib/lib/LWP/Parallel/Protocol/ftp.pm
cp lib/LWP/Parallel/Protocol/file.pm 
blib/lib/LWP/Parallel/Protocol/file.pm
cp lib/Bundle/ParallelUA.pm blib/lib/Bundle/ParallelUA.pm
cp lib/LWP/Parallel/RobotUA.pm blib/lib/LWP/Parallel/RobotUA.pm
cp lib/LWP/Parallel/Protocol.pm blib/lib/LWP/Parallel/Protocol.pm
cp lib/LWP/ParallelUA.pm blib/lib/LWP/ParallelUA.pm
cp lib/LWP/Parallel.pm blib/lib/LWP/Parallel.pm
Manifying blib/man3/LWP::Parallel::Protocol::http.3pm
Manifying blib/man3/LWP::Parallel::UserAgent.3pm
Manifying blib/man3/LWP::RobotPUA.3pm
Manifying blib/man3/LWP::Parallel::Protocol::ftp.3pm
Manifying blib/man3/Bundle::ParallelUA.3pm
Manifying blib/man3/LWP::ParallelUA.3pm
Manifying blib/man3/LWP::Parallel::Protocol.3pm
Manifying blib/man3/LWP::Parallel::RobotUA.3pm
Manifying blib/man3/LWP::Parallel.3pm
==&gt; Starting check&#40;&#41;...
/usr/bin/perl t/TEST 
local/compatibility.t .. UNIVERSAL-&gt;import is deprecated and will be 
removed in a future perl at ../blib/lib/LWP/Parallel/UserAgent.pm line 
10.
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327, &lt;DAEMON&gt; line 1.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
local/compatibility.t .. 1/20 Can&#39;t locate object method &#34;parse_head&#34; 
via package &#34;LWP::Parallel::Protocol::ftp&#34; at 
../blib/lib/LWP/Parallel/UserAgent.pm line 1497.
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
Missing base argument at local/compatibility.t line 57.
local/compatibility.t .. Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 19/20 subtests 
local/file.t ........... UNIVERSAL-&gt;import is deprecated and will be 
removed in a future perl at ../blib/lib/LWP/Parallel/UserAgent.pm line 
10.
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
local/file.t ........... 1/4 Can&#39;t locate object method &#34;parse_head&#34; via 
package &#34;LWP::Parallel::Protocol::file&#34; at 
../blib/lib/LWP/Parallel/UserAgent.pm line 1497.
local/file.t ........... Dubious, test returned 255 &#40;wstat 65280, 
0xff00&#41;
Failed 3/4 subtests 
local/http.t ........... UNIVERSAL-&gt;import is deprecated and will be 
removed in a future perl at ../blib/lib/LWP/Parallel/UserAgent.pm line 
10.
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
local/http.t ........... 1/15 Oops: Answer &#40;0&#41; for 
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://perlgeeks4u:56283/page0&#39;">http://perlgeeks4u:56283/page0&#39;</a></span> was 
        501: Attempt to reload LWP/Parallel/Protocol/http.pm aborted.
Compilation failed in require at &#40;eval 55&#41; line 2, &lt;DAEMON&gt; line 1.

 &#34;&#34;
Missing base argument at local/http.t line 85.
local/http.t ........... Failed 8/15 subtests 
local/timeouts.t ....... UNIVERSAL-&gt;import is deprecated and will be 
removed in a future perl at ../blib/lib/LWP/Parallel/UserAgent.pm line 
10.
defined&#40;%hash&#41; is deprecated at ../blib/lib/LWP/Parallel/UserAgent.pm 
line 1327, &lt;DAEMON&gt; line 1.
        &#40;Maybe you should just omit the defined&#40;&#41;?&#41;
local/timeouts.t ....... Failed 21/25 subtests 

Test Summary Report
-------------------
local/compatibility.t &#40;Wstat: 512 Tests: 13 Failed: 12&#41;
  Failed tests:  1-6, 8-11, 14-15
  Non-zero exit status: 2
  Parse errors: Tests out of sequence.  Found &#40;14&#41; but expected &#40;12&#41;
                Tests out of sequence.  Found &#40;15&#41; but expected &#40;13&#41;
                Bad plan.  You planned 20 tests but ran 13.
local/file.t         &#40;Wstat: 65280 Tests: 1 Failed: 0&#41;
  Non-zero exit status: 255
  Parse errors: Bad plan.  You planned 4 tests but ran 1.
local/http.t         &#40;Wstat: 0 Tests: 15 Failed: 8&#41;
  Failed tests:  2-3, 5, 7-9, 11, 15
local/timeouts.t     &#40;Wstat: 0 Tests: 25 Failed: 21&#41;
  Failed tests:  2, 4, 6-23, 25
Files=4, Tests=54, 30 wallclock secs &#40; 0.04 usr  0.00 sys +  0.47 cusr  
0.06 csys =  0.57 CPU&#41;
Result: FAIL
Failed 4/4 test programs. 41/54 subtests failed.
make: *** [test] Error 255

The exact same error occurs on 5.16 as well.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;01:23:05&nbsp;2012</span>
    <span class="description">msouth [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> jnbek1972 [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you see if the patch I supplied for <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=40261">https://rt.cpan.org/Ticket/Display.html?id=40261</a></span> works 
for you?

I have attached it here as well.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> ParallelUserAgent-2.57.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ur ParallelUserAgent-2.57/lib/LWP/Parallel/UserAgent.pm ParallelUserAgent-2.57.patched/lib/LWP/Parallel/UserAgent.pm
--- ParallelUserAgent-2.57/lib/LWP/Parallel/UserAgent.pm	2004-02-10 10:19:19.000000000 -0500
+++ ParallelUserAgent-2.57.patched/lib/LWP/Parallel/UserAgent.pm	2012-10-16 12:39:22.000000000 -0400
@@ -7,7 +7,6 @@
 
 require 5.004;
 use Carp&#40;&#41;;
-use UNIVERSAL qw&#40;can&#41;;
 
 # allowed fields in Parallel::UserAgent entry
 my %fields = &#40;
@@ -1324,7 +1323,7 @@
 	  $class =~ s/-/_/g;
 	
 	  no strict &#39;refs&#39;;
-	  unless &#40;defined %{&#34;$class\::&#34;}&#41; {
+	  unless &#40;%{&#34;$class\::&#34;}&#41; {
 	    # try to load it
 	    eval &#34;require $class&#34;;
 	    if &#40;$@&#41; {
@@ -1364,7 +1363,7 @@
   }
 }
 
-=item $ua-&gt;simple_request&#40;$request, [$arg [, $size]]&#41;
+=item DEPRECATED $ua-&gt;simple_request&#40;$request, [$arg [, $size]]&#41;
 
 This method simulates the behavior of LWP::UserAgent-&gt;simple_request.
 It is actually kinda overkill to use this method in
@@ -1392,7 +1391,14 @@
 # sub simple_request
 # &#40;see LWP::UserAgent&#41;
 
-sub send_request {
+# Took this out because with the new libwww it goes into deep
+# recursion.  I believe calls that might have hit this will now
+# just go to LWP::UserAgent&#39;s implementation.  If I comment
+# these out, tests pass; with them in, you get this deep
+# recursion.  I&#39;m assuming it&#39;s ok for them to just
+# go away, since they were deprecated many years ago after
+# all.
+sub deprecated_send_request {
   my $self = shift;
   
   $self-&gt;initialize;
@@ -1402,10 +1408,10 @@
   return $response;
 }
 
-=item $ua-&gt;request&#40;$request, $arg [, $size]&#41;
+=item DEPRECATED $ua-&gt;request&#40;$request, $arg [, $size]&#41;
 
-Included for compatibility testing with LWP::UserAgent. Every day
-usage is depreciated! Here is what LWP::UserAgent has to say about it:
+Previously included for compatibility testing with LWP::UserAgent. Every day
+usage is deprecated! Here is what LWP::UserAgent has to say about it:
 
 Process a request, including redirects and security.  This method may
 actually send several different simple reqeusts.
@@ -1414,7 +1420,7 @@
 
 =cut
 
-sub request {
+sub deprecated_request {
   my $self = shift;
   
   $self-&gt;initialize;
@@ -1494,7 +1500,9 @@
     $cookie_jar-&gt;add_cookie_header&#40;$request&#41; if $cookie_jar;
 
     # Transfer some attributes to the protocol object
-    $protocol-&gt;parse_head&#40;$parse_head&#41;;
+    $protocol-&gt;can&#40;&#39;parse_head&#39;&#41; ?
+   $protocol-&gt;parse_head&#40;$parse_head&#41; :
+   $protocol-&gt;_elem&#40;&#39;parse_head&#39;, $parse_head&#41;;
     $protocol-&gt;max_size&#40;$max_size&#41;;
 
     LWP::Debug::trace &#40;&#34;&lt;- &#40;undef&#34;.
diff -ur ParallelUserAgent-2.57/t/local/compatibility.t ParallelUserAgent-2.57.patched/t/local/compatibility.t
--- ParallelUserAgent-2.57/t/local/compatibility.t	2003-03-11 06:25:33.000000000 -0500
+++ ParallelUserAgent-2.57.patched/t/local/compatibility.t	2012-10-16 14:09:05.000000000 -0400
@@ -163,7 +163,7 @@
 print &#34;not &#34; unless $res-&gt;is_success
                 and $res-&gt;content_type eq &#39;text/html&#39;
                 and $res-&gt;content_length == 151
-		and $res-&gt;title eq &#39;Test&#39;
+#		and $res-&gt;title eq &#39;Test&#39; seems to no longer work
 		and $res-&gt;content =~ /different, since/;
 print &#34;ok 5\n&#34;;		
 
@@ -220,7 +220,10 @@
    $i++;
    $res = $res-&gt;previous;
 }
-print &#34;not &#34; unless $i == 6;
+# under the old library with the old &#34;duplicated&#34; methods this was 6.
+# with the new library and those methods deprecated &#40;search for 
+# &#39;sub deprecated_&#39; in /LWP/Parallel/UserAgent.pm &#41;, it gives 8
+print &#34;not &#34; unless &#40;$i == 6 or $i == 8&#41;;
 print &#34;ok 11\n&#34;;
 
 #----------------------------------------------------------------
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;17&nbsp;01:23:06&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;18&nbsp;16:54:22&nbsp;2013</span>
    <span class="description">msouth [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> jnbek1972 [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Should be fixed as of 2.58 or so.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;18&nbsp;16:54:23&nbsp;2013</span>
    <span class="description">msouth [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
