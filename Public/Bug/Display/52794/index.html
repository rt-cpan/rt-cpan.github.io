<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #52794 for PAR-Packer: Multiple tests failing on strawberry perl</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #52794 for PAR-Packer: Multiple tests failing on strawberry perl</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">52794</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">45 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
javierous [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.001    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;15&nbsp;16:10:07&nbsp;2009</span>
    <span class="description">javierous [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Multiple tests failing on strawberry perl</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m using stock strawberry perl 5.8.9.3 on a windows xp vm. I&#39;m seeing a lot of similar fails while running tests for the module &#40;output 
below&#41;. I&#39;ve seen the same behavior on strawberry perl 5.10.1.0. I&#39;m not sure what to look at here, any help would be appreciated.

Thanks in advance.

t/20-pp.t ................ Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\vendor\li
b . C:\strawberry\perl\lib C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\strawb
erry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.

t/20-pp.t ................ 1/34 #   Failed test &#39;pp_hello_1
# [430]
# Test 1_0 The command string &#34; a.exe &#34; in directory C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\autom
ated_pp_test\pp_switch_tests\temp1,did not produce :: &#34;hello&#34; ::
# Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [ program.pl ]
#        a.exe [ -B|-b ] [-Ooutfile] src.par
# Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains: C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
# END failed--call queue aborted at -e line 969. ::
# End of [430] results
#
# Did pp &#34;hello.pl&#34;  produce a.exe?
# &#39;
#   at automated_pp_test.pl line 7022.
Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\vendor\lib . C:\strawberry\perl\lib
C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\strawberry\perl\vendor\lib C:\str
awberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.
t/20-pp.t ................ 2/34 Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\vend
or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.

t/20-pp.t ................ 3/34 #   Failed test &#39;pp_minus_o_foo_foo_dot_pl_bar_dot_pl
# [430]
# Test 3_0 The command string &#34; foo.exe &#34; in directory C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\aut
omated_pp_test\pp_switch_tests\temp0,did not produce :: &#34;hello foo&#34; ::
# Instead, it produced :: Usage: foo.exe [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [ program.pl ]
#        foo.exe [ -B|-b ] [-Ooutfile] src.par
# Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains: C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
# END failed--call queue aborted at -e line 969. ::
# End of [430] results
#
# Did pp -o foo.exe &#34;foo.pl&#34; &#34;bar.pl&#34;  produce foo.exe?
# &#39;
#   at automated_pp_test.pl line 7115.
t/20-pp.t ................ 5/34 Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\vend
or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.
t/20-pp.t ................ 6/34 Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\vend
or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.
t/20-pp.t ................ 10/34 Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains: C:\strawberry\perl\ven
dor\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\
strawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.

t/20-pp.t ................ 11/34 #   Failed test &#39;pp_minus_e_print_hello
# [430]
# Test 11_0 The command string &#34; a.exe &#34; in directory C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\auto
mated_pp_test\pp_switch_tests\temp2,did not produce :: &#34;hello&#34; ::
# Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [ -Mmodule ] [ src.par ] [ program.pl ]
#        a.exe [ -B|-b ] [-Ooutfile] src.par
# Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains: C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
# END failed--call queue aborted at -e line 969. ::
# End of [430] results
#
# Did pp -e &#34;print \&#34;hello\n\&#34;;&#34;  produce a.exe?
# &#39;
#   at automated_pp_test.pl line 7495.
[...]
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;17&nbsp;19:47:05&nbsp;2009</span>
    <span class="description">cedric.nelson [...] gmail.com -  Correspondence added</span>
    <span class="time-taken">45 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Javier,

I have run into this exact same issue today, while trying to get PAR
installed so that I could update the binary of a program a co-worker of
mine needed. I don&#39;t have a solution to the bug, but I have gotten a
work-around in place.

What you do is:

1. Use CPAN in strawberry perl to attempt to install PAR::Packer.
2. As its running &#40;and failing&#41; the tests, cancel out of the build with
Ctrl-C.
3. Use CPAN in strawberry perl to attempt to install PAR::Filter::PodStrip.
4. When PAR::Filter::PodStrip is running, it&#39;ll create a PodStrip.pm
file in the build directory.
5. Cancel out of the build with Ctrl-C.
6. Search for the PodStrip.pm file in the c:\strawberry directory &#40;I
just used windows search&#41;, and copy that into a new directory structure
that you&#39;ll manually create: C:\strawberry\perl\lib\PAR\Filter\

Copying the file into that directory will place PodStrip.pm in the @INC
path, which is what the PAR::Packer build was complaining about in the
first place.

8. Use CPAN in strawberry perl to install PAR::Packer. This time it&#39;ll
succeed.


Cedric


On Tue Dec 15 13:10:07 2009, javs wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m using stock strawberry perl 5.8.9.3 on a windows xp vm. I&#39;m seeing
&gt; a lot of similar fails while running tests for the module &#40;output
&gt; below&#41;. I&#39;ve seen the same behavior on strawberry perl 5.10.1.0. I&#39;m
&gt; not sure what to look at here, any help would be appreciated.
&gt; 
&gt; Thanks in advance.
&gt; 
&gt; t/20-pp.t ................ Can&#39;t locate PAR/Filter/PodStrip.pm in @INC
&gt; &#40;@INC contains: C:\strawberry\perl\vendor\li
&gt; b . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\strawb
&gt; erry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 754,
&gt; &lt;_FH&gt; chunk 1.
&gt; 
&gt; t/20-pp.t ................ 1/34 #   Failed test &#39;pp_hello_1
&gt; # [430]
&gt; # Test 1_0 The command string &#34; a.exe &#34; in directory
&gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\autom
&gt; ated_pp_test\pp_switch_tests\temp1,did not produce :: &#34;hello&#34; ::
&gt; # Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [
&gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; #        a.exe [ -B|-b ] [-Ooutfile] src.par
&gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; # END failed--call queue aborted at -e line 969. ::
&gt; # End of [430] results
&gt; #
&gt; # Did pp &#34;hello.pl&#34;  produce a.exe?
&gt; # &#39;
&gt; #   at automated_pp_test.pl line 7022.
&gt; Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains:
&gt; C:\strawberry\perl\vendor\lib . C:\strawberry\perl\lib
&gt; C:\strawberry\perl\lib C:\strawberry\perl\site\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\vendor\lib C:\str
&gt; awberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.
&gt; t/20-pp.t ................ 2/34 Can&#39;t locate PAR/Filter/PodStrip.pm in
&gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line
&gt; 754, &lt;_FH&gt; chunk 1.
&gt; 
&gt; t/20-pp.t ................ 3/34 #   Failed test
&gt; &#39;pp_minus_o_foo_foo_dot_pl_bar_dot_pl
&gt; # [430]
&gt; # Test 3_0 The command string &#34; foo.exe &#34; in directory
&gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\aut
&gt; omated_pp_test\pp_switch_tests\temp0,did not produce :: &#34;hello foo&#34; ::
&gt; # Instead, it produced :: Usage: foo.exe [ -Alib.par ] [ -Idir ] [
&gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; #        foo.exe [ -B|-b ] [-Ooutfile] src.par
&gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; # END failed--call queue aborted at -e line 969. ::
&gt; # End of [430] results
&gt; #
&gt; # Did pp -o foo.exe &#34;foo.pl&#34; &#34;bar.pl&#34;  produce foo.exe?
&gt; # &#39;
&gt; #   at automated_pp_test.pl line 7115.
&gt; t/20-pp.t ................ 5/34 Can&#39;t locate PAR/Filter/PodStrip.pm in
&gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line
&gt; 754, &lt;_FH&gt; chunk 1.
&gt; t/20-pp.t ................ 6/34 Can&#39;t locate PAR/Filter/PodStrip.pm in
&gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line
&gt; 754, &lt;_FH&gt; chunk 1.
&gt; t/20-pp.t ................ 10/34 Can&#39;t locate PAR/Filter/PodStrip.pm
&gt; in @INC &#40;@INC contains: C:\strawberry\perl\ven
&gt; dor\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\
&gt; strawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line
&gt; 754, &lt;_FH&gt; chunk 1.
&gt; 
&gt; t/20-pp.t ................ 11/34 #   Failed test
&gt; &#39;pp_minus_e_print_hello
&gt; # [430]
&gt; # Test 11_0 The command string &#34; a.exe &#34; in directory
&gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\auto
&gt; mated_pp_test\pp_switch_tests\temp2,did not produce :: &#34;hello&#34; ::
&gt; # Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [
&gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; #        a.exe [ -B|-b ] [-Ooutfile] src.par
&gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; # END failed--call queue aborted at -e line 969. ::
&gt; # End of [430] results
&gt; #
&gt; # Did pp -e &#34;print \&#34;hello\n\&#34;;&#34;  produce a.exe?
&gt; # &#39;
&gt; #   at automated_pp_test.pl line 7495.
&gt; [...]
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;17&nbsp;19:47:06&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;18&nbsp;09:28:35&nbsp;2009</span>
    <span class="description">javierous [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Cedric,

Thanks for your reply. I wasn&#39;t aware that PodStrip was splitted, I 
thought the problem was something else since I was seeing podstrip 
in the build dir.

I ended up installing it in a similar way than the one you 
described, however I&#39;m seeing more problems, but I&#39;m not sure if 
they are related:

C:\&gt;pp -e &#34;$,=&#39;,&#39;; print @INC&#34;

C:\&gt;a.exe
C:\DOCUME~1\ADMINI~1\LOCALS~1\Temp\par-Administrator\cache-
502cac0d5b1ad473cfe241cccadb5692950dfaa5\inc,CODE&#40;0x1174
cec&#41;,CODE&#40;0x1174fdc&#41;
C:\&gt;move strawberry strawberry_
        1 file&#40;s&#41; moved.

C:\&gt;a.exe
Can&#39;t locate PAR/Heavy.pm in @INC &#40;@INC contains: CODE&#40;0xaab61c&#41; 
C:\strawberry\perl\vendor\lib .&#41; at -e line 345.

Thanks,
Javier.

On Thu Dec 17 19:47:05 2009, colakong wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Javier,
&gt; 
&gt; I have run into this exact same issue today, while trying to get 
</div>PAR
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; installed so that I could update the binary of a program a co-
</div>worker of
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; mine needed. I don&#39;t have a solution to the bug, but I have gotten 
</div>a
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; work-around in place.
&gt; 
&gt; What you do is:
&gt; 
&gt; 1. Use CPAN in strawberry perl to attempt to install PAR::Packer.
&gt; 2. As its running &#40;and failing&#41; the tests, cancel out of the build 
</div>with
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Ctrl-C.
&gt; 3. Use CPAN in strawberry perl to attempt to install 
</div>PAR::Filter::PodStrip.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 4. When PAR::Filter::PodStrip is running, it&#39;ll create a 
</div>PodStrip.pm
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; file in the build directory.
&gt; 5. Cancel out of the build with Ctrl-C.
&gt; 6. Search for the PodStrip.pm file in the c:\strawberry directory 
</div>&#40;I
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; just used windows search&#41;, and copy that into a new directory 
</div>structure
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; that you&#39;ll manually create: C:\strawberry\perl\lib\PAR\Filter\
&gt; 
&gt; Copying the file into that directory will place PodStrip.pm in the 
</div>@INC
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; path, which is what the PAR::Packer build was complaining about in 
</div>the
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; first place.
&gt; 
&gt; 8. Use CPAN in strawberry perl to install PAR::Packer. This time 
</div>it&#39;ll
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; succeed.
&gt; 
&gt; 
&gt; Cedric
&gt; 
&gt; 
&gt; On Tue Dec 15 13:10:07 2009, javs wrote:
<div class="message-stanza open">&gt; &gt; I&#39;m using stock strawberry perl 5.8.9.3 on a windows xp vm. I&#39;m 
</div></div>seeing
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; a lot of similar fails while running tests for the module 
</div></div>&#40;output
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; below&#41;. I&#39;ve seen the same behavior on strawberry perl 5.10.1.0. 
</div></div>I&#39;m
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; not sure what to look at here, any help would be appreciated.
&gt; &gt; 
&gt; &gt; Thanks in advance.
&gt; &gt; 
&gt; &gt; t/20-pp.t ................ Can&#39;t locate PAR/Filter/PodStrip.pm 
</div></div>in @INC
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &#40;@INC contains: C:\strawberry\perl\vendor\li
&gt; &gt; b . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib 
</div></div>C:\strawb
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; erry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e line 
</div></div>754,
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;_FH&gt; chunk 1.
&gt; &gt; 
&gt; &gt; t/20-pp.t ................ 1/34 #   Failed test &#39;pp_hello_1
&gt; &gt; # [430]
&gt; &gt; # Test 1_0 The command string &#34; a.exe &#34; in directory
&gt; &gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\autom
&gt; &gt; ated_pp_test\pp_switch_tests\temp1,did not produce :: &#34;hello&#34; ::
&gt; &gt; # Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [
&gt; &gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; &gt; #        a.exe [ -B|-b ] [-Ooutfile] src.par
&gt; &gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; &gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; &gt; # END failed--call queue aborted at -e line 969. ::
&gt; &gt; # End of [430] results
&gt; &gt; #
&gt; &gt; # Did pp &#34;hello.pl&#34;  produce a.exe?
&gt; &gt; # &#39;
&gt; &gt; #   at automated_pp_test.pl line 7022.
&gt; &gt; Can&#39;t locate PAR/Filter/PodStrip.pm in @INC &#40;@INC contains:
&gt; &gt; C:\strawberry\perl\vendor\lib . C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\lib C:\strawberry\perl\site\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\vendor\lib C:\str
&gt; &gt; awberry\perl\vendor\lib&#41; at -e line 754, &lt;_FH&gt; chunk 1.
&gt; &gt; t/20-pp.t ................ 2/34 Can&#39;t locate 
</div></div>PAR/Filter/PodStrip.pm in
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; &gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; &gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e 
</div></div>line
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 754, &lt;_FH&gt; chunk 1.
&gt; &gt; 
&gt; &gt; t/20-pp.t ................ 3/34 #   Failed test
&gt; &gt; &#39;pp_minus_o_foo_foo_dot_pl_bar_dot_pl
&gt; &gt; # [430]
&gt; &gt; # Test 3_0 The command string &#34; foo.exe &#34; in directory
&gt; &gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\aut
&gt; &gt; omated_pp_test\pp_switch_tests\temp0,did not produce :: &#34;hello 
</div></div>foo&#34; ::
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; # Instead, it produced :: Usage: foo.exe [ -Alib.par ] [ -Idir ] 
</div></div>[
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; &gt; #        foo.exe [ -B|-b ] [-Ooutfile] src.par
&gt; &gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; &gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; &gt; # END failed--call queue aborted at -e line 969. ::
&gt; &gt; # End of [430] results
&gt; &gt; #
&gt; &gt; # Did pp -o foo.exe &#34;foo.pl&#34; &#34;bar.pl&#34;  produce foo.exe?
&gt; &gt; # &#39;
&gt; &gt; #   at automated_pp_test.pl line 7115.
&gt; &gt; t/20-pp.t ................ 5/34 Can&#39;t locate 
</div></div>PAR/Filter/PodStrip.pm in
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; &gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; &gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e 
</div></div>line
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 754, &lt;_FH&gt; chunk 1.
&gt; &gt; t/20-pp.t ................ 6/34 Can&#39;t locate 
</div></div>PAR/Filter/PodStrip.pm in
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; @INC &#40;@INC contains: C:\strawberry\perl\vend
&gt; &gt; or\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\s
&gt; &gt; trawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e 
</div></div>line
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 754, &lt;_FH&gt; chunk 1.
&gt; &gt; t/20-pp.t ................ 10/34 Can&#39;t locate 
</div></div>PAR/Filter/PodStrip.pm
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; in @INC &#40;@INC contains: C:\strawberry\perl\ven
&gt; &gt; dor\lib . C:\strawberry\perl\lib C:\strawberry\perl\lib
&gt; &gt; C:\strawberry\perl\site\lib C:\strawberry\perl\site\lib C:\
&gt; &gt; strawberry\perl\vendor\lib C:\strawberry\perl\vendor\lib&#41; at -e 
</div></div>line
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; 754, &lt;_FH&gt; chunk 1.
&gt; &gt; 
&gt; &gt; t/20-pp.t ................ 11/34 #   Failed test
&gt; &gt; &#39;pp_minus_e_print_hello
&gt; &gt; # [430]
&gt; &gt; # Test 11_0 The command string &#34; a.exe &#34; in directory
&gt; &gt; C:\strawberry\cpan\build\PAR-Packer-1.001-AEzo6Y\contrib\auto
&gt; &gt; mated_pp_test\pp_switch_tests\temp2,did not produce :: &#34;hello&#34; 
</div></div>::
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; # Instead, it produced :: Usage: a.exe [ -Alib.par ] [ -Idir ] [
&gt; &gt; -Mmodule ] [ src.par ] [ program.pl ]
&gt; &gt; #        a.exe [ -B|-b ] [-Ooutfile] src.par
&gt; &gt; # Can&#39;t locate File/Temp.pm in @INC &#40;@INC contains:
&gt; &gt; C:\strawberry\perl\vendor\lib .&#41; at -e line 161.
&gt; &gt; # END failed--call queue aborted at -e line 969. ::
&gt; &gt; # End of [430] results
&gt; &gt; #
&gt; &gt; # Did pp -e &#34;print \&#34;hello\n\&#34;;&#34;  produce a.exe?
&gt; &gt; # &#39;
&gt; &gt; #   at automated_pp_test.pl line 7495.
&gt; &gt; [...]
</div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;05&nbsp;01:59:53&nbsp;2010</span>
    <span class="description">CHOCOLATE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza">I have the same problem on Strawberry Perl 5.10.1.0.<br>

<br>

The problem occurs in the &quot;require PAR::Filter::PodStrip&quot;&nbsp;statement in script/par.pl's require_modules() sub.<br>

<br>

It arises because par_init_env (inside myldr/utils.c), which is called in a BEGIN&nbsp;block in script/par.pl, clears several environment variables, including $ENV{PERL5LIB}. This breaks the two tests that try to pass down blib/lib to child processes through $PERL5LIB.<br>

<br>

I've attached a patch. It modifies script/par.pl and the two tests. The patched script/par.pl tests for an additional env var, PAR_PACKER_TEST_INC, that is only set in the test scripts, and extracts and uses it (i.e. prepends it to @INC)&nbsp;if it's defined.<br>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PAR-Packer-1.002.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -uwbr PAR-Packer-orig/script/par.pl PAR-Packer-new/script/par.pl
--- PAR-Packer-orig/script/par.pl	2009-09-13 16:13:47.000000000 +0100
+++ PAR-Packer-new/script/par.pl	2010-01-05 06:30:42.000000000 +0000
@@ -937,6 +937,11 @@
 }
 
 sub init_inc {
+    # fix for rt #52794
+    if &#40;defined $ENV{PAR_PACKER_TEST_INC}&#41; {
+        push @INC, $ENV{PAR_PACKER_TEST_INC};
+    }
+
     require Config;
     push @INC, grep defined, map $Config::Config{$_}, qw&#40;
         archlibexp privlibexp sitearchexp sitelibexp
diff -uwbr PAR-Packer-orig/t/20-pp.t PAR-Packer-new/t/20-pp.t
--- PAR-Packer-orig/t/20-pp.t	2009-09-13 16:13:47.000000000 +0100
+++ PAR-Packer-new/t/20-pp.t	2010-01-05 06:28:14.000000000 +0000
@@ -81,6 +81,11 @@
         $ENV{PERL5LIB},
 &#41;;
 
+# rt #52794
+# script/par.pl calls Internals::PAR::_par_init_env, which unsets $ENV{PERL5LIB},
+# which clobbers the blib/lib path. Pass it in via a test-specific env var instead.
+$ENV{PAR_PACKER_TEST_INC} = File::Spec-&gt;catdir&#40;$cwd, &#39;blib&#39;, &#39;lib&#39;&#41;;
+
 chdir $test_dir;
 do &#34;automated_pp_test.pl&#34;;
 
diff -uwbr PAR-Packer-orig/t/30-current_exec.t PAR-Packer-new/t/30-current_exec.t
--- PAR-Packer-orig/t/30-current_exec.t	2009-09-13 16:13:47.000000000 +0100
+++ PAR-Packer-new/t/30-current_exec.t	2010-01-05 06:29:40.000000000 +0000
@@ -21,10 +21,12 @@
 
 my $sep = $Config{path_sep};
 $sep = &#39;:&#39; if not defined $sep;
-$blib_lib .= $sep if $ENV{PERL5LIB};
-$ENV{PERL5LIB} = defined&#40;$ENV{PERL5LIB}&#41; ? $blib_lib . $ENV{PERL5LIB} : $blib_lib;
-
+$ENV{PERL5LIB} = defined&#40;$ENV{PERL5LIB}&#41; ? $blib_lib . $sep . $ENV{PERL5LIB} : $blib_lib;
 
+# rt #52794
+# script/par.pl calls Internals::PAR::_par_init_env, which unsets $ENV{PERL5LIB},
+# which clobbers the blib/lib path. Pass it in via a test-specific env var instead.
+$ENV{PAR_PACKER_TEST_INC} = $blib_lib;
 
 ####
 unlink $EXEC       if -f $EXEC;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;20&nbsp;17:34:29&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think I found what&#39;s going on. Strawberry Perl 5.10.1 switched to using perl/vendor/lib, but 
it uses backslashes for vendor in @INC, i.e.:

C:/strawberry/perl/lib
C:/strawberry/perl/site/lib
C:\strawberry\perl\vendor\lib
.

There&#39;s a line in scripts/par.pl that reads like this:

if &#40;$Config{_delim} eq &#39;\\&#39;&#41; { s{\\}{/}g for @inc }

Thus transforming backslashes to forward slashes. However later on, when processing %files 
&#40;based on %:: and %INC&#41;, it fails to take into account that pathnames there are based on 
what&#39;s in @INC, meaning e.g. PAR/Heavy.pm will have pathname 
C:\strawberry\perl\vendor\lib/PAR/Heavy.pm. It fails to match against 
C:/strawberry/perl/vendor. This means that anything that&#39;s in vendor/lib will never be 
packed. As a matter of fact anything that has backslashes in their path will never be packed, 
including -I blib\lib. Guess what I see in test_harness line when running test PAR::Packer? I 
see blib\lib, and that&#39;s why you are having a failure.

This makes me wonder what&#39;s this line there for? Just removing it passes all tests and pp 
becomes fully functional again &#40;i.e. generated executables don&#39;t suddenly depend on 
strawberry installed&#41;. Was there something changed in 5.10.1 that made backslashes in 
@INC work differently?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;20&nbsp;17:39:21&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 05 01:59:53 2010, CHOCOLATE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve attached a patch. It modifies script/par.pl and the two tests.
&gt; The patched
&gt; script/par.pl tests for an additional env var, PAR_PACKER_TEST_INC,
&gt; that is
&gt; only set in the test scripts, and extracts and uses it &#40;i.e. prepends
&gt; it to
&gt; @INC&#41; if it&#39;s defined.
</div>
Unfortunately your patch changes logic completely, since the problem is that neither 
PAR/Heavy.pm nor PAR/Filter/PodStrip.pm are embedded in the executable. You might as well 
install it with notest, and when you later try testing, it will suddenly work &#40;because it will pull 
modules from system perl&#41;. Unfortunately it doesn&#39;t fix the problem as files generated with pp 
are defunct and always depend on system perl.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;21&nbsp;08:26:05&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 20 17:34:29 2010, snaury wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I think I found what&#39;s going on. Strawberry Perl 5.10.1 switched to
&gt; using perl/vendor/lib, but
&gt; it uses backslashes for vendor in @INC, i.e.:
&gt; 
&gt; C:/strawberry/perl/lib
&gt; C:/strawberry/perl/site/lib
&gt; C:\strawberry\perl\vendor\lib
&gt; .
&gt; 
&gt; There&#39;s a line in scripts/par.pl that reads like this:
&gt; 
&gt; if &#40;$Config{_delim} eq &#39;\\&#39;&#41; { s{\\}{/}g for @inc }
&gt; 
&gt; Thus transforming backslashes to forward slashes. However later on,
&gt; when processing %files
&gt; &#40;based on %:: and %INC&#41;, it fails to take into account that pathnames
&gt; there are based on
</div>
Good spotting.

Then we should &#34;canonicalize&#34; keys %files in the same way as
the members of @inc. Can someone that is able to reproduce this bug
try the attached patch?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 52407.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- PAR-Packer-1.001/myldr/mktmpdir.c	2009-11-13 09:29:29.000000000 +0100
+++ PAR-Packer-1.001/myldr/mktmpdir.c.fixed	2009-12-06 17:38:29.000000000 +0100
@@ -65,7 +65,7 @@
     const char *subdirbuf_suffix = &#34;&#34;;
 
     char *progname = NULL, *username = NULL;
-    char *stmpdir = NULL;
+    char *stmpdir = NULL, *stmpdir2 = NULL;
     int f, j, k, stmp_len = 0;
     char sha1[41];
     SHA_INFO sha_info;
@@ -150,8 +150,9 @@
        need 2 buffers because snprintf&#40;&#41; can&#39;t write to a buffer it&#39;s
        reading from. */
     stmpdir = malloc&#40; stmp_len &#41;;
-    sprintf&#40;stmpdir, &#34;%s%s%s%s&#34;, tmpdir, dir_sep, subdirbuf_prefix, username&#41;;
-    my_mkdir&#40;stmpdir, 0755&#41;;
+    stmpdir2 = malloc&#40; stmp_len &#41;;
+    sprintf&#40;stmpdir2, &#34;%s%s%s%s&#34;, tmpdir, dir_sep, subdirbuf_prefix, username&#41;;
+    my_mkdir&#40;stmpdir2, 0755&#41;;
 
     /* Doesn&#39;t really work - XXX */
     val = &#40;char *&#41;par_getenv&#40; &#34;PATH&#34; &#41;;
@@ -194,7 +195,7 @@
             sprintf&#40;
                 stmpdir,
                 &#34;%s%scache-%s%s&#34;,
-                stmpdir, dir_sep, buf, subdirbuf_suffix
+                stmpdir2, dir_sep, buf, subdirbuf_suffix
             &#41;;
         }
         else {
@@ -215,13 +216,12 @@
             sprintf&#40;
                 stmpdir,
                 &#34;%s%scache-%s%s&#34;,
-                stmpdir, dir_sep, sha1, subdirbuf_suffix
+                stmpdir2, dir_sep, sha1, subdirbuf_suffix
             &#41;;
         }
     }
     else {
         int i = 0;
-        size_t len = strlen&#40;stmpdir&#41;;
 
         /* &#34;$TEMP/par-$USER/temp-$PID&#34; */
 
@@ -229,7 +229,7 @@
         sprintf&#40;
             stmpdir,
             &#34;%s%stemp-%u%s&#34;,
-            stmpdir, dir_sep, getpid&#40;&#41;, subdirbuf_suffix
+            stmpdir2, dir_sep, getpid&#40;&#41;, subdirbuf_suffix
         &#41;;
 
         /* Ensure we pick an unused directory each time.  If the directory
@@ -239,15 +239,16 @@
            might interfere. */
 
         while &#40;my_mkdir&#40;stmpdir, 0755&#41; == -1 &#38;&#38; errno == EEXIST&#41; {
-            stmpdir[len] = 0;
             sprintf&#40;
                 stmpdir,
                 &#34;%s%stemp-%u-%u%s&#34;,
-                stmpdir, dir_sep, getpid&#40;&#41;, ++i, subdirbuf_suffix
+                stmpdir2, dir_sep, getpid&#40;&#41;, ++i, subdirbuf_suffix
                 &#41;;
         }
     }
 
+    free&#40;stmpdir2&#41;;
+
     /* set dynamic loading path */
     par_setenv&#40;PAR_TEMP, stmpdir&#41;;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;05:42:25&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Чтв Янв 21 08:26:05 2010, RSCHUPP писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Then we should &#34;canonicalize&#34; keys %files in the same way as
&gt; the members of @inc. Can someone that is able to reproduce this bug
&gt; try the attached patch?
</div>
Hmm? The patch you attached is just what changed between PAR-Packer 
1.001 and 1.002, and this bug happens on both. Also, I don&#39;t know if 
I&#39;m doing it wrong, but when I try to s{\\}{/}g on $_ it works while 
packing files, but then later when executing them it fails with errors 
like this:

Can&#39;t locate loadable object for module IO in @INC &#40;@INC contains: CODE
&#40;0xc1f934&#41; C:\strawberry\perl\vendor\lib .&#41; at 
C:/strawberry/perl/vendor/lib/PAR/Heavy.pm line 103
Compilation failed in require at C:/strawberry/perl/lib/IO/Handle.pm 
line 266.
BEGIN failed--compilation aborted at 
C:/strawberry/perl/lib/IO/Handle.pm line 266.
Compilation failed in require at C:/strawberry/perl/lib/IO/Seekable.pm 
line 101.
BEGIN failed--compilation aborted at 
C:/strawberry/perl/lib/IO/Seekable.pm line 101.
Compilation failed in require at C:/strawberry/perl/lib/IO/File.pm line 
133.
BEGIN failed--compilation aborted at C:/strawberry/perl/lib/IO/File.pm 
line 133.
Compilation failed in require at -e line 351.

See canon-files.patch, why is it happening?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> canon-files.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/script/par.pl b/script/par.pl
index e54c064..f47e6ba 100644
--- a/script/par.pl
+++ b/script/par.pl
@@ -553,6 +553,7 @@ if &#40;$out&#41; {
         my %written;
 
         foreach &#40;sort keys %files&#41; {
+            s{\\}{/}g if &#40;!ref&#40;$_&#41; &#38;&#38; $Config{_delim} eq &#39;\\&#39;&#41;;
             my &#40;$name, $file&#41;;
 
             foreach my $dir &#40;@inc&#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;05:48:14&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Also, I must say this again: attached patch fixes the problem for me on 
Strawberry Perl 5.10.1: all tests pass, generated executables run, even 
when I move C:\strawberry away &#40;i.e. it truly doesn&#39;t depend on system 
perl anymore&#41;.

What makes me wonder is if this patch introduces problems for older 
versions of Perl? I.e. do we really need to canonicalize paths in @inc?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> proper-fix.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/script/par.pl b/script/par.pl
index e54c064..330565c 100644
--- a/script/par.pl
+++ b/script/par.pl
@@ -538,8 +538,6 @@ if &#40;$out&#41; {
              $_ ne $Config::Config{privlibexp}&#41;;
         } @INC;
 
-        if &#40;$Config{_delim} eq &#39;\\&#39;&#41; { s{\\}{/}g for @inc }
-
         # File exists test added to fix RT #41790:
         # Funny, non-existing entry in _&lt;....auto/Compress/Raw/Zlib/autosplit.ix.
         # This is a band-aid fix with no deeper grasp of the issue.
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;06:20:33&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jan 22 05:42:25 2010, snaury wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hmm? The patch you attached is just what changed between PAR-Packer 
&gt; 1.001 and 1.002, and this bug happens on both. Also, I don&#39;t know if 
</div>
Ah, grabbed the wrong patch from my disk :&#40; 
I&#39;ve now attached the intended one, but that&#39;s almost the
same as your canon-files.patch.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m doing it wrong, but when I try to s{\\}{/}g on $_ it works while 
&gt; packing files, but then later when executing them it fails with errors 
&gt; like this:
&gt; 
&gt; Can&#39;t locate loadable object for module IO in @INC &#40;@INC contains: CODE
&gt; &#40;0xc1f934&#41; C:\strawberry\perl\vendor\lib .&#41; at 
</div>
Don&#39;t know what&#39;s happening here either &#40;and don&#39;t have an
environment to test&#41;, but @INC is already wrong: 
C:\strawberry\perl\vendor\lib shouldn&#39;t be there - @INC of
a packed executable should only contain directories below
the cache area, like c:/temp/par-USER/SHA1/..., and code refs.
Perhaps another slash vs backslash issue?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 52794.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- script/par.pl.orig	2010-01-21 13:55:04.000000000 +0100
+++ script/par.pl	2010-01-21 14:11:04.000000000 +0100
@@ -549,6 +549,11 @@
         /^_&lt;&#40;.+&#41;$/ and -e $1 and $files{$1}++ for keys %::;
         $files{$_}++ for values %INC;
 
+	# Canonicalize keys %files in the same way as @inc.
+	if &#40;$Config{_delim} eq &#39;\\&#39;&#41; {
+	    %files = map { s{\\}{/}g; &#40;$_, 1&#41; } keys %files;
+	}
+
         my $lib_ext = $Config::Config{lib_ext};
         my %written;
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;06:28:38&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Янв 22 05:48:14 2010, snaury писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What makes me wonder is if this patch introduces problems for older 
&gt; versions of Perl? I.e. do we really need to canonicalize paths in 
</div>@inc?

I just tested this with Strawberry Perl 5.10.0.6 and this problem also 
occured. Since I could remember that I installed PAR::Packer before I 
went to my sources cache and found version 0.991, which indeed doesn&#39;t 
have this problem. I went thru archives and found this bug first 
appeared in 0.992_04. One notable difference is that for the first time 
myldr/utils.c unsets a bunch of PERL* environment variables, ensuring 
that it does not depend on system perl.

So maybe this bug with backslashes was there for a very long time, 
suddenly starting to cause test failures.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;22&nbsp;06:44:02&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Птн Янв 22 06:28:38 2010, snaury писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So maybe this bug with backslashes was there for a very long time, 
&gt; suddenly starting to cause test failures.
</div>
Ok, I did some more tests and to recap what was and is going on:

- As far back as pp 0.991 it failed to pack files with backslashes in 
its path, but it until 0.992_04 it didn&#39;t show up in tests, because 
PERL* variables weren&#39;t cleared and test executables picked up from 
blib/lib &#40;path to blib/lib during test has lots of backslashes&#41;
- With Strawberry 5.10.0, once pp is installed, it appeared to sort of 
work, since @INC typically contained forward slashes only and all 
needed files were packed
- With Strawberry 5.10.1 path to vendor has backslashes and generated 
executables no longer pack PAR/Heavy.pm, among other things, leading to 
completely useless executables. Even though 0.991 doesn&#39;t fail tests, 
problems are really visible on packed executables, since they don&#39;t 
work without Strawberry Perl anymore.

I will try testing it with Perl 5.8, but now I really don&#39;t think s{\\}
{/} is needed for @inc.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;28&nbsp;14:39:49&nbsp;2010</span>
    <span class="description">m.nooning [...] comcast.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> m.nooning [...] comcast.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">&lt;code&gt;
I am betting you have not installed PAR::Packer before, or you have a
clean Perl install.
PAR Packer will not install on a clean Windows Perl 5.10.1 installation.

I think there are two problems.  First, it has a circular reference to
PAR/Filter/PodStrip.pm.  That is, PAR.pl needs it in a number of places.
 However, it is installed along with PAR itself. Once PAR is installed
at least once, that problem goes away because the tests can then find
PAR/Filter/PodStrip.pm in the normal places.

The first problem above masks the second.  Namely, that one of the t/20
tests has a test failure when using Win32/Exe.pm.  It masks the failure
because the t/20 tests do not run with the first problem.  Let me explain.

Most of the t/20 tests use the pp command to create an executable that,
when run, prints out something like &#34;Hello&#34;.  The tests are therefore
looking for such responses. However, in addition to things like Hello,
ithe tests are getting back things like &#34;Can&#39;t locate
PAR/Filter/PodStrip.pm&#34;, which causes the test to fail.  Since so many
fail, we never get to see the &#34;Win32/Exe.pm&#34; failure.  Or at least, with
all the other error messages, we do not spot it.

I installed with force so that PAR/Filter/PodStrip.pm was installed. 
Upon rerun, all the t/20 tests pass but the Win32/Exe.pm

I will paste the relevent parts of the results below.

C:\temp\PAR-Packer-1.002&gt;dmake test
... etcetera, etcetera, ...
t/10-parl-generation.t ... ok
t/20-pp.t ................ 31/34 Can&#39;t call method &#34;remove&#34; on an
undefined value at C:/Perl/site/lib/Win32/Exe.pm line 220.

#   Failed test &#39;pp_gui_tests
t/20-pp.t ................ 32/34 # amsg572: sub pp_gui_tests cannot
system pp --gui --icon hi.ico -o hello.exe hello.pl:No such file or
directory:
# &#39;
#   at automated_pp_test.pl line 8446.
t/20-pp.t ................ 34/34 # Looks like you failed 1 test of 34.
t/20-pp.t ................ Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
Failed 1/34 subtests
t/30-current_exec.t ... etcetera, etcetera, ...
&lt;/code&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;02&nbsp;07:11:44&nbsp;2010</span>
    <span class="description">snaury [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> snaury [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Чтв Янв 28 14:39:49 2010, m.nooning@comcast.net писал:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am betting you have not installed PAR::Packer before, or you have a
&gt; clean Perl install.
&gt; PAR Packer will not install on a clean Windows Perl 5.10.1 
</div>installation.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I think there are two problems.  First, it has a circular reference to
&gt; PAR/Filter/PodStrip.pm.  That is, PAR.pl needs it in a number of 
</div>places.

You seem to misunderstand the issue. There are no circular dependencies 
like that. The problem is that it should pack this file into the 
executable, but it doesn&#39;t &#40;on Strawberry Perl&#41; due to backslashes in 
$INC. And we didn&#39;t see this error on earlier versions, because earlier 
versions didn&#39;t clear PERL5LIB/etc.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I installed with force so that PAR/Filter/PodStrip.pm was installed. 
&gt; Upon rerun, all the t/20 tests pass but the Win32/Exe.pm
</div>
When you install with force you are just masking the issue. You are 
installing PAR::Packer into site and it means that now when testing it 
picks PAR/Filter/PodStrip.pm from site instead of blib, but it still 
fails to pack PAR itself &#40;PAR/Heavy.pm&#41;, that&#39;s installed in vendor 
&#40;with backslashes&#41;. Yes, executables will work on your machine, but 
will fail to work on any other machine that doesn&#39;t have Strawberry 
Perl installed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;07&nbsp;10:08:12&nbsp;2010</span>
    <span class="description">John.Pfeiffer [...] L-3Com.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #52794] Multiple tests failing on strawberry perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 7 Apr 2010 10:07:55 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John.Pfeiffer [...] L-3Com.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

Thank you so much for this helpful post.  I spent an entire day trying
to get PAR::Packer installed before I found this thread.  I used your
patch and everything appears to work.

 

Thanks,

Andy Pfeiffer
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;07:37:24&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Finally applied Alexey Borzenkov&#39;s patch,
since this problem has already caused several tickets
and nobody has demonstrated evil side effects.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;07:37:31&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
