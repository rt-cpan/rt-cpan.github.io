<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #81094 for Inline: Inline build fails using INSTALL_BASE</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #81094 for Inline: Inline build fails using INSTALL_BASE</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Inline/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Inline/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Inline/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Inline/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/ingydotnet/inline-pm/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Inline">Inline CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">81094</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Inline/Active/">Inline</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chm [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-16878-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
0.50</li>
<li>
0.51</li>
</ul>
    </td>
  </tr>
  <tr id="CF-16879-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;10&nbsp;13:02:31&nbsp;2012</span>
    <span class="description">chm [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Inline build fails using INSTALL_BASE</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza">cygwin 1.7.17<br>

perl 5.14.2<br>

<br>

Trying to update my PDL install location using the INSTALL_BASE<br>

option for EU::MM along with --install-base for M::B, the Inline make<br>

test failed (apparently because the Makefile generated by the test(s)<br>

seem to be trying to access a location in the system perl5 location<br>

and not the location under INSTALL_BASE.<br>

<br>

Here is one example of the failure log with the full log attached to<br>

this ticket along with the output from perl -V.&nbsp; <br>

<br>

make[1]: Entering directory `/cygdrive/e/chm/pdl/try/Inline-0.51/C'<br>

PERL_DL_NONLAZY=1 /usr/bin/perl.exe &quot;-MExtUtils::Command::MM&quot; &quot;-e&quot; &quot;test_harness(0, '../blib/lib', '../blib/arch')&quot; t/*.t<br>

t/00init.t .............. ok<br>

Uncaught exception from user code:<br>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; make[2]: Entering directory `/cygdrive/e/chm/pdl/try/Inline-0.51/C/_Inline_test/build/_01syntax_t_6b3a'<br>

Files found in blib/arch: installing files in blib/lib into architecture dependent library tree<br>

Installing /cygdrive/e/chm/pdl/try/Inline-0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.bs<br>

Installing /cygdrive/e/chm/pdl/try/Inline-0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll<br>

chmod 755 /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll<br>

chmod: cannot access `/usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll': No such file or directory<br>

Makefile:705: recipe for target `pure_install' failed<br>

make[2]: *** [pure_install] Error 1<br>

make[2]: Leaving directory `/cygdrive/e/chm/pdl/try/Inline-0.51/C/_Inline_test/build/_01syntax_t_6b3a'<br>

<br>

A problem was encountered while attempting to compile and install your Inline<br>

C code. The command that failed was:<br>

&nbsp; make pure_install &gt; out.make_install 2&gt;&amp;1<br>

<br>

The build directory was:<br>

/cygdrive/e/chm/pdl/try/Inline-0.51/C/_Inline_test/build/_01syntax_t_6b3a<br>

<br>

To debug the problem, cd to the build directory, and inspect the output files.<br>

<br>

&nbsp;at t/01syntax.t line 34.<br>

BEGIN failed--compilation aborted at t/01syntax.t line 43.<br>

&nbsp;at t/01syntax.t line 43.<br>

One or more DATA sections were not processed by Inline.<br>

<br>

t/01syntax.t ............ <br>

Dubious, test returned 2 (wstat 512, 0x200)<br>

Failed 5/5 subtests <br>

<br>

Thanks,<br>

Chris<br>

<br>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> cygwin-perl-V.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Summary of my perl5 &#40;revision 5 version 14 subversion 2&#41; configuration:
   
  Platform:
    osname=cygwin, osvers=1.7.15&#40;0.26053&#41;, archname=cygwin-thread-multi-64int
    uname=&#39;cygwin_nt-5.1 winxp 1.7.15&#40;0.26053&#41; 2012-05-09 10:25 i686 cygwin &#39;
    config_args=&#39;-de -Dlibperl=cygperl5_14.dll -Dcc=gcc-4 -Dld=g++-4 -Darchname=i686-cygwin-threads-64int -Dmksymlinks -Dusethreads -Accflags=-g&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=undef, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;gcc-4&#39;, ccflags =&#39;-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -g -fno-strict-aliasing -pipe -fstack-protector&#39;,
    optimize=&#39;-O3&#39;,
    cppflags=&#39;-DPERL_USE_SAFE_PUTENV -U__STRICT_ANSI__ -g -fno-strict-aliasing -pipe -fstack-protector&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.5.3&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;g++-4&#39;, ldflags =&#39; -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /usr/lib /lib
    libs=-lgdbm -ldb -ldl -lcrypt -lgdbm_compat
    perllibs=-ldl -lcrypt
    libc=/usr/lib/libc.a, so=dll, useshrplib=true, libperl=cygperl5_14.dll
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=dll, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39; --shared  -Wl,--enable-auto-import -Wl,--export-all-symbols -Wl,--enable-auto-image-base -L/usr/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_PRESERVE_IVUV
                        PERL_USE_SAFE_PUTENV USE_64_BIT_INT USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_PERL_ATOF
                        USE_REENTRANT_API
  Locally applied patches:
	Bug#55162 File::Spec::case_tolerant performance
	CYG07 $vendorarch/auto/.rebase
	CYG15 static Win32CORE
	CYG17 cyg-1.7 paths-utf8
	0c612ce82 Fix building static extensions on cygwin, -UUSEIMPORTLIB
	1bac5ecc1 Fix 64-bit threading sv.c: S_anonymise_cv_maybe
	Cygwin::sync_winenv added
  Built under cygwin
  Compiled at Jul 12 2012 14:17:21
  %ENV:
    PERL5LIB=&#34;/home/chm/local/lib/perl5&#34;
  @INC:
    /home/chm/local/lib/perl5/cygwin-thread-multi-64int
    /home/chm/local/lib/perl5
    /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-64int
    /usr/lib/perl5/site_perl/5.14
    /usr/lib/perl5/vendor_perl/5.14/i686-cygwin-threads-64int
    /usr/lib/perl5/vendor_perl/5.14
    /usr/lib/perl5/5.14/i686-cygwin-threads-64int
    /usr/lib/perl5/5.14
    /usr/lib/perl5/site_perl/5.10
    /usr/lib/perl5/vendor_perl/5.10
    /usr/lib/perl5/site_perl/5.8
    .
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> inline-test-log.txt</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;10&nbsp;13:48:05&nbsp;2012</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">A plain 'perl Makefile.PL; make; make test;'<br>

worked ok so I redid the Inline build with the<br>

INSTALL_BASE option and then forced<br>

install without tests passing.&nbsp; Now if I run<br>

the tests they pass.<br>

<br>

--Chris<br>

<br>

On Sat Nov 10 13:02:31 2012, CHM wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; cygwin 1.7.17 <br>

&gt; perl 5.14.2 <br>

&gt;  <br>

&gt; Trying to update my PDL install location using the INSTALL_BASE <br>

&gt; option for EU::MM along with --install-base for M::B, the Inline make <br>

&gt; test failed (apparently because the Makefile generated by the test(s) <br>

&gt; seem to be trying to access a location in the system perl5 location <br>

&gt; and not the location under INSTALL_BASE. <br>

&gt;  <br>

&gt; Here is one example of the failure log with the full log attached to <br>

&gt; this ticket along with the output from perl -V. <br>

&gt;  <br>

&gt; make[1]: Entering directory `/cygdrive/e/chm/pdl/try/Inline-0.51/C' <br>

&gt; PERL_DL_NONLAZY=1 /usr/bin/perl.exe &quot;-MExtUtils::Command::MM&quot; &quot;-e&quot; <br>

&gt; &quot;test_harness(0, '../blib/lib', '../blib/arch')&quot; t/*.t <br>

&gt; t/00init.t .............. ok <br>

&gt; Uncaught exception from user code: <br>

&gt; make[2]: Entering directory <br>

&gt; `/cygdrive/e/chm/pdl/try/Inline- <br>

&gt; 0.51/C/_Inline_test/build/_01syntax_t_6b3a' <br>

&gt; Files found in blib/arch: installing files in blib/lib into <br>

&gt; architecture <br>

&gt; dependent library tree <br>

&gt; Installing <br>

&gt; /cygdrive/e/chm/pdl/try/Inline- <br>

&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.bs <br>

&gt; Installing <br>

&gt; /cygdrive/e/chm/pdl/try/Inline- <br>

&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll <br>

&gt; chmod 755 <br>

&gt; /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads- <br>

&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll <br>

&gt; chmod: cannot access <br>

&gt; `/usr/lib/perl5/site_perl/5.14/i686-cygwin-threads- <br>

&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll': <br>

&gt; No such file or directory <br>

&gt; Makefile:705: recipe for target `pure_install' failed <br>

&gt; make[2]: *** [pure_install] Error 1 <br>

&gt; make[2]: Leaving directory <br>

&gt; `/cygdrive/e/chm/pdl/try/Inline- <br>

&gt; 0.51/C/_Inline_test/build/_01syntax_t_6b3a' <br>

&gt;  <br>

&gt; A problem was encountered while attempting to compile and install your <br>

&gt; Inline <br>

&gt; C code. The command that failed was: <br>

&gt; make pure_install &gt; out.make_install 2&gt;&amp;1 <br>

&gt;  <br>

&gt; The build directory was: <br>

&gt; /cygdrive/e/chm/pdl/try/Inline- <br>

&gt; 0.51/C/_Inline_test/build/_01syntax_t_6b3a <br>

&gt;  <br>

&gt; To debug the problem, cd to the build directory, and inspect the <br>

&gt; output files. <br>

&gt;  <br>

&gt; at t/01syntax.t line 34. <br>

&gt; BEGIN failed--compilation aborted at t/01syntax.t line 43. <br>

&gt; at t/01syntax.t line 43. <br>

&gt; One or more DATA sections were not processed by Inline. <br>

&gt;  <br>

&gt; t/01syntax.t ............ <br>

&gt; Dubious, test returned 2 (wstat 512, 0x200) <br>

&gt; Failed 5/5 subtests <br>

&gt;  <br>

&gt; Thanks, <br>

&gt; Chris <br>
</div><br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;10&nbsp;13:48:06&nbsp;2012</span>
    <span class="description">chm [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;10&nbsp;22:47:45&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Nov 10 13:02:31 2012, CHM wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Installing
&gt; /cygdrive/e/chm/pdl/try/Inline-
&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.bs
&gt; Installing
&gt; /cygdrive/e/chm/pdl/try/Inline-
&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll
&gt; chmod 755
&gt; /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-
&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll
&gt; chmod: cannot access
&gt; `/usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-
&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll&#39;:
&gt; No such file or directory
</div>
We see that _01syntax_t_6b3a.dll has been installed to the correct 
location - which, incidentally, is the same location to which it would 
have been installed even if INSTALL_BASE had *not* been specified.

But then chmod goes beserk, and tries to chmod a _01syntax_t_6b3a.dll 
that&#39;s in a completely different &#40;and non-exzistent&#41; location.

I tried building Inline-0.51 &#40;with &#39;perl Makefile.PL 
INSTALL_BASE=C:/foo_bar&#39;&#41;, on a native Win32 &#40;MinGW&#41; build of perl-
5.16.0, and it all went fine. &#40;This was a perl that did not already 
have Inline installed.&#41;
On my Cygwin-1.7.7 installation &#40;perl-5.10.1&#41;, I already had a build of 
Inline-0.49 that had been installed with INSTALL_BASE=~/modules so I 
removed it and built and installed Inline-0.51 &#40;with &#39;perl Makefile.PL 
INSTALL_BASE=~/modules&#39;&#41;. All went fine, except for that fork 
&#40;rebase ?&#41; issue, which is a completely different issue, and one that I 
can no longer be bothered with.

So, I&#39;m thinking we have some sort of Cygwin and/or EU::MM bug at play 
here - but it could also well be that Inline is the culprit.
It&#39;s difficult for me to tell if I can&#39;t reproduce the error.

It would bew interesting to see the original &#40;troublesome&#41;
/cygdrive/e/chm/pdl/try/Inline-
0.51/C/_Inline_test/build/_01syntax_t_6b3a/Makefile
if you still have it, or have the energy to reproduce it.

Good that you found a workaround, though that doesn&#39;t make the bug any 
less annoying, of course.

Cheers,
Rob 

 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;11&nbsp;11:31:44&nbsp;2012</span>
    <span class="description">devel.chm.01 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #81094] Inline build fails using INSTALL_BASE</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 Nov 2012 11:31:32 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Inline [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Marshall &lt;devel.chm.01 [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Rob-

Perhaps the problem is perl version specific as I
have not had trouble building Inline with perl 5.10.x
from cygwin.  This build was with the latest cygwin
perl 5.14.2.

The good news is that since all this was installed
in a separate location, I should be able to reproduce
the bug using a different INSTALL_BASE.  Of
course, I need to get PDL up and running first but
will follow up with the details when I can do so.

--Chris


On Sat, Nov 10, 2012 at 10:47 PM, Sisyphus via RT
&lt;bug-Inline@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81094">https://rt.cpan.org/Ticket/Display.html?id=81094</a></span> &gt;
&gt;
&gt; On Sat Nov 10 13:02:31 2012, CHM wrote:
&gt;
<div class="message-stanza open">&gt;&gt; Installing
&gt;&gt; /cygdrive/e/chm/pdl/try/Inline-
&gt;&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.bs
&gt;&gt; Installing
&gt;&gt; /cygdrive/e/chm/pdl/try/Inline-
&gt;&gt; 0.51/C/_Inline_test/lib/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll
&gt;&gt; chmod 755
&gt;&gt; /usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-
&gt;&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll
&gt;&gt; chmod: cannot access
&gt;&gt; `/usr/lib/perl5/site_perl/5.14/i686-cygwin-threads-
&gt;&gt; 64int/auto/_01syntax_t_6b3a/_01syntax_t_6b3a.dll&#39;:
&gt;&gt; No such file or directory
</div>&gt;
&gt; We see that _01syntax_t_6b3a.dll has been installed to the correct
&gt; location - which, incidentally, is the same location to which it would
&gt; have been installed even if INSTALL_BASE had *not* been specified.
&gt;
&gt; But then chmod goes beserk, and tries to chmod a _01syntax_t_6b3a.dll
&gt; that&#39;s in a completely different &#40;and non-exzistent&#41; location.
&gt;
&gt; I tried building Inline-0.51 &#40;with &#39;perl Makefile.PL
&gt; INSTALL_BASE=C:/foo_bar&#39;&#41;, on a native Win32 &#40;MinGW&#41; build of perl-
&gt; 5.16.0, and it all went fine. &#40;This was a perl that did not already
&gt; have Inline installed.&#41;
&gt; On my Cygwin-1.7.7 installation &#40;perl-5.10.1&#41;, I already had a build of
&gt; Inline-0.49 that had been installed with INSTALL_BASE=~/modules so I
&gt; removed it and built and installed Inline-0.51 &#40;with &#39;perl Makefile.PL
&gt; INSTALL_BASE=~/modules&#39;&#41;. All went fine, except for that fork
&gt; &#40;rebase ?&#41; issue, which is a completely different issue, and one that I
&gt; can no longer be bothered with.
&gt;
&gt; So, I&#39;m thinking we have some sort of Cygwin and/or EU::MM bug at play
&gt; here - but it could also well be that Inline is the culprit.
&gt; It&#39;s difficult for me to tell if I can&#39;t reproduce the error.
&gt;
&gt; It would bew interesting to see the original &#40;troublesome&#41;
&gt; /cygdrive/e/chm/pdl/try/Inline-
&gt; 0.51/C/_Inline_test/build/_01syntax_t_6b3a/Makefile
&gt; if you still have it, or have the energy to reproduce it.
&gt;
&gt; Good that you found a workaround, though that doesn&#39;t make the bug any
&gt; less annoying, of course.
&gt;
&gt; Cheers,
&gt; Rob
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;11&nbsp;15:05:20&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Nov 11 11:31:44 2012, devel.chm.01@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Rob-
&gt; 
&gt; Perhaps the problem is perl version specific as I
&gt; have not had trouble building Inline with perl 5.10.x
&gt; from cygwin.  This build was with the latest cygwin
&gt; perl 5.14.2.
&gt; 
&gt; The good news is that since all this was installed
&gt; in a separate location, I should be able to reproduce
&gt; the bug using a different INSTALL_BASE.  Of
&gt; course, I need to get PDL up and running first but
&gt; will follow up with the details when I can do so.
&gt; 
&gt; --Chris
</div>
I&#39;ve just installed the latest cygwin-1.7.17 &#40;perl-5.14.2&#41; on a Windows 
7 box, and then installed Inline-0.51 &#40;and its dependency chain&#41; into 
~/modules by specifying INSTALL_BASE=~/modules.

I still didn&#39;t strike the problem you reported - but I did something a 
little differently.
When it came to installing Parse-RecDescent-1.967009, the Makefile.PL 
croaked because EU::MM was at version 6.57_05, but 6.62 was needed. 
Rather than opt for an earlier version of P::RD, I installed version 
6.62 of EU::MM &#40;also into ~/modules&#41; and all then went fine.

Having done that, I then re-jigged things to build Inline-0.51 &#40;perl 
Makefile.PL INSTALL_BASE=~/elsewhere&#41; using version 6.57_05 of EU::MM 
and got exactly the same problem as you did.

Apparently that&#39;s the version of EU::MM that originally shipped with 
5.14.0 ... I haven&#39;t checked which version of EU::MM shgipped with 
5.14.2 ... is upgrading to a later version of EU::MM an acceptable 
solution to this problem ?

Cheers,
Rob
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;11&nbsp;16:39:50&nbsp;2012</span>
    <span class="description">devel.chm.01 [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #81094] Inline build fails using INSTALL_BASE</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 11 Nov 2012 16:39:39 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Inline [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Chris Marshall &lt;devel.chm.01 [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I did a clean Inline-0.51 install into a new location
&#40;which required Test::Warn, Sub::Uplevel to be
installed and Carp to be updated&#41; and the test
still failed.

Then after an install of ExtUtils::MakeMaker 6.62
Inline build and installed just fine.  It looks like
the problem is a bug in the earlier EU::MM and
setting a higher minimum version for Inline to
build seems reasonable to me.

--Chris

On Sun, Nov 11, 2012 at 3:05 PM, Sisyphus via RT &lt;bug-Inline@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81094">https://rt.cpan.org/Ticket/Display.html?id=81094</a></span> &gt;
&gt;
&gt; On Sun Nov 11 11:31:44 2012, devel.chm.01@gmail.com wrote:
<div class="message-stanza open">&gt;&gt; Hi Rob-
&gt;&gt;
&gt;&gt; Perhaps the problem is perl version specific as I
&gt;&gt; have not had trouble building Inline with perl 5.10.x
&gt;&gt; from cygwin.  This build was with the latest cygwin
&gt;&gt; perl 5.14.2.
&gt;&gt;
&gt;&gt; The good news is that since all this was installed
&gt;&gt; in a separate location, I should be able to reproduce
&gt;&gt; the bug using a different INSTALL_BASE.  Of
&gt;&gt; course, I need to get PDL up and running first but
&gt;&gt; will follow up with the details when I can do so.
&gt;&gt;
&gt;&gt; --Chris
</div>&gt;
&gt; I&#39;ve just installed the latest cygwin-1.7.17 &#40;perl-5.14.2&#41; on a Windows
&gt; 7 box, and then installed Inline-0.51 &#40;and its dependency chain&#41; into
&gt; ~/modules by specifying INSTALL_BASE=~/modules.
&gt;
&gt; I still didn&#39;t strike the problem you reported - but I did something a
&gt; little differently.
&gt; When it came to installing Parse-RecDescent-1.967009, the Makefile.PL
&gt; croaked because EU::MM was at version 6.57_05, but 6.62 was needed.
&gt; Rather than opt for an earlier version of P::RD, I installed version
&gt; 6.62 of EU::MM &#40;also into ~/modules&#41; and all then went fine.
&gt;
&gt; Having done that, I then re-jigged things to build Inline-0.51 &#40;perl
&gt; Makefile.PL INSTALL_BASE=~/elsewhere&#41; using version 6.57_05 of EU::MM
&gt; and got exactly the same problem as you did.
&gt;
&gt; Apparently that&#39;s the version of EU::MM that originally shipped with
&gt; 5.14.0 ... I haven&#39;t checked which version of EU::MM shgipped with
&gt; 5.14.2 ... is upgrading to a later version of EU::MM an acceptable
&gt; solution to this problem ?
&gt;
&gt; Cheers,
&gt; Rob
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;20&nbsp;04:48:51&nbsp;2012</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Nov 11 16:39:50 2012, devel.chm.01@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I did a clean Inline-0.51 install into a new location
&gt; &#40;which required Test::Warn, Sub::Uplevel to be
&gt; installed and Carp to be updated&#41; and the test
&gt; still failed.
&gt; 
&gt; Then after an install of ExtUtils::MakeMaker 6.62
&gt; Inline build and installed just fine.  It looks like
&gt; the problem is a bug in the earlier EU::MM and
&gt; setting a higher minimum version for Inline to
&gt; build seems reasonable to me.
</div>
Inline-0.51_02 has been pushed to CPAN.
PREREQ_PM for EU::MM now gets set to 6.62 - but only if INSTALL_BASE is 
specified on the command line, and only then if the current version of 
EU::MM =~ m/6\.57/

Cheers,
Rob
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;06&nbsp;21:15:25&nbsp;2013</span>
    <span class="description">sisyphus [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.52
Thank you for the report
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;06&nbsp;21:15:28&nbsp;2013</span>
    <span class="description">sisyphus [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
