<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #100898 for DBD-mysql: compiling fails with mariadb-10.0.14-winx64 on windows 7 &#40;64&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #100898 for DBD-mysql: compiling fails with mariadb-10.0.14-winx64 on windows 7 &#40;64&#41;</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DBD-mysql/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DBD-mysql/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DBD-mysql/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DBD-mysql/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-mysql">DBD-mysql CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">100898</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DBD-mysql/Active/">DBD-mysql</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
valkoles [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
pali [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10170-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10171-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;13&nbsp;12:23:39&nbsp;2014</span>
    <span class="description">valkoles [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> compiling fails with mariadb-10.0.14-winx64 on windows 7 &#40;64&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 13 Dec 2014 12:23:24 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-dbd-mysql [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> val &lt;valkoles [...] gmail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;07:47:17&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Cc PALI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;07:47:26&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sob Dec 13 12:23:39 2014, valkoles@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Warning &#40;mostly harmless&#41;: No library found for -lmysql
</div>
It means that you did not installed mysql library and header files. Without it DBD::mysql cannot be compiled.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;07:47:26&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;14:27:35&nbsp;2016</span>
    <span class="description">val [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">But it is installed:

C:\Users\val&gt;mysql_config
Usage: C:\soft\mariadb\bin\mysql_config.pl [OPTIONS]
Options:
        --cflags         [&#34;-IC:\soft\mariadb/include/mysql&#34;]
        --include        [&#34;-IC:\soft\mariadb/include/mysql&#34;]
        --libs           [&#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34;]
        --libs_r         [&#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34; &#34;-lmysqlclient  ws2_32 IPHLPAPI  &#34;]
        --socket         [/tmp/mysql.sock]
        --port           [0]
        --version        [10.1.19]
        --libmysqld-libs [&#34;C:\soft\mariadb/lib/mysqlserver.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34; &#34;-lmysqlclient  ws2_32 IPHLPAPI  &#34;]

this is unpacked mariadb-10.1.19-winx64.zip and I believe it has all required headers and libs

though 4.039 is still failing.  &#39;libs&#39; somehow is empty in the attached log
libs          &#40;mysql_config&#41; = 
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> DBD-mysql-4.039-1479588415.log</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;15:07:20&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Ned Nov 20 14:27:35 2016, VAL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; But it is installed:
&gt; 
&gt; C:\Users\val&gt;mysql_config
&gt; Usage: C:\soft\mariadb\bin\mysql_config.pl [OPTIONS]
&gt; Options:
&gt;         --cflags         [&#34;-IC:\soft\mariadb/include/mysql&#34;]
&gt;         --include        [&#34;-IC:\soft\mariadb/include/mysql&#34;]
&gt;         --libs           [&#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34;]
&gt;         --libs_r         [&#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34; &#34;-lmysqlclient  ws2_32 IPHLPAPI  &#34;]
&gt;         --socket         [/tmp/mysql.sock]
&gt;         --port           [0]
&gt;         --version        [10.1.19]
&gt;         --libmysqld-libs [&#34;C:\soft\mariadb/lib/mysqlserver.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34; &#34;-lmysqlclient  ws2_32 IPHLPAPI  &#34;]
&gt; 
&gt; this is unpacked mariadb-10.1.19-winx64.zip and I believe it has all
&gt; required headers and libs
&gt; 
&gt; though 4.039 is still failing.  &#39;libs&#39; somehow is empty in the
&gt; attached log
&gt;  libs          &#40;mysql_config&#41; =
</div>
Hmm... In log I see:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  cflags        &#40;mysql_config&#41; = &#34;-IC:\soft\mariadb/include/mysql&#34;
&gt;
&gt;  embedded      &#40;mysql_config&#41; = 
&gt;
&gt;  ldflags       &#40;guessed     &#41; = &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34;
&gt;
&gt;  libs          &#40;mysql_config&#41; = 
</div>
It means that either Makefile.PL incorrectly parsed mysql_config output, or mysql_config output is in some wrong format. Please provide output from commands:

mysql_config --libs

mysql_config --cflags

mysql_config --include

As a quick looks it looks like that Makefile.PL expect that library param starts with -l or -L. In above case with absolute paths it looks like that libraries are without hyphen l/L. Can you try attached patch?
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Fix-parsing-configure-libs-from-mysql_config-libs-ou.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 844f827363f89331bba60bc97388dc9e2640d65b Mon Sep 17 00:00:00 2001
From: Pali &lt;pali@cpan.org&gt;
Date: Sun, 20 Nov 2016 21:04:27 +0100
Subject: [PATCH] Fix parsing configure libs from mysql_config --libs output
 in Makefile.PL

Libraries in mysql_config --libs output can be specified by library name
with -l prefix or by absolute path to library name without any prefix.
Parameters must start with a hyphen, so treat all options without leading
hyphen in mysql_config --libs output as libraries with full path.
---
 Makefile.PL |    2 +-
 1 file changed, 1 insertion&#40;+&#41;, 1 deletion&#40;-&#41;

diff --git a/Makefile.PL b/Makefile.PL
index 0e78f00..a2202a3 100644
--- a/Makefile.PL
+++ b/Makefile.PL
@@ -578,7 +578,7 @@ sub Configure {
                 if &#40;$param eq &#39;libs&#39;&#41; {
                     my &#40;@libs, @ldflags&#41;;
                     for &#40;split &#39; &#39;, $str&#41; {
-                        if &#40;/^-[Ll]/&#41; { push @libs, $_ }
+                        if &#40;/^-[Ll]/ || /^[^\-]/&#41; { push @libs, $_ }
                         else          { push @ldflags, $_ }
                     }
                     $str = &#34;@libs&#34;;
-- 
1.7.9.5

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;15:23:04&nbsp;2016</span>
    <span class="description">val [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I was blaming Makefile.PL too.

C:\Users\val&gt;mysql_config --libs
&#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34;

C:\Users\val&gt;mysql_config --cflags
&#34;-IC:\soft\mariadb/include/mysql&#34;

C:\Users\val&gt;mysql_config --include
&#34;-IC:\soft\mariadb/include/mysql&#34;

Applied patch.  
perl Makefile.PL &gt; p_m_stdout 2&gt; p_m_sderr
# output in attached files

dmake.exe &gt; d_stdout 2&gt; d_stderr
# output in attached files


before I was trying similar approach with adding -l / -L for the in the line you changed.  No luck
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> d_stderr</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> d_stdout</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> p_m_sderr</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> p_m_stdout</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;15:46:03&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Ned Nov 20 15:23:04 2016, VAL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I was blaming Makefile.PL too.
&gt; 
&gt; C:\Users\val&gt;mysql_config --libs
&gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34; &#34;user32.lib&#34;
</div>
First one is OK, it is file specified with full path without any leading hyphen. gcc and gnu linker can handle it.

But I doubt that other 3 files can be located properly with gcc or gnu linker, as it can search for libraries only with -l param &#40;in this case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.

Which compiler and linker are you using for compiling DBD::mysql?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C:\Users\val&gt;mysql_config --cflags
&gt; &#34;-IC:\soft\mariadb/include/mysql&#34;
&gt; 
&gt; C:\Users\val&gt;mysql_config --include
&gt; &#34;-IC:\soft\mariadb/include/mysql&#34;
</div>
Those are OK.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Applied patch.
&gt; perl Makefile.PL &gt; p_m_stdout 2&gt; p_m_sderr
&gt; # output in attached files
&gt; 
&gt; dmake.exe &gt; d_stdout 2&gt; d_stderr
&gt; # output in attached files
&gt; 
&gt; 
&gt; before I was trying similar approach with adding -l / -L for the in
&gt; the line you changed.  No luck
</div>
Looks like my patch really fix problem with determinating if output from mysql_config --libs is library &#40;either specified by -l syntax or by full path&#41; or ordinary flag. Now there are problems with undefined references to internal windows symbols which are probably in those not found libraries...

If you want to compile DBD::mysql I would suggest you to manually play with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs &#40;ideally with full path&#41;. Maybe you need to link against some other windows libraries... But I do not know, I do not use windows system.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;16:58:59&nbsp;2016</span>
    <span class="description">val [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Nov 20 15:46:03 2016, PALI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Ned Nov 20 15:23:04 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; I was blaming Makefile.PL too.
&gt; &gt;
&gt; &gt; C:\Users\val&gt;mysql_config --libs
&gt; &gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34;
&gt; &gt; &#34;user32.lib&#34;
</div>&gt; 
&gt; First one is OK, it is file specified with full path without any
&gt; leading hyphen. gcc and gnu linker can handle it.
&gt; 
&gt; But I doubt that other 3 files can be located properly with gcc or gnu
&gt; linker, as it can search for libraries only with -l param &#40;in this
&gt; case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.
</div>
Found
G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a 
G:\soft\mingw64\x86_64-w64-mingw32\lib\libadvapi32.a 
G:\soft\mingw64\x86_64-w64-mingw32\lib\libuser32.a


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Which compiler and linker are you using for compiling DBD::mysql?
</div>
x86_64-4.9.0-release-win32-seh-rt_v3-rev2.7z

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looks like my patch really fix problem with determinating if output
&gt; from mysql_config --libs is library &#40;either specified by -l syntax or
&gt; by full path&#41; or ordinary flag. Now there are problems with undefined
&gt; references to internal windows symbols which are probably in those not
&gt; found libraries...
</div> 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you want to compile DBD::mysql I would suggest you to manually play
&gt; with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs
&gt; &#40;ideally with full path&#41;. Maybe you need to link against some other
&gt; windows libraries... But I do not know, I do not use windows system.
</div>
What&#39;s the syntax for few args for --libs? 
--libs=&#34;c:/full/path/lib1&#34; --libs=&#34;c:/another/lib2&#34; 
or
--libs=&#34;c:/full/path/lib1 c:/another/lib2&#34; ?

is there a way to define few paths to lib dirs and provide to --libs only filenames &#40;without common path&#41;?

I&#39;m just surprised that with same perl, build system it&#39;s possible to compile DBD::mysql against mysql, but not mariadb.  And even mysql_config.pl in mariadb needs small fix to get it working at all &#40;in sub get_full_path&#41;.

Thanks for your help.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;20&nbsp;17:13:29&nbsp;2016</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Ned Nov 20 16:58:59 2016, VAL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Nov 20 15:46:03 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; On Ned Nov 20 15:23:04 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; I was blaming Makefile.PL too.
&gt; &gt; &gt;
&gt; &gt; &gt; C:\Users\val&gt;mysql_config --libs
&gt; &gt; &gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34; &#34;advapi32.lib&#34;
&gt; &gt; &gt; &#34;user32.lib&#34;
</div>&gt; &gt;
&gt; &gt; First one is OK, it is file specified with full path without any
&gt; &gt; leading hyphen. gcc and gnu linker can handle it.
&gt; &gt;
&gt; &gt; But I doubt that other 3 files can be located properly with gcc or
&gt; &gt; gnu
&gt; &gt; linker, as it can search for libraries only with -l param &#40;in this
&gt; &gt; case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.
</div>&gt; 
&gt; Found
&gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libadvapi32.a
&gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libuser32.a
&gt; 
&gt; 
<div class="message-stanza open">&gt; &gt; Which compiler and linker are you using for compiling DBD::mysql?
</div>&gt; 
&gt; x86_64-4.9.0-release-win32-seh-rt_v3-rev2.7z
</div>
So you are using gcc from 64bit mingw. In this case make sure that your libmysqlclient is also 64bit!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Looks like my patch really fix problem with determinating if output
&gt; &gt; from mysql_config --libs is library &#40;either specified by -l syntax or
&gt; &gt; by full path&#41; or ordinary flag. Now there are problems with undefined
&gt; &gt; references to internal windows symbols which are probably in those
&gt; &gt; not
&gt; &gt; found libraries...
</div>&gt; 
<div class="message-stanza open">&gt; &gt; If you want to compile DBD::mysql I would suggest you to manually
&gt; &gt; play
&gt; &gt; with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs
&gt; &gt; &#40;ideally with full path&#41;. Maybe you need to link against some other
&gt; &gt; windows libraries... But I do not know, I do not use windows system.
</div>&gt; 
&gt; What&#39;s the syntax for few args for --libs?
&gt; --libs=&#34;c:/full/path/lib1&#34; --libs=&#34;c:/another/lib2&#34;
&gt; or
&gt; --libs=&#34;c:/full/path/lib1 c:/another/lib2&#34; ?
&gt; 
&gt; is there a way to define few paths to lib dirs and provide to --libs
&gt; only filenames &#40;without common path&#41;?
</div>
IIRC syntax is space separated arguments passed to gcc when linking. When specifying more libs do not forget to properly quote &#40;and espace&#41; params which is needed on windows.

If you have a library with full path G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a then you can tell gcc to use it as:

-LG:\soft\mingw64\x86_64-w64-mingw32\lib -lwsock32

or

G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a

&#40;maybe backslash needs to be escaped... \ will probably be \\, but I&#39;m not sure&#41;

libsomething.a is specified by -lsomething

If you have more libraries in some path, then you just need to specify -Lpath only once.

try: --libs=&#34;\&#34;C:\\soft\\mariadb/lib/mysqlclient.lib\&#34; -L\&#34;G:\\soft\\mingw64\\x86_64-w64-mingw32\\lib\&#34; &#34;-lwsock32&#34; &#34;-ladvapi32&#34; &#34;-luser32&#34;

&#40;and play with escaping with \ and quoting with &#34;&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m just surprised that with same perl, build system it&#39;s possible to
&gt; compile DBD::mysql against mysql, but not mariadb.  And even
&gt; mysql_config.pl in mariadb needs small fix to get it working at all
&gt; &#40;in sub get_full_path&#41;.
</div>
If you have exactly same build system, then problem is only in mysql_config application. That one &#40;which comes from either mysql or mariadb&#41; is responsible for telling DBD::mysql where to find libmysqlclient and which flags needs to be passed to compiler and linker. Maybe you should report this problem to mariadb if with mysql you do not have any problem.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;18&nbsp;09:16:07&nbsp;2017</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Nov 20 17:13:29 2016, PALI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Ned Nov 20 16:58:59 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; On Sun Nov 20 15:46:03 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Ned Nov 20 15:23:04 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; I was blaming Makefile.PL too.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; C:\Users\val&gt;mysql_config --libs
&gt; &gt; &gt; &gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34;
&gt; &gt; &gt; &gt; &#34;advapi32.lib&#34;
&gt; &gt; &gt; &gt; &#34;user32.lib&#34;
</div>&gt; &gt; &gt;
&gt; &gt; &gt; First one is OK, it is file specified with full path without any
&gt; &gt; &gt; leading hyphen. gcc and gnu linker can handle it.
&gt; &gt; &gt;
&gt; &gt; &gt; But I doubt that other 3 files can be located properly with gcc or
&gt; &gt; &gt; gnu
&gt; &gt; &gt; linker, as it can search for libraries only with -l param &#40;in this
&gt; &gt; &gt; case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.
</div>&gt; &gt;
&gt; &gt; Found
&gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libadvapi32.a
&gt; &gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libuser32.a
&gt; &gt;
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Which compiler and linker are you using for compiling DBD::mysql?
</div>&gt; &gt;
&gt; &gt; x86_64-4.9.0-release-win32-seh-rt_v3-rev2.7z
</div>&gt; 
&gt; So you are using gcc from 64bit mingw. In this case make sure that
&gt; your libmysqlclient is also 64bit!
&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; Looks like my patch really fix problem with determinating if output
&gt; &gt; &gt; from mysql_config --libs is library &#40;either specified by -l syntax
&gt; &gt; &gt; or
&gt; &gt; &gt; by full path&#41; or ordinary flag. Now there are problems with
&gt; &gt; &gt; undefined
&gt; &gt; &gt; references to internal windows symbols which are probably in those
&gt; &gt; &gt; not
&gt; &gt; &gt; found libraries...
</div>&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; If you want to compile DBD::mysql I would suggest you to manually
&gt; &gt; &gt; play
&gt; &gt; &gt; with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs
&gt; &gt; &gt; &#40;ideally with full path&#41;. Maybe you need to link against some other
&gt; &gt; &gt; windows libraries... But I do not know, I do not use windows
&gt; &gt; &gt; system.
</div>&gt; &gt;
&gt; &gt; What&#39;s the syntax for few args for --libs?
&gt; &gt; --libs=&#34;c:/full/path/lib1&#34; --libs=&#34;c:/another/lib2&#34;
&gt; &gt; or
&gt; &gt; --libs=&#34;c:/full/path/lib1 c:/another/lib2&#34; ?
&gt; &gt;
&gt; &gt; is there a way to define few paths to lib dirs and provide to --libs
&gt; &gt; only filenames &#40;without common path&#41;?
</div>&gt; 
&gt; IIRC syntax is space separated arguments passed to gcc when linking.
&gt; When specifying more libs do not forget to properly quote &#40;and espace&#41;
&gt; params which is needed on windows.
&gt; 
&gt; If you have a library with full path G:\soft\mingw64\x86_64-w64-
&gt; mingw32\lib\libwsock32.a then you can tell gcc to use it as:
&gt; 
&gt; -LG:\soft\mingw64\x86_64-w64-mingw32\lib -lwsock32
&gt; 
&gt; or
&gt; 
&gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; 
&gt; &#40;maybe backslash needs to be escaped... \ will probably be \\, but I&#39;m
&gt; not sure&#41;
&gt; 
&gt; libsomething.a is specified by -lsomething
&gt; 
&gt; If you have more libraries in some path, then you just need to specify
&gt; -Lpath only once.
&gt; 
&gt; try: --libs=&#34;\&#34;C:\\soft\\mariadb/lib/mysqlclient.lib\&#34;
&gt; -L\&#34;G:\\soft\\mingw64\\x86_64-w64-mingw32\\lib\&#34; &#34;-lwsock32&#34; &#34;-
&gt; ladvapi32&#34; &#34;-luser32&#34;
&gt; 
&gt; &#40;and play with escaping with \ and quoting with &#34;&#41;
&gt; 
<div class="message-stanza open">&gt; &gt; I&#39;m just surprised that with same perl, build system it&#39;s possible to
&gt; &gt; compile DBD::mysql against mysql, but not mariadb.  And even
&gt; &gt; mysql_config.pl in mariadb needs small fix to get it working at all
&gt; &gt; &#40;in sub get_full_path&#41;.
</div>&gt; 
&gt; If you have exactly same build system, then problem is only in
&gt; mysql_config application. That one &#40;which comes from either mysql or
&gt; mariadb&#41; is responsible for telling DBD::mysql where to find
&gt; libmysqlclient and which flags needs to be passed to compiler and
&gt; linker. Maybe you should report this problem to mariadb if with mysql
&gt; you do not have any problem.
</div>
Hi! Have you resolved this building problem?

Or are there any others?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;24&nbsp;00:56:34&nbsp;2017</span>
    <span class="description">val [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jan 18 09:16:07 2017, PALI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Nov 20 17:13:29 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; On Ned Nov 20 16:58:59 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Sun Nov 20 15:46:03 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Ned Nov 20 15:23:04 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; I was blaming Makefile.PL too.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; C:\Users\val&gt;mysql_config --libs
&gt; &gt; &gt; &gt; &gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34;
&gt; &gt; &gt; &gt; &gt; &#34;advapi32.lib&#34;
&gt; &gt; &gt; &gt; &gt; &#34;user32.lib&#34;
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; First one is OK, it is file specified with full path without any
&gt; &gt; &gt; &gt; leading hyphen. gcc and gnu linker can handle it.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; But I doubt that other 3 files can be located properly with gcc or
&gt; &gt; &gt; &gt; gnu
&gt; &gt; &gt; &gt; linker, as it can search for libraries only with -l param &#40;in this
&gt; &gt; &gt; &gt; case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; Found
&gt; &gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; &gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libadvapi32.a
&gt; &gt; &gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libuser32.a
&gt; &gt; &gt;
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; Which compiler and linker are you using for compiling DBD::mysql?
</div>&gt; &gt; &gt;
&gt; &gt; &gt; x86_64-4.9.0-release-win32-seh-rt_v3-rev2.7z
</div>&gt; &gt; 
&gt; &gt; So you are using gcc from 64bit mingw. In this case make sure that
&gt; &gt; your libmysqlclient is also 64bit!
&gt; &gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; Looks like my patch really fix problem with determinating if output
&gt; &gt; &gt; &gt; from mysql_config --libs is library &#40;either specified by -l syntax
&gt; &gt; &gt; &gt; or
&gt; &gt; &gt; &gt; by full path&#41; or ordinary flag. Now there are problems with
&gt; &gt; &gt; &gt; undefined
&gt; &gt; &gt; &gt; references to internal windows symbols which are probably in those
&gt; &gt; &gt; &gt; not
&gt; &gt; &gt; &gt; found libraries...
</div>&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; If you want to compile DBD::mysql I would suggest you to manually
&gt; &gt; &gt; &gt; play
&gt; &gt; &gt; &gt; with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs
&gt; &gt; &gt; &gt; &#40;ideally with full path&#41;. Maybe you need to link against some other
&gt; &gt; &gt; &gt; windows libraries... But I do not know, I do not use windows
&gt; &gt; &gt; &gt; system.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; What&#39;s the syntax for few args for --libs?
&gt; &gt; &gt; --libs=&#34;c:/full/path/lib1&#34; --libs=&#34;c:/another/lib2&#34;
&gt; &gt; &gt; or
&gt; &gt; &gt; --libs=&#34;c:/full/path/lib1 c:/another/lib2&#34; ?
&gt; &gt; &gt;
&gt; &gt; &gt; is there a way to define few paths to lib dirs and provide to --libs
&gt; &gt; &gt; only filenames &#40;without common path&#41;?
</div>&gt; &gt; 
&gt; &gt; IIRC syntax is space separated arguments passed to gcc when linking.
&gt; &gt; When specifying more libs do not forget to properly quote &#40;and espace&#41;
&gt; &gt; params which is needed on windows.
&gt; &gt; 
&gt; &gt; If you have a library with full path G:\soft\mingw64\x86_64-w64-
&gt; &gt; mingw32\lib\libwsock32.a then you can tell gcc to use it as:
&gt; &gt; 
&gt; &gt; -LG:\soft\mingw64\x86_64-w64-mingw32\lib -lwsock32
&gt; &gt; 
&gt; &gt; or
&gt; &gt; 
&gt; &gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; &gt; 
&gt; &gt; &#40;maybe backslash needs to be escaped... \ will probably be \\, but I&#39;m
&gt; &gt; not sure&#41;
&gt; &gt; 
&gt; &gt; libsomething.a is specified by -lsomething
&gt; &gt; 
&gt; &gt; If you have more libraries in some path, then you just need to specify
&gt; &gt; -Lpath only once.
&gt; &gt; 
&gt; &gt; try: --libs=&#34;\&#34;C:\\soft\\mariadb/lib/mysqlclient.lib\&#34;
&gt; &gt; -L\&#34;G:\\soft\\mingw64\\x86_64-w64-mingw32\\lib\&#34; &#34;-lwsock32&#34; &#34;-
&gt; &gt; ladvapi32&#34; &#34;-luser32&#34;
&gt; &gt; 
&gt; &gt; &#40;and play with escaping with \ and quoting with &#34;&#41;
&gt; &gt; 
<div class="message-stanza open">&gt; &gt; &gt; I&#39;m just surprised that with same perl, build system it&#39;s possible to
&gt; &gt; &gt; compile DBD::mysql against mysql, but not mariadb.  And even
&gt; &gt; &gt; mysql_config.pl in mariadb needs small fix to get it working at all
&gt; &gt; &gt; &#40;in sub get_full_path&#41;.
</div>&gt; &gt; 
&gt; &gt; If you have exactly same build system, then problem is only in
&gt; &gt; mysql_config application. That one &#40;which comes from either mysql or
&gt; &gt; mariadb&#41; is responsible for telling DBD::mysql where to find
&gt; &gt; libmysqlclient and which flags needs to be passed to compiler and
&gt; &gt; linker. Maybe you should report this problem to mariadb if with mysql
&gt; &gt; you do not have any problem.
</div>&gt; 
&gt; Hi! Have you resolved this building problem?
&gt; 
&gt; Or are there any others?
</div>
No, I have not. :-&#40;  I&#39;d appreciate if Strawberry perl folks could share their way of getting this module working with MariaDB.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;09:26:12&nbsp;2017</span>
    <span class="description">pali [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 24 00:56:34 2017, VAL wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jan 18 09:16:07 2017, PALI wrote:
<div class="message-stanza open">&gt; &gt; On Sun Nov 20 17:13:29 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; &gt; On Ned Nov 20 16:58:59 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; On Sun Nov 20 15:46:03 2016, PALI wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; On Ned Nov 20 15:23:04 2016, VAL wrote:
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; &gt; I was blaming Makefile.PL too.
&gt; &gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; &gt; C:\Users\val&gt;mysql_config --libs
&gt; &gt; &gt; &gt; &gt; &gt; &#34;C:\soft\mariadb/lib/mysqlclient.lib&#34; &#34;wsock32.lib&#34;
&gt; &gt; &gt; &gt; &gt; &gt; &#34;advapi32.lib&#34;
&gt; &gt; &gt; &gt; &gt; &gt; &#34;user32.lib&#34;
</div>&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; First one is OK, it is file specified with full path without
&gt; &gt; &gt; &gt; &gt; any
&gt; &gt; &gt; &gt; &gt; leading hyphen. gcc and gnu linker can handle it.
&gt; &gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; &gt; But I doubt that other 3 files can be located properly with gcc
&gt; &gt; &gt; &gt; &gt; or
&gt; &gt; &gt; &gt; &gt; gnu
&gt; &gt; &gt; &gt; &gt; linker, as it can search for libraries only with -l param &#40;in
&gt; &gt; &gt; &gt; &gt; this
&gt; &gt; &gt; &gt; &gt; case without &#34;lib&#34; prefix and &#34;.lib&#34; or &#34;.a&#34; suffix&#41;.
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Found
&gt; &gt; &gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; &gt; &gt; &gt;  G:\soft\mingw64\x86_64-w64-mingw32\lib\libadvapi32.a
&gt; &gt; &gt; &gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libuser32.a
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; Which compiler and linker are you using for compiling
&gt; &gt; &gt; &gt; &gt; DBD::mysql?
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; x86_64-4.9.0-release-win32-seh-rt_v3-rev2.7z
</div>&gt; &gt; &gt;
&gt; &gt; &gt; So you are using gcc from 64bit mingw. In this case make sure that
&gt; &gt; &gt; your libmysqlclient is also 64bit!
&gt; &gt; &gt;
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; Looks like my patch really fix problem with determinating if
&gt; &gt; &gt; &gt; &gt; output
&gt; &gt; &gt; &gt; &gt; from mysql_config --libs is library &#40;either specified by -l
&gt; &gt; &gt; &gt; &gt; syntax
&gt; &gt; &gt; &gt; &gt; or
&gt; &gt; &gt; &gt; &gt; by full path&#41; or ordinary flag. Now there are problems with
&gt; &gt; &gt; &gt; &gt; undefined
&gt; &gt; &gt; &gt; &gt; references to internal windows symbols which are probably in
&gt; &gt; &gt; &gt; &gt; those
&gt; &gt; &gt; &gt; &gt; not
&gt; &gt; &gt; &gt; &gt; found libraries...
</div>&gt; &gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; &gt; If you want to compile DBD::mysql I would suggest you to
&gt; &gt; &gt; &gt; &gt; manually
&gt; &gt; &gt; &gt; &gt; play
&gt; &gt; &gt; &gt; &gt; with &#34;perl Makefile.PL --libs=...&#34;. And specify all needed libs
&gt; &gt; &gt; &gt; &gt; &#40;ideally with full path&#41;. Maybe you need to link against some
&gt; &gt; &gt; &gt; &gt; other
&gt; &gt; &gt; &gt; &gt; windows libraries... But I do not know, I do not use windows
&gt; &gt; &gt; &gt; &gt; system.
</div>&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; What&#39;s the syntax for few args for --libs?
&gt; &gt; &gt; &gt; --libs=&#34;c:/full/path/lib1&#34; --libs=&#34;c:/another/lib2&#34;
&gt; &gt; &gt; &gt; or
&gt; &gt; &gt; &gt; --libs=&#34;c:/full/path/lib1 c:/another/lib2&#34; ?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; is there a way to define few paths to lib dirs and provide to
&gt; &gt; &gt; &gt; --libs
&gt; &gt; &gt; &gt; only filenames &#40;without common path&#41;?
</div>&gt; &gt; &gt;
&gt; &gt; &gt; IIRC syntax is space separated arguments passed to gcc when
&gt; &gt; &gt; linking.
&gt; &gt; &gt; When specifying more libs do not forget to properly quote &#40;and
&gt; &gt; &gt; espace&#41;
&gt; &gt; &gt; params which is needed on windows.
&gt; &gt; &gt;
&gt; &gt; &gt; If you have a library with full path G:\soft\mingw64\x86_64-w64-
&gt; &gt; &gt; mingw32\lib\libwsock32.a then you can tell gcc to use it as:
&gt; &gt; &gt;
&gt; &gt; &gt; -LG:\soft\mingw64\x86_64-w64-mingw32\lib -lwsock32
&gt; &gt; &gt;
&gt; &gt; &gt; or
&gt; &gt; &gt;
&gt; &gt; &gt; G:\soft\mingw64\x86_64-w64-mingw32\lib\libwsock32.a
&gt; &gt; &gt;
&gt; &gt; &gt; &#40;maybe backslash needs to be escaped... \ will probably be \\, but
&gt; &gt; &gt; I&#39;m
&gt; &gt; &gt; not sure&#41;
&gt; &gt; &gt;
&gt; &gt; &gt; libsomething.a is specified by -lsomething
&gt; &gt; &gt;
&gt; &gt; &gt; If you have more libraries in some path, then you just need to
&gt; &gt; &gt; specify
&gt; &gt; &gt; -Lpath only once.
&gt; &gt; &gt;
&gt; &gt; &gt; try: --libs=&#34;\&#34;C:\\soft\\mariadb/lib/mysqlclient.lib\&#34;
&gt; &gt; &gt; -L\&#34;G:\\soft\\mingw64\\x86_64-w64-mingw32\\lib\&#34; &#34;-lwsock32&#34; &#34;-
&gt; &gt; &gt; ladvapi32&#34; &#34;-luser32&#34;
&gt; &gt; &gt;
&gt; &gt; &gt; &#40;and play with escaping with \ and quoting with &#34;&#41;
&gt; &gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; &gt; I&#39;m just surprised that with same perl, build system it&#39;s
&gt; &gt; &gt; &gt; possible to
&gt; &gt; &gt; &gt; compile DBD::mysql against mysql, but not mariadb.  And even
&gt; &gt; &gt; &gt; mysql_config.pl in mariadb needs small fix to get it working at
&gt; &gt; &gt; &gt; all
&gt; &gt; &gt; &gt; &#40;in sub get_full_path&#41;.
</div>&gt; &gt; &gt;
&gt; &gt; &gt; If you have exactly same build system, then problem is only in
&gt; &gt; &gt; mysql_config application. That one &#40;which comes from either mysql
&gt; &gt; &gt; or
&gt; &gt; &gt; mariadb&#41; is responsible for telling DBD::mysql where to find
&gt; &gt; &gt; libmysqlclient and which flags needs to be passed to compiler and
&gt; &gt; &gt; linker. Maybe you should report this problem to mariadb if with
&gt; &gt; &gt; mysql
&gt; &gt; &gt; you do not have any problem.
</div>&gt; &gt;
&gt; &gt; Hi! Have you resolved this building problem?
&gt; &gt;
&gt; &gt; Or are there any others?
</div>&gt; 
&gt; No, I have not. :-&#40;  I&#39;d appreciate if Strawberry perl folks could
&gt; share their way of getting this module working with MariaDB.
</div>
Currently MariaDB 10.2.2 and newer have bug in mysql_config which cause that DBD::mysql cannot be compiled with those MariaDB versions.

Michiel already reported this bug in MariaDB bug tracker:
<span class="clickylink"><a target="new" rel="nofollow" href="https://jira.mariadb.org/browse/MDEV-11872">https://jira.mariadb.org/browse/MDEV-11872</a></span>

But MariaDB 10.2.1 and older seems to work fine with DBD::mysql from git on Linux.

This pull request <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-dbi/DBD-mysql/pull/85">https://github.com/perl5-dbi/DBD-mysql/pull/85</a></span> adds support for automatically check if DBD::mysql unit tests pass on different MySQL &#38; MariaDB versions on Linux You can see result &#40;everything pass&#41; and tested versions: <span class="clickylink"><a target="new" rel="nofollow" href="https://travis-ci.org/perl5-dbi/DBD-mysql/builds/194603464">https://travis-ci.org/perl5-dbi/DBD-mysql/builds/194603464</a></span>

Those tests are running on Travis and therefore only Linux versions are tested.

I would suggest you to report this bug either directly Strawberry perl bug tracker or to MariaDB bug tracker. As Linux versions are working fine, problem is somewhere in Windows code &#40;perl/mariadb/scripts/setup&#41; and therefore cannot help you more.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;15&nbsp;02:53:07&nbsp;2017</span>
    <span class="description">MICHIELB [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ticket migrated to github as <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/perl5-dbi/DBD-mysql/issues/199">https://github.com/perl5-dbi/DBD-mysql/issues/199</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;15&nbsp;02:53:09&nbsp;2017</span>
    <span class="description">MICHIELB [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
