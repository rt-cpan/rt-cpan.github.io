<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #88547 for Class-STL-Containers: No need to use UNIVERSAL to get -&gt;can and -&gt;isa</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #88547 for Class-STL-Containers: No need to use UNIVERSAL to get -&gt;can and -&gt;isa</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Class-STL-Containers/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Class-STL-Containers/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Class-STL-Containers/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Class-STL-Containers/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Class-STL-Containers">Class-STL-Containers CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">88547</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Class-STL-Containers/Active/">Class-STL-Containers</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nick [...] ccl4.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-38608-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.35    </td>
  </tr>
  <tr id="CF-38609-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;09&nbsp;14:23:27&nbsp;2013</span>
    <span class="description">nick [...] ccl4.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> No need to use UNIVERSAL to get -&gt;can and -&gt;isa</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Various packages in Class-STL-Algorithms contain the line

    use UNIVERSAL qw&#40;isa can&#41;;

but none actually rely on isa&#40;&#41; or can&#40;&#41; being imported to the current package. The code only calls them as class methods, or fully qualified as UNIVERSAL::can&#40;&#41;. Both cases are built into the core, and so work without loading the module. Moreover, importing from UNIVERSAL is deprecated, and has warned since v5.12.0. With the previous bug fixed, the test suite still looks rather ugly:

t/Class-STL-Algorithms.t ................ UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/ClassMembers.pm line 38.
UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/Trace.pm line 39.
UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/Element.pm line 41.
UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/Containers.pm line 62.
UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/Containers.pm line 638.
UNIVERSAL-&gt;import is deprecated and will be removed in a future perl at /Volumes/Stuff/Perl/Class-STL-Containers-0.35/lib/Class/STL/Algorithms.pm line 39.

Patch attached which fixes this.

Nicholas Clark
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> CSTLC.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- lib/Class/STL/Algorithms.pm~	2013-09-09 17:58:47.000000000 +0200
+++ lib/Class/STL/Algorithms.pm	2013-09-09 20:17:49.000000000 +0200
@@ -36,7 +36,6 @@
 # ----------------------------------------------------------------------------------------------------
 {
 	package Class::STL::Algorithms;
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use vars qw&#40; @ISA @EXPORT_OK %EXPORT_TAGS &#41;;
 	require Exporter;
 	@ISA = &#39;Exporter&#39;;
--- lib/Class/STL/ClassMembers.pm~	2007-01-18 11:06:33.000000000 +0100
+++ lib/Class/STL/ClassMembers.pm	2013-09-09 20:17:57.000000000 +0200
@@ -35,7 +35,6 @@
 # ----------------------------------------------------------------------------------------------------
 {
 	package Class::STL::ClassMembers;
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use Carp qw&#40;confess&#41;;
 	use Class::STL::Trace;
 	sub import
--- lib/Class/STL/Containers.pm~	2013-09-09 17:59:18.000000000 +0200
+++ lib/Class/STL/Containers.pm	2013-09-09 20:18:14.000000000 +0200
@@ -59,7 +59,6 @@
 	use base qw&#40;Class::STL::Element&#41;; # container is also an element
 	use overload &#39;+&#39; =&gt; &#39;append&#39;, &#39;+=&#39; =&gt; &#39;append&#39;, &#39;=&#39; =&gt; &#39;clone&#39;, &#39;&#34;&#34;&#39; =&gt; &#39;str&#39;, &#39;==&#39; =&gt; &#39;eq&#39;, &#39;!=&#39; =&gt; &#39;ne&#39;;
 	use Class::STL::Iterators qw&#40;:all&#41;;
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use Carp qw&#40;confess&#41;;
 	use Class::STL::ClassMembers
 		Class::STL::ClassMembers::DataMember-&gt;new&#40;
@@ -635,7 +634,6 @@
 # ----------------------------------------------------------------------------------------------------
 {
 	package Class::STL::Containers::MakeFind;
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use Carp qw&#40;cluck confess&#41;;
 	sub new # --&gt; import...
 	{
--- lib/Class/STL/Element.pm~	2007-01-18 11:06:42.000000000 +0100
+++ lib/Class/STL/Element.pm	2013-09-09 20:18:08.000000000 +0200
@@ -38,7 +38,6 @@
 # ----------------------------------------------------------------------------------------------------
 {
 	package Class::STL::Element;
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use Carp qw&#40;confess&#41;;
 	use Class::STL::ClassMembers qw&#40; data &#41;,
 		Class::STL::ClassMembers::DataMember-&gt;new&#40;name =&gt; &#39;data_type&#39;, default =&gt; &#39;string&#39;,
--- lib/Class/STL/Trace.pm~	2007-01-18 11:06:57.000000000 +0100
+++ lib/Class/STL/Trace.pm	2013-09-09 20:18:30.000000000 +0200
@@ -36,7 +36,6 @@
 # ----------------------------------------------------------------------------------------------------
 {
 	package Class::STL::Trace; # Singleton
-	use UNIVERSAL qw&#40;isa can&#41;;
 	use Carp qw&#40;confess&#41;;
 	sub new {
 		our $__class_stl_trace;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;10:28:35&nbsp;2015</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2013-09-09 14:23:27, nick@ccl4.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Various packages in Class-STL-Algorithms contain the line
&gt; 
&gt; use UNIVERSAL qw&#40;isa can&#41;;
&gt; 
&gt; but none actually rely on isa&#40;&#41; or can&#40;&#41; being imported to the current
&gt; package. The code only calls them as class methods, or fully qualified
&gt; as UNIVERSAL::can&#40;&#41;. Both cases are built into the core, and so work
&gt; without loading the module. Moreover, importing from UNIVERSAL is
&gt; deprecated, and has warned since v5.12.0. With the previous bug fixed,
&gt; the test suite still looks rather ugly:
&gt; 
&gt; t/Class-STL-Algorithms.t ................ UNIVERSAL-&gt;import is
&gt; deprecated and will be removed in a future perl at
&gt; /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/ClassMembers.pm line 38.
&gt; UNIVERSAL-&gt;import is deprecated and will be removed in a future perl
&gt; at /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/Trace.pm line 39.
&gt; UNIVERSAL-&gt;import is deprecated and will be removed in a future perl
&gt; at /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/Element.pm line 41.
&gt; UNIVERSAL-&gt;import is deprecated and will be removed in a future perl
&gt; at /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/Containers.pm line 62.
&gt; UNIVERSAL-&gt;import is deprecated and will be removed in a future perl
&gt; at /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/Containers.pm line 638.
&gt; UNIVERSAL-&gt;import is deprecated and will be removed in a future perl
&gt; at /Volumes/Stuff/Perl/Class-STL-Containers-
&gt; 0.35/lib/Class/STL/Algorithms.pm line 39.
&gt; 
&gt; Patch attached which fixes this.
&gt; 
&gt; Nicholas Clark
</div>
In newer perls this is a hard error:

UNIVERSAL does not export anything at /tmpfs/.cpan-build/2015112815/Class-STL-Containers-0.35-8PRobo/lib/Class/STL/ClassMembers.pm line 38.
BEGIN failed--compilation aborted at /tmpfs/.cpan-build/2015112815/Class-STL-Containers-0.35-8PRobo/lib/Class/STL/ClassMembers.pm line 38.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;10:28:35&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;21&nbsp;22:12:48&nbsp;2018</span>
    <span class="description">davido [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 0.37
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;21&nbsp;22:12:48&nbsp;2018</span>
    <span class="description">davido [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
