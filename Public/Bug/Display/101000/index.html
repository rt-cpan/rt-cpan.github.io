<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #101000 for PAR-Packer: Perl pp error: Nested packages</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #101000 for PAR-Packer: Perl pp error: Nested packages</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=PAR-Packer">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=PAR-Packer">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=PAR-Packer">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=PAR-Packer">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">101000</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=PAR-Packer">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
angan.das [...] intel.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=101000">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1443971" href="/Public/Bug/Display.html?id=101000#txn-1443971">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;18&nbsp;16:15:48&nbsp;2014</span>
    <span class="description">angan.das [...] intel.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Jayapal, Pradeep Kumar&#34; &lt;pradeep.kumar.jayapal [...] intel.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perl pp error: Nested packages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 18 Dec 2014 21:15:30 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Das, Angan&#34; &lt;angan.das [...] intel.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1443971/767692/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/767692">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 925b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roderich,

Pradeep &#40;from our team&#41; has a recent issue with &#39;pp&#39; -- nested Perl packages &#40;used within &#39;included/called&#39; Perl scripts from parent Perl script&#41; complain being not found. Environment does not seem to be an issue over here, and including all packages within the parent script does not help. 

Probably the main code spawns off a separate process from &#39;pp&#39;-transformed code, and it does not have much clue where to pick up the package from. 

Could you kindly help?

- Angan

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Sunday, November 02, 2014 5:54 AM
To: Das, Angan
Subject: [rt.cpan.org #95417] Resolved: Perl pp error: Seeking some info

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=95417">https://rt.cpan.org/Ticket/Display.html?id=95417</a></span> &gt;

According to our records, your request has been resolved. If you have any further questions or concerns, please respond to this message.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444131" href="/Public/Bug/Display.html?id=101000#txn-1444131">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;07:08:29&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444131/767784/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/767784">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 709b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2014-12-18 16:15:48, angan.das@intel.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Pradeep &#40;from our team&#41; has a recent issue with &#39;pp&#39; -- nested Perl
&gt; packages &#40;used within &#39;included/called&#39; Perl scripts from parent Perl
&gt; script&#41; complain being not found. Environment does not seem to be an
&gt; issue over here, and including all packages within the parent script
&gt; does not help.
&gt; 
&gt; Could you kindly help?
</div>
Sorry, rt.cpan.org is a *bug* tracker: clearly state what you were trying to do,
what you expected and what you got instead. Your report does not contain anything
base a diagnosis on.
Stuff like &#34;need some help&#34; do not belong on the bug tracker,
please take them to the PAR mailing list, par@perl.org, instead.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444132" href="/Public/Bug/Display.html?id=101000#txn-1444132">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;07:08:30&nbsp;2014</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444136" href="/Public/Bug/Display.html?id=101000#txn-1444136">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;07:08:33&nbsp;2014</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444261" href="/Public/Bug/Display.html?id=101000#txn-1444261">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;13:56:16&nbsp;2014</span>
    <span class="description">angan.das [...] intel.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Jayapal, Pradeep Kumar&#34; &lt;pradeep.kumar.jayapal [...] intel.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #101000] Perl pp error: Nested packages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Dec 2014 18:56:05 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Das, Angan&#34; &lt;angan.das [...] intel.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444261/767855/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/767855">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Roderich,

Thanks. I am not sure why Pradeep got stripped off from the mail thread. Anyways, looks like a &#39;bug&#39; to us &#40;from the what we could decipher from the user guide&#41;. Now, whether it is a real bug to be fixed or is there is some work around -- I will let you decide.

Pradeep, could you kindly give some snippets of the error messages you got &#40;hiding relevant Intel IP information&#41; that might help Roderich to give some pointers. Also, please send the same email to &#34;par@perl.org&#34; so that we might get some help from there as well.

- Angan

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org] 
Sent: Friday, December 19, 2014 4:09 AM
To: Das, Angan
Subject: [rt.cpan.org #101000] Perl pp error: Nested packages

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101000">https://rt.cpan.org/Ticket/Display.html?id=101000</a></span> &gt;

On 2014-12-18 16:15:48, angan.das@intel.com wrote:
<div class="message-stanza open">&gt; Pradeep &#40;from our team&#41; has a recent issue with &#39;pp&#39; -- nested Perl 
&gt; packages &#40;used within &#39;included/called&#39; Perl scripts from parent Perl
&gt; script&#41; complain being not found. Environment does not seem to be an 
&gt; issue over here, and including all packages within the parent script 
&gt; does not help.
&gt; 
&gt; Could you kindly help?
</div>
Sorry, rt.cpan.org is a *bug* tracker: clearly state what you were trying to do, what you expected and what you got instead. Your report does not contain anything base a diagnosis on.
Stuff like &#34;need some help&#34; do not belong on the bug tracker, please take them to the PAR mailing list, par@perl.org, instead.

Cheers, Roderich
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444346" href="/Public/Bug/Display.html?id=101000#txn-1444346">#</a>      
    </span>
    <span class="date">Fri&nbsp;Dec&nbsp;19&nbsp;18:52:40&nbsp;2014</span>
    <span class="description">pradeep.kumar.jayapal [...] intel.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;Das, Angan&#34; &lt;angan.das [...] intel.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #101000] Perl pp error: Nested packages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 19 Dec 2014 23:52:26 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;, &#34;&#39;par [...] perl.org&#39;&#34; &lt;par [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Jayapal, Pradeep Kumar&#34; &lt;pradeep.kumar.jayapal [...] intel.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444346/767904/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/767904">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roderich,

Let me try to give a clear picture of my scenario,

I have a perl script which I am compiling using pp. In the executable returned as output by pp we see few Intel specific paths being mentioned &#40;eg: /&lt;prefix&gt;/intel/&lt;suffix&gt;&#41;. To keep it generic and to ensure that Intel specific paths are not used we replace all the occurrence of &#34;intel&#34; with &#34;dummy&#34; in the PP output executable file.
But we see that when we run the executable and another Perl script is called from inside this executable &#40;system call in the original Perl script&#41; we get an error in the lines of,

Can&#39;t locate warnings.pm in @INC &#40;@INC contains: /&lt;prefix&gt;/dummy/&lt;suffix&gt;&#41; at &lt;perl_script_called_using_systemcall&gt; at line &lt;line_no&gt;.
BEGIN failed--compilation aborted at &lt;perl_script_called_using_systemcall&gt; at line &lt;line_no&gt;.

The &lt;line_no&gt; and warnings.pm points to &#34;use warnings;&#34; line in the Perl script called from the executable using system calls. Is there way to prevent the PP output executable from controlling @INC for the system calls of Perl scripts inside the executable?   

Regards,
Pradeep


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Das, Angan
Sent: Friday, December 19, 2014 10:56 AM
To: bug-PAR-Packer@rt.cpan.org
Cc: Jayapal, Pradeep Kumar
Subject: RE: [rt.cpan.org #101000] Perl pp error: Nested packages

Roderich,

Thanks. I am not sure why Pradeep got stripped off from the mail thread. Anyways, looks like a &#39;bug&#39; to us &#40;from the what we could decipher from the user guide&#41;. Now, whether it is a real bug to be fixed or is there is some work around -- I will let you decide.

Pradeep, could you kindly give some snippets of the error messages you got &#40;hiding relevant Intel IP information&#41; that might help Roderich to give some pointers. Also, please send the same email to &#34;par@perl.org&#34; so that we might get some help from there as well.

- Angan

<div class="message-stanza open">-----Original Message-----
From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org]
Sent: Friday, December 19, 2014 4:09 AM
To: Das, Angan
Subject: [rt.cpan.org #101000] Perl pp error: Nested packages

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101000">https://rt.cpan.org/Ticket/Display.html?id=101000</a></span> &gt;

On 2014-12-18 16:15:48, angan.das@intel.com wrote:
<div class="message-stanza open">&gt; Pradeep &#40;from our team&#41; has a recent issue with &#39;pp&#39; -- nested Perl 
&gt; packages &#40;used within &#39;included/called&#39; Perl scripts from parent Perl
&gt; script&#41; complain being not found. Environment does not seem to be an 
&gt; issue over here, and including all packages within the parent script 
&gt; does not help.
&gt; 
&gt; Could you kindly help?
</div>
Sorry, rt.cpan.org is a *bug* tracker: clearly state what you were trying to do, what you expected and what you got instead. Your report does not contain anything base a diagnosis on.
Stuff like &#34;need some help&#34; do not belong on the bug tracker, please take them to the PAR mailing list, par@perl.org, instead.

Cheers, Roderich
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1444934" href="/Public/Bug/Display.html?id=101000#txn-1444934">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;21&nbsp;11:36:38&nbsp;2014</span>
    <span class="description">bagdevi.mishra [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> &#34;par [...] perl.org&#34; &lt;par [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #101000] Perl pp error: Nested packages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 21 Dec 2014 17:36:04 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Bagdevi &lt;bagdevi.mishra [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444934/768232/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768232">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello Pradeep and Angan,
I had a similar situation, where I was calling a perl script &#40;B&#41; from the
compiled executable &#40;A&#41; and, as it is happening with you, it did not work
for me as well because of the system path issues. Well, the direct solution
is, one should keep the &#40;B&#41; as a sub routine of perl code &#40;A&#41;, which would
solve the issue. But for some reason &#40;constrains&#41;, I could not put both
these perl scripts together. I had a work around which solved my problem.
1// first I compiled the perl code &#40;B&#41; individually and make the executable.
2// from perl script &#40;A&#41; I called the executable for &#40;B&#41; &#40;not the perl code
&#40;B&#41;&#41;.
3// I packed the executable &#40;B&#41; along with &#40;A&#41; while compiling &#40;A&#41;.
This, at the end, takes up much space as it bundles up most of the needed
packages twice, but at least it works that&#39;s way.

 Hope that helps.


Regards,
Bagdevi Mishra.

On Sat, Dec 20, 2014 at 12:52 AM, Jayapal, Pradeep Kumar via RT &lt;
bug-PAR-Packer@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri Dec 19 18:52:40 2014: Request 101000 was acted upon.
&gt; Transaction: Correspondence added by pradeep.kumar.jayapal@intel.com
&gt;        Queue: PAR-Packer
&gt;      Subject: RE: [rt.cpan.org #101000] Perl pp error: Nested packages
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: angan.das@intel.com
&gt;       Status: rejected
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101000">https://rt.cpan.org/Ticket/Display.html?id=101000</a></span> &gt;
&gt;
&gt;
&gt; Hi Roderich,
&gt;
&gt; Let me try to give a clear picture of my scenario,
&gt;
&gt; I have a perl script which I am compiling using pp. In the executable
&gt; returned as output by pp we see few Intel specific paths being mentioned
&gt; &#40;eg: /&lt;prefix&gt;/intel/&lt;suffix&gt;&#41;. To keep it generic and to ensure that Intel
&gt; specific paths are not used we replace all the occurrence of &#34;intel&#34; with
&gt; &#34;dummy&#34; in the PP output executable file.
&gt; But we see that when we run the executable and another Perl script is
&gt; called from inside this executable &#40;system call in the original Perl
&gt; script&#41; we get an error in the lines of,
&gt;
&gt; Can&#39;t locate warnings.pm in @INC &#40;@INC contains:
&gt; /&lt;prefix&gt;/dummy/&lt;suffix&gt;&#41; at &lt;perl_script_called_using_systemcall&gt; at line
&gt; &lt;line_no&gt;.
&gt; BEGIN failed--compilation aborted at &lt;perl_script_called_using_systemcall&gt;
&gt; at line &lt;line_no&gt;.
&gt;
&gt; The &lt;line_no&gt; and warnings.pm points to &#34;use warnings;&#34; line in the Perl
&gt; script called from the executable using system calls. Is there way to
&gt; prevent the PP output executable from controlling @INC for the system calls
&gt; of Perl scripts inside the executable?
&gt;
&gt; Regards,
&gt; Pradeep
&gt;
&gt;
&gt; -----Original Message-----
&gt; From: Das, Angan
&gt; Sent: Friday, December 19, 2014 10:56 AM
&gt; To: bug-PAR-Packer@rt.cpan.org
&gt; Cc: Jayapal, Pradeep Kumar
&gt; Subject: RE: [rt.cpan.org #101000] Perl pp error: Nested packages
&gt;
&gt; Roderich,
&gt;
&gt; Thanks. I am not sure why Pradeep got stripped off from the mail thread.
&gt; Anyways, looks like a &#39;bug&#39; to us &#40;from the what we could decipher from the
&gt; user guide&#41;. Now, whether it is a real bug to be fixed or is there is some
&gt; work around -- I will let you decide.
&gt;
&gt; Pradeep, could you kindly give some snippets of the error messages you got
&gt; &#40;hiding relevant Intel IP information&#41; that might help Roderich to give
&gt; some pointers. Also, please send the same email to &#34;par@perl.org&#34; so that
&gt; we might get some help from there as well.
&gt;
&gt; - Angan
&gt;
&gt; -----Original Message-----
&gt; From: Roderich Schupp via RT [mailto:bug-PAR-Packer@rt.cpan.org]
&gt; Sent: Friday, December 19, 2014 4:09 AM
&gt; To: Das, Angan
&gt; Subject: [rt.cpan.org #101000] Perl pp error: Nested packages
&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=101000">https://rt.cpan.org/Ticket/Display.html?id=101000</a></span> &gt;
&gt;
&gt; On 2014-12-18 16:15:48, angan.das@intel.com wrote:
<div class="message-stanza open">&gt; &gt; Pradeep &#40;from our team&#41; has a recent issue with &#39;pp&#39; -- nested Perl
&gt; &gt; packages &#40;used within &#39;included/called&#39; Perl scripts from parent Perl
&gt; &gt; script&#41; complain being not found. Environment does not seem to be an
&gt; &gt; issue over here, and including all packages within the parent script
&gt; &gt; does not help.
&gt; &gt;
&gt; &gt; Could you kindly help?
</div>&gt;
&gt; Sorry, rt.cpan.org is a *bug* tracker: clearly state what you were trying
&gt; to do, what you expected and what you got instead. Your report does not
&gt; contain anything base a diagnosis on.
&gt; Stuff like &#34;need some help&#34; do not belong on the bug tracker, please take
&gt; them to the PAR mailing list, par@perl.org, instead.
&gt;
&gt; Cheers, Roderich
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1444934/768233/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/768233">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1449694" href="/Public/Bug/Display.html?id=101000#txn-1449694">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;05&nbsp;11:47:53&nbsp;2015</span>
    <span class="description">ronw.mrmx [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org, &#34;par [...] perl.org&#34; &lt;par [...] perl.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #101000] Perl pp error: Nested packages</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 5 Jan 2015 11:47:41 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Bagdevi &lt;bagdevi.mishra [...] gmail.com&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ron W &lt;ronw.mrmx [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1449694/770878/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/770878">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, Dec 21, 2014 at 11:36 AM, Bagdevi &lt;bagdevi.mishra@gmail.com&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello Pradeep and Angan,
&gt; I had a similar situation, where I was calling a perl script &#40;B&#41; from the
&gt; compiled executable &#40;A&#41; and, as it is happening with you, it did ...
&gt; 1// first I compiled the perl code &#40;B&#41; individually and make the
&gt; executable.
&gt; 2// from perl script &#40;A&#41; I called the executable for &#40;B&#41; &#40;not the perl
&gt; code &#40;B&#41;&#41;.
&gt; 3// I packed the executable &#40;B&#41; along with &#40;A&#41; while compiling &#40;A&#41;.
&gt; This, at the end, takes up much space as it bundles up most of the needed
&gt; packages twice, but at least it works that&#39;s way.
&gt;
</div>
You can bundle multiple Perl scripts inside the generated executable. Make
the base name of the executable the same as the primary script. &#40;If a.pl is
the primary, then name the executable a &#40;or a.exe for MS Windows&#41;.&#41;

You can invoke b.pl from a.pl with:

    my $progb = $0;
    $0 =~ s/a\.pl/b\.pl/;
    do $progb;

Also, FYI, in a Linux/Unix/POSIX environment, you can create links to the
executable, each one named for the bundled script to be executed. Example:

    ln -s a b
    # run a
    a
    # run b
    b

In a MS Windows environment, you have to make additional copies of the
executable, however, the same behavior applies: Whichever name the
executable is invoked by, that is the script that will run.
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1449694/770879/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/770879">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.419614</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
