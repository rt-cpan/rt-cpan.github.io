<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #116694 for List-Gather: Does not work with recent perl-blead</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #116694 for List-Gather: Does not work with recent perl-blead</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/List-Gather/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/List-Gather/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/List-Gather/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/List-Gather/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/List-Gather">List-Gather CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">116694</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/List-Gather/Active/">List-Gather</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
simcop2387 [...] simcop2387.info

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242530-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-242531-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.13    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;03&nbsp;12:59:56&nbsp;2016</span>
    <span class="description">simcop2387 [...] simcop2387.info -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Does not work with recent perl-blead</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 3 Aug 2016 09:59:35 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-Gather [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ryan Voots &lt;simcop2387 [...] simcop2387.info&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fails to compile on recent perl-blead versions:

--- BEGIN perl -V ---
Summary of my perl5 &#40;revision 5 version 25 subversion 4&#41; configuration:
  Snapshot of: 9648eab63b366c001d38f6de565f005cf6cea10a
  Platform:
    osname=linux
    osvers=4.1.5-x86_64-linode61
    archname=x86_64-linux
    uname=&#39;linux simcop2387.info 4.1.5-x86_64-linode61 #7 smp mon aug 24
13:46:31 edt 2015 x86_64 gnulinux &#39;
    config_args=&#39;-de
-Dprefix=/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411
-Dusedevel
-Aeval:scriptdir=/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/bin&#39;
    hint=recommended
    useposix=true
    d_sigaction=define
    useithreads=undef
    usemultiplicity=undef
    use64bitint=define
    use64bitall=define
    uselongdouble=undef
    usemymalloc=n
    bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;
    ccflags =&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64
-D_FORTIFY_SOURCE=2&#39;
    optimize=&#39;-O2&#39;
    cppflags=&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong
-I/usr/local/include&#39;
    ccversion=&#39;&#39;
    gccversion=&#39;4.9.2&#39;
    gccosandvers=&#39;&#39;
    intsize=4
    longsize=8
    ptrsize=8
    doublesize=8
    byteorder=12345678
    doublekind=3
    d_longlong=define
    longlongsize=8
    d_longdbl=define
    longdblsize=16
    longdblkind=3
    ivtype=&#39;long&#39;
    ivsize=8
    nvtype=&#39;double&#39;
    nvsize=8
    Off_t=&#39;off_t&#39;
    lseeksize=8
    alignbytes=8
    prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;
    ldflags =&#39; -fstack-protector-strong -L/usr/local/lib&#39;
    libpth=/usr/local/lib /usr/lib/gcc/x86_64-linux-gnu/4.9/include-fixed
/usr/include/x86_64-linux-gnu /usr/lib /lib/x86_64-linux-gnu /lib/../lib
/usr/lib/x86_64-linux-gnu /usr/lib/../lib /lib
    libs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    perllibs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    libc=libc-2.19.so
    so=so
    useshrplib=false
    libperl=libperl.a
    gnulibc_version=&#39;2.19&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs
    dlext=so
    d_dlsymun=undef
    ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;
    lddlflags=&#39;-shared -O2 -L/usr/local/lib -fstack-protector-strong&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options:
    HAS_TIMES
    PERLIO_LAYERS
    PERL_COPY_ON_WRITE
    PERL_DONT_CREATE_GVSV
    PERL_HASH_FUNC_ONE_AT_A_TIME_HARD
    PERL_MALLOC_WRAP
    PERL_OP_PARENT
    PERL_PRESERVE_IVUV
    PERL_USE_DEVEL
    USE_64_BIT_ALL
    USE_64_BIT_INT
    USE_LARGE_FILES
    USE_LOCALE
    USE_LOCALE_COLLATE
    USE_LOCALE_CTYPE
    USE_LOCALE_NUMERIC
    USE_LOCALE_TIME
    USE_PERLIO
    USE_PERL_ATOF
  Locally applied patches:
    Devel::PatchPerl 1.38
  Built under linux
  Compiled at Jul 25 2016 14:32:57
  %ENV:
    PERLBREW_BASHRC_VERSION=&#34;0.73&#34;
    PERLBREW_HOME=&#34;/home/ryan/.perlbrew&#34;
    PERLBREW_MANPATH=&#34;/home/ryan/perl5/perlbrew/perls/perlbot-inuse/man&#34;

PERLBREW_PATH=&#34;/home/ryan/perl5/perlbrew/bin:/home/ryan/perl5/perlbrew/perls/perlbot-inuse/bin&#34;
    PERLBREW_PERL=&#34;perlbot-inuse&#34;
    PERLBREW_ROOT=&#34;/home/ryan/perl5/perlbrew&#34;
    PERLBREW_VERSION=&#34;0.73&#34;
  @INC:

/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/site_perl/5.25.4/x86_64-linux

/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/site_perl/5.25.4

/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/5.25.4/x86_64-linux

/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/5.25.4
---- END perl -V ----


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">--- BEGIN Build log ---

-&gt; % cpanm --verbose List::Gather
cpanm &#40;App::cpanminus&#41; 1.7027 on perl 5.025004 built for x86_64-linux
Work directory is /home/ryan/.cpanm/work/1470243406.25449
You have make /usr/bin/make
You have LWP 6.15
You have /bin/tar: tar &#40;GNU tar&#41; 1.27.1
Copyright &#40;C&#41; 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a></span>
<div class="message-stanza open">&gt;.
</div>This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
You have /usr/bin/unzip
Searching List::Gather on cpanmetadb ...
--&gt; Working on List::Gather
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/E/ET/ETHER/List-Gather-0.12.tar.gz">http://www.cpan.org/authors/id/E/ET/ETHER/List-Gather-0.12.tar.gz</a></span>
... OK
Unpacking List-Gather-0.12.tar.gz
List-Gather-0.12/
List-Gather-0.12/CONTRIBUTING
List-Gather-0.12/Changes
List-Gather-0.12/Gather.xs
List-Gather-0.12/INSTALL
List-Gather-0.12/LICENSE
List-Gather-0.12/MANIFEST
List-Gather-0.12/META.json
List-Gather-0.12/META.yml
List-Gather-0.12/Makefile.PL
List-Gather-0.12/README
List-Gather-0.12/dist.ini
List-Gather-0.12/inc/
List-Gather-0.12/lib/
List-Gather-0.12/t/
List-Gather-0.12/weaver.ini
List-Gather-0.12/xt/
List-Gather-0.12/xt/author/
List-Gather-0.12/xt/release/
List-Gather-0.12/xt/release/changes_has_content.t
List-Gather-0.12/xt/release/cpan-changes.t
List-Gather-0.12/xt/release/distmeta.t
List-Gather-0.12/xt/release/kwalitee.t
List-Gather-0.12/xt/release/minimum-version.t
List-Gather-0.12/xt/release/mojibake.t
List-Gather-0.12/xt/release/pod-coverage.t
List-Gather-0.12/xt/release/pod-no404s.t
List-Gather-0.12/xt/release/pod-syntax.t
List-Gather-0.12/xt/release/portability.t
List-Gather-0.12/xt/author/00-compile.t
List-Gather-0.12/xt/author/eol.t
List-Gather-0.12/xt/author/no-tabs.t
List-Gather-0.12/t/00-report-prereqs.dd
List-Gather-0.12/t/00-report-prereqs.t
List-Gather-0.12/t/basic.t
List-Gather-0.12/t/context.t
List-Gather-0.12/t/errors.t
List-Gather-0.12/t/exceptions.t
List-Gather-0.12/t/modifier.t
List-Gather-0.12/t/return.t
List-Gather-0.12/t/syntax.t
List-Gather-0.12/lib/List/
List-Gather-0.12/lib/List/Gather.pm
List-Gather-0.12/inc/MMHelper.pm
List-Gather-0.12/inc/MakeMaker.pm
Entering List-Gather-0.12
Checking configure dependencies from META.json
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;7.18&#41;
Checking if you have IO::File 0 ... Yes &#40;1.16&#41;
Checking if you have Devel::CallParser 0 ... Yes &#40;0.002&#41;
Checking if you have Devel::CallChecker 0 ... Yes &#40;0.007&#41;
Running Makefile.PL
Configuring List-Gather-0.12 ... Checking if your kit is complete...
Looks good
Generating a Unix-style Makefile
Writing Makefile for List::Gather
Writing MYMETA.yml and MYMETA.json
OK
Checking dependencies from MYMETA.json ...
Checking if you have Devel::CallChecker 0 ... Yes &#40;0.007&#41;
Checking if you have File::Spec 0 ... Yes &#40;3.64&#41;
Checking if you have Test::More 0.98 ... Yes &#40;1.302045&#41;
Checking if you have Try::Tiny 0 ... Yes &#40;0.24&#41;
Checking if you have Sub::Exporter 0 ... Yes &#40;0.987&#41;
Checking if you have XSLoader 0 ... Yes &#40;0.22&#41;
Checking if you have warnings 0 ... Yes &#40;1.37&#41;
Checking if you have ExtUtils::MakeMaker 0 ... Yes &#40;7.18&#41;
Checking if you have Test::Fatal 0 ... Yes &#40;0.014&#41;
Checking if you have strict 0 ... Yes &#40;1.11&#41;
Checking if you have Devel::CallParser 0 ... Yes &#40;0.002&#41;
Building and testing List-Gather-0.12 ... cp lib/List/Gather.pm
blib/lib/List/Gather.pm
Running Mkbootstrap for Gather &#40;&#41;
chmod 644 &#34;Gather.bs&#34;
&#34;/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/bin/perl5.25.4&#34;
-MExtUtils::Command::MM -e &#39;cp_nonempty&#39; -- Gather.bs
blib/arch/auto/List/Gather/Gather.bs 644
&#34;/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/bin/perl5.25.4&#34;
&#34;/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/5.25.4/ExtUtils/xsubpp&#34;
-typemap
&#39;/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/5.25.4/ExtUtils/typemap&#39;
Gather.xs &gt; Gather.xsc
mv Gather.xsc Gather.c
cc -c   -fwrapv -fno-strict-aliasing -pipe -fstack-protector-strong
-I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64
-D_FORTIFY_SOURCE=2 -I. -O2   -DVERSION=\&#34;0.12\&#34; -DXS_VERSION=\&#34;0.12\&#34;
-fPIC
&#34;-I/home/ryan/perl5/perlbrew/perls/perlbot-blead-2016-07-25_29411/lib/5.25.4/x86_64-linux/CORE&#34;
Gather.c
Gather.xs: In function ‘myck_entersub_gather’:
Gather.xs:224:14: error: ‘OP’ has no member named ‘op_sibling’
   if &#40;!pushop-&gt;op_sibling&#41;
              ^
Gather.xs:227:17: error: ‘OP’ has no member named ‘op_sibling’
   blkop = pushop-&gt;op_sibling;
                 ^
Gather.xs: In function ‘myck_entersub_take’:
Gather.xs:261:16: error: ‘OP’ has no member named ‘op_sibling’
   while &#40;lastop-&gt;op_sibling != cLISTOPx&#40;listop&#41;-&gt;op_last&#41;
                ^
Gather.xs:262:20: error: ‘OP’ has no member named ‘op_sibling’
     lastop = lastop-&gt;op_sibling;
                    ^
Gather.xs:263:19: error: ‘OP’ has no member named ‘op_sibling’
   rv2cvop = lastop-&gt;op_sibling;
                   ^
Makefile:338: recipe for target &#39;Gather.o&#39; failed
make: *** [Gather.o] Error 1
FAIL
! Installing List::Gather failed. See
/home/ryan/.cpanm/work/1470243406.25449/build.log for details. Retry with
--force to force install it.
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;03&nbsp;13:11:57&nbsp;2016</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2016-08-03 09:59:56, simcop2387@simcop2387.info wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fails to compile on recent perl-blead versions:
</div>
Yes, the op_sibling changes in 5.25.1 require this code to be updated. Unfortunately it&#39;s not trivial, and requires good understanding of the parser.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;03&nbsp;13:11:59&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;03&nbsp;13:16:24&nbsp;2016</span>
    <span class="description">simcop2387 [...] simcop2387.info -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #116694] Does not work with recent perl-blead</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 3 Aug 2016 10:16:15 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-List-Gather [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Ryan Voots &lt;simcop2387 [...] simcop2387.info&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I figured it wouldn&#39;t be trivial to fix, any time something that low level
in perl changes it&#39;s usually not trivial to fix.  Mostly filed the bug to
make sure you were aware that it wasn&#39;t working on the next version of perl.

On Wed, Aug 3, 2016 at 10:11 AM, Karen Etheridge via RT &lt;
bug-List-Gather@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=116694">https://rt.cpan.org/Ticket/Display.html?id=116694</a></span> &gt;
&gt;
&gt; On 2016-08-03 09:59:56, simcop2387@simcop2387.info wrote:
<div class="message-stanza open">&gt; &gt; Fails to compile on recent perl-blead versions:
</div>&gt;
&gt; Yes, the op_sibling changes in 5.25.1 require this code to be updated.
&gt; Unfortunately it&#39;s not trivial, and requires good understanding of the
&gt; parser.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;29&nbsp;04:47:08&nbsp;2017</span>
    <span class="description">davem [...] iabyn.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> davem [...] iabyn.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here are patches I tried to email to the p5p list last December.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-List-Gather-add-ppport.h.patch</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0002-List-Gather-make-work-with-PERL_OP_PARENT.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 2f17ccfa206974d9658927978d13acfa8ff73283 Mon Sep 17 00:00:00 2001
From: David Mitchell &lt;davem@iabyn.com&gt;
Date: Fri, 9 Dec 2016 11:29:51 +0000
Subject: [PATCH 2/2] List-Gather: make work with PERL_OP_PARENT

---
 Gather.xs | 35 ++++++++++++++++++++++++-----------
 1 file changed, 24 insertions&#40;+&#41;, 11 deletions&#40;-&#41;

diff --git a/Gather.xs b/Gather.xs
index 9aa2c65..1ca2144 100644
--- a/Gather.xs
+++ b/Gather.xs
@@ -170,7 +170,12 @@ gen_take_op &#40;pTHX_ OP *listop, PADOFFSET gatherer_offset&#41;
   takeop-&gt;op_ppaddr = pp_take;
   takeop-&gt;op_targ = gatherer_offset;
   cUNOPx&#40;takeop&#41;-&gt;op_flags = OPf_KIDS;
+#ifdef op_sibling_splice
+  cLISTOPx&#40;takeop&#41;-&gt;op_first = cLISTOPx&#40;takeop&#41;-&gt;op_last = NULL;
+  op_sibling_splice&#40;takeop, NULL, 0, listop&#41;;
+#else
   cLISTOPx&#40;takeop&#41;-&gt;op_first = cLISTOPx&#40;takeop&#41;-&gt;op_last = listop;
+#endif
 
   return takeop;
 }
@@ -183,20 +188,28 @@ static OP *&#40;*methodwrapper_nxck_entersub&#41;&#40;pTHX_ OP *o&#41;;
 static OP *
 methodwrapper_myck_entersub &#40;pTHX_ OP *entersubop&#41;
 {
+  OP *parent = entersubop;
   OP *pushop, *sigop, *realop, *methop;
 
   pushop = cUNOPx&#40;entersubop&#41;-&gt;op_first;
-  if&#40;!pushop-&gt;op_sibling&#41;
+  if&#40;!OpHAS_SIBLING&#40;pushop&#41;&#41; {
+    parent = pushop;
     pushop = cUNOPx&#40;pushop&#41;-&gt;op_first;
+  }
 
-  if&#40;&#40;sigop = pushop-&gt;op_sibling&#41; &#38;&#38; sigop-&gt;op_type == OP_CONST &#38;&#38;
+  if&#40; &#40;sigop = OpSIBLING&#40;pushop&#41;&#41; &#38;&#38; sigop-&gt;op_type == OP_CONST &#38;&#38;
      cSVOPx_sv&#40;sigop&#41; == methodwrapper_sv &#38;&#38;
-     &#40;realop = sigop-&gt;op_sibling&#41; &#38;&#38;
-     &#40;methop = realop-&gt;op_sibling&#41; &#38;&#38;
-     !methop-&gt;op_sibling &#38;&#38;
-     methop-&gt;op_type == OP_METHOD_NAMED&#41; {
+     &#40;realop = OpSIBLING&#40;sigop&#41;&#41; &#38;&#38;
+     &#40;methop = OpSIBLING&#40;realop&#41;&#41; &#38;&#38;
+     !OpHAS_SIBLING&#40;methop&#41; &#38;&#38;
+     methop-&gt;op_type == OP_METHOD_NAMED&#41;
+  {
+#ifdef op_sibling_splice
+    op_sibling_splice&#40;parent, sigop, 1, NULL&#41;;
+#else
     sigop-&gt;op_sibling = realop-&gt;op_sibling;
     realop-&gt;op_sibling = NULL;
+#endif
     op_free&#40;entersubop&#41;;
     return realop;
   }
@@ -222,10 +235,10 @@ myck_entersub_gather &#40;pTHX_ OP *entersubop, GV *namegv, SV *protosv&#41;
   PERL_UNUSED_ARG&#40;protosv&#41;;
 
   pushop = cUNOPx&#40;&#40;parent = entersubop&#41;&#41;-&gt;op_first;
-  if &#40;!pushop-&gt;op_sibling&#41;
+  if &#40;!OpHAS_SIBLING&#40;pushop&#41;&#41;
     pushop = cUNOPx&#40;&#40;parent = pushop&#41;&#41;-&gt;op_first;
 
-  blkop = pushop-&gt;op_sibling;
+  blkop = OpSIBLING&#40;pushop&#41;;
 
 #ifdef op_sibling_splice
   op_sibling_splice&#40;parent, pushop, 1, NULL&#41;;
@@ -259,9 +272,9 @@ myck_entersub_take &#40;pTHX_ OP *entersubop, GV *namegv, SV *protosv&#41;
   op_free&#40;entersubop&#41;;
 
   lastop = cLISTOPx&#40;listop&#41;-&gt;op_first;
-  while &#40;lastop-&gt;op_sibling != cLISTOPx&#40;listop&#41;-&gt;op_last&#41;
-    lastop = lastop-&gt;op_sibling;
-  rv2cvop = lastop-&gt;op_sibling;
+  while &#40;OpSIBLING&#40;lastop&#41; != cLISTOPx&#40;listop&#41;-&gt;op_last&#41;
+    lastop = OpSIBLING&#40;lastop&#41;;
+  rv2cvop = OpSIBLING&#40;lastop&#41;;
 
 #ifdef op_sibling_splice
   op_sibling_splice&#40;listop, lastop, -1, NULL&#41;;
-- 
2.4.11

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;31&nbsp;20:33:45&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> davem [...] iabyn.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-03-29 01:47:08, davem@iabyn.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here are patches I tried to email to the p5p list last December.
</div>
Thanks, Dave, I&#39;ve applied and shipped this in the 0.13 release.  I saw mention in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=128179">https://rt.perl.org/Ticket/Display.html?id=128179</a></span> that you sent me a patch earlier, but I&#39;m afraid I didn&#39;t get it -- did you send it as a plain old email, i.e. not part of a p5p thread or rt ticket?

There was also some discussion of how to handle fixing up this code in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karenetheridge/List-Gather/pull/1">https://github.com/karenetheridge/List-Gather/pull/1</a></span> -- e.g. the possible appropriateness of OpMAYBESIB_set&#40;&#41;. You may be able to clear that up for us.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;31&nbsp;20:34:02&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;01&nbsp;04:35:45&nbsp;2017</span>
    <span class="description">davem [...] iabyn.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #116694] Does not work with recent perl-blead</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 1 Apr 2017 09:35:20 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Karen Etheridge via RT &lt;bug-List-Gather [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Mitchell &lt;davem [...] iabyn.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, Mar 31, 2017 at 08:33:51PM -0400, Karen Etheridge via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=116694">https://rt.cpan.org/Ticket/Display.html?id=116694</a></span> &gt;
&gt; 
&gt; On 2017-03-29 01:47:08, davem@iabyn.com wrote:
<div class="message-stanza open">&gt; &gt; Here are patches I tried to email to the p5p list last December.
</div>&gt; 
&gt; Thanks, Dave, I&#39;ve applied and shipped this in the 0.13 release.  I saw
&gt; mention in <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.perl.org/Ticket/Display.html?id=128179">https://rt.perl.org/Ticket/Display.html?id=128179</a></span> that you
&gt; sent me a patch earlier, but I&#39;m afraid I didn&#39;t get it -- did you send
&gt; it as a plain old email, i.e. not part of a p5p thread or rt ticket?
</div>
I emailed them to &#34;Karen Etheridge &lt;perl@froods.org&gt;&#34; on 9 Dec 2016, Cced
to perl5-porters@perl.org. They never made it to the list, and presumably
not to you either.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There was also some discussion of how to handle fixing up this code in
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karenetheridge/List-Gather/pull/1">https://github.com/karenetheridge/List-Gather/pull/1</a></span> -- e.g. the
&gt; possible appropriateness of OpMAYBESIB_set&#40;&#41;. You may be able to clear
&gt; that up for us.
</div>
My patch made use of the new op_sibling_splice&#40;&#41; function, which is a
high-level interface - while  OpMAYBESIB_set&#40;&#41; is a low level interface. I
prefer the former: it allows you to logically express what you are trying
to achieve &#40;&#34;remove the op following sigop&#34;&#41; rather than a bunch of
low-level manipulation of op_sibling pointers.

-- 
Please note that ash-trays are provided for the use of smokers,
whereas the floor is provided for the use of all patrons.
    -- Bill Royston
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;01&nbsp;13:18:01&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> davem [...] iabyn.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On 2017-04-01 01:35:45, davem@iabyn.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; My patch made use of the new op_sibling_splice&#40;&#41; function, which is a
&gt; high-level interface - while  OpMAYBESIB_set&#40;&#41; is a low level interface. I
&gt; prefer the former: it allows you to logically express what you are trying
&gt; to achieve &#40;&#34;remove the op following sigop&#34;&#41; rather than a bunch of
&gt; low-level manipulation of op_sibling pointers.
</div>
Ah, splendid, I did not know about that function!

Thanks again for this.  &#40;I&#39;ll also tackle Cond-Expr soon.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;01&nbsp;13:18:08&nbsp;2017</span>
    <span class="description">ether [...] cpan.org -  Fixed in 0.13 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
