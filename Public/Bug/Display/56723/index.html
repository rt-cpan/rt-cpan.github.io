<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #56723 for GnuPG: Hangs on test </title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #56723 for GnuPG: Hangs on test </h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=GnuPG">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=GnuPG">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=GnuPG">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=GnuPG">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GnuPG">GnuPG CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">56723</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=GnuPG">GnuPG</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
salvatore.bonaccorso [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14862-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-14863-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Remove-an-intervening-shell-fixing-process-ID-tracking.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/781787/404918/0001-Remove-an-intervening-shell-fixing-process-ID-tracking.patch">
Tue May 25 05:29:38 2010 (1.5k) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>
</ul>


libgnupg-perl_0.16-1_amd64.build<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/765481/396069/libgnupg-perl_0.16-1_amd64.build">
Tue Apr 20 03:46:44 2010 (20.4k) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>
</ul>


signature.asc<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/782033/405076/signature.asc">
Tue May 25 15:50:32 2010 (835b) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/781787/404919/signature.asc">
Tue May 25 05:29:38 2010 (835b) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/765930/396295/signature.asc">
Wed Apr 21 02:21:09 2010 (835b) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/765481/396070/signature.asc">
Tue Apr 20 03:46:45 2010 (835b) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/765294/395972/signature.asc">
Mon Apr 19 16:20:37 2010 (835b) by salvatore.bonaccorso [...] gmail.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=56723">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765256" href="/Public/Bug/Display.html?id=56723#txn-765256">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;15:03:59&nbsp;2010</span>
    <span class="description">https://launchpad.net/~carnil -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Hangs on test</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765256/395948/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395948">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 762b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi 

Trying to build 0.15, and the tests hangs on pipe_encrypt_test test.

GnuPG: reading from status fd 4
GnuPG: executing `/usr/bin/gpg --no-greeting --status-fd 5
--run-as-shm-coprocess 0 --homedir test --recipient &#39;GnuPG Test&#39; --armor
--encrypt test/file.txt`gpg: DBG: mapped 4k shared memory at
0x2b1f8f92b000, id=23691264
GnuPG: got from status fd: [GNUPG:] SHM_INFO pv=1 pid=31686
shmid=23691264 sz=4096 lz=4096
Read in SHM_INFO - pv=1 pid=31686 shmid=23691264 sz=4096 lz=4096GnuPG:
reading from status fd 4
gpg: WARNING: unsafe permissions on homedir `test&#39;
File `test/file.txt.asc&#39; exists. 
GnuPG: got from status fd: [GNUPG:] SHM_GET_BOOL openfile.overwrite.okay
Read in SHM_GET_BOOL - openfile.overwrite.okayGnuPG: closing status fd 4

Bests
Salvatore
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765282" href="/Public/Bug/Display.html?id=56723#txn-765282">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;15:28:19&nbsp;2010</span>
    <span class="description">abaddononion [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Apr 2010 14:28:02 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765282/395960/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395960">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I recognize this. I&#39;ll take care of it.

On Mon, Apr 19, 2010 at 2:04 PM, <span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/~carnil">https://launchpad.net/~carnil</a></span> via RT &lt;
bug-GnuPG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Mon Apr 19 15:03:59 2010: Request 56723 was acted upon.
&gt; Transaction: Ticket created by <span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/~carnil">https://launchpad.net/~carnil</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/%7Ecarnil">https://launchpad.net/%7Ecarnil</a></span>&gt;
&gt;       Queue: GnuPG
&gt;     Subject: Hangs on test
&gt;   Broken in: &#40;no value&#41;
&gt;    Severity: &#40;no value&#41;
&gt;       Owner: Nobody
&gt;  Requestors: salvatore.bonaccorso@gmail.com
&gt;      Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt;
&gt;
&gt; Hi
&gt;
&gt; Trying to build 0.15, and the tests hangs on pipe_encrypt_test test.
&gt;
&gt; GnuPG: reading from status fd 4
&gt; GnuPG: executing `/usr/bin/gpg --no-greeting --status-fd 5
&gt; --run-as-shm-coprocess 0 --homedir test --recipient &#39;GnuPG Test&#39; --armor
&gt; --encrypt test/file.txt`gpg: DBG: mapped 4k shared memory at
&gt; 0x2b1f8f92b000, id=23691264
&gt; GnuPG: got from status fd: [GNUPG:] SHM_INFO pv=1 pid=31686
&gt; shmid=23691264 sz=4096 lz=4096
&gt; Read in SHM_INFO - pv=1 pid=31686 shmid=23691264 sz=4096 lz=4096GnuPG:
&gt; reading from status fd 4
&gt; gpg: WARNING: unsafe permissions on homedir `test&#39;
&gt; File `test/file.txt.asc&#39; exists.
&gt; GnuPG: got from status fd: [GNUPG:] SHM_GET_BOOL openfile.overwrite.okay
&gt; Read in SHM_GET_BOOL - openfile.overwrite.okayGnuPG: closing status fd 4
&gt;
&gt; Bests
&gt; Salvatore
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765282/395961/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395961">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765283" href="/Public/Bug/Display.html?id=56723#txn-765283">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;15:28:23&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765284" href="/Public/Bug/Display.html?id=56723#txn-765284">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;15:34:00&nbsp;2010</span>
    <span class="description">abaddononion [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Apr 2010 14:33:43 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765284/395963/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395963">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Just uploaded 0.16. Should take care of this problem.



On Mon, Apr 19, 2010 at 2:28 PM, Abaddon Daemon &lt;abaddononion@gmail.com&gt;wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I recognize this. I&#39;ll take care of it.
&gt;
&gt; On Mon, Apr 19, 2010 at 2:04 PM, <span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/~carnil">https://launchpad.net/~carnil</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/%7Ecarnil">https://launchpad.net/%7Ecarnil</a></span>&gt;via RT
&gt; &lt;bug-GnuPG@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt; Mon Apr 19 15:03:59 2010: Request 56723 was acted upon.
&gt;&gt; Transaction: Ticket created by <span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/~carnil">https://launchpad.net/~carnil</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://launchpad.net/%7Ecarnil">https://launchpad.net/%7Ecarnil</a></span>&gt;
&gt;&gt;       Queue: GnuPG
&gt;&gt;     Subject: Hangs on test
&gt;&gt;   Broken in: &#40;no value&#41;
&gt;&gt;    Severity: &#40;no value&#41;
&gt;&gt;       Owner: Nobody
&gt;&gt;  Requestors: salvatore.bonaccorso@gmail.com
&gt;&gt;      Status: new
&gt;&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; Hi
&gt;&gt;
&gt;&gt; Trying to build 0.15, and the tests hangs on pipe_encrypt_test test.
&gt;&gt;
&gt;&gt; GnuPG: reading from status fd 4
&gt;&gt; GnuPG: executing `/usr/bin/gpg --no-greeting --status-fd 5
&gt;&gt; --run-as-shm-coprocess 0 --homedir test --recipient &#39;GnuPG Test&#39; --armor
&gt;&gt; --encrypt test/file.txt`gpg: DBG: mapped 4k shared memory at
&gt;&gt; 0x2b1f8f92b000, id=23691264
&gt;&gt; GnuPG: got from status fd: [GNUPG:] SHM_INFO pv=1 pid=31686
&gt;&gt; shmid=23691264 sz=4096 lz=4096
&gt;&gt; Read in SHM_INFO - pv=1 pid=31686 shmid=23691264 sz=4096 lz=4096GnuPG:
&gt;&gt; reading from status fd 4
&gt;&gt; gpg: WARNING: unsafe permissions on homedir `test&#39;
&gt;&gt; File `test/file.txt.asc&#39; exists.
&gt;&gt; GnuPG: got from status fd: [GNUPG:] SHM_GET_BOOL openfile.overwrite.okay
&gt;&gt; Read in SHM_GET_BOOL - openfile.overwrite.okayGnuPG: closing status fd 4
&gt;&gt;
&gt;&gt; Bests
&gt;&gt; Salvatore
&gt;&gt;
</div>&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765284/395964/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395964">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765294" href="/Public/Bug/Display.html?id=56723#txn-765294">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;16:20:35&nbsp;2010</span>
    <span class="description">salvatore.bonaccorso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Apr 2010 22:20:16 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Abaddon Daemon via RT &lt;bug-GnuPG [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765294/395971/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395971">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 12.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765294/395972/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 835b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765296" href="/Public/Bug/Display.html?id=56723#txn-765296">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;19&nbsp;16:31:57&nbsp;2010</span>
    <span class="description">abaddononion [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 19 Apr 2010 15:31:42 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765296/395975/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395975">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 13.7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765296/395976/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395976">with headers</a>
<br />
<span class="downloadcontenttype">text/html 16.6k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765481" href="/Public/Bug/Display.html?id=56723#txn-765481">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;20&nbsp;03:46:44&nbsp;2010</span>
    <span class="description">salvatore.bonaccorso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Apr 2010 09:46:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Abaddon Daemon via RT &lt;bug-GnuPG [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765481/396068/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/396068">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 698b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

On Mon, Apr 19, 2010 at 04:31:59PM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hm. I tried it on a couple of boxes here at work, and Im unable to reproduce
&gt; this scenario, tests seem to be passing fine for 0.16.
&gt; 
&gt; What architecture are you installing on? If linux, what distro?
</div>
Hmm strange. The 0.11 builds fine in the same environment. I&#39;m
building 0.16 within a chroot, having Debian unstable. I&#39;m
attaching the full build log for the 0.16 build. The architecture is
amd64. 

The reason to build within a chroot is for us, to have a clean
environment where it is build, and all the autobuilders should be then
capable to build it too.

Can I provide more information you need?
Bests
Salvatore
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765481/396069/libgnupg-perl_0.16-1_amd64.build">Download libgnupg-perl_0.16-1_amd64.build</a><br />
<span class="downloadcontenttype">text/plain 20.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765481/396070/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 835b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765616" href="/Public/Bug/Display.html?id=56723#txn-765616">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;20&nbsp;10:32:49&nbsp;2010</span>
    <span class="description">abaddononion [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 20 Apr 2010 09:32:18 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765616/396145/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/396145">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 24.6k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765616/396146/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/396146">with headers</a>
<br />
<span class="downloadcontenttype">text/html 26.3k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-765930" href="/Public/Bug/Display.html?id=56723#txn-765930">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;21&nbsp;02:21:08&nbsp;2010</span>
    <span class="description">salvatore.bonaccorso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> debian-perl [...] lists.debian.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test for GnuPG</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 21 Apr 2010 08:20:44 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Abaddon Daemon via RT &lt;bug-GnuPG [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/765930/396294/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/396294">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

Cc&#39;ing the Debian Perl Group list, in case someone there has an idea.

On Tue, Apr 20, 2010 at 10:32:51AM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt; 
&gt; This report and your previous report stopped at different places. Your first
&gt; report for 0.16 stopped here:
&gt; 
&gt; Read in NEED_PASSPHRASE
&gt; 
&gt; But your second report goes one step further and stops here:
&gt; 
&gt; Read in SHM_GET_HIDDEN - passphrase.enter
</div>
Hmm, the first entry was when building 0.15. I get

Read in SHM_GET_HIDDEN - passphrase.enterGnuPG: reading from status fd 3

when building 0.16. So yes, the very first report stopped at a
different place, this was fixed by the 0.16 upload!

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I find this interesting. It&#39;s difficult for me to debug, since the breaking
&gt; point doesnt seem to be the same, and Im still unable to reproduce the
&gt; symptoms &#40;unfortunately I dont have an AMD box available anymore, so I cant
&gt; do a real architecture-specific test&#41;.
</div>
Damian had a look too, and tried it both under i386 and amd64 to
build, the following was the conclusion:

[21:37] &lt; carnil&gt; can someone please try to build libgnupg-perl and look if it fails? It still does here, but
                  upstream cannot reproduce it.
[21:38] &lt; carnil&gt; would be great if someone can test it too
[21:38] &lt; dam&gt; just a minute
[21:40] &lt; dam&gt; it seems to hang after ok 10 - pipe_decrypt_test
[21:41] &lt; dam&gt; carnil: ^^^
[21:42] &lt; dam&gt; strace shows it is waiting in read&#40;&#41;, from FD 3
[21:42] &lt; carnil&gt; dam: ok same here, is it on amd64?
[21:42] &lt; dam&gt; FD 3 is a pipe
[21:43] &lt; carnil&gt; dam: do you have the possibility to test too the build on i386?
[21:43] &lt; dam&gt; the other end of the pipe belongs t a &#39;gpg&#39; process
[21:43] &lt; dam&gt; carnil: I have an i386 chroot. will test
[...]
[21:51] &lt; dam&gt; carnil: i386 hangs at the same place
[21:51] &lt; dam&gt; strace says: [ Process PID=1097 runs in 32 bit mode. ] wait4&#40;-1,
[21:52] &lt; dam&gt; which is different to amd64, which hanged on read&#40;3,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you could, in your chroot environment, try running the following command
&gt; manually:
&gt; 
&gt; /usr/bin/gpg --output test/file.txt.sgpg --no-greeting --yes
&gt; --run-as-shm-coprocess 0 --homedir test --recipient &#39;GnuPG Test&#39; --sign
&gt; --armor --encrypt test/file.txt
&gt; 
&gt; What is most likely happening here is you are somehow getting into a
&gt; scenario where GPG is throwing a prompt that has not been anticipated by me.
&gt; The --yes flag was meant to catch these, but it must be a non yes/no prompt.
</div>
Hmm, this should not really be the problem I assume, as it works in
the really same chroot &#40;so even same gpg&#41;, but with GnuPG 0.11?! And
as you said, none of the changes affects prompting at least. So it&#39;s
really strange.
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I find it odd that you say 0.11 works, though. None of the changes Ive made
&gt; should effect shared memory OR prompting. The only thing in that arena
&gt; &#40;related to your scenario&#41; that should be different is the password prompt
&gt; stuff &#40;I added one escape in the event of a blank password&#41;. But if you&#39;re
&gt; running the tests that come with it, the password shouldnt be blank,
&gt; therefore shouldnt be effected.
</div>
Yes, I&#39;m running the tests in the suite.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Im at a bit of a loss here.
</div>
/me too, let&#39;s see if someone from debian-perl list has an idea.

Bests and thanks for your work
Salvatore
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/765930/396295/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 835b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-781787" href="/Public/Bug/Display.html?id=56723#txn-781787">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;05:29:37&nbsp;2010</span>
    <span class="description">salvatore.bonaccorso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 May 2010 11:29:21 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Abaddon Daemon via RT &lt;bug-GnuPG [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/781787/404917/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/404917">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

On Tue, Apr 20, 2010 at 10:32:51AM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt; 
&gt; This report and your previous report stopped at different places. Your first
&gt; report for 0.16 stopped here:
&gt; 
&gt; Read in NEED_PASSPHRASE
&gt; 
&gt; But your second report goes one step further and stops here:
&gt; 
&gt; Read in SHM_GET_HIDDEN - passphrase.enter
&gt; 
&gt; I find this interesting. It&#39;s difficult for me to debug, since the breaking
&gt; point doesnt seem to be the same, and Im still unable to reproduce the
&gt; symptoms &#40;unfortunately I dont have an AMD box available anymore, so I cant
&gt; do a real architecture-specific test&#41;.
&gt; 
&gt; If you could, in your chroot environment, try running the following command
&gt; manually:
&gt; 
&gt; /usr/bin/gpg --output test/file.txt.sgpg --no-greeting --yes
&gt; --run-as-shm-coprocess 0 --homedir test --recipient &#39;GnuPG Test&#39; --sign
&gt; --armor --encrypt test/file.txt
&gt; 
&gt; What is most likely happening here is you are somehow getting into a
&gt; scenario where GPG is throwing a prompt that has not been anticipated by me.
&gt; The --yes flag was meant to catch these, but it must be a non yes/no prompt.
&gt; 
&gt; 
&gt; The other option--since your error isnt happening in consistent places--is
&gt; that something about the chroot environment is messing with the usage of
&gt; shared memory. Unfortunately this part of the module was coded by my
&gt; predecessor, so I dont know much about it and cant offer much insight here.
&gt; 
&gt; I find it odd that you say 0.11 works, though. None of the changes Ive made
&gt; should effect shared memory OR prompting. The only thing in that arena
&gt; &#40;related to your scenario&#41; that should be different is the password prompt
&gt; stuff &#40;I added one escape in the event of a blank password&#41;. But if you&#39;re
&gt; running the tests that come with it, the password shouldnt be blank,
&gt; therefore shouldnt be effected.
&gt; 
&gt; Im at a bit of a loss here.
</div>
Niko Tyni found a patch for resolving that test hanging! I attach the
patch submitted by him.

Bests
Salvatore
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/781787/404918/0001-Remove-an-intervening-shell-fixing-process-ID-tracking.patch">Download 0001-Remove-an-intervening-shell-fixing-process-ID-tracking.patch</a><br />
<span class="downloadcontenttype">text/x-diff 1.5k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/781787/404919/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 835b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-781872" href="/Public/Bug/Display.html?id=56723#txn-781872">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;09:48:13&nbsp;2010</span>
    <span class="description">abaddononion [...] onionknight.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 May 2010 08:47:58 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] onionknight.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/781872/404982/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/404982">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Interesting that he&#39;s narrowed the problem, but this change invalidates a
previous bugfix that happens on some OS&#39;s, which happens when the recipient
field has spaces in it.

Ill try to see if I can find a way to resolve both bugs.

On May 25, 2010 4:29 AM, &#34;Salvatore Bonaccorso via RT&#34; &lt;
bug-GnuPG@rt.cpan.org&gt; wrote:

Queue: GnuPG
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;

Hi

On Tue, Apr 20, 2010 at 10:32:51AM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/T">https://rt.cpan.org/T</a></span>...
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This report and your previous report stopped at different places. Your
</div>first
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; report for 0.16 sto...
</div>Niko Tyni found a patch for resolving that test hanging! I attach the
patch submitted by him.

Bests
Salvatore


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 &#40;GNU/Linux&#41;

iQIcBAEBCAAGBQJL+5hxAAoJEHidbwV/2GP+YSUQAOMavZX/FSGCkvmceSSXMHwm
Y2FvSIrCRVbToQzg4DX5MiJic3QK0nIiu+Moag4zg9YBkYHEYOL570+2yetsaRpU
zqI2b9SproY4UeEKL0HWVeKORIK6pFM7mznJSE1engauBADQMZk7hmFayvIcNxlP
MT5qEjjFQ8VGaB+6cAD8dPGKJ/LKxTHUCu7Cs0nesazg6YaqwnASzOVr/LSaHNj6
iPPBraRf3lQiRU/gm/WoVPadmGPQQHKv2hJP4WGu6lZHIabNURKWmgsaewC8Hb+S
oR9q70CsnrhDzdUjfRx5Lmq6k+8po+T+7JwsBOVvcSVcQi12NsKkrCmgkvp5u0fl
fLR14K/VQN7al7j8Xt8MXTRTx5oEm2/Es9xQePP91tyNpGEjHLTPFrMwU7CV6nE2
IjMLFBfSVPuch3BCNmiRuPJqZRuPoGbfYqXd7eX3Ygbg46AwHSObzEqHB/dHDXid
nzHYE3eW0vGdCaexhTTSFS2WZjf4xIpRBTCczqyStco8ePYlXsE6411S4qE9gP60
F3aaCj/IVhDIXRBwWf1PC/hPGBIdFbOQVAXBf7rmeSUjHGphvhzxhYGf/kfgKWfv
4I83Y2tbdZWtqhY3fxwIvtHD/6blQYvZcfQfb8ry/qEo/8Sp04RKOseZCOh8yDbT
XRimRVcQDU5ackcoD/zw
=Czi2
-----END PGP SIGNATURE-----
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/781872/404983/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/404983">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.9k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-781932" href="/Public/Bug/Display.html?id=56723#txn-781932">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;12:45:22&nbsp;2010</span>
    <span class="description">abaddononion [...] onionknight.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 May 2010 11:45:01 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] onionknight.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/781932/405024/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405024">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I have applied this patch, and made another small change as well, hopefully
to compensate for the previous issue. 0.17 has been uploaded to CPAN
containing these changes. Please see if it resolves your issues. All of the
tests ran successfully for me, however, they always did, so I cant *prove*
your problem is actually gone from my end.




On Tue, May 25, 2010 at 8:48 AM, Abaddon Daemon via RT &lt;
bug-GnuPG@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: GnuPG
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=56723">http://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt;
&gt; Interesting that he&#39;s narrowed the problem, but this change invalidates a
&gt; previous bugfix that happens on some OS&#39;s, which happens when the recipient
&gt; field has spaces in it.
&gt;
&gt; Ill try to see if I can find a way to resolve both bugs.
&gt;
&gt; On May 25, 2010 4:29 AM, &#34;Salvatore Bonaccorso via RT&#34; &lt;
&gt; bug-GnuPG@rt.cpan.org&gt; wrote:
&gt;
&gt; Queue: GnuPG
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt;
&gt; Hi
&gt;
&gt; On Tue, Apr 20, 2010 at 10:32:51AM -0400, Abaddon Daemon via RT wrote:
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/T">https://rt.cpan.org/T</a></span>...
</div>&gt;
<div class="message-stanza open">&gt; &gt; This report and your previous report stopped at different places. Your
</div>&gt; first
<div class="message-stanza open">&gt; &gt; report for 0.16 sto...
</div>&gt; Niko Tyni found a patch for resolving that test hanging! I attach the
&gt; patch submitted by him.
&gt;
&gt; Bests
&gt; Salvatore
&gt;
&gt;
&gt; -----BEGIN PGP SIGNATURE-----
&gt; Version: GnuPG v1.4.9 &#40;GNU/Linux&#41;
&gt;
&gt; iQIcBAEBCAAGBQJL+5hxAAoJEHidbwV/2GP+YSUQAOMavZX/FSGCkvmceSSXMHwm
&gt; Y2FvSIrCRVbToQzg4DX5MiJic3QK0nIiu+Moag4zg9YBkYHEYOL570+2yetsaRpU
&gt; zqI2b9SproY4UeEKL0HWVeKORIK6pFM7mznJSE1engauBADQMZk7hmFayvIcNxlP
&gt; MT5qEjjFQ8VGaB+6cAD8dPGKJ/LKxTHUCu7Cs0nesazg6YaqwnASzOVr/LSaHNj6
&gt; iPPBraRf3lQiRU/gm/WoVPadmGPQQHKv2hJP4WGu6lZHIabNURKWmgsaewC8Hb+S
&gt; oR9q70CsnrhDzdUjfRx5Lmq6k+8po+T+7JwsBOVvcSVcQi12NsKkrCmgkvp5u0fl
&gt; fLR14K/VQN7al7j8Xt8MXTRTx5oEm2/Es9xQePP91tyNpGEjHLTPFrMwU7CV6nE2
&gt; IjMLFBfSVPuch3BCNmiRuPJqZRuPoGbfYqXd7eX3Ygbg46AwHSObzEqHB/dHDXid
&gt; nzHYE3eW0vGdCaexhTTSFS2WZjf4xIpRBTCczqyStco8ePYlXsE6411S4qE9gP60
&gt; F3aaCj/IVhDIXRBwWf1PC/hPGBIdFbOQVAXBf7rmeSUjHGphvhzxhYGf/kfgKWfv
&gt; 4I83Y2tbdZWtqhY3fxwIvtHD/6blQYvZcfQfb8ry/qEo/8Sp04RKOseZCOh8yDbT
&gt; XRimRVcQDU5ackcoD/zw
&gt; =Czi2
&gt; -----END PGP SIGNATURE-----
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/781932/405025/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405025">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.8k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-782033" href="/Public/Bug/Display.html?id=56723#txn-782033">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;15:50:31&nbsp;2010</span>
    <span class="description">salvatore.bonaccorso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> 583072 [...] bugs.debian.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 May 2010 21:50:18 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Abaddon Daemon via RT &lt;bug-GnuPG [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Salvatore Bonaccorso &lt;salvatore.bonaccorso [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/782033/405075/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405075">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 892b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi

On Tue, May 25, 2010 at 12:45:24PM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
&gt; 
&gt; I have applied this patch, and made another small change as well, hopefully
&gt; to compensate for the previous issue. 0.17 has been uploaded to CPAN
&gt; containing these changes. Please see if it resolves your issues. All of the
&gt; tests ran successfully for me, however, they always did, so I cant *prove*
&gt; your problem is actually gone from my end.
</div>
Thanks a lot. It seems to build fine here, tested in a amd64 chroot,
and further in a i386 chroot on amd64! Some other of the Debian Perl
Group got same results too. Only one build faillure on i386 chroot on
amd64, for which the cause is not clear.

So, in overall it seems that the issue is resolved, as others
confirded too that in the i386 environment it build fine.

Bests and thanks to you
Salvatore
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/782033/405076/signature.asc">Download signature.asc</a><br />
<span class="downloadcontenttype">application/pgp-signature 835b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-782035" href="/Public/Bug/Display.html?id=56723#txn-782035">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;15:52:02&nbsp;2010</span>
    <span class="description">abaddononion [...] onionknight.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56723] Hangs on test</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 25 May 2010 14:51:48 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-GnuPG [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Abaddon Daemon &lt;abaddononion [...] onionknight.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/782035/405079/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405079">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks

On May 25, 2010 2:50 PM, &#34;Salvatore Bonaccorso via RT&#34; &lt;
bug-GnuPG@rt.cpan.org&gt; wrote:

Queue: GnuPG
Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;

Hi
On Tue, May 25, 2010 at 12:45:24PM -0400, Abaddon Daemon via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=56723">https://rt.cpan.org/Ticket/Display.html?id=56723</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; I have applied this patch, and made another small change as well,
</div>hopefully
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; to compensate for...
</div>Thanks a lot. It seems to build fine here, tested in a amd64 chroot,
and further in a i386 chroot on amd64! Some other of the Debian Perl
Group got same results too. Only one build faillure on i386 chroot on
amd64, for which the cause is not clear.

So, in overall it seems that the issue is resolved, as others
confirded too that in the i386 environment it build fine.

Bests and thanks to you
Salvatore


-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.9 &#40;GNU/Linux&#41;

iQIcBAEBCAAGBQJL/Cn6AAoJEHidbwV/2GP+dmQP/12Evix8L/r6g7xjQ+V+bgbW
Jzqt4/PPRMtEo5pBJCR1skF/lRbdlS6VpoeF/AyZcNBr1CaL0fSpzdNq6yTD3gfh
A44pbGR+QWLK3kyCGU2RE5M92I6DF/al3hRt7rZvwrE7VwNPMmEtS8HqJ6DrqbMn
i7/HJgGM7WRk7hgJSeKbfhBRtT0BJpVSSgSjMfj7yetqCTO8sEh/Ukrr6/acbxY+
9dQocWSzFq6GbivdiP2aCKu9jlW3W1y4GVzhtwB+nsnLByhsp7sSqFAUYdHG4fhJ
1BBknf1OP0r1wQiRH1nLTNty3tL+wH+0EJyctATRGnfZbnC4DCdBgQ/P1DZfhPIR
ciu0m01SvQuY/PnhFmig7tPqURBR2A2/rBw1gL0/QxoYOTsSp95Hiorl6uWXJbWy
kEetpVg5Yy0UMU87Yzl/e7sUlI4TZPFT0Gd2F5GOP96FNEWPSEQ4X/m9nBFWt2CC
ZmqBE/AKplr3el1AQW9WwJOIUPQwGlymE3SLjoCsZv0DyGSKWuGw9t4Pq42NRbw3
j242MEFWmUckE2gARJ15lz4k0ghbBYD5yUQNfc1Mb3gHZwiSbNYiFMfCf7Mj0rr2
wtxrLumuwy1rXuxa/MRzcVCc1uDIOWGrOfKUk4s5OIdoRfBJoQjNhRO2I3Leb2j/
Y8DuH4px9nvaDLUQHfLf
=bpF3
-----END PGP SIGNATURE-----
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/782035/405080/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405080">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2.1k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-782075" href="/Public/Bug/Display.html?id=56723#txn-782075">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;17:39:44&nbsp;2010</span>
    <span class="description">MFROST [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/782075/405106/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/405106">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 24b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Resolved in release 0.17
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-782078" href="/Public/Bug/Display.html?id=56723#txn-782078">#</a>      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;25&nbsp;17:39:47&nbsp;2010</span>
    <span class="description">MFROST [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.853072</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
