<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #75374 for SOAP-Lite: Strings of digits with preceding zeros &#40;e.g. telnums&#41; should be serialized as strings</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #75374 for SOAP-Lite: Strings of digits with preceding zeros &#40;e.g. telnums&#41; should be serialized as strings</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=SOAP-Lite">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=SOAP-Lite">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=SOAP-Lite">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=SOAP-Lite">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/SOAP-Lite">SOAP-Lite CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">75374</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=SOAP-Lite">SOAP-Lite</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
cmanley [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-29122-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.69    </td>
  </tr>
  <tr id="CF-29123-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.714    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=75374">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043726" href="/Public/Bug/Display.html?id=75374#txn-1043726">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;10:06:02&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Strings of digits with preceding zeros &#40;e.g. telnums&#41; should be
 serialized as strings</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1043726/545230/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545230">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 884b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">See subject. This is to avoid mutilation of data such as telephone
numbers, serial numbers, or any other such string of digits that may
have preceding zero characters.
The regular expression fixes are simple with an added negative
look-ahead for a &#34;0&#34;, i.e. &#40;?!0&#41;:

# In custom SOAP child class &#40;if you use one&#41;:
sub new {
  my $self = shift;
  unless&#40;ref&#40;$self&#41;&#41; {
    $self = $self-&gt;SUPER::new&#40;@_&#41;;  
    # ...snip...
    my $typelookup = $self-&gt;serializer&#40;&#41;-&gt;typelookup&#40;&#41;;
    $typelookup-&gt;{&#39;int&#39;}-&gt;[1]   = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-]?\d{1,10}&#41;$/
&#38;&#38; &#40;$1 &lt;= 2147483647&#41; &#38;&#38; &#40;$1 &gt;= -2147483648&#41;; };
    $typelookup-&gt;{&#39;long&#39;}-&gt;[1]  = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-]?\d{1,19}&#41;$/
&#38;&#38; &#40;$1 &lt;= 9223372036854775807&#41;; };
    $typelookup-&gt;{&#39;float&#39;}-&gt;[1] = sub {$_[0] =~
/^&#40;?!0&#41;&#40;-?&#40;?:\d+&#40;?:\.\d*&#41;?|\.\d+|NaN|INF&#41;|&#40;[+-]?&#41;&#40;?=\d|\.\d&#41;\d*&#40;\.\d*&#41;?&#40;[Ee]&#40;[+-]?\d+&#41;&#41;?&#41;$/};
    # ...snip...
  }
  return $self;
}
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043729" href="/Public/Bug/Display.html?id=75374#txn-1043729">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;10:37:09&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1043729/545233/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545233">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 28 10:06:02 2012, CMANLEY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; See subject. This is to avoid mutilation of data such as telephone
&gt; numbers, serial numbers, or any other such string of digits that may
&gt; have preceding zero characters.
&gt; The regular expression fixes are simple with an added negative
&gt; look-ahead for a &#34;0&#34;, i.e. &#40;?!0&#41;:
&gt; 
&gt; # In custom SOAP child class &#40;if you use one&#41;:
&gt; sub new {
&gt;   my $self = shift;
&gt;   unless&#40;ref&#40;$self&#41;&#41; {
&gt;     $self = $self-&gt;SUPER::new&#40;@_&#41;;
&gt;     # ...snip...
&gt;     my $typelookup = $self-&gt;serializer&#40;&#41;-&gt;typelookup&#40;&#41;;
&gt;     $typelookup-&gt;{&#39;int&#39;}-&gt;[1] = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-]?\d{1,10}&#41;$/
&gt; &#38;&#38; &#40;$1 &lt;= 2147483647&#41; &#38;&#38; &#40;$1 &gt;= -2147483648&#41;; };
&gt;     $typelookup-&gt;{&#39;long&#39;}-&gt;[1]        = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-
&gt; ]?\d{1,19}&#41;$/
&gt; &#38;&#38; &#40;$1 &lt;= 9223372036854775807&#41;; };
&gt;     $typelookup-&gt;{&#39;float&#39;}-&gt;[1]       = sub {$_[0] =~
&gt; /^&#40;?!0&#41;&#40;-?&#40;?:\d+&#40;?:\.\d*&#41;?|\.\d+|NaN|INF&#41;|&#40;[+-
&gt; ]?&#41;&#40;?=\d|\.\d&#41;\d*&#40;\.\d*&#41;?&#40;[Ee]&#40;[+-]?\d+&#41;&#41;?&#41;$/};
&gt;     # ...snip...
&gt;   }
&gt;   return $self;
&gt; }
</div>
I just realized that &#39;0&#39; should serialize as string, so I fixed the
negative lookaheads in my fixes:

$typelookup-&gt;{&#39;int&#39;}-&gt;[1]       = sub {$_[0] =~ /^&#40;?!0.+&#41;&#40;[+-]?\d{1,10}&#41;$/ &#38;&#38;
&#40;$1 &lt;= 2147483647&#41; &#38;&#38; &#40;$1 &gt;= -2147483648&#41;; };
$typelookup-&gt;{&#39;long&#39;}-&gt;[1]      = sub {$_[0] =~ /^&#40;?!0.+&#41;&#40;[+-]?\d{1,19}&#41;$/ &#38;&#38;
&#40;$1 &lt;= 9223372036854775807&#41;; };
$typelookup-&gt;{&#39;float&#39;}-&gt;[1]     = sub {$_[0] =~
/^&#40;?!0.+&#41;&#40;-?&#40;?:\d+&#40;?:\.\d*&#41;?|\.\d+|NaN|INF&#41;|&#40;[+-]?&#41;&#40;?=\d|\.\d&#41;\d*&#40;\.\d*&#41;?&#40;[Ee]&#40;[+-]?\d+&#41;&#41;?&#41;$/};
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043731" href="/Public/Bug/Display.html?id=75374#txn-1043731">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;10:37:10&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1043732" href="/Public/Bug/Display.html?id=75374#txn-1043732">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;10:37:12&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1043732/545235/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545235">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Feb 28 10:06:02 2012, CMANLEY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; See subject. This is to avoid mutilation of data such as telephone
&gt; numbers, serial numbers, or any other such string of digits that may
&gt; have preceding zero characters.
&gt; The regular expression fixes are simple with an added negative
&gt; look-ahead for a &#34;0&#34;, i.e. &#40;?!0&#41;:
&gt; 
&gt; # In custom SOAP child class &#40;if you use one&#41;:
&gt; sub new {
&gt;   my $self = shift;
&gt;   unless&#40;ref&#40;$self&#41;&#41; {
&gt;     $self = $self-&gt;SUPER::new&#40;@_&#41;;
&gt;     # ...snip...
&gt;     my $typelookup = $self-&gt;serializer&#40;&#41;-&gt;typelookup&#40;&#41;;
&gt;     $typelookup-&gt;{&#39;int&#39;}-&gt;[1] = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-]?\d{1,10}&#41;$/
&gt; &#38;&#38; &#40;$1 &lt;= 2147483647&#41; &#38;&#38; &#40;$1 &gt;= -2147483648&#41;; };
&gt;     $typelookup-&gt;{&#39;long&#39;}-&gt;[1]        = sub {$_[0] =~ /^&#40;?!0&#41;&#40;[+-
&gt; ]?\d{1,19}&#41;$/
&gt; &#38;&#38; &#40;$1 &lt;= 9223372036854775807&#41;; };
&gt;     $typelookup-&gt;{&#39;float&#39;}-&gt;[1]       = sub {$_[0] =~
&gt; /^&#40;?!0&#41;&#40;-?&#40;?:\d+&#40;?:\.\d*&#41;?|\.\d+|NaN|INF&#41;|&#40;[+-
&gt; ]?&#41;&#40;?=\d|\.\d&#41;\d*&#40;\.\d*&#41;?&#40;[Ee]&#40;[+-]?\d+&#41;&#41;?&#41;$/};
&gt;     # ...snip...
&gt;   }
&gt;   return $self;
&gt; }
</div>
I just realized that &#39;0&#39; should serialize as string, so I fixed the
negative lookaheads in my fixes:

$typelookup-&gt;{&#39;int&#39;}-&gt;[1]       = sub {$_[0] =~ /^&#40;?!0.+&#41;&#40;[+-]?\d{1,10}&#41;$/ &#38;&#38;
&#40;$1 &lt;= 2147483647&#41; &#38;&#38; &#40;$1 &gt;= -2147483648&#41;; };
$typelookup-&gt;{&#39;long&#39;}-&gt;[1]      = sub {$_[0] =~ /^&#40;?!0.+&#41;&#40;[+-]?\d{1,19}&#41;$/ &#38;&#38;
&#40;$1 &lt;= 9223372036854775807&#41;; };
$typelookup-&gt;{&#39;float&#39;}-&gt;[1]     = sub {$_[0] =~
/^&#40;?!0.+&#41;&#40;-?&#40;?:\d+&#40;?:\.\d*&#41;?|\.\d+|NaN|INF&#41;|&#40;[+-]?&#41;&#40;?=\d|\.\d&#41;\d*&#40;\.\d*&#41;?&#40;[Ee]&#40;[+-]?\d+&#41;&#41;?&#41;$/};
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044259" href="/Public/Bug/Display.html?id=75374#txn-1044259">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;29&nbsp;07:24:58&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1044259/545517/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/545517">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 972b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

this is not a bug, it is by design - a string consisting of digits is 
encoded as number by default &#40;which is usually correct, even with 
leading zeros - the string &#34;0&#34; usually means the number zero, and for 
all fixed-length numerical data preceding zeros are quite normal&#41;.

You can always set $soap-&gt;autotype&#40;0&#41; and assign types &#40;in this case: 
string&#41; manually. This should always be done for non-uniform data like 
telefone numbers.

Just an example: These three strings can all be &#40;valid&#41; telephone 
numbers &#40;depending on their context&#41;:

12345
012312345
++49123456789

The first and second would &#40;by default&#41; be encoded as number, the third 
as string. 

There&#39;s no way for SOAP::Lite &#40;as for all computer programs&#41; to 
reliably infer the meaning of input data from the data itself. The 
encoding SOAP::Lite chooses with autotype on is just an educate guess - 
and on not-so-easy-to-guess data like phone numbers, it just guesses 
wrong.

Best regards,

Martin
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1044262" href="/Public/Bug/Display.html?id=75374#txn-1044262">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;29&nbsp;07:24:59&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046332" href="/Public/Bug/Display.html?id=75374#txn-1046332">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;05&nbsp;02:55:07&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046333" href="/Public/Bug/Display.html?id=75374#txn-1046333">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;05&nbsp;03:08:12&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1046333/546752/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/546752">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 29 07:24:58 2012, MKUTTER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; this is not a bug, it is by design - a string consisting of digits is 
&gt; encoded as number by default &#40;which is usually correct, even with 
&gt; leading zeros - the string &#34;0&#34; usually means the number zero, and for 
&gt; all fixed-length numerical data preceding zeros are quite normal&#41;.
&gt; 
&gt; You can always set $soap-&gt;autotype&#40;0&#41; and assign types &#40;in this case: 
&gt; string&#41; manually. This should always be done for non-uniform data like 
&gt; telefone numbers.
&gt; 
&gt; Just an example: These three strings can all be &#40;valid&#41; telephone 
&gt; numbers &#40;depending on their context&#41;:
&gt; 
&gt; 12345
&gt; 012312345
&gt; ++49123456789
&gt; 
&gt; The first and second would &#40;by default&#41; be encoded as number, the third 
&gt; as string. 
&gt; 
&gt; There&#39;s no way for SOAP::Lite &#40;as for all computer programs&#41; to 
&gt; reliably infer the meaning of input data from the data itself. The 
&gt; encoding SOAP::Lite chooses with autotype on is just an educate guess - 
&gt; and on not-so-easy-to-guess data like phone numbers, it just guesses 
&gt; wrong.
</div>
I understand, and that&#39;s why the guess should be done as smartly as
possible. A Perl scalar like &#39;012312345&#39; can never be the result of a
numeric calculation nor can it be the result of fetching a value from a
numeric database field, so you can safely assume it&#39;s a string for
autotyping.

Passing the scalar &#39;012312345&#39; as an &#39;int&#39; back to a more strictly typed
client based on a language such as Java, PHP, or .NET &#40;or just about any
other language besides Perl&#41; will end up having the value deserialized
into an int and therefore loosing the preceding zero&#40;s&#41;. 

I hope you understand and can fix the flaw in the design.

Regards,
Craig
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046391" href="/Public/Bug/Display.html?id=75374#txn-1046391">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;05&nbsp;05:37:59&nbsp;2012</span>
    <span class="description">cmanley [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1046391/546784/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/546784">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 767b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I did some further inspection into the SOAP-Lite code:

I&#39;m using version 0.69 and confirmed through testing the incorrect
serialization behavior with this version. The autotype regexps in
SOAP::Serializer for int and long are unchanged in the latest version
which led me to presume that that behavior persists in that version too.
However, I just noticed that the latest version contains an extra
&#39;zerostring&#39; autotype which is executed before the int and long
autotypes. This effectively fixes the serialization issue in the way I
wanted it to be. So you can consider this ticket as already fixed. It is
strange though that you rejected this requested serialization behavior
when it is already built into the latest release of SOAP-Lite.

Thanks for looking anyway.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046820" href="/Public/Bug/Display.html?id=75374#txn-1046820">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;04:53:03&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046822" href="/Public/Bug/Display.html?id=75374#txn-1046822">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;04:53:03&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Broken in 0.69 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046823" href="/Public/Bug/Display.html?id=75374#txn-1046823">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;04:53:03&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Broken in 0.714 deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1046824" href="/Public/Bug/Display.html?id=75374#txn-1046824">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;06&nbsp;04:53:03&nbsp;2012</span>
    <span class="description">kutterma [...] users.sourceforge.net -  Fixed in 0.714 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.524302</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
