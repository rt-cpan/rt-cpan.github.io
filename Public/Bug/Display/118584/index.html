<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #118584 for Net-SSLeay: AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #118584 for Net-SSLeay: AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Net-SSLeay">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Net-SSLeay">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Net-SSLeay">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Net-SSLeay">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">118584</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Net-SSLeay">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
paul [...] city-fan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.78    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=118584">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1680054" href="/Public/Bug/Display.html?id=118584#txn-1680054">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;01&nbsp;07:41:29&nbsp;2016</span>
    <span class="description">paul [...] city-fan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 +
 OpenSSL 1.1.0</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1680054/901809/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/901809">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Not sure whether this is an AnyEvent or a Net-SSLeay bug, so I though I&#39;d try here first:

$ perl -Ilib t/80_ssltest.t 
1..415
ok 1 - mode 1
ok 2 - client_connect 1
ok 3 - server_connect 1
Segmentation fault &#40;core dumped&#41;

This is the back-trace:

#0  internal_find &#40;st=0x300000000, data=data@entry=0x7ffff5ff86f8
&lt;ssl3_ciphers+6552&gt;, ret_val_options=ret_val_options@entry=2&#41; at
crypto/stack/stack.c:193
#1  0x00007ffff5ac2b0a in OPENSSL_sk_find &#40;st=&lt;optimized out&gt;,
data=data@entry=0x7ffff5ff86f8 &lt;ssl3_ciphers+6552&gt;&#41; at crypto/stack/stack.c:211
#2  0x00007ffff5dccd0e in sk_SSL_CIPHER_find &#40;ptr=0x7ffff5ff86f8
&lt;ssl3_ciphers+6552&gt;, sk=&lt;optimized out&gt;&#41; at include/openssl/ssl.h:826
#3  tls_process_server_hello &#40;s=0xbeafe0, pkt=0x7fffffffdda0&#41; at
ssl/statem/statem_clnt.c:1062
#4  0x00007ffff5dcae5f in read_state_machine &#40;s=0xbeafe0&#41; at
ssl/statem/statem.c:589
#5  state_machine &#40;s=0xbeafe0, server=0&#41; at ssl/statem/statem.c:385
#6  0x00007ffff5db12da in ssl3_write_bytes &#40;s=0xbeafe0, type=23, buf_=0xf03380,
len=2&#41; at ssl/record/rec_layer_s3.c:371
#7  0x00007ffff5dc18d9 in SSL_write &#40;s=&lt;optimized out&gt;, buf=&lt;optimized out&gt;,
num=&lt;optimized out&gt;&#41; at ssl/ssl_lib.c:1605
#8  0x00007ffff6045616 in XS_Net__SSLeay_write &#40;&#41; from
/usr/lib64/perl5/vendor_perl/auto/Net/SSLeay/SSLeay.so
#9  0x00007ffff7abf620 in Perl_pp_entersub &#40;my_perl=0x603010&#41; at pp_hot.c:3987
#10 0x00007ffff7ab7ac6 in Perl_runops_standard &#40;my_perl=0x603010&#41; at run.c:41
#11 0x00007ffff7a37b7e in Perl_call_sv &#40;my_perl=&lt;optimized out&gt;, sv=0xbd4ff8,
flags=&lt;optimized out&gt;&#41; at perl.c:2807
#12 0x00007ffff4eca1ff in e_cb &#40;&#41; from
/usr/lib64/perl5/vendor_perl/auto/EV/EV.so
#13 0x00007ffff4ec5a06 in ev_invoke_pending &#40;&#41; from
/usr/lib64/perl5/vendor_perl/auto/EV/EV.so
#14 0x00007ffff4edc1cd in ev_run &#40;&#41; from
/usr/lib64/perl5/vendor_perl/auto/EV/EV.so
#15 0x00007ffff4edd31b in XS_EV_run &#40;&#41; from
/usr/lib64/perl5/vendor_perl/auto/EV/EV.so
#16 0x00007ffff7abf620 in Perl_pp_entersub &#40;my_perl=0x603010&#41; at pp_hot.c:3987
#17 0x00007ffff7ab7ac6 in Perl_runops_standard &#40;my_perl=0x603010&#41; at run.c:41
#18 0x00007ffff7a3f816 in S_run_body &#40;oldscope=&lt;optimized out&gt;,
my_perl=&lt;optimized out&gt;&#41; at perl.c:2483
#19 perl_run &#40;my_perl=0x603010&#41; at perl.c:2406
#20 0x0000000000400c59 in main &#40;argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;,
env=&lt;optimized out&gt;&#41; at perlmain.c:116

The DEFINE_STACK_OF OpenSSL manual notes:

    Care should be taken when accessing stacks in multi-threaded environments.
    Any operation which increases the size of a stack such as sk_TYPE_insert&#40;&#41;
    or sk_push&#40;&#41; can &#34;grow&#34; the size of an internal array and cause race
    conditions if the same stack is accessed in a different thread. Operations
    such as sk_find&#40;&#41; and sk_sort&#40;&#41; can also reorder the stack.

&#40;forwarded from <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=1390468&#41;">https://bugzilla.redhat.com/show_bug.cgi?id=1390468&#41;</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1680165" href="/Public/Bug/Display.html?id=118584#txn-1680165">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;01&nbsp;20:57:39&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 +  OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 02 Nov 2016 10:57:23 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1680165/901874/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/901874">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

we saw a similar crash when testing with AnyEvent 7.13, Net-SSLeay 1.78 and 
openssl-1.1.0-pre5.

But we dont see it with the current latest openssl-1.1.0b

So, looks like it may be a bug in the prerelease openssl 1.1.0?

Cheers.

On Tuesday, November 01, 2016 07:41:36 AM paul@city-fan.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Nov 01 07:41:29 2016: Request 118584 was acted upon.
&gt; Transaction: Ticket created by paul@city-fan.org
&gt;        Queue: Net-SSLeay
&gt;      Subject: AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 +
&gt;  OpenSSL 1.1.0
&gt;    Broken in: 1.78
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: paul@city-fan.org
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; 
&gt; 
&gt; Not sure whether this is an AnyEvent or a Net-SSLeay bug, so I though I&#39;d
&gt; try here first:
&gt; 
&gt; $ perl -Ilib t/80_ssltest.t
&gt; 1..415
&gt; ok 1 - mode 1
&gt; ok 2 - client_connect 1
&gt; ok 3 - server_connect 1
&gt; Segmentation fault &#40;core dumped&#41;
&gt; 
&gt; This is the back-trace:
&gt; 
&gt; #0  internal_find &#40;st=0x300000000, data=data@entry=0x7ffff5ff86f8
&gt; &lt;ssl3_ciphers+6552&gt;, ret_val_options=ret_val_options@entry=2&#41; at
&gt; crypto/stack/stack.c:193
&gt; #1  0x00007ffff5ac2b0a in OPENSSL_sk_find &#40;st=&lt;optimized out&gt;,
&gt; data=data@entry=0x7ffff5ff86f8 &lt;ssl3_ciphers+6552&gt;&#41; at
&gt; crypto/stack/stack.c:211 #2  0x00007ffff5dccd0e in sk_SSL_CIPHER_find
&gt; &#40;ptr=0x7ffff5ff86f8
&gt; &lt;ssl3_ciphers+6552&gt;, sk=&lt;optimized out&gt;&#41; at include/openssl/ssl.h:826
&gt; #3  tls_process_server_hello &#40;s=0xbeafe0, pkt=0x7fffffffdda0&#41; at
&gt; ssl/statem/statem_clnt.c:1062
&gt; #4  0x00007ffff5dcae5f in read_state_machine &#40;s=0xbeafe0&#41; at
&gt; ssl/statem/statem.c:589
&gt; #5  state_machine &#40;s=0xbeafe0, server=0&#41; at ssl/statem/statem.c:385
&gt; #6  0x00007ffff5db12da in ssl3_write_bytes &#40;s=0xbeafe0, type=23,
&gt; buf_=0xf03380, len=2&#41; at ssl/record/rec_layer_s3.c:371
&gt; #7  0x00007ffff5dc18d9 in SSL_write &#40;s=&lt;optimized out&gt;, buf=&lt;optimized out&gt;,
&gt; num=&lt;optimized out&gt;&#41; at ssl/ssl_lib.c:1605
&gt; #8  0x00007ffff6045616 in XS_Net__SSLeay_write &#40;&#41; from
&gt; /usr/lib64/perl5/vendor_perl/auto/Net/SSLeay/SSLeay.so
&gt; #9  0x00007ffff7abf620 in Perl_pp_entersub &#40;my_perl=0x603010&#41; at
&gt; pp_hot.c:3987 #10 0x00007ffff7ab7ac6 in Perl_runops_standard
&gt; &#40;my_perl=0x603010&#41; at run.c:41 #11 0x00007ffff7a37b7e in Perl_call_sv
&gt; &#40;my_perl=&lt;optimized out&gt;, sv=0xbd4ff8, flags=&lt;optimized out&gt;&#41; at
&gt; perl.c:2807
&gt; #12 0x00007ffff4eca1ff in e_cb &#40;&#41; from
&gt; /usr/lib64/perl5/vendor_perl/auto/EV/EV.so
&gt; #13 0x00007ffff4ec5a06 in ev_invoke_pending &#40;&#41; from
&gt; /usr/lib64/perl5/vendor_perl/auto/EV/EV.so
&gt; #14 0x00007ffff4edc1cd in ev_run &#40;&#41; from
&gt; /usr/lib64/perl5/vendor_perl/auto/EV/EV.so
&gt; #15 0x00007ffff4edd31b in XS_EV_run &#40;&#41; from
&gt; /usr/lib64/perl5/vendor_perl/auto/EV/EV.so
&gt; #16 0x00007ffff7abf620 in Perl_pp_entersub &#40;my_perl=0x603010&#41; at
&gt; pp_hot.c:3987 #17 0x00007ffff7ab7ac6 in Perl_runops_standard
&gt; &#40;my_perl=0x603010&#41; at run.c:41 #18 0x00007ffff7a3f816 in S_run_body
&gt; &#40;oldscope=&lt;optimized out&gt;,
&gt; my_perl=&lt;optimized out&gt;&#41; at perl.c:2483
&gt; #19 perl_run &#40;my_perl=0x603010&#41; at perl.c:2406
&gt; #20 0x0000000000400c59 in main &#40;argc=&lt;optimized out&gt;, argv=&lt;optimized out&gt;,
&gt; env=&lt;optimized out&gt;&#41; at perlmain.c:116
&gt; 
&gt; The DEFINE_STACK_OF OpenSSL manual notes:
&gt; 
&gt;     Care should be taken when accessing stacks in multi-threaded
&gt; environments. Any operation which increases the size of a stack such as
&gt; sk_TYPE_insert&#40;&#41; or sk_push&#40;&#41; can &#34;grow&#34; the size of an internal array and
&gt; cause race conditions if the same stack is accessed in a different thread.
&gt; Operations such as sk_find&#40;&#41; and sk_sort&#40;&#41; can also reorder the stack.
&gt; 
&gt; &#40;forwarded from <span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=1390468&#41;">https://bugzilla.redhat.com/show_bug.cgi?id=1390468&#41;</a></span>
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1680166" href="/Public/Bug/Display.html?id=118584#txn-1680166">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;01&nbsp;20:57:40&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1680226" href="/Public/Bug/Display.html?id=118584#txn-1680226">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;02&nbsp;04:11:43&nbsp;2016</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1680226/901911/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/901911">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 432b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 01 20:57:39 2016, mikem@airspayce.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; we saw a similar crash when testing with AnyEvent 7.13, Net-SSLeay
&gt; 1.78 and
&gt; openssl-1.1.0-pre5.
&gt; 
&gt; But we dont see it with the current latest openssl-1.1.0b
&gt; 
&gt; So, looks like it may be a bug in the prerelease openssl 1.1.0?
</div>
Still 100% repeatable with openssl 1.1.0b on Fedora Rawhide:
<span class="clickylink"><a target="new" rel="nofollow" href="https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log">https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1680398" href="/Public/Bug/Display.html?id=118584#txn-1680398">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;03&nbsp;03:10:59&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 03 Nov 2016 17:10:38 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1680398/902022/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/902022">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">SIgh: havent been able to get Fedora Rawhide netinst to boot in my VirtualBox 
VM &#40;Fedora 25 netinst is OK!&#41;

So I wont be able to make any progress on this for another 2 weeks as I am 
travelling.

Cheers,

On Wednesday, November 02, 2016 04:11:45 AM paul@city-fan.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; 
&gt; On Tue Nov 01 20:57:39 2016, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; we saw a similar crash when testing with AnyEvent 7.13, Net-SSLeay
&gt; &gt; 1.78 and
&gt; &gt; openssl-1.1.0-pre5.
&gt; &gt; 
&gt; &gt; But we dont see it with the current latest openssl-1.1.0b
&gt; &gt; 
&gt; &gt; So, looks like it may be a bug in the prerelease openssl 1.1.0?
</div>&gt; 
&gt; Still 100% repeatable with openssl 1.1.0b on Fedora Rawhide:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log">https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log</a></span>
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1685149" href="/Public/Bug/Display.html?id=118584#txn-1685149">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;22&nbsp;00:11:32&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 22 Nov 2016 15:11:11 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1685149/904741/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/904741">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi again Paul,

finally got Fedora Rawhide netinst i386 of 20161031 installed on real hardware 
:-&#40;

again, testing with 

openssl-1.1.0b
Net-SSLeay-1.78
and AnyEvent-7.13

&#40;all compiled locally in a test area&#41;
showed no crash in AnyEvent t/80_ssltest.t

I saw the same result with Fedora 25.

Are you sure your tests have been done with these versions?

Cheers.
 
 
On Thursday, November 03, 2016 05:10:38 PM Mike McCauley wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; SIgh: havent been able to get Fedora Rawhide netinst to boot in my
&gt; VirtualBox VM &#40;Fedora 25 netinst is OK!&#41;
&gt; 
&gt; So I wont be able to make any progress on this for another 2 weeks as I am
&gt; travelling.
&gt; 
&gt; Cheers,
&gt; 
&gt; On Wednesday, November 02, 2016 04:11:45 AM paul@city-fan.org via RT wrote:
<div class="message-stanza open">&gt; &gt;        Queue: Net-SSLeay
&gt; &gt;  
&gt; &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; &gt; 
&gt; &gt; On Tue Nov 01 20:57:39 2016, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi,
&gt; &gt; &gt; 
&gt; &gt; &gt; we saw a similar crash when testing with AnyEvent 7.13, Net-SSLeay
&gt; &gt; &gt; 1.78 and
&gt; &gt; &gt; openssl-1.1.0-pre5.
&gt; &gt; &gt; 
&gt; &gt; &gt; But we dont see it with the current latest openssl-1.1.0b
&gt; &gt; &gt; 
&gt; &gt; &gt; So, looks like it may be a bug in the prerelease openssl 1.1.0?
</div>&gt; &gt; 
&gt; &gt; Still 100% repeatable with openssl 1.1.0b on Fedora Rawhide:
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log">https://kojipkgs.fedoraproject.org//work/tasks/7292/16277292/build.log</a></span>
</div></div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1685226" href="/Public/Bug/Display.html?id=118584#txn-1685226">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;22&nbsp;03:10:58&nbsp;2016</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1685226/904782/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/904782">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 880b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 22 00:11:32 2016, mikem@airspayce.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi again Paul,
&gt; 
&gt; finally got Fedora Rawhide netinst i386 of 20161031 installed on real
&gt; hardware
&gt; :-&#40;
&gt; 
&gt; again, testing with
&gt; 
&gt; openssl-1.1.0b
&gt; Net-SSLeay-1.78
&gt; and AnyEvent-7.13
&gt; 
&gt; &#40;all compiled locally in a test area&#41;
&gt; showed no crash in AnyEvent t/80_ssltest.t
&gt; 
&gt; I saw the same result with Fedora 25.
&gt; 
&gt; Are you sure your tests have been done with these versions?
</div>
Well this is interesting. I&#39;ve just tried again and an i386 build succeeded but the x86_64 build failed:

<span class="clickylink"><a target="new" rel="nofollow" href="http://koji.fedoraproject.org/koji/taskinfo?taskID=16560073">http://koji.fedoraproject.org/koji/taskinfo?taskID=16560073</a></span>

If you look at the x86_64 build &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://koji.fedoraproject.org/koji/taskinfo?taskID=16560075&#41;">http://koji.fedoraproject.org/koji/taskinfo?taskID=16560075&#41;</a></span>, you can see what was installed in the root.log file, and the output from the build in the build.log file. We&#39;re now on openssl 1.1.0c but the failure was the same as before.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1685359" href="/Public/Bug/Display.html?id=118584#txn-1685359">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;22&nbsp;16:18:46&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 23 Nov 2016 07:18:28 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1685359/904877/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/904877">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sigh,

Ive been trying to install Rawhide x86_64 20161121 on real hardware but it 
crashes in anaconda during install. The previously known good rawhide netinst 
images are no longer available, so I am stumped.

Every way I turn to test this bug &#40;if bug is what it is&#41; it disappears before 
me.

I wonder if maybe this is an artifact of your testing environment?

Cheers.

On Tuesday, November 22, 2016 03:10:59 AM paul@city-fan.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; 
&gt; On Tue Nov 22 00:11:32 2016, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; Hi again Paul,
&gt; &gt; 
&gt; &gt; finally got Fedora Rawhide netinst i386 of 20161031 installed on real
&gt; &gt; hardware
&gt; &gt; 
&gt; &gt; :-&#40;
&gt; &gt; 
&gt; &gt; again, testing with
&gt; &gt; 
&gt; &gt; openssl-1.1.0b
&gt; &gt; Net-SSLeay-1.78
&gt; &gt; and AnyEvent-7.13
&gt; &gt; 
&gt; &gt; &#40;all compiled locally in a test area&#41;
&gt; &gt; showed no crash in AnyEvent t/80_ssltest.t
&gt; &gt; 
&gt; &gt; I saw the same result with Fedora 25.
&gt; &gt; 
&gt; &gt; Are you sure your tests have been done with these versions?
</div>&gt; 
&gt; Well this is interesting. I&#39;ve just tried again and an i386 build succeeded
&gt; but the x86_64 build failed:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://koji.fedoraproject.org/koji/taskinfo?taskID=16560073">http://koji.fedoraproject.org/koji/taskinfo?taskID=16560073</a></span>
&gt; 
&gt; If you look at the x86_64 build
&gt; &#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://koji.fedoraproject.org/koji/taskinfo?taskID=16560075&#41;">http://koji.fedoraproject.org/koji/taskinfo?taskID=16560075&#41;</a></span>, you can see
&gt; what was installed in the root.log file, and the output from the build in
&gt; the build.log file. We&#39;re now on openssl 1.1.0c but the failure was the
&gt; same as before.
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1685497" href="/Public/Bug/Display.html?id=118584#txn-1685497">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;23&nbsp;03:19:58&nbsp;2016</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1685497/904973/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/904973">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 848b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Nov 22 16:18:46 2016, mikem@airspayce.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sigh,
&gt; 
&gt; Ive been trying to install Rawhide x86_64 20161121 on real hardware
&gt; but it
&gt; crashes in anaconda during install. The previously known good rawhide
&gt; netinst
&gt; images are no longer available, so I am stumped.
&gt; 
&gt; Every way I turn to test this bug &#40;if bug is what it is&#41; it disappears
&gt; before
&gt; me.
</div>
Perhaps try the Fedora 25 x86_64 installer and then use dnf to upgrade to Rawhide &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://fedoraproject.org/wiki/DNF_system_upgrade&#41;">https://fedoraproject.org/wiki/DNF_system_upgrade&#41;</a></span>?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I wonder if maybe this is an artifact of your testing environment?
</div>
That&#39;s always a possibility but I do my testing by installing into a clean chroot all the dependencies and then do the build there, and using that method I always get the same result. My colleague &#40;who provided the backtrace&#41; was also able to reproduce it.

Cheers, Paul.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1685810" href="/Public/Bug/Display.html?id=118584#txn-1685810">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;23&nbsp;22:32:32&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 24 Nov 2016 13:32:17 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1685810/905156/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/905156">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Paul,

Sigh,

I tried the Point installer to Rawhide option as described on 
<span class="clickylink"><a target="new" rel="nofollow" href="https://fedoraproject.org/wiki/Releases/Rawhide">https://fedoraproject.org/wiki/Releases/Rawhide</a></span>

It failed part way through the software download. It failed to download gnome-
software, and reported that it tried all the mirrors. Sounds like some sort of 
problem in the rawhide package repository. There was no option except to exit 
the installer.

Im finding this very frustrating and time consuming for something which may not 
even be a bug in my software.

Can you offer me a reliable way to reproduce this problem?

Cheers.

On Wednesday, November 23, 2016 03:19:59 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; 
&gt; On Tue Nov 22 16:18:46 2016, mikem@airspayce.com wrote:
<div class="message-stanza open">&gt; &gt; Sigh,
&gt; &gt; 
&gt; &gt; Ive been trying to install Rawhide x86_64 20161121 on real hardware
&gt; &gt; but it
&gt; &gt; crashes in anaconda during install. The previously known good rawhide
&gt; &gt; netinst
&gt; &gt; images are no longer available, so I am stumped.
&gt; &gt; 
&gt; &gt; Every way I turn to test this bug &#40;if bug is what it is&#41; it disappears
&gt; &gt; before
&gt; &gt; me.
</div>&gt; 
&gt; Perhaps try the Fedora 25 x86_64 installer and then use dnf to upgrade to
&gt; Rawhide &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://fedoraproject.org/wiki/DNF_system_upgrade&#41;">https://fedoraproject.org/wiki/DNF_system_upgrade&#41;</a></span>?
<div class="message-stanza open">&gt; &gt; I wonder if maybe this is an artifact of your testing environment?
</div>&gt; 
&gt; That&#39;s always a possibility but I do my testing by installing into a clean
&gt; chroot all the dependencies and then do the build there, and using that
&gt; method I always get the same result. My colleague &#40;who provided the
&gt; backtrace&#41; was also able to reproduce it.
&gt; 
&gt; Cheers, Paul.
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1686398" href="/Public/Bug/Display.html?id=118584#txn-1686398">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;26&nbsp;10:49:59&nbsp;2016</span>
    <span class="description">paul [...] city-fan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> paul [...] city-fan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1686398/905468/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/905468">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 191b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fix has been applied upstream:

<span class="clickylink"><a target="new" rel="nofollow" href="http://cvs.schmorp.de/AnyEvent/lib/AnyEvent/Handle.pm?r1=1.248&#38;r2=1.249">http://cvs.schmorp.de/AnyEvent/lib/AnyEvent/Handle.pm?r1=1.248&#38;r2=1.249</a></span>

Thanks for your help diagnosing this Mike, and sorry about the problems with Rawhide.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1686499" href="/Public/Bug/Display.html?id=118584#txn-1686499">#</a>      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;26&nbsp;16:24:15&nbsp;2016</span>
    <span class="description">mikem [...] airspayce.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #118584] AnyEvent 7.13 t/80_ssltest.t segfaults with Net-SSLeay 1.78 + OpenSSL 1.1.0</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 27 Nov 2016 07:09:32 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Net-SSLeay [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mike McCauley &lt;mikem [...] airspayce.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1686499/905528/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/905528">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 729b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Paul,

On Saturday, November 26, 2016 10:50:00 AM you wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Net-SSLeay
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118584">https://rt.cpan.org/Ticket/Display.html?id=118584</a></span> &gt;
&gt; 
&gt; Fix has been applied upstream:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cvs.schmorp.de/AnyEvent/lib/AnyEvent/Handle.pm?r1=1.248&#38;r2=1.249">http://cvs.schmorp.de/AnyEvent/lib/AnyEvent/Handle.pm?r1=1.248&#38;r2=1.249</a></span>
</div>
Great, but its a shame they didnt see fit to remove the disparaging remarks, 
and to use the symbolic constants &#40;which were added in 2012&#41; instead of &#39;1|2&#39;, 


Cheers.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Thanks for your help diagnosing this Mike, and sorry about the problems with
&gt; Rawhide.
</div>
-- 
Mike McCauley           VK4AMM                   mikem@airspayce.com
Airspayce Pty Ltd 9 Bulbul Place Currumbin Waters QLD 4223 Australia   
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.airspayce.com">http://www.airspayce.com</a></span>
Phone +61 7 5598-7474
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1794994" href="/Public/Bug/Display.html?id=118584#txn-1794994">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;08&nbsp;12:12:15&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1794994/965343/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/965343">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 174b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">If I&#39;ve read this thread correctly, this was caused solely by a bug in AnyEvent which has now been fixed, so I&#39;ll mark this as &#34;rejected&#34;. Nonetheless, thanks for the report!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1794997" href="/Public/Bug/Display.html?id=118584#txn-1794997">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;08&nbsp;12:12:17&nbsp;2018</span>
    <span class="description">chrisn [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.652013</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
