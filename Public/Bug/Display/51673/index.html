<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #51673 for forks: shared variable locking not eval safe</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #51673 for forks: shared variable locking not eval safe</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/forks/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/forks/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/forks/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/forks/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/forks">forks CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">51673</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/forks/Active/">forks</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RYBSKEJ [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
toddr [...] null.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-13746-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.33    </td>
  </tr>
  <tr id="CF-13747-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




fork_eval_lock.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/696391/359117/fork_eval_lock.t">
Mon Nov 23 16:52:00 2009 (845b) by RYBSKEJ [...] cpan.org
</a>
</font></li>


<li><font size="-2">
<a href="/Ticket/Attachment/692803/356787/fork_eval_lock.t">
Wed Nov 18 14:52:04 2009 (831b) by toddr [...] null.net
</a>
</font></li>
</ul>


queues2<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/859425/444813/queues2">
Wed Nov 24 04:34:31 2010 (465b) by bitcard [...] faxm0dem.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;14:52:04&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> shared variable locking not eval safe</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, I have discovered that the second I use lock inside an eval, my forked process terminates. 

Test is attached. Note that in the second set of tests, test 2 is never reached.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> fork_eval_lock.t</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!perl

use strict;
use warnings;
use Test::More;

use forks;
use forks::shared;

my $var1 :shared;

my $thr = threads-&gt;new&#40;{&#39;context&#39; =&gt; &#39;list&#39;}, sub { fork_eval&#40;&#41;; }&#41;;
$thr-&gt;join&#40;&#41;;

my $thr2 = threads-&gt;new&#40;{&#39;context&#39; =&gt; &#39;list&#39;}, sub { fork_eval_lock&#40;&#41;; }&#41;;
$thr2-&gt;join&#40;&#41;;

exit;

sub fork_eval {
    ok&#40;1, &#34;This test reached&#34;&#41;;
    my $error_message = &#34;ERROR_MESSAGE_HERE&#34;;
    eval {
        die&#40;$error_message&#41;;
    };
    like&#40;$@, qr/^$error_message/, &#34;Error message received&#34;&#41;;
    done_testing&#40;&#41;;
}

sub fork_eval_lock {
    ok&#40;1, &#34;This test reached&#34;&#41;;
    my $error_message = &#34;ERROR_MESSAGE_HERE&#34;;
    eval {
        lock $var1;
        $var1 = &#39;fork&#39;;
        unlock $var1;
        die&#40;$error_message&#41;;
    };
    like&#40;$@, qr/^$error_message/, &#34;Error message received but this test never reached.&#34;&#41;;
    done_testing&#40;&#41;;
}</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;14:55:11&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">An even simpler example is causing a segfault on perl:

#!perl

use forks;
use forks::shared;

my $var1 :shared;

eval {
    lock $var1;
    die&#40;&#34;This message&#34;&#41;;
};

print &#34;I never get here\n&#34;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;14:55:13&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;18&nbsp;14:55:13&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">An even simpler example is causing a segfault on perl:

#!perl

use forks;
use forks::shared;

my $var1 :shared;

eval {
    lock $var1;
    die&#40;&#34;This message&#34;&#41;;
};

print &#34;I never get here\n&#34;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;23&nbsp;16:52:00&nbsp;2009</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">What version of Perl and what platform are you using?  Please attach the output of `perl -V`
Also, what version of Test::More are you using?  `perl -MTest::More -e &#39;print 
&#34;$Test::More::VERSION\n&#34;&#39;`

Note: Your example works for me on MacOS 10.5 &#40;perl 5.8.8&#41; and RHEL 5 &#40;perl 5.8.8&#41;.  I 
tested with forks 0.33, and Test::More 0.62 and 0.86.

The original attached script works for me with the following minor changes:
1. Used forks before Test::More.  See: <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~rybskej/forks-">http://search.cpan.org/~rybskej/forks-</a></span>
0.33/lib/forks.pm#module_load_order:_forks_first

2. Added a test plan &#40;tests=&gt;4&#41;.

3. Commented out &#34;unlock $var1;&#34;.  Not sure what this was, but ithreads variables unlock 
automatically at end of scope.  There is no interface function to unlock.

4. Commented out calls for missing subroutine done_testing&#40;&#41;.

Updated test script is attached for reference.

Regards,
Eric

On Wed Nov 18 14:55:13 2009, toddr@null.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; An even simpler example is causing a segfault on perl:
&gt; 
&gt; #!perl
&gt; 
&gt; use forks;
&gt; use forks::shared;
&gt; 
&gt; my $var1 :shared;
&gt; 
&gt; eval {
&gt;     lock $var1;
&gt;     die&#40;&#34;This message&#34;&#41;;
&gt; };
&gt; 
&gt; print &#34;I never get here\n&#34;;
</div></div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!perl

use strict;
use warnings;

use forks;
use forks::shared;
use Test::More tests=&gt;4;

my $var1 :shared;

my $thr = threads-&gt;new&#40;{&#39;context&#39; =&gt; &#39;list&#39;}, sub { fork_eval&#40;&#41;; }&#41;;
$thr-&gt;join&#40;&#41;;

my $thr2 = threads-&gt;new&#40;{&#39;context&#39; =&gt; &#39;list&#39;}, sub { fork_eval_lock&#40;&#41;; }&#41;;
$thr2-&gt;join&#40;&#41;;

exit;

sub fork_eval {
    ok&#40;1, &#34;This test reached&#34;&#41;;
    my $error_message = &#34;ERROR_MESSAGE_HERE&#34;;
    eval {
        die&#40;$error_message&#41;;
    };
    like&#40;$@, qr/^$error_message/, &#34;Error message received&#34;&#41;;
    #done_testing&#40;&#41;;
}

sub fork_eval_lock {
    ok&#40;1, &#34;This test reached&#34;&#41;;
    my $error_message = &#34;ERROR_MESSAGE_HERE&#34;;
    eval {
        lock $var1;
        $var1 = &#39;fork&#39;;
        #unlock $var1;
        die&#40;$error_message&#41;;
    };
    like&#40;$@, qr/^$error_message/, &#34;Error message received but this test never reached.&#34;&#41;;
    #done_testing&#40;&#41;;
}

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;00:18:12&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This is a 64bit perl running on Snow Leopard. It did not come with the OS.

$&gt;perl -V
Summary of my perl5 &#40;revision 5 version 10 subversion 1&#41; configuration:
   
  Platform:
    osname=darwin, osvers=10.0.0, archname=darwin-thread-multi-2level
    uname=&#39;darwin toddr.local 10.0.0 darwin kernel version 10.0.0: fri jul 31 22:47:34 pdt 
2009; root:xnu-1456.1.25~1release_i386 i386 &#39;
    config_args=&#39;&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-fno-common -DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing 
-pipe -fstack-protector -I/usr/local/include -I/opt/local/include&#39;,
    optimize=&#39;-O3&#39;,
    cppflags=&#39;-no-cpp-precomp -fno-common -DPERL_DARWIN -no-cpp-precomp -fno-
strict-aliasing -pipe -fstack-protector -I/usr/local/include -I/opt/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.2.1 &#40;Apple Inc. build 5646&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;env MACOSX_DEPLOYMENT_TARGET=10.3 cc&#39;, ldflags =&#39; -fstack-protector -
L/usr/local/lib -L/opt/local/lib&#39;
    libpth=/usr/local/lib /opt/local/lib /usr/lib
    libs=-ldbm -ldl -lm -lutil -lc
    perllibs=-ldl -lm -lutil -lc
    libc=/usr/lib/libc.dylib, so=dylib, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=bundle, d_dlsymun=undef, ccdlflags=&#39; &#39;
    cccdlflags=&#39; &#39;, lddlflags=&#39; -bundle -undefined dynamic_lookup -L/usr/local/lib -
L/opt/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP USE_64_BIT_ALL
                        USE_64_BIT_INT USE_FAST_STDIO USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO
  Built under darwin
  Compiled at Oct  5 2009 13:52:26
  %ENV:
  @INC:
    /usr/local/perl/510/lib/5.10.1/darwin-thread-multi-2level
    /usr/local/perl/510/lib/5.10.1
    /usr/local/perl/510/lib/5.10.1/darwin-thread-multi-2level
    /usr/local/perl/510/lib/5.10.1
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;00:24:20&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Test::More version is 0.94. The new Test::More design is to no longer explicitly list your test 
count, but rather declare done_testing&#40;&#41; when you&#39;re done.

Concerning the use of Test::More, this example fails without Test::More. I was just using it for 
example. Feel free to take it out and it should equally segfault &#40;see simpler example above&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;24&nbsp;00:24:55&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">output from simple example:

$&gt;cat shfork.pl 
#!perl

use forks;
use forks::shared;

my $var1 :shared;

eval {
lock $var1;
die&#40;&#34;This message&#34;&#41;;
};

print &#34;I never get here\n&#34;;

$&gt;perl shfork.pl 
zsh: segmentation fault  perl shfork.pl
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;08&nbsp;12:52:08&nbsp;2009</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">forks has been tested Perl 10.0 on a variety platforms &#40;including OS 10.5&#41;.  I&#39;ve personally 
tested against Apple and macports Perl distributions.

Can you rebuild forks &#40;perl Makefile.PL &#38;&#38; make &#38;&#38; make test&#41; from a clean forks 
distribution and capture the results?  I&#39;d be curious to see if there are any build warnings, 
related to the 64-bit OS.

I&#39;ve ordered 10.6, so I should have a better chance of replicating this issue soon.  I&#39;ll update 
as progress is made.

-Eric

On Tue Nov 24 00:18:12 2009, toddr@null.net wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is a 64bit perl running on Snow Leopard. It did not come with the
&gt; OS.
&gt; 
&gt; $&gt;perl -V
&gt; Summary of my perl5 &#40;revision 5 version 10 subversion 1&#41;
&gt; configuration:
&gt; 
&gt;   Platform:
&gt;     osname=darwin, osvers=10.0.0, archname=darwin-thread-multi-2level
&gt;     uname=&#39;darwin toddr.local 10.0.0 darwin kernel version 10.0.0: fri
&gt; jul 31 22:47:34 pdt
&gt; 2009; root:xnu-1456.1.25~1release_i386 i386 &#39;
&gt;     config_args=&#39;&#39;
&gt;     hint=recommended, useposix=true, d_sigaction=define
&gt;     useithreads=define, usemultiplicity=define
&gt;     useperlio=define, d_sfio=undef, uselargefiles=define,
&gt; usesocks=undef
&gt;     use64bitint=define, use64bitall=define, uselongdouble=undef
&gt;     usemymalloc=n, bincompat5005=undef
&gt;   Compiler:
&gt;     cc=&#39;cc&#39;, ccflags =&#39;-fno-common -DPERL_DARWIN -no-cpp-precomp
&gt; -fno-strict-aliasing
&gt; -pipe -fstack-protector -I/usr/local/include -I/opt/local/include&#39;,
&gt;     optimize=&#39;-O3&#39;,
&gt;     cppflags=&#39;-no-cpp-precomp -fno-common -DPERL_DARWIN
&gt; -no-cpp-precomp -fno-
&gt; strict-aliasing -pipe -fstack-protector -I/usr/local/include
&gt; -I/opt/local/include&#39;
&gt;     ccversion=&#39;&#39;, gccversion=&#39;4.2.1 &#40;Apple Inc. build 5646&#41;&#39;,
&gt; gccosandvers=&#39;&#39;
&gt;     intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
&gt;     d_longlong=define, longlongsize=8, d_longdbl=define,
&gt; longdblsize=16
&gt;     ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
&gt; lseeksize=8
&gt;     alignbytes=8, prototype=define
&gt;   Linker and Libraries:
&gt;     ld=&#39;env MACOSX_DEPLOYMENT_TARGET=10.3 cc&#39;, ldflags =&#39;
&gt; -fstack-protector -
&gt; L/usr/local/lib -L/opt/local/lib&#39;
&gt;     libpth=/usr/local/lib /opt/local/lib /usr/lib
&gt;     libs=-ldbm -ldl -lm -lutil -lc
&gt;     perllibs=-ldl -lm -lutil -lc
&gt;     libc=/usr/lib/libc.dylib, so=dylib, useshrplib=false,
&gt; libperl=libperl.a
&gt;     gnulibc_version=&#39;&#39;
&gt;   Dynamic Linking:
&gt;     dlsrc=dl_dlopen.xs, dlext=bundle, d_dlsymun=undef, ccdlflags=&#39; &#39;
&gt;     cccdlflags=&#39; &#39;, lddlflags=&#39; -bundle -undefined dynamic_lookup
&gt; -L/usr/local/lib -
&gt; L/opt/local/lib -fstack-protector&#39;
&gt; 
&gt; 
&gt; Characteristics of this binary &#40;from libperl&#41;:
&gt;   Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
&gt;                         PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
&gt; USE_64_BIT_ALL
&gt;                         USE_64_BIT_INT USE_FAST_STDIO USE_ITHREADS
&gt;                         USE_LARGE_FILES USE_PERLIO
&gt;   Built under darwin
&gt;   Compiled at Oct  5 2009 13:52:26
&gt;   %ENV:
&gt;   @INC:
&gt;     /usr/local/perl/510/lib/5.10.1/darwin-thread-multi-2level
&gt;     /usr/local/perl/510/lib/5.10.1
&gt;     /usr/local/perl/510/lib/5.10.1/darwin-thread-multi-2level
&gt;     /usr/local/perl/510/lib/5.10.1
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;08&nbsp;13:01:44&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> toddr [...] null.net</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Basic build run. I note some warnings in test 7

cpan[1]&gt; look forks                                                                                                                                                                                     
CPAN: CPAN::SQLite loaded ok &#40;v0.198&#41;
Database was generated on Mon, 07 Dec 2009 21:50:16 GMT
Running look for module &#39;forks&#39;

Trying to open a subshell in the build directory...
CPAN: YAML loaded ok &#40;v0.70&#41;
CPAN: Digest::SHA loaded ok &#40;v5.47&#41;
CPAN: Compress::Zlib loaded ok &#40;v2.022&#41;
Checksum for /var/root/.cpan/sources/authors/id/R/RY/RYBSKEJ/forks-0.33.tar.gz ok
Scanning cache /var/root/.cpan/build for sizes
............................................................................DONE
CPAN: Archive::Tar loaded ok &#40;v1.54&#41;
forks-0.33/
forks-0.33/CHANGELOG
forks-0.33/CREDITS
forks-0.33/forks.xs
forks-0.33/lib/
forks-0.33/lib/forks/
forks-0.33/lib/forks/Devel/
forks-0.33/lib/forks/Devel/Symdump.pm
forks-0.33/lib/forks/shared/
forks-0.33/lib/forks/shared/attributes.pm
forks-0.33/lib/forks/shared/global_filter.pm
forks-0.33/lib/forks/shared.pm
forks-0.33/lib/forks/signals.pm
forks-0.33/lib/forks.pm
forks-0.33/lib/threads/
forks-0.33/lib/threads/shared/
forks-0.33/lib/threads/shared/array.pm
forks-0.33/lib/threads/shared/handle.pm
forks-0.33/lib/threads/shared/hash.pm
forks-0.33/lib/threads/shared/scalar.pm
forks-0.33/Makefile.PL
forks-0.33/MANIFEST
forks-0.33/MANIFEST.skip
forks-0.33/META.yml
forks-0.33/ppport.h
forks-0.33/README
forks-0.33/SIGNATURE
forks-0.33/t/
forks-0.33/t/forks00-sigtrap.t
forks-0.33/t/forks01.t
forks-0.33/t/forks02.t
forks-0.33/t/forks03.t
forks-0.33/t/forks04.t
forks-0.33/t/forks05.t
forks-0.33/t/forks06.t
forks-0.33/t/forks07.t
forks-0.33/t/forks08.t
forks-0.33/t/forks09.t
forks-0.33/t/forks10.t
forks-0.33/t/forks20.t
forks-0.33/t/forks99.t
forks-0.33/TODO
forks-0.33/VERSION
CPAN: File::Temp loaded ok &#40;v0.22&#41;
Working directory is /var/root/.cpan/build/forks-0.33-b0XxyR
091208.115641 root@toddr.local &#40;/var/root/.cpan/build/forks-0.33-b0XxyR&#41;
$&gt;perl Makefile.PL 
Fixing prototypes in forks.xs
Checking if your kit is complete...
Looks good
Writing Makefile for forks
091208.115644 root@toddr.local &#40;/var/root/.cpan/build/forks-0.33-b0XxyR&#41;
$&gt;make
cp lib/forks/signals.pm blib/lib/forks/signals.pm
cp lib/forks/shared/global_filter.pm blib/lib/forks/shared/global_filter.pm
cp lib/threads/shared/array.pm blib/lib/threads/shared/array.pm
cp lib/forks.pm blib/lib/forks.pm
cp lib/forks/shared.pm blib/lib/forks/shared.pm
cp lib/forks/Devel/Symdump.pm blib/lib/forks/Devel/Symdump.pm
cp lib/forks/shared/attributes.pm blib/lib/forks/shared/attributes.pm
cp lib/threads/shared/hash.pm blib/lib/threads/shared/hash.pm
cp lib/threads/shared/handle.pm blib/lib/threads/shared/handle.pm
cp lib/threads/shared/scalar.pm blib/lib/threads/shared/scalar.pm
/usr/local/perl/510/bin/perl /usr/local/perl/510/lib/5.10.1/ExtUtils/xsubpp  -typemap /usr/local/perl/510/lib/5.10.1/ExtUtils/typemap  
forks.xs &gt; forks.xsc &#38;&#38; mv forks.xsc forks.c
cc -c   -fno-common -DPERL_DARWIN -no-cpp-precomp -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -
I/opt/local/include -O3   -DVERSION=\&#34;0.33\&#34; -DXS_VERSION=\&#34;0.33\&#34;  &#34;-I/usr/local/perl/510/lib/5.10.1/darwin-thread-multi-
2level/CORE&#34;   forks.c
Running Mkbootstrap for forks &#40;&#41;
chmod 644 forks.bs
rm -f blib/arch/auto/forks/forks.bundle
env MACOSX_DEPLOYMENT_TARGET=10.3 cc  -bundle -undefined dynamic_lookup -L/usr/local/lib -L/opt/local/lib -fstack-protector 
forks.o  -o blib/arch/auto/forks/forks.bundle   \
                \
          
chmod 755 blib/arch/auto/forks/forks.bundle
cp forks.bs blib/arch/auto/forks/forks.bs
chmod 644 blib/arch/auto/forks/forks.bs
Manifying blib/man3/forks::signals.3
Manifying blib/man3/threads::shared::array.3
Manifying blib/man3/forks::Devel::Symdump.3
Manifying blib/man3/forks::shared.3
Manifying blib/man3/forks.3
Manifying blib/man3/threads::shared::hash.3
Manifying blib/man3/threads::shared::handle.3
Manifying blib/man3/threads::shared::scalar.3
091208.115649 root@toddr.local &#40;/var/root/.cpan/build/forks-0.33-b0XxyR&#41;
$&gt;make test
PERL_DL_NONLAZY=1 /usr/local/perl/510/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/forks00-sigtrap.t .. ok   
t/forks01.t .......... # 
# These tests exercise general API compatibility and behavior.
# 
t/forks01.t .......... ok       
t/forks02.t .......... # 
# The following tests are a stress test for shared arrays and shared hashes
# that may take a few minutes on slower machines.
# 
t/forks02.t .......... ok   
t/forks03.t .......... # 
# The following tests check that blessing shared variables is fully transparent.
# 
t/forks03.t .......... ok     
t/forks04.t .......... # 
# These tests exercise general API compatibility and behavior &#40;threads.pm replacement mode&#41;.
# 
t/forks04.t .......... ok   
t/forks05.t .......... # 
# These tests validate main thread exit values.
# 
t/forks05.t .......... ok   
t/forks06.t .......... # 
# These tests exercise deadlock detection and resolution features of forks.
# 
t/forks06.t .......... ok     
t/forks07.t .......... # 
# These tests check inter-thread signaling.
# 
Signal SIGTERM received, but no signal handler set for thread 1
t/forks07.t .......... ok   
t/forks08.t .......... # 
# These tests validate overloaded sleep behavior.
# 
t/forks08.t .......... ok     
t/forks09.t .......... # 
# These tests check shared_clone functionality.
# 
t/forks09.t .......... ok     
t/forks10.t .......... # 
# These tests check CLONE and SKIP_CLONE functionality.
# 
t/forks10.t .......... ok     
t/forks20.t .......... # 
# These tests validate compatibility with Thread::Queue.
# 
t/forks20.t .......... ok     
t/forks99.t .......... skipped: Set the environment variable TEST_SIGNATURE to enable this test.
All tests successful.
Files=13, Tests=389, 156 wallclock secs &#40; 0.11 usr  0.04 sys +  6.79 cusr  1.93 csys =  8.87 CPU&#41;
Result: PASS
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;08&nbsp;13:02:36&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">detailed output from test 07

$&gt;prove -lvm t/forks07.t 
t/forks07.t .. 
1..3
# 
# These tests check inter-thread signaling.
# 
Signal SIGTERM received, but no signal handler set for thread 1
ok 1 - Check that thread is no longer running
ok 2 - Check that thread is no longer running
ok 3 - Check that custom signal handler was used
ok
All tests successful.
Files=1, Tests=3, 13 wallclock secs &#40; 0.01 usr  0.01 sys +  0.17 cusr  
0.04 csys =  0.23 CPU&#41;
Result: PASS
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;08&nbsp;13:11:46&nbsp;2009</span>
    <span class="description">toddr [...] null.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I made some mods to the test script to locate the message. I notice weirdness as to when diag/ok outputs relative to the message. I assume 
this is just a result of how long ok takes to run.:

Code changes:
use Test::More tests =&gt; 4;
use strict;
use warnings;
diag&#40; &#34;Test::More instantiated&#34;&#41;;

my $thr = threads-&gt;new&#40;sub { while &#40;1&#41; { sleep 1; } }&#41;;
sleep 3;
diag&#40;&#34;Sending kill TERM&#34;&#41;;
$thr-&gt;kill&#40;&#39;TERM&#39;&#41;;
diag&#40;&#34;Kill sent&#34;&#41;;
ok&#40;1, &#34;Kill sent via ok&#34;&#41;;
sleep 3;
ok&#40;!$thr-&gt;is_running&#40;&#41;, &#39;Check that thread is no longer running&#39;&#41;;




OUTPUT: 
t/forks07.t .. 
1..4
# 
# These tests check inter-thread signaling.
# 
I&#39;m patching test builder
# Test::More instantiated
# Sending kill TERM
# Kill sent
Signal SIGTERM received, but no signal handler set for thread 1
ok 1 - Kill sent via ok
ok 2 - Check that thread is no longer running
ok 3 - Check that thread is no longer running
ok 4 - Check that custom signal handler was used
ok
All tests successful.
Files=1, Tests=4, 12 wallclock secs &#40; 0.02 usr  0.01 sys +  0.17 cusr  
0.04 csys =  0.24 CPU&#41;
Result: PASS
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;24&nbsp;04:34:30&nbsp;2010</span>
    <span class="description">bitcard [...] faxm0dem.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bitcard [...] faxm0dem.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m not sure this is related, but the words &#34;eval&#34; and &#34;lock&#34; rang a bell.
The attached script works perfectly well on various perl versions on
linux. However, on Solaris 10 &#40;tested using OS shipped perl 5.8.4 see
perl -V at the end&#41; I get:

# ./queues2
Thread 1 terminated abnormally: lock can only be used on shared values
at ./queu
es line 10
 at /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int/forks.pm line 807
Thread 2 terminated abnormally: lock can only be used on shared values
at ./queu
es line 17
 at /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int/forks.pm line 807

However, if I replace the string eval by a block eval, or if I just skip
the eval block and use at compile time, things run fine.

# perl -V
Summary of my perl5 &#40;revision 5 version 8 subversion 4&#41; configuration:
  Platform:
    osname=solaris, osvers=2.10, archname=i86pc-solaris-64int
    uname=&#39;sunos localhost 5.10 i86pc i386 i86pc&#39;
    config_args=&#39;&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=undef use5005threads=undef useithreads=undef
usemultiplicity=unde
f
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=define use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64
-D_TS_ERRNO&#39;,
    optimize=&#39;-xO3 -xspace -xildoff&#39;,
    cppflags=&#39;&#39;
    ccversion=&#39;Sun WorkShop&#39;, gccversion=&#39;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8,
Off_t=&#39;off_t&#39;, lsee
ksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;&#39;
    libpth=/lib /usr/lib /usr/ccs/lib
    libs=-lsocket -lnsl -ldl -lm -lc
    perllibs=-lsocket -lnsl -ldl -lm -lc
    libc=/lib/libc.so, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-R
/usr/perl5/5.8.
4/lib/i86pc-solaris-64int/CORE&#39;
    cccdlflags=&#39;-KPIC&#39;, lddlflags=&#39;-G&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: USE_64_BIT_INT USE_LARGE_FILES
  Locally applied patches:
        22667 The optree builder was looping when constructing the ops ...
        22715 Upgrade to FileCache 1.04
        22733 Missing copyright in the README.
        22746 fix a coredump caused by rv2gv not fully converting a PV ...
        22755 Fix 29149 - another UTF8 cache bug hit by substr.
        22774 [perl #28938] split could leave an array without ...
        22775 [perl #29127] scalar delete of empty slice returned garbage
        22776 [perl #28986] perl -e &#34;open m&#34; crashes Perl
        22777 add test for change #22776 &#40;&#34;open m&#34; crashes Perl&#41;
        22778 add test for change #22746 &#40;[perl #29102] Crash on assign ...
        22781 [perl #29340] Bizarre copy of ARRAY make sure a pad op&#39;s ...
        22796 [perl #29346] Double warning for int&#40;undef&#41; and abs&#40;undef&#41; ...
        22818 BOM-marked and &#40;BOMless&#41; UTF-16 scripts not working
        22823 [perl #29581] glob&#40;&#41; misses a lot of matches
        22827 Smoke [5.9.2] 22818 FAIL&#40;F&#41; MSWin32 WinXP/.Net SP1 &#40;x86/1 cpu&#41;
        22830 [perl #29637] Thread creation time is hypersensitive
        22831 improve hashing algorithm for ptr tables in perl_clone: ...
        22839 [perl #29790] Optimization busted: &#39;@a = &#34;b&#34;, sort @a&#39; ...
        22850 [PATCH] &#39;perl -v&#39; fails if local_patches contains code
snippets
        22852 TEST needs to ignore SCM files
        22886 Pod::Find should ignore SCM files and dirs
        22888 Remove redundant %SIG assignments from FileCache
        23006 [perl #30509] use encoding and &#34;eq&#34; cause memory leak
        23074 Segfault using HTML::Entities
        23106 Numeric comparison operators mustn&#39;t compare addresses of ...
        23320 [perl #30066] Memory leak in nested shared data structures ...
        23321 [perl #31459] Bug in read&#40;&#41;
        27722 perlio.c breaks on Solaris/gcc when &gt; 256 FDs are available
        SPRINTF0 - fixes for sprintf formatting issues - CVE-2005-3962
        6663288 Upgrade to CGI.pm 3.33
        REGEXP0 - fix for UTF-8 recoding in regexps - CVE-2007-5116
        6758953 Perl Sys::Syslog can log messages with wrong severity
  Built under solaris
  Compiled at May 20 2009 22:16:00
  %ENV:
   
PERL5LIB=&#34;/home/sysunix/perl5/lib/perl5/i86pc-solaris-64int:/home/sysunix/pe
rl5/lib/perl5:/home/sysunix/perl5/lib/perl5/i86pc-solaris-64int:/home/sysunix/pe
rl5/lib/perl5:/home/sysunix/perl5/lib/perl5/i86pc-solaris-64int:/home/sysunix/pe
rl5/lib/perl5&#34;
    PERL_MM_OPT=&#34;INSTALL_BASE=/home/sysunix/perl5&#34;
  @INC:
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5/i86pc-solaris-64int
    /home/sysunix/perl5/lib/perl5
    /usr/perl5/5.8.4/lib/i86pc-solaris-64int
    /usr/perl5/5.8.4/lib
    /usr/perl5/site_perl/5.8.4/i86pc-solaris-64int
    /usr/perl5/site_perl/5.8.4
    /usr/perl5/site_perl
    /usr/perl5/vendor_perl/5.8.4/i86pc-solaris-64int
    /usr/perl5/vendor_perl/5.8.4
    /usr/perl5/vendor_perl
    .
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> queues2</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/859425/444813/queues2">Download queues2</a><br />
<span class="downloadcontenttype">application/octet-stream 465b</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;25&nbsp;22:33:27&nbsp;2014</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;25&nbsp;22:33:28&nbsp;2014</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Severity Important changed to Normal</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
