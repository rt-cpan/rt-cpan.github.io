<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #55741 for Schedule-Cron: Working around a Perl bug</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #55741 for Schedule-Cron: Working around a Perl bug</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Schedule-Cron">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Schedule-Cron">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Schedule-Cron">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Schedule-Cron">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Schedule-Cron">Schedule-Cron CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">55741</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Schedule-Cron">Schedule-Cron</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
develop [...] traveljury.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-28310-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.99    </td>
  </tr>
  <tr id="CF-28311-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




localize_errno.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/757203/391574/localize_errno.patch">
Thu Apr 01 15:56:26 2010 (410b) by develop [...] traveljury.com
</a>
</font></li>
</ul>


localize_errno_2.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/757205/391578/localize_errno_2.patch">
Thu Apr 01 16:20:00 2010 (415b) by develop [...] traveljury.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=55741">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-750475" href="/Public/Bug/Display.html?id=55741#txn-750475">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;20&nbsp;11:35:05&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Working around a Perl bug</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/750475/388098/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/388098">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya

I&#39;ve reported this before, but you closed it because it is a Perl bug. 
I&#39;m hoping that you can add a workaround though, as it is causing my
daemon to die regularly.

The daemon dies with: panic: attempt to copy value 1 to a freed scalar
35befe0 at
/opt/perl-5.8.9-unthreaded/lib/site_perl/5.8.9/Schedule/Cron.pm line 1064.


That&#39;s the line where it tries to set $STARTEDCHILD{$pid} = 1. From what
I&#39;ve read, the problem is in the &#38;REAPER, where it does: delete
$STARTEDCHILD{$pid}

A workaround is suggested in
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.perlmonks.org/index.pl?node_id=813655">http://www.perlmonks.org/index.pl?node_id=813655</a></span> which is to set
$STARTEDCHILD{$pid} = 0, instead of deleting it:

diff -ruN Schedule-Cron-0.99_original/lib/Schedule/Cron.pm
Schedule-Cron-0.99_patched/lib/Schedule/Cron.pm
--- Schedule-Cron-0.99_original/lib/Schedule/Cron.pm    2009-09-12
09:19:15.000000000 +0200
+++ Schedule-Cron-0.99_patched/lib/Schedule/Cron.pm     2010-03-20
16:26:02.000000000 +0100
@@ -130,7 +130,7 @@
             my $res = $HAS_POSIX ? waitpid&#40;$pid, WNOHANG&#41; :
waitpid&#40;$pid,0&#41;;
             if &#40;$res &gt; 0&#41; {
                 # We reaped a truly running process
-                delete $STARTEDCHILD{$pid};
+                $STARTEDCHILD{$pid} = 0;
             }
         }
     } 
@@ -772,6 +772,9 @@
             }
 
             $self-&gt;_execute&#40;$index,$cfg&#41;;
+            for &#40;keys %STARTEDCHILD&#41; {
+                delete $STARTEDCHILD{$_} unless $STARTEDCHILD{$_}
+            }
 
             if &#40;$self-&gt;{entries_changed}&#41; {
                dbg &#34;rebuilding queue&#34;;




I don&#39;t know whether this will work or not, but I&#39;m testing it in live
as we speak.  I see from another bug that you are planning a 1.0 release
soon, so please let me feed back to you on whether this fix works or not
before you do release it.

My daemon dies once every two days or more, so this should show up
pretty quickly

thanks

Clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-750903" href="/Public/Bug/Display.html?id=55741#txn-750903">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;22&nbsp;02:50:03&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/750903/388318/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/388318">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 226b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Clint, 

thanks for your investigation. Since the problem is 
hard to reproduce and your patch looks rather 
unintrusive, I will add it to the next &#40;==final&#41; 
release. Expect a 1.00_1 until the end of this week.

thanks ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-750905" href="/Public/Bug/Display.html?id=55741#txn-750905">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;22&nbsp;02:50:05&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-751026" href="/Public/Bug/Display.html?id=55741#txn-751026">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;22&nbsp;07:56:02&nbsp;2010</span>
    <span class="description">clint [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> develop [...] traveljury.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55741] Working around a Perl bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 22 Mar 2010 12:55:48 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Schedule-Cron [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clinton Gormley &lt;clint [...] traveljury.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/751026/388386/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/388386">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 330b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roland

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; thanks for your investigation. Since the problem is 
&gt; hard to reproduce and your patch looks rather 
&gt; unintrusive, I will add it to the next &#40;==final&#41; 
&gt; release. Expect a 1.00_1 until the end of this week.
</div>
great

btw, so far my patch seems to be working in live.  will let you know
later on this week

ta

clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-751031" href="/Public/Bug/Display.html?id=55741#txn-751031">#</a>      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;22&nbsp;07:58:56&nbsp;2010</span>
    <span class="description">Roland.Huss [...] consol.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55741] Working around a Perl bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 22 Mar 2010 12:58:43 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Schedule-Cron [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Roland Huß &lt;Roland.Huss [...] consol.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/751031/388389/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/388389">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 635b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On 22.03.2010, at 12:56, Clinton Gormley via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Schedule-Cron
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55741">https://rt.cpan.org/Ticket/Display.html?id=55741</a></span> &gt;
&gt; 
&gt; Hi Roland
&gt; 
<div class="message-stanza open">&gt;&gt; thanks for your investigation. Since the problem is 
&gt;&gt; hard to reproduce and your patch looks rather 
&gt;&gt; unintrusive, I will add it to the next &#40;==final&#41; 
&gt;&gt; release. Expect a 1.00_1 until the end of this week.
</div>&gt; 
&gt; great
&gt; 
&gt; btw, so far my patch seems to be working in live.  will let you know
&gt; later on this week
&gt; 
</div>
Thanks. BTW, I pushed out a 1.00_1 this morning on CPAN including this fix. Maybe
you could give a try, too.

ciao ...
--
...roland
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-752792" href="/Public/Bug/Display.html?id=55741#txn-752792">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;24&nbsp;13:20:44&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/752792/389222/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/389222">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 327b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt;&gt; thanks for your investigation. Since the problem is
&gt; &gt;&gt; hard to reproduce and your patch looks rather
&gt; &gt;&gt; unintrusive, I will add it to the next &#40;==final&#41;
&gt; &gt;&gt; release. Expect a 1.00_1 until the end of this week.
</div>
Just some follow up - my daemon hasn&#39;t died since I put the fix in, so
it seems to have worked!

ta

clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-752800" href="/Public/Bug/Display.html?id=55741#txn-752800">#</a>      
    </span>
    <span class="date">Wed&nbsp;Mar&nbsp;24&nbsp;13:34:45&nbsp;2010</span>
    <span class="description">Roland.Huss [...] consol.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55741] Working around a Perl bug </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 24 Mar 2010 18:34:28 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Schedule-Cron [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Roland Huß &lt;Roland.Huss [...] consol.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/752800/389230/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/389230">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 760b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Clint,

On 24.03.2010, at 18:20, Clinton Gormley via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;       Queue: Schedule-Cron
&gt; Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55741">https://rt.cpan.org/Ticket/Display.html?id=55741</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt;&gt;&gt;&gt; thanks for your investigation. Since the problem is
&gt;&gt;&gt;&gt; hard to reproduce and your patch looks rather
&gt;&gt;&gt;&gt; unintrusive, I will add it to the next &#40;==final&#41;
&gt;&gt;&gt;&gt; release. Expect a 1.00_1 until the end of this week.
</div>&gt; 
&gt; Just some follow up - my daemon hasn&#39;t died since I put the fix in, so
&gt; it seems to have worked!
</div>
Great news ! If no big things happen, I will release Schedule::Cron 1.00 
this weekend &#40;finally, after 10 years+ ;-&#41; BTW, 1.00_1 is already out, 
incoporating your fix &#40;in some slightly modified way&#41;.

thanks for your investigations and your patches ...
--
...roland
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-757201" href="/Public/Bug/Display.html?id=55741#txn-757201">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;01&nbsp;15:55:32&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/757201/391570/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/391570">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 657b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Roland

I&#39;ve just come across an issue while using a reaper very similar to
yours - $! was sometimes being set by waitpid, and interfering with code
at a distance.

Whether this is an issue or not, this patch won&#39;t do any harm:

diff -ruN Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm
Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm
--- Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm 2010-03-22
08:24:37.000000000 +0100
+++ Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm 2010-04-01
21:51:50.000000000 +0200
@@ -123,6 +123,7 @@
              &#41;;
 
 sub REAPER {
+    local $!;
     if &#40;$HAS_POSIX&#41;
     {
         foreach my $pid &#40;keys %STARTEDCHILD&#41; {


thanks

Clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-757203" href="/Public/Bug/Display.html?id=55741#txn-757203">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;01&nbsp;15:56:26&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/757203/391573/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/391573">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 29b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">...uploaded the patch instead
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> localize_errno.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/757203/391574/localize_errno.patch">Download localize_errno.patch</a><br />
<span class="downloadcontenttype">text/x-diff 410b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ruN Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm
--- Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm	2010-03-22 08:24:37.000000000 +0100
+++ Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm	2010-04-01 21:51:50.000000000 +0200
@@ -123,6 +123,7 @@
              &#41;;
 
 sub REAPER {
+    local $!;
     if &#40;$HAS_POSIX&#41;
     {
         foreach my $pid &#40;keys %STARTEDCHILD&#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-757205" href="/Public/Bug/Display.html?id=55741#txn-757205">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;01&nbsp;16:20:00&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/757205/391577/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/391577">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 86b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On second thoughts, worth local&#39;ising %! as well, as that can also be
set incorrectly
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> localize_errno_2.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/757205/391578/localize_errno_2.patch">Download localize_errno_2.patch</a><br />
<span class="downloadcontenttype">text/x-diff 415b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ruN Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm
--- Schedule-Cron-1.00_1_a/lib/Schedule/Cron.pm	2010-03-22 08:24:37.000000000 +0100
+++ Schedule-Cron-1.00_1_b/lib/Schedule/Cron.pm	2010-04-01 22:00:10.000000000 +0200
@@ -123,6 +123,7 @@
              &#41;;
 
 sub REAPER {
+    local &#40;$!,%!&#41;;
     if &#40;$HAS_POSIX&#41;
     {
         foreach my $pid &#40;keys %STARTEDCHILD&#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-776542" href="/Public/Bug/Display.html?id=55741#txn-776542">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;13&nbsp;07:12:16&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/776542/402169/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402169">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 150b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hiya Roland

With my patches in place, the daemon is running beautifully - I&#39;ve had
no further problems.

Any news on the 1.00 release?

thanks

Clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777024" href="/Public/Bug/Display.html?id=55741#txn-777024">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;11:41:05&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/777024/402439/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402439">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 146b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Clint,

thanks for the reminder ;-&#41; I just released 1.0 and pushed it to CPAN.

Thanks a lot for your patches and investigations ...

...roland
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777026" href="/Public/Bug/Display.html?id=55741#txn-777026">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;11:42:16&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/777026/402441/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402441">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 64b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Incorporated patches which seem to fix the issue.

Fixed in 1.00
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777028" href="/Public/Bug/Display.html?id=55741#txn-777028">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;11:42:16&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777030" href="/Public/Bug/Display.html?id=55741#txn-777030">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;11:46:19&nbsp;2010</span>
    <span class="description">clint [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> develop [...] traveljury.com</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55741] Working around a Perl bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 14 May 2010 17:46:03 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Schedule-Cron [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clinton Gormley &lt;clint [...] traveljury.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/777030/402444/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402444">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 373b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 2010-05-14 at 11:41 -0400, Roland Huss via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55741">https://rt.cpan.org/Ticket/Display.html?id=55741</a></span> &gt;
&gt; 
&gt; Hi Clint,
&gt; 
&gt; thanks for the reminder ;-&#41; I just released 1.0 and pushed it to CPAN.
</div>
w00t :&#41;

many thanks

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Thanks a lot for your patches and investigations ...
</div>
np, and thanks for writing the module in the first place

clint
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; ...roland
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777033" href="/Public/Bug/Display.html?id=55741#txn-777033">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;11:46:24&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777104" href="/Public/Bug/Display.html?id=55741#txn-777104">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;14&nbsp;13:48:27&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/777104/402490/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402490">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza">Hi Clint,<br>

<br>

it's again me. While cleaning up my RT queue, I found an unhandled patch&nbsp;<br>

for fixing an issue on Windows systems where noch SIGCHLD is fired at all.<br>

(RT #56926)<br>

<br>

I put in the fix in a 1.01_1 release and I'm quite confident that it shouldn't&nbsp;<br>

harm our current solution (It's mainly about calling REAPER() on&nbsp;<br>

POSIX systems when cleaning up the process list, so waitpid(-1,WNOHANG) <br>

should return immediately when no finished childs can be found).&nbsp;<br>

<br>

Nevertheless, I would be very happy, if you could give this release 1.01_1 a try, too<br>

before I release it in the large.<br>

<br>

thanx again ...<br>

On Fri May 14 11:46:19 2010, clint@traveljury.com wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri, 2010-05-14 at 11:41 -0400, Roland Huss via RT wrote: <br>
<div class="message-stanza open">&gt; &gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=55741">https://rt.cpan.org/Ticket/Display.html?id=55741</a></span> &gt; <br>

&gt; &gt;  <br>

&gt; &gt; Hi Clint, <br>

&gt; &gt;  <br>

&gt; &gt; thanks for the reminder ;-) I just released 1.0 and pushed it to CPAN. <br>
</div>&gt;  <br>

&gt; w00t :) <br>

&gt;  <br>

&gt; many thanks <br>

&gt;  <br>
<div class="message-stanza open">&gt; &gt;  <br>

&gt; &gt; Thanks a lot for your patches and investigations ... <br>
</div>&gt;  <br>

&gt; np, and thanks for writing the module in the first place <br>

&gt;  <br>

&gt; clint <br>
<div class="message-stanza open">&gt; &gt;  <br>

&gt; &gt; ...roland <br>
</div>&gt;  <br>
</div><br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-777306" href="/Public/Bug/Display.html?id=55741#txn-777306">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;15&nbsp;08:38:42&nbsp;2010</span>
    <span class="description">clint [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55741] Working around a Perl bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 15 May 2010 14:38:26 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Schedule-Cron [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clinton Gormley &lt;clint [...] traveljury.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/777306/402605/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/402605">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 411b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it&#39;s again me. While cleaning up my RT queue, I found an unhandled patch
&gt; for fixing an issue on Windows systems where noch SIGCHLD is fired at all.
&gt; &#40;RT #56926&#41;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Nevertheless, I would be very happy, if you could give this release 1.01_1 a
&gt; try, too
&gt; before I release it in the large.
</div>
will do - I&#39;ll install it today, just remind me to come back to you &#40;cos
if it just works, I&#39;ll forget :&#41;

clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-779105" href="/Public/Bug/Display.html?id=55741#txn-779105">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;19&nbsp;10:34:42&nbsp;2010</span>
    <span class="description">develop [...] traveljury.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/779105/403507/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/403507">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 404b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat May 15 08:38:42 2010, clint@traveljury.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; it&#39;s again me. While cleaning up my RT queue, I found an unhandled
</div>&gt; patch
<div class="message-stanza open">&gt; &gt; for fixing an issue on Windows systems where noch SIGCHLD is fired
</div>&gt; at all.
<div class="message-stanza open">&gt; &gt; &#40;RT #56926&#41;
</div>&gt; 
</div>
Hi Roland

I&#39;ve tried v 1.01_1 and it fails for me - whenever I run a system call
&#40;ie an external program&#41; from one of my children, it exits with err -1.

ta

clint
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-779123" href="/Public/Bug/Display.html?id=55741#txn-779123">#</a>      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;19&nbsp;10:39:12&nbsp;2010</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/779123/403515/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/403515">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza">Hi Clinton,<br>

<br>

thanks for trying 1.0.1 ! Good to know that there are issues, in fact I was afraid that&nbsp;<br>

I overoptimized the code a bit. I will dig into this again (need some spare time, though)&nbsp;<br>

and would be happy if I could contact you when I think I have a better solution.<br>

<br>

thanx ...<br>

<br>

On Wed May 19 10:34:42 2010, DRTECH wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sat May 15 08:38:42 2010, clint@traveljury.com wrote: <br>
<div class="message-stanza open">&gt; &gt;  <br>
<div class="message-stanza open">&gt; &gt; &gt; it's again me. While cleaning up my RT queue, I found an unhandled <br>
</div>&gt; &gt; patch <br>
<div class="message-stanza open">&gt; &gt; &gt; for fixing an issue on Windows systems where noch SIGCHLD is fired <br>
</div>&gt; &gt; at all. <br>
<div class="message-stanza open">&gt; &gt; &gt; (RT #56926) <br>
</div>&gt; &gt;  <br>
</div>&gt;  <br>

&gt; Hi Roland <br>

&gt;  <br>

&gt; I've tried v 1.01_1 and it fails for me - whenever I run a system call <br>

&gt; (ie an external program) from one of my children, it exits with err -1. <br>

&gt;  <br>

&gt; ta <br>

&gt;  <br>

&gt; clint <br>
</div><br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-941560" href="/Public/Bug/Display.html?id=55741#txn-941560">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jun&nbsp;02&nbsp;09:44:18&nbsp;2011</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/941560/489518/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/489518">with headers</a>
<br />
<span class="downloadcontenttype">text/html 845b</span>
</div>
<div class="messagebody">
<div class="message-stanza">I reverted it now to the previous 1.00 behaviour since I could verify the problem with 1.01_1.<br>

The reason is, that the reaper also reaped childs, which were not forked on its own&nbsp;<br>

(e.g. by a system call).&nbsp;<br>

<br>

The version now should be save again. Since it now has been a long time since<br>

the last update, you are probably out of this topic ;-) but if you could verify 1.01_2&nbsp;<br>

this would be a fine thing. Still have to look, how to fix&nbsp;
<span><a href="https://rt.cpan.org/Ticket/Display.html?id=56926">56926</a>&nbsp;, though.<br>

</span><br>

bye ...<br>

... roland<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-943847" href="/Public/Bug/Display.html?id=55741#txn-943847">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;10&nbsp;02:01:52&nbsp;2011</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/943847/490757/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/490757">with headers</a>
<br />
<span class="downloadcontenttype">text/html 195b</span>
</div>
<div class="messagebody">
<div class="message-stanza">1.01 exhibits now the same behaviour as 1.00 which was confirmed to&nbsp;<br>

fix this bug. So I will finally close this ticket.&nbsp;<br>

<br>

thanks ...<br>

... roland<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-943849" href="/Public/Bug/Display.html?id=55741#txn-943849">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;10&nbsp;02:01:52&nbsp;2011</span>
    <span class="description">roland [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.854572</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
