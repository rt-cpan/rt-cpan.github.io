<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80377 for Net-LDAP-Server-Test: Net-LDAP-Server-Test returns wrong error codes in some cases</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80377 for Net-LDAP-Server-Test: Net-LDAP-Server-Test returns wrong error codes in some cases</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-LDAP-Server-Test/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-LDAP-Server-Test/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-LDAP-Server-Test/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-LDAP-Server-Test/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-LDAP-Server-Test">Net-LDAP-Server-Test CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80377</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-LDAP-Server-Test/Active/">Net-LDAP-Server-Test</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">karman [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RPORRES [...] cpan.org

<br />
rporres [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-45750-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45751-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;24&nbsp;07:23:12&nbsp;2012</span>
    <span class="description">RPORRES [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net-LDAP-Server-Test returns wrong error codes in some cases</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">After further inspecting the Net::Server::LDAP::Test code after RT 80360 I&#39;ve realized that 
some error codes returned by the server were not correct. 

- Add a new entry that already exists should return 68
- Delete an entry that doesn&#39;t exist should return 32
- Modify an entry that doesn&#39;t exist should return 32
- Delete a non-existing attribute in an entry should return 16
- Add an attribute that already exists with the value given should return 20
- ModDN of an entry that doesn&#39;t exist should return 32
- ModDN to an entry that already exists should return 68

I&#39;m assuming in every case that auto_schema is set to 1

I attach a patch proposal covering both RT 80360 and this ticket.

I also attach a test that expands the one that I provided in RT 80360. ModDN normal case is 
not working as expected, as for an unknown reason, LDAP message as decoded by Net::LDAP 
doesn&#39;t always containg newSuperior attribute. I&#39;ve left the code and the test cases as it 
should work.

Best regards,

Rafael Porres
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> error-codes.t</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use warnings;
use Test::More;
use Net::LDAP::Server::Test;
use Net::LDAP;
use Net::LDAP::LDIF;
use File::Temp qw&#40;tempfile&#41;;

# Create ldif
my $ldif_entries =&lt;&lt;EOL;
dn: app=test
app: test
objectClass: top
objectClass: application

dn: msisdn=34610123123,app=test
objectClass: msisdn
msisdn: 34610123123

dn: msisdn=34699123456,app=test
objectClass: msisdn
msisdn: 34699123456

EOL

my &#40;$fh, $filename&#41; = tempfile&#40;&#41;;
print $fh $ldif_entries;
close $fh;

# Create and connect to server
ok&#40;my $server = Net::LDAP::Server::Test-&gt;new&#40;12389, auto_schema =&gt; 1&#41;, &#34;test LDAP server spawned&#34;&#41;;
ok&#40;my $ldap = Net::LDAP-&gt;new&#40;&#39;localhost&#39;, port =&gt; 12389&#41;, &#34;new LDAP connection&#34; &#41;;

# Load ldif
my $ldif = Net::LDAP::LDIF-&gt;new&#40;$filename, &#39;r&#39;, onerror =&gt; &#39;die&#39;, lowercase =&gt; 1&#41;; 
while &#40;not $ldif-&gt;eof&#41; {
    my $entry = $ldif-&gt;read_entry or die &#34;Unable to parse entry&#34;;
    my $mesg = $ldap-&gt;add&#40;$entry&#41;;
    $mesg-&gt;code and die sprintf &#34;Error adding entry [%s]: [%s]&#34;, $entry-&gt;dn, $mesg-&gt;error;
}   
$ldif-&gt;done;

# Add an existing entry should return 68
my $mesg = $ldap-&gt;add&#40;&#39;msisdn=34610123123,app=test&#39;, attr =&gt; [
    objectClass =&gt; [&#39;msisdn&#39;], msisdn =&gt; 34610123123 ]&#41;;
is&#40;$mesg-&gt;code, 68, &#39;add error&#39;&#41;;

# Base search ok
$mesg = $ldap-&gt;search&#40;base =&gt; &#39;msisdn=34610123123,app=test&#39;, scope =&gt; &#39;base&#39;, filter =&gt; &#39;objectClass=*&#39;&#41;;
is&#40;$mesg-&gt;code, 0, &#39;msisdn found&#39;&#41;;

# A base search to a non-existing entry should return 32 
$mesg = $ldap-&gt;search&#40;base =&gt; &#39;msisdn=123456789,app=test&#39;, scope =&gt; &#39;base&#39;, filter =&gt; &#39;objectClass=*&#39;&#41;;
is&#40;$mesg-&gt;code, 32, &#39;msisdn not found&#39;&#41;;
is&#40;scalar&#40;$mesg-&gt;entries&#41;, 0, &#39;number of entries equals zero&#39;&#41;;

# Modify a non-existing entry should return 32
$mesg = $ldap-&gt;modify&#40;&#39;msisdn=123456789,app=test&#39;, add =&gt; { newattr =&gt; &#39;lala&#39; }&#41;;
is&#40;$mesg-&gt;code, 32, &#39;cannot modify a not existing entry&#39;&#41;;

# Modify ok to an existing entry
$mesg = $ldap-&gt;modify&#40;&#39;msisdn=34610123123,app=test&#39;, add =&gt; { newattr =&gt; &#39;lala&#39; }&#41;;
is&#40;$mesg-&gt;code, 0, &#39;mod done&#39;&#41;;

# Modify-add to an existing attribute should return 20
$mesg = $ldap-&gt;modify&#40;&#39;msisdn=34610123123,app=test&#39;, add =&gt; { newattr =&gt; &#39;lala&#39; }&#41;;
is&#40;$mesg-&gt;code, 20, &#39;mod fails&#39;&#41;;

# Modify-delete ok
$mesg = $ldap-&gt;modify&#40;&#39;msisdn=34610123123,app=test&#39;, delete =&gt; [&#39;newattr&#39;]&#41;;
is&#40;$mesg-&gt;code, 0, &#39;mod ok&#39;&#41;;

# Modify-delete to a non-existing attribute should return 16
$mesg = $ldap-&gt;modify&#40;&#39;msisdn=34610123123,app=test&#39;, delete =&gt; [&#39;newattr&#39;]&#41;;
is&#40;$mesg-&gt;code, 16, &#39;mod fails&#39;&#41;;

# Moddn ok
$mesg = $ldap-&gt;moddn&#40;&#39;msisdn=34699123456,app=test&#39;, newrdn =&gt; &#39;msisdn=34699000111&#39;&#41;;
is&#40;$mesg-&gt;code, 0, &#39;moddn ok&#39;&#41;;

# Moddn on a non-existing entry should return 32
$mesg = $ldap-&gt;moddn&#40;&#39;msisdn=34699123456,app=test&#39;, newrdn =&gt; &#39;msisdn=34699000111&#39;&#41;;
is&#40;$mesg-&gt;code, 32, &#39;moddn ok&#39;&#41;;

# Moddn to an existing dn should return 68
$mesg = $ldap-&gt;moddn&#40;&#39;msisdn=34699000111,app=test&#39;, newrdn =&gt; &#39;msisdn=34610123123&#39;, deleteoldrdn =&gt; 1&#41;;
is&#40;$mesg-&gt;code, 68, &#39;moddn fails&#39;&#41;;

done_testing;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> patch_error_codes.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- /var/tmp/Test.pm	2012-10-24 13:18:59.000000000 +0200
+++ Test.pm	2012-10-24 12:05:31.000000000 +0200
@@ -51,9 +51,13 @@
     use Carp;
     use Net::LDAP::Constant qw&#40;
         LDAP_SUCCESS
+        LDAP_NO_SUCH_OBJECT
         LDAP_CONTROL_PAGED
         LDAP_OPERATIONS_ERROR
         LDAP_UNWILLING_TO_PERFORM
+        LDAP_ALREADY_EXISTS
+        LDAP_TYPE_OR_VALUE_EXISTS
+        LDAP_NO_SUCH_ATTRIBUTE
     &#41;;
     use Net::LDAP::Util qw&#40;ldap_explode_dn&#41;;
     use Net::LDAP::Entry;
@@ -72,6 +76,30 @@
         &#39;resultCode&#39;   =&gt; LDAP_SUCCESS
     };
 
+    use constant RESULT_NO_SUCH_OBJECT =&gt; {
+        &#39;matchedDN&#39;    =&gt; &#39;&#39;,
+        &#39;errorMessage&#39; =&gt; &#39;&#39;,
+        &#39;resultCode&#39;   =&gt; LDAP_NO_SUCH_OBJECT,
+    };
+
+    use constant RESULT_ALREADY_EXISTS =&gt; {
+        &#39;matchedDN&#39;    =&gt; &#39;&#39;,
+        &#39;errorMessage&#39; =&gt; &#39;&#39;,
+        &#39;resultCode&#39;   =&gt; LDAP_ALREADY_EXISTS,
+    };
+
+    use constant RESULT_TYPE_OR_VALUE_EXISTS =&gt; {
+        &#39;matchedDN&#39;    =&gt; &#39;&#39;,
+        &#39;errorMessage&#39; =&gt; &#39;&#39;,
+        &#39;resultCode&#39;   =&gt; LDAP_TYPE_OR_VALUE_EXISTS,
+    };
+
+    use constant RESULT_NO_SUCH_ATTRIBUTE =&gt; {
+        &#39;matchedDN&#39;    =&gt; &#39;&#39;,
+        &#39;errorMessage&#39; =&gt; &#39;&#39;,
+        &#39;resultCode&#39;   =&gt; LDAP_NO_SUCH_ATTRIBUTE,
+    };
+
     our %Data;    # package data lasts as long as $$ does.
     our $Cookies = 0;
     our %Searches;
@@ -145,6 +173,11 @@
 
         }
 
+        # Return LDAP_NO_SUCH_OBJECT if base does not exist
+        if &#40; !exists $Data{$base} &#41; {
+            return RESULT_NO_SUCH_OBJECT;
+        } 
+
         #warn &#34;stored Data: &#34; . Data::Dump::dump \%Data;
         #warn &#34;searching for &#34; . Data::Dump::dump \@filters;
 
@@ -391,8 +424,12 @@
 
         #warn &#39;ADD: &#39; . Data::Dump::dump \@_;
 
-        my $entry = Net::LDAP::Entry-&gt;new;
         my $key   = $reqData-&gt;{objectName};
+        if &#40; exists $Data{$key} &#41; {
+            return RESULT_ALREADY_EXISTS;
+        }
+
+        my $entry = Net::LDAP::Entry-&gt;new;
         $entry-&gt;dn&#40;$key&#41;;
         for my $attr &#40; @{ $reqData-&gt;{attributes} } &#41; {
             $entry-&gt;add&#40; $attr-&gt;{type} =&gt; \@{ $attr-&gt;{vals} } &#41;;
@@ -414,7 +451,7 @@
 
         my $key = $reqData-&gt;{object};
         if &#40; !exists $Data{$key} &#41; {
-            croak &#34;can&#39;t modify a non-existent entry: $key&#34;;
+            return RESULT_NO_SUCH_OBJECT;
         }
 
         my @mods = @{ $reqData-&gt;{modification} };
@@ -422,10 +459,24 @@
             my $attr  = $mod-&gt;{modification}-&gt;{type};
             my $vals  = $mod-&gt;{modification}-&gt;{vals};
             my $entry = $Data{$key};
+
+            my $current_value = $entry-&gt;get_value&#40;$attr, asref =&gt; 1&#41;;
+
             if &#40; $mod-&gt;{operation} == 0 &#41; {
+                if &#40; defined $current_value &#41; {
+                    for my $v &#40; @$current_value &#41; {
+                        if &#40; grep { $_ eq $v } @$vals &#41; {
+                            return RESULT_TYPE_OR_VALUE_EXISTS; 
+                        }
+                    }
+                }
+
                 $entry-&gt;add&#40; $attr =&gt; $vals &#41;;
             }
             elsif &#40; $mod-&gt;{operation} == 1 &#41; {
+                if &#40; ! defined $current_value &#41; {
+                    return RESULT_NO_SUCH_ATTRIBUTE;
+                }
                 $entry-&gt;delete&#40; $attr =&gt; $vals &#41;;
             }
             elsif &#40; $mod-&gt;{operation} == 2 &#41; {
@@ -451,7 +502,7 @@
 
         my $key = $reqData;
         if &#40; !exists $Data{$key} &#41; {
-            croak &#34;can&#39;t delete a non-existent entry: $key&#34;;
+            return RESULT_NO_SUCH_OBJECT;
         }
         delete $Data{$key};
 
@@ -467,7 +518,10 @@
         my $oldkey = $reqData-&gt;{entry};
         my $newkey = join&#40; &#39;,&#39;, $reqData-&gt;{newrdn}, $reqData-&gt;{newSuperior} &#41;;
         if &#40; !exists $Data{$oldkey} &#41; {
-            croak &#34;can&#39;t modifyDN for non-existent entry: $oldkey&#34;;
+            return RESULT_NO_SUCH_OBJECT;
+        }
+        if &#40; exists $Data{$newkey} &#41; {
+            return RESULT_ALREADY_EXISTS;
         }
         my $entry    = $Data{$oldkey};
         my $newentry = $entry-&gt;clone;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;24&nbsp;10:27:05&nbsp;2012</span>
    <span class="description">RPORRES [...] cpan.org -  Requestor rporres@gmail.com added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;24&nbsp;23:01:24&nbsp;2012</span>
    <span class="description">karman [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;24&nbsp;23:03:32&nbsp;2012</span>
    <span class="description">karman [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the reports and patches.

I have applied the patches here:
<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karpet/net-ldap-server-test">https://github.com/karpet/net-ldap-server-test</a></span>

I have 2 failing tests in t/07-error-codes.t that I am not sure about. I won&#39;t release a new 
version to CPAN till we get some resolution on those, so please confirm if they are legitimate 
failures or if the tests are faulty.

Thanks.

PS: forking on github and making pull requests may speed up the patch process.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;24&nbsp;23:03:33&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;25&nbsp;06:39:10&nbsp;2012</span>
    <span class="description">RPORRES [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Peter,

Thanks for reviewing the code and applying the patch. I&#39;ve taken a look to the problem of the 
failing tests. There&#39;s a pull request in <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karpet/net-ldap-server-test/pull/2">https://github.com/karpet/net-ldap-server-test/pull/2</a></span> 
which explains the code changes that I&#39;ve made to solve the issues.

Best regards,

Rafa



El Mié Oct 24 23:03:32 2012, KARMAN escribió:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the reports and patches.
&gt; 
&gt; I have applied the patches here:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/karpet/net-ldap-server-test">https://github.com/karpet/net-ldap-server-test</a></span>
&gt; 
&gt; I have 2 failing tests in t/07-error-codes.t that I am not sure about.
&gt; I won&#39;t release a new
&gt; version to CPAN till we get some resolution on those, so please
&gt; confirm if they are legitimate
&gt; failures or if the tests are faulty.
&gt; 
&gt; Thanks.
&gt; 
&gt; PS: forking on github and making pull requests may speed up the patch
&gt; process.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;25&nbsp;09:47:17&nbsp;2012</span>
    <span class="description">karman [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">patched and released as 0.16.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;25&nbsp;09:47:18&nbsp;2012</span>
    <span class="description">karman [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
