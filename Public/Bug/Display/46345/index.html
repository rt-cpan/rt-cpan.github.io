<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #46345 for jmx4perl: MBean retrieval fails due to path-like structure</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #46345 for jmx4perl: MBean retrieval fails due to path-like structure</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/jmx4perl/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/jmx4perl/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/jmx4perl/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/jmx4perl/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/jmx4perl">jmx4perl CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">46345</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/jmx4perl/Active/">jmx4perl</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">roland [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jajohnso [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-227286-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-227287-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;07:38:32&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MBean retrieval fails due to path-like structure</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m attaching some files to this ticket.  The first is jmx_results.txt.
 This file shows all the ouput from running this agent URL with the
formatted_list option on request:

http://{path to agent}/j4p-agent/list/WebSphere/

Based on the output, let&#39;s say I want to get the thread pool information
for a particular JVM.  Here&#39;s the MBean for that section:

cell=ubuntu64Cell01,mbeanIdentifier=cells/ubuntu64Cell01/nodes/ubuntu64Node01/servers/perfdata/server.xml#ThreadPool_1242503522873,name=ORB.thread.pool,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=ThreadPool,version=6.1.0.23

As you can see, the mbeanIdentifier is listed in a path type format. 
This completely messes up retrieval.  I&#39;ve also attached the stacktrace
called jmx_results-stacktrace.txt.

I&#39;ve tried using quotes, brackets, slashes, everything to make the
request take the mbeanIdentifier&#39;s path slashes, but nothing is working.
 I can only access a WebSphere mbeanIdentifier that does not contain a
path-like structure and not many of them do.

Any ideas?
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> jmx_results.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> jmx_results-stacktrace.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">{&#34;stacktrace&#34;:&#34;java.lang.IllegalArgumentException: Map key cell=ubuntu64Cell01,mbeanIdentifier=cells is unknown for map {J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23={op={isStatisticsProvider={args=[], desc= ...\n\tat org.cpan.jmx4perl.converter.MapHandler.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.prepareForJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.MapHandler.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.prepareForJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.convertToJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.AgentServlet.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.AgentServlet.doGet&#40;Unknown Source&#41;\n\tat javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:743&#41;\n\tat javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:856&#41;\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service&#40;ServletWrapper.java:1143&#41;\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:591&#41;\n\tat com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:481&#41;\n\tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest&#40;WebApp.java:3453&#41;\n\tat com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest&#40;WebGroup.java:267&#41;\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest&#40;WebContainer.java:815&#41;\n\tat com.ibm.ws.wswebcontainer.WebContainer.handleRequest&#40;WebContainer.java:1466&#41;\n\tat com.ibm.ws.webcontainer.channel.WCChannelLink.ready&#40;WCChannelLink.java:119&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination&#40;HttpInboundLink.java:458&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation&#40;HttpInboundLink.java:387&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready&#40;HttpInboundLink.java:267&#41;\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators&#40;NewConnectionInitialReadCallback.java:214&#41;\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete&#40;NewConnectionInitialReadCallback.java:113&#41;\n\tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted&#40;AioReadCompletionListener.java:165&#41;\n\tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback&#40;AbstractAsyncFuture.java:217&#41;\n\tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions&#40;AsyncChannelFuture.java:161&#41;\n\tat com.ibm.io.async.AsyncFuture.completed&#40;AsyncFuture.java:136&#41;\n\tat com.ibm.io.async.ResultHandler.complete&#40;ResultHandler.java:196&#41;\n\tat com.ibm.io.async.ResultHandler.runEventProcessingLoop&#40;ResultHandler.java:751&#41;\n\tat com.ibm.io.async.ResultHandler$2.run&#40;ResultHandler.java:881&#41;\n\tat com.ibm.ws.util.ThreadPool$Worker.run&#40;ThreadPool.java:1473&#41;\n&#34;,&#34;error&#34;:&#34;java.lang.IllegalArgumentException: Map key cell=ubuntu64Cell01,mbeanIdentifier=cells is unknown for map {J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23={op={isStatisticsProvider={args=[], desc= ...&#34;,&#34;status&#34;:400}</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;08:23:03&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;11:53:07&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just uploaded Version 0.15_1, which should support escaping of slashes
properly. You can use the Jmx4Perl Module transparently. More details
are described in JMX::Jmx4Perl::Agent::Protocol

In addition &#40;as part of the regular evolution of Jmx4Perl&#41;, &#39;aliasing&#39;
and server autodection for attributes has been started. Not yet
finished, but it will be for the final 0.15 release.

It might take some time until the release shows up on search.cpan.org,
but you can download it directly from
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/">http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/</a></span>

Could you please check, whether this works for you ? You need to
redeploy the war, though, it has been changed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;11:53:08&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;12:11:06&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry, some debug output was left in the latest developer release
0.15_1. The next &#40;0.15_2, tomorrow&#41; will have this removed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;12:33:15&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve got the new module and WAR installed and the problem still exists
in the browser.  I&#39;m trying some different ways.  The http method I sent
in originally still doesn&#39;t work, but the debug is helpful - it allowed
me to try this URL:

<span class="clickylink"><a target="new" rel="nofollow" href="http://ubuntu64/j4p-agent/list/WebSphere/J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells/-/ubuntu64Cell01/-/applications/-/j4p-agent.ear/-/deployments/-/j4p-agent/-/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23/">http://ubuntu64/j4p-agent/list/WebSphere/J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells/-/ubuntu64Cell01/-/applications/-/j4p-agent.ear/-/deployments/-/j4p-agent/-/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23/</a></span>

Still no joy but at least the error shows the escaped path.  I&#39;m
attaching the latest stacktrace ... is there a preferred method of
escaping?  Can you provide a small URL example that I can try?  The more
I look at it though I think it&#39;s the # sign that needs to be permitted
to be escaped as well.  The entire URL isn&#39;t showing up in the stacktrace.

And definitly keep the debug available as an option.  Thanks!


On Mon May 25 11:53:07 2009, ROLAND wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just uploaded Version 0.15_1, which should support escaping of slashes
&gt; properly. You can use the Jmx4Perl Module transparently. More details
&gt; are described in JMX::Jmx4Perl::Agent::Protocol
&gt; 
&gt; In addition &#40;as part of the regular evolution of Jmx4Perl&#41;, &#39;aliasing&#39;
&gt; and server autodection for attributes has been started. Not yet
&gt; finished, but it will be for the final 0.15 release.
&gt; 
&gt; It might take some time until the release shows up on search.cpan.org,
&gt; but you can download it directly from
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/">http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/</a></span>
&gt; 
&gt; Could you please check, whether this works for you ? You need to
&gt; redeploy the war, though, it has been changed.
</div></div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">{&#34;stacktrace&#34;:&#34;java.lang.IllegalArgumentException: Map key J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml is unknown for map {J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23={op={isStatisticsProvider={args=[], desc= ...\n\tat org.cpan.jmx4perl.converter.MapHandler.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.prepareForJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.MapHandler.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.prepareForJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.converter.AttributeToJsonConverter.convertToJson&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.AgentServlet.handle&#40;Unknown Source&#41;\n\tat org.cpan.jmx4perl.AgentServlet.doGet&#40;Unknown Source&#41;\n\tat javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:743&#41;\n\tat javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:856&#41;\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service&#40;ServletWrapper.java:1143&#41;\n\tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:591&#41;\n\tat com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:481&#41;\n\tat com.ibm.ws.webcontainer.servlet.CacheServletWrapper.handleRequest&#40;CacheServletWrapper.java:90&#41;\n\tat com.ibm.ws.webcontainer.WebContainer.handleRequest&#40;WebContainer.java:748&#41;\n\tat com.ibm.ws.wswebcontainer.WebContainer.handleRequest&#40;WebContainer.java:1466&#41;\n\tat com.ibm.ws.webcontainer.channel.WCChannelLink.ready&#40;WCChannelLink.java:119&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination&#40;HttpInboundLink.java:458&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation&#40;HttpInboundLink.java:387&#41;\n\tat com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready&#40;HttpInboundLink.java:267&#41;\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators&#40;NewConnectionInitialReadCallback.java:214&#41;\n\tat com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete&#40;NewConnectionInitialReadCallback.java:113&#41;\n\tat com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted&#40;AioReadCompletionListener.java:165&#41;\n\tat com.ibm.io.async.AbstractAsyncFuture.invokeCallback&#40;AbstractAsyncFuture.java:217&#41;\n\tat com.ibm.io.async.AsyncChannelFuture.fireCompletionActions&#40;AsyncChannelFuture.java:161&#41;\n\tat com.ibm.io.async.AsyncFuture.completed&#40;AsyncFuture.java:136&#41;\n\tat com.ibm.io.async.ResultHandler.complete&#40;ResultHandler.java:196&#41;\n\tat com.ibm.io.async.ResultHandler.runEventProcessingLoop&#40;ResultHandler.java:751&#41;\n\tat com.ibm.io.async.ResultHandler$2.run&#40;ResultHandler.java:881&#41;\n\tat com.ibm.ws.util.ThreadPool$Worker.run&#40;ThreadPool.java:1473&#41;\n&#34;,&#34;error&#34;:&#34;java.lang.IllegalArgumentException: Map key J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml is unknown for map {J2EEName=j4p-agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells\/ubuntu64Cell01\/applications\/j4p-agent.ear\/deployments\/j4p-agent\/deployment.xml#ApplicationDeployment_1243085047669,name=j4p-agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23={op={isStatisticsProvider={args=[], desc= ...&#34;,&#34;status&#34;:400}</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;12:37:37&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just checked the perldoc, looks like I&#39;m escaping properly.  But it&#39;s
the # that&#39;s causing me problems.  Isn&#39;t WAS swell? :P


On Mon May 25 12:33:15 2009, jimjohnson wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve got the new module and WAR installed and the problem still exists
&gt; in the browser.  I&#39;m trying some different ways.  The http method I
&gt;    sent
&gt; in originally still doesn&#39;t work, but the debug is helpful - it
&gt;    allowed
&gt; me to try this URL:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://ubuntu64/j4p-agent/list/WebSphere/J2EEName=j4p-">http://ubuntu64/j4p-agent/list/WebSphere/J2EEName=j4p-</a></span>
&gt;   
</div>agent,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=J2EEApplication,mbeanIdentifier=cells/-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    /ubuntu64Cell01/-/applications/-/j4p-agent.ear/-/deployments/-/j4p-
&gt;    agent/-
&gt;    /deployment.xml#ApplicationDeployment_1243085047669,name=j4p-
&gt;   
</div>agent,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=J2EEApplication,version=6.1.0.23/
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Still no joy but at least the error shows the escaped path.  I&#39;m
&gt; attaching the latest stacktrace ... is there a preferred method of
&gt; escaping?  Can you provide a small URL example that I can try?  The
&gt;    more
&gt; I look at it though I think it&#39;s the # sign that needs to be permitted
&gt; to be escaped as well.  The entire URL isn&#39;t showing up in the
&gt;    stacktrace.
&gt; 
&gt; And definitly keep the debug available as an option.  Thanks!
&gt; 
&gt; 
&gt; On Mon May 25 11:53:07 2009, ROLAND wrote:
<div class="message-stanza open">&gt; &gt; I just uploaded Version 0.15_1, which should support escaping of
</div>&gt;    slashes
<div class="message-stanza open">&gt; &gt; properly. You can use the Jmx4Perl Module transparently. More
</div>&gt;    details
<div class="message-stanza open">&gt; &gt; are described in JMX::Jmx4Perl::Agent::Protocol
&gt; &gt;
&gt; &gt; In addition &#40;as part of the regular evolution of Jmx4Perl&#41;,
</div>&gt;    &#39;aliasing&#39;
<div class="message-stanza open">&gt; &gt; and server autodection for attributes has been started. Not yet
&gt; &gt; finished, but it will be for the final 0.15 release.
&gt; &gt;
&gt; &gt; It might take some time until the release shows up on
</div>&gt;    search.cpan.org,
<div class="message-stanza open">&gt; &gt; but you can download it directly from
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/">http://cpan.cpantesters.org/authors/id/R/RO/ROLAND/</a></span>
&gt; &gt;
&gt; &gt; Could you please check, whether this works for you ? You need to
&gt; &gt; redeploy the war, though, it has been changed.
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;14:23:39&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Well, you are probably right. Since # has a special meaning within URLs,
too &#40;it indicates an anchor&#41;, it needs to be escaped as well. I&#39;ll do
this, though probably not before tomorrow evening &#40;MEST ;-&#41;.

I have the feeling, when we have won these dragon fights &#40;others might
call it &#39;challenges&#39; ;-&#41; against WAS, the jmx4perl REST protocol should
be quite robust then. But I&#39;m afraid it will still take some time ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;16:04:19&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just uploaded 0.15_2

The URL should be now URI encoded for the most critical characters
&#40;including #&#41;, its the default set of L&lt;URI&gt; *except* the slash char.
The reason why we need a custom encoding for slashes &#40;this &#39;/-/&#39; thingy&#41;
is because at least Tomcat/Jboss can&#39;t deal properly with URI encoded
slashes in the pathinfo part of the serlvet url. It seems, it decodes
too early so it messes up with the &#39;regular&#39; slashes. The sympton is the
following server error --&gt; &#34;HTTP/1.x 400 Invalid URI: noSlash
&#34; in the Tomcat logs.

Could you please try this for WAS and your URLs ? It worked for me, but
again, WAS is a different thing. 

Hopefully, we can now continue to the next challenge ... ;-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;25&nbsp;17:38:39&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Still having problems ... but progress is being made.  The problem now
is that I keep getting &#34;Key properties cannot be empty&#34; and from what I
see, the key properties are not empty.  Maybe I&#39;m missing something
obvious.  Here&#39;s the mBean I&#39;m looking at:

Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23

The attribute I want is javaVersion.  I&#39;m attaching the script, the
DataDump of the script and the mBean definition to see if there&#39;s still
an outstanding issue or if I&#39;m not putting things together right.  Also,
I think the URL issues are fixed for &#34;read&#34; in the script, but not for
doing &#34;list&#34; directly in a web browser.  But I may not be forming the
&#34;read&#34; URL request properly.  Still playing around with that.


On Mon May 25 16:04:19 2009, ROLAND wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I just uploaded 0.15_2
&gt; 
&gt; The URL should be now URI encoded for the most critical characters
&gt; &#40;including #&#41;, its the default set of L&lt;URI&gt; *except* the slash char.
&gt; The reason why we need a custom encoding for slashes &#40;this &#39;/-/&#39; thingy&#41;
&gt; is because at least Tomcat/Jboss can&#39;t deal properly with URI encoded
&gt; slashes in the pathinfo part of the serlvet url. It seems, it decodes
&gt; too early so it messes up with the &#39;regular&#39; slashes. The sympton is the
&gt; following server error --&gt; &#34;HTTP/1.x 400 Invalid URI: noSlash
&gt; &#34; in the Tomcat logs.
&gt; 
&gt; Could you please try this for WAS and your URLs ? It worked for me, but
&gt; again, WAS is a different thing. 
&gt; 
&gt; Hopefully, we can now continue to the next challenge ... ;-&#41;
</div></div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$VAR1 = bless&#40; {
                 &#39;stacktrace&#39; =&gt; &#39;java.lang.IllegalArgumentException: Invalid object name WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23: Key properties cannot be empty
        at org.cpan.jmx4perl.JmxRequest.&lt;init&gt;&#40;Unknown Source&#41;
        at org.cpan.jmx4perl.AgentServlet.handle&#40;Unknown Source&#41;
        at org.cpan.jmx4perl.AgentServlet.doGet&#40;Unknown Source&#41;
        at javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:743&#41;
        at javax.servlet.http.HttpServlet.service&#40;HttpServlet.java:856&#41;
        at com.ibm.ws.webcontainer.servlet.ServletWrapper.service&#40;ServletWrapper.java:1143&#41;
        at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:591&#41;
        at com.ibm.ws.wswebcontainer.servlet.ServletWrapper.handleRequest&#40;ServletWrapper.java:481&#41;
        at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest&#40;WebApp.java:3453&#41;
        at com.ibm.ws.webcontainer.webapp.WebGroup.handleRequest&#40;WebGroup.java:267&#41;
        at com.ibm.ws.webcontainer.WebContainer.handleRequest&#40;WebContainer.java:815&#41;
        at com.ibm.ws.wswebcontainer.WebContainer.handleRequest&#40;WebContainer.java:1466&#41;
        at com.ibm.ws.webcontainer.channel.WCChannelLink.ready&#40;WCChannelLink.java:119&#41;
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleDiscrimination&#40;HttpInboundLink.java:458&#41;
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.handleNewInformation&#40;HttpInboundLink.java:387&#41;
        at com.ibm.ws.http.channel.inbound.impl.HttpInboundLink.ready&#40;HttpInboundLink.java:267&#41;
        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.sendToDiscriminators&#40;NewConnectionInitialReadCallback.java:214&#41;
        at com.ibm.ws.tcp.channel.impl.NewConnectionInitialReadCallback.complete&#40;NewConnectionInitialReadCallback.java:113&#41;
        at com.ibm.ws.tcp.channel.impl.AioReadCompletionListener.futureCompleted&#40;AioReadCompletionListener.java:165&#41;
        at com.ibm.io.async.AbstractAsyncFuture.invokeCallback&#40;AbstractAsyncFuture.java:217&#41;
        at com.ibm.io.async.AsyncChannelFuture$1.run&#40;AsyncChannelFuture.java:205&#41;
        at com.ibm.ws.util.ThreadPool$Worker.run&#40;ThreadPool.java:1473&#41;
Caused by: javax.management.MalformedObjectNameException: Key properties cannot be empty
        at javax.management.ObjectName.construct&#40;ObjectName.java:408&#41;
        at javax.management.ObjectName.&lt;init&gt;&#40;ObjectName.java:1312&#41;
        ... 22 more
&#39;,
                 &#39;request&#39; =&gt; bless&#40; {
                                       &#39;attribute&#39; =&gt; &#39;javaVersion&#39;,
                                       &#39;mbean&#39; =&gt; &#39;WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23&#39;,
                                       &#39;path&#39; =&gt; undef,
                                       &#39;type&#39; =&gt; &#39;read&#39;
                                     }, &#39;JMX::Jmx4Perl::Request&#39; &#41;,
                 &#39;value&#39; =&gt; undef,
                 &#39;status&#39; =&gt; 400,
                 &#39;error&#39; =&gt; &#39;java.lang.IllegalArgumentException: Invalid object name WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23: Key properties cannot be empty&#39;
               }, &#39;JMX::Jmx4Perl::Response&#39; &#41;;
Implementation Name:
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/perl

use strict;
use JMX::Jmx4Perl;
use JMX::Jmx4Perl::Response;
use JMX::Jmx4Perl::Request;
use JMX::Jmx4Perl::Agent;
use Data::Dumper;

my $mbean = &#34;WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23&#34;;
my $attribute = &#34;javaVersion&#34;;

my $jmx = new JMX::Jmx4Perl&#40;url =&gt; &#34;<span class="clickylink"><a target="new" rel="nofollow" href="http://192.168.1.108/j4p-agent">http://192.168.1.108/j4p-agent</a></span>&#34;&#41;;

my $request = new JMX::Jmx4Perl::Request&#40;READ_ATTRIBUTE,$mbean,$attribute&#41;;
my $response = $jmx-&gt;request&#40;$request&#41;;

print Dumper&#40;$response&#41;;
print &#34;Implementation Name: &#34;,$response-&gt;value&#40;&#41;,&#34;\n&#34;;
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp#perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23:
    Attributes:
        objectName                          java.lang.String [ro], &#34;The object name of the managed object. The objectName attribute is of the type OBJECT_NAME which is a string that complies with the javax.management.ObjectName syntax. The objectName attribute is never null. The value of objectName is unique within the management domain. Management applications use this value to identify managed objects, for example identifying the source of events.&#34;
        javaVersion                         java.lang.String [ro], &#34;version&#34;
        classLoaderDepth                    int [ro], &#34;Number of classloaders in this module&#39;s classloading hierarchy&#34;
        javaVMs                             [Ljava.lang.String; [ro], &#34;javaVMs&#34;
        name                                java.lang.String [ro], &#34;The name of the deployed object.&#34;
        servlets                            [Ljava.lang.String; [ro], &#34;servlets&#34;
        eventTypes                          [Ljava.lang.String; [ro], &#34;A list of the types of events the managed object emits.&#34;
        javaVendor                          java.lang.String [ro], &#34;vendor&#34;
        deploymentDescriptor                java.lang.String [ro], &#34;The original XML DD.&#34;
        server                              java.lang.String [ro], &#34;The J2EE server the application or module is deployed on.&#34;
        statisticsProvider                  boolean [ro], &#34;Indicates if the managed object implements the StatisticsProvider model and supports the generation of performance statistics.&#34;
        eventProvider                       boolean [ro], &#34;Indicates if the managed object implements the EventProvider model and provides notifications about events that occur on that object.&#34;
        stateManageable                     boolean [ro], &#34;Indicates if the managed object implements the StateManageable model and supports state management.&#34;
    Operations:
        [Ljava.lang.String; getServlets&#40;&#41;   &#34;getter for attribute servlets&#34;
        [Ljava.lang.String; getJavaVMs&#40;&#41;    &#34;getter for attribute javaVMs&#34;
        boolean isStatisticsProvider&#40;&#41;      &#34;getter for attribute statisticsProvider&#34;
        java.lang.String getName&#40;&#41;          &#34;getter for attribute name&#34;
        int getClassLoaderDepth&#40;&#41;           &#34;getter for attribute classLoaderDepth&#34;
        boolean isStateManageable&#40;&#41;         &#34;getter for attribute stateManageable&#34;
        java.lang.String getObjectNameStr&#40;&#41; &#34;getter for attribute objectName&#34;
        java.lang.String getJavaVendor&#40;&#41;    &#34;getter for attribute javaVendor&#34;
        boolean isEventProvider&#40;&#41;           &#34;getter for attribute eventProvider&#34;
        [Ljava.lang.String; getEventTypes&#40;&#41; &#34;getter for attribute eventTypes&#34;
        java.lang.String getServer&#40;&#41;        &#34;getter for attribute server&#34;
        java.lang.String getDeploymentDescriptor&#40;&#41; &#34;getter for attribute deploymentDescriptor&#34;
        java.lang.String getJavaVersion&#40;&#41;   &#34;getter for attribute javaVersion&#34;
        java.lang.String getClassLoaderInfo&#40;int level,boolean atDepthOnly,boolean showClasses,boolean showCodeSource,boolean showDelegation,boolean showHierarchy,boolean showModules,boolean showDepth&#41; &#34;Information about classloaders for this module&#34;</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;03:17:55&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">In fact, it seems we&#39;ve taken the encoding hurdle. The current error is
due to the fact, that WAS can&#39;t resolve the object name, which it gives
out when asking the MBean meta data &#40;which is used for &#39;list&#39; mode&#41;.
This is indeed strange, and we have to digg deeper into WAS, I&#39;m afraid.
What version of WAS are using ? I will try to get hands on an
appropriate WAS installation here at our company.

When you insert the URL manually, dont forget to escape # as &#39;%23&#39; But I
will check the &#39;list&#39; method as well &#40;did this right now only for read
so far&#41;.

so, please stay tuned .... ;-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;06:22:37&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">6.1.0.23

It looks like I wasn&#39;t escaping the # properly when using &#34;list&#34; in the
browser.  The list requests look OK now.  Through all the stacktraces
and errors I sent last night I don&#39;t see %23 in any of the &#34;read&#34;
requests.  Maybe it still isn&#39;t picking it up?  When I hardcode the
escape in $mbean it doesn&#39;t work there either.  Anything else I can send
you this morning?  I&#39;ll play around with this today and see what I can
get out of it.  Thanks ...


On Tue May 26 03:17:55 2009, ROLAND wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In fact, it seems we&#39;ve taken the encoding hurdle. The current error is
&gt; due to the fact, that WAS can&#39;t resolve the object name, which it gives
&gt; out when asking the MBean meta data &#40;which is used for &#39;list&#39; mode&#41;.
&gt; This is indeed strange, and we have to digg deeper into WAS, I&#39;m afraid.
&gt; What version of WAS are using ? I will try to get hands on an
&gt; appropriate WAS installation here at our company.
&gt; 
&gt; When you insert the URL manually, dont forget to escape # as &#39;%23&#39; But I
&gt; will check the &#39;list&#39; method as well &#40;did this right now only for read
&gt; so far&#41;.
&gt; 
&gt; so, please stay tuned .... ;-&#41;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;06:35:32&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">So in the browser, this works fine:

<span class="clickylink"><a target="new" rel="nofollow" href="http://ubuntu64/j4p-agent/list/WebSphere/Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp%23perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23/attr/javaVersion/">http://ubuntu64/j4p-agent/list/WebSphere/Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp%23perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23/attr/javaVersion/</a></span>

This does not work:

<span class="clickylink"><a target="new" rel="nofollow" href="http://ubuntu64/j4p-agent/read/WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp%23perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23/javaVersion/">http://ubuntu64/j4p-agent/read/WebSphere:Application=perfServletApp,J2EEApplication=perfServletApp,J2EEName=perfServletApp%23perfServletApp.war,J2EEServer=perfdata,Server=perfdata,cell=ubuntu64Cell01,j2eeType=WebModule,mbeanIdentifier=null,name=perfServletApp.war,node=ubuntu64Node01,platform=dynamicproxy,process=perfdata,spec=1.0,type=WebModule,version=6.1.0.23/javaVersion/</a></span>

Same error as I attached last night.  Is the read request formed correctly?

On Tue May 26 06:22:37 2009, jimjohnson wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 6.1.0.23
&gt; 
&gt; It looks like I wasn&#39;t escaping the # properly when using &#34;list&#34; in the
&gt; browser.  The list requests look OK now.  Through all the stacktraces
&gt; and errors I sent last night I don&#39;t see %23 in any of the &#34;read&#34;
&gt; requests.  Maybe it still isn&#39;t picking it up?  When I hardcode the
&gt; escape in $mbean it doesn&#39;t work there either.  Anything else I can send
&gt; you this morning?  I&#39;ll play around with this today and see what I can
&gt; get out of it.  Thanks ...
&gt; 
&gt; 
&gt; On Tue May 26 03:17:55 2009, ROLAND wrote:
<div class="message-stanza open">&gt; &gt; In fact, it seems we&#39;ve taken the encoding hurdle. The current error is
&gt; &gt; due to the fact, that WAS can&#39;t resolve the object name, which it gives
&gt; &gt; out when asking the MBean meta data &#40;which is used for &#39;list&#39; mode&#41;.
&gt; &gt; This is indeed strange, and we have to digg deeper into WAS, I&#39;m afraid.
&gt; &gt; What version of WAS are using ? I will try to get hands on an
&gt; &gt; appropriate WAS installation here at our company.
&gt; &gt; 
&gt; &gt; When you insert the URL manually, dont forget to escape # as &#39;%23&#39; But I
&gt; &gt; will check the &#39;list&#39; method as well &#40;did this right now only for read
&gt; &gt; so far&#41;.
&gt; &gt; 
&gt; &gt; so, please stay tuned .... ;-&#41;
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;07:19:00&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That&#39;s interesting. In fact &#39;list&#39; and &#39;read&#39; use different ways to
resolve an MBean&#39;s attribute. &#34;list&#34; reads in the whole list as a data
structure into the memory &#40;within the servlet&#41;, before it follows the
path provided by traversing this structure itself. &#34;read&#34; instead really
looks up the MBean and its attribute in the normal JMX way. It&#39;s during
this lookup where WAS rejects the object name, though it looks good,
even within the exception thrown. I.e. the key properties list is *not*
empty.

The URL you&#39;ve sent looks perfectly valid, so I need to go deeper into
WAS. Probably, I can access a WAS installation this evening &#40;or
tomorrow&#41;, so I will have a closer look then. In the meantime I will add
additional debugging for the servlet as well as for the perl modules and
make a new developer release. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;07:31:19&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Shame on me, I just found a silly bug &#40;introduced yesterday&#41; which
causes this specific error. 

I will upload a fixed version 0.15_3 within the next hour.

Good luck for the next hurdle ;-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;07:32:53&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue May 26 07:31:19 2009, ROLAND wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Shame on me, I just found a silly bug &#40;introduced yesterday&#41; which
&gt; causes this specific error. 
&gt; 
&gt; I will upload a fixed version 0.15_3 within the next hour.
&gt; 
&gt; Good luck for the next hurdle ;-&#41;
</div>
Awesome!  Can&#39;t wait to try it out ...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;07:59:14&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I uploaded 0.15_3. Also, I added some debugging in the servlet &#40;should
appear on stdout or in some logging files&#41; which will be disabled in the
final 0.15 release.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;08:16:49&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Roland, works great!  The sysout looks good and the data is
coming through just fine through web browser and the script too.  If I
run into any other issues I&#39;ll let you know.

- Jim

On Tue May 26 07:59:14 2009, ROLAND wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I uploaded 0.15_3. Also, I added some debugging in the servlet &#40;should
&gt; appear on stdout or in some logging files&#41; which will be disabled in the
&gt; final 0.15 release.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;08:18:00&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Latest devel version: 0.15_3

resolves this and other related issues
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;08:18:01&nbsp;2009</span>
    <span class="description">jajohnso [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;17:56:58&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks a lot for your support and patience. If you have any other issue
or some feature request, please let me know.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;17:56:59&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;May&nbsp;26&nbsp;17:57:28&nbsp;2009</span>
    <span class="description">roland [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
