<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #29838 for SVN-Pusher: Please, be less verbose as default</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #29838 for SVN-Pusher: Please, be less verbose as default</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/SVN-Pusher/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/SVN-Pusher/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/SVN-Pusher/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/SVN-Pusher/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/SVN-Pusher">SVN-Pusher CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">29838</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">20 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/SVN-Pusher/Active/">SVN-Pusher</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">SHLOMIF [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dexter [...] debian.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Wishlist    </td>
  </tr>
  <tr id="CF-30318-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.04    </td>
  </tr>
  <tr id="CF-30319-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;08&nbsp;08:27:09&nbsp;2007</span>
    <span class="description">piotr.roszatycki [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Please, be less verbose as default</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The SVN::Pusher is really great tool but I don&#39;t like its verbose 
messages. It is really hard to read the log message. Revision numbers 
of current operation just disappears quickly from terminal.

I think the verbose messages should be not enabled by default &#40;i.e. 
see svn log --verbose&#41;

Also I&#39;d like to see a single space &#40;perhaps 4 space characters as 
like &#34;svk log -v&#34;&#41; before character reporting the action taken.

BTW, this output is very similar to svn log rather than to svn up, so 
I think the status &#34;U&#34; should be replaced with status &#34;M&#34; but it is 
not so important.

Thank you.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> SVN-Pusher-0.05.diff</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ru SVN-Pusher-0.04-R2czaL/bin/svn-pusher SVN-Pusher-0.05/bin/svn-pusher
--- SVN-Pusher-0.04-R2czaL/bin/svn-pusher	2007-10-06 18:07:10.000000000 +0200
+++ SVN-Pusher-0.05/bin/svn-pusher	2007-10-08 13:58:45.000000000 +0200
@@ -53,6 +53,10 @@
 
 Do not store uuid and timestamp in log message.
 
+=item -v --verbose
+
+Print extra information.
+
 =back
 
 Example:
@@ -73,12 +77,12 @@
 
 # --------------------------------------------------------------------------
 
-sub opt_push { return &#40;&#39;message|m:s&#39;, &#39;revision|r:s&#39;, &#39;savedate&#39;, &#39;verbatim&#39;&#41; }
+sub opt_push { return &#40;&#39;message|m:s&#39;, &#39;revision|r:s&#39;, &#39;savedate&#39;, &#39;verbatim&#39;, &#39;verbose|v&#39;&#41; }
 
 
 sub do_push 
 {
-    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] [--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
+    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] [--savedate] [--verbatim] [--verbose] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
     my &#40;$options, $source, $target&#41; = @_;
 
     my %revs ;
@@ -99,6 +103,7 @@
         logmsg    =&gt; $options -&gt; {message},
         savedate  =&gt; $options -&gt; {savedate},
         verbatim  =&gt; $options -&gt; {verbatim},
+        verbose   =&gt; $options -&gt; {verbose},
         &#41;;
 
     if &#40;$m-&gt;init &#40;&#41; &gt; 0&#41;
Tylko w SVN-Pusher-0.05: blib
diff -ru SVN-Pusher-0.04-R2czaL/CHANGES SVN-Pusher-0.05/CHANGES
--- SVN-Pusher-0.04-R2czaL/CHANGES	2007-10-06 18:26:33.000000000 +0200
+++ SVN-Pusher-0.05/CHANGES	2007-10-08 13:54:47.000000000 +0200
@@ -1,5 +1,8 @@
 SVN::Pusher changelog:
 
+* 0.05
+    - Added the --verbose flag. The default mode is more quiet.
+
 * 0.04         Sat Oct  6 18:26:23 IST 2007
     - Added the --savedate flag. &#40;thanks to DEXTER&#41;
     - Added the --verbatim flag. &#40;thanks to DEXTER&#41;
diff -ru SVN-Pusher-0.04-R2czaL/lib/SVN/Pusher/CmdLine.pm SVN-Pusher-0.05/lib/SVN/Pusher/CmdLine.pm
--- SVN-Pusher-0.04-R2czaL/lib/SVN/Pusher/CmdLine.pm	2007-10-06 17:35:56.000000000 +0200
+++ SVN-Pusher-0.05/lib/SVN/Pusher/CmdLine.pm	2007-10-08 14:10:34.000000000 +0200
@@ -11,7 +11,7 @@
 
     if &#40;$op eq &#34;file&#34;&#41;
     {
-        print sprintf&#40;&#34;%-3c%s\n&#34;, ord&#40;$spec-&gt;{&#39;file_op&#39;}&#41;, $spec-&gt;{&#39;path&#39;}&#41;;
+        print sprintf&#40;&#34; %c %s\n&#34;, ord&#40;$spec-&gt;{&#39;file_op&#39;}&#41;, $spec-&gt;{&#39;path&#39;}&#41;;
     }
     elsif &#40;$op eq &#34;msg&#34;&#41;
     {
diff -ru SVN-Pusher-0.04-R2czaL/lib/SVN/Pusher.pm SVN-Pusher-0.05/lib/SVN/Pusher.pm
--- SVN-Pusher-0.04-R2czaL/lib/SVN/Pusher.pm	2007-10-06 18:19:49.000000000 +0200
+++ SVN-Pusher-0.05/lib/SVN/Pusher.pm	2007-10-08 13:56:07.000000000 +0200
@@ -30,14 +30,14 @@
 
 sub open_directory {
     my &#40;$self,$path,$pb,undef,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;U&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;M&#34;, &#39;path&#39; =&gt; $path}&#41; if $self-&gt;obj-&gt;{verbose};
     return $self-&gt;SUPER::open_directory &#40;$path, $pb,
                      $self-&gt;{mirror}{target_headrev}, $pool&#41;;
 }
 
 sub open_file {
     my &#40;$self,$path,$pb,undef,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;U&#34;, &#39;path&#39; =&gt; $path}&#41;;    
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;M&#34;, &#39;path&#39; =&gt; $path}&#41; if $self-&gt;obj-&gt;{verbose};
     $self-&gt;{opening} = $path;
     return $self-&gt;SUPER::open_file &#40;$path, $pb,
                     $self-&gt;{mirror}{target_headrev}, $pool&#41;;
@@ -65,7 +65,7 @@
     my $path = shift;
     my $pb = shift;
     my &#40;$cp_path,$cp_rev,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41;;    
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41; if $self-&gt;obj-&gt;{verbose};
     $self-&gt;SUPER::add_directory&#40;$path, $pb, @_&#41;;
 }
 
@@ -95,13 +95,13 @@
     my $self = shift;
     my $path = shift;
     my $pb = shift;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41; if $self-&gt;obj-&gt;{verbose};
     $self-&gt;SUPER::add_file&#40;$path, $pb, @_&#41;;
 }
 
 sub delete_entry {
     my &#40;$self, $path, $rev, $pb, $pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;D&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;D&#34;, &#39;path&#39; =&gt; $path}&#41; if $self-&gt;obj-&gt;{verbose};
     $self-&gt;SUPER::delete_entry &#40;$path, $rev, $pb, $pool&#41;;
 }
 
@@ -140,7 +140,7 @@
 
 package SVN::Pusher ;
 
-our $VERSION = &#39;0.04&#39;;
+our $VERSION = &#39;0.05&#39;;
 use SVN::Core;
 use SVN::Repos;
 use SVN::Fs;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;08&nbsp;16:19:26&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHLOMIF [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi DEXTER!

Here are a few notes on your patch before I can apply it. Next time 
don&#39;t say &#34;Please,&#34; in the subject. The correct subject should have 
been:

&lt;&lt;&lt;&lt;&lt;&lt;
[PATCH] Be Less Verbose By Default while adding a &#34;--verbose&#34; option
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
And please do not reply to me in private but rather use rt.cpan.org to 
submit a reply.

On Mon Oct 08 08:27:09 2007, DEXTER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The SVN::Pusher is really great tool but I don&#39;t like its verbose 
&gt; messages. It is really hard to read the log message. Revision 
</div>numbers 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; of current operation just disappear quickly from terminal.
&gt; 
&gt; I think the verbose messages should be not enabled by default &#40;i.e. 
&gt; see svn log --verbose&#41;
&gt; 
</div>
That sounds like a good idea. Here are some comments on your patch:

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
diff -ru SVN-Pusher-0.04-R2czaL/bin/svn-pusher 
SVN-Pusher-0.05/bin/svn-pusher
--- SVN-Pusher-0.04-R2czaL/bin/svn-pusher       2007-10-06 
18:07:10.000000000 +0200
+++ SVN-Pusher-0.05/bin/svn-pusher      2007-10-08 13:58:45.000000000 
+0200
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
SVN-Pusher has an svn repository:

<span class="clickylink"><a target="new" rel="nofollow" href="http://svn.berlios.de/svnroot/repos/web-cpan/SVN-Pusher/trunk/">http://svn.berlios.de/svnroot/repos/web-cpan/SVN-Pusher/trunk/</a></span>

Please use it with &#34;svn diff&#34; to generate patches.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
 sub do_push 
 {
-    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] 
[--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
+    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] 
[--savedate] [--verbatim] [--verbose] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;= 2;
</div>     my &#40;$options, $source, $target&#41; = @_;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
This line became two unwieldy for its own good. I can see several 
problems here:

1. The message should be split across several lines.

2. The &#34;unless&#34; should be converted to if &#40;!&#41;. &#40;see &#34;Perl Best 
Practices&#34;&#41;

3. Fix the trailing if to an &#34;if &#40;COND&#41; { ... }&#34; block. &#40;Also 
see &#34;Perl Best Practices&#34;&#41;.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
--- SVN-Pusher-0.04-R2czaL/CHANGES      2007-10-06 18:26:33.000000000 
+0200
+++ SVN-Pusher-0.05/CHANGES     2007-10-08 13:54:47.000000000 +0200
@@ -1,5 +1,8 @@
 SVN::Pusher changelog:
 
+* 0.05
+    - Added the --verbose flag. The default mode is more quiet.
+
 * 0.04         Sat Oct  6 18:26:23 IST 2007
     - Added the --savedate flag. &#40;thanks to DEXTER&#41;
     - Added the --verbatim flag. &#40;thanks to DEXTER&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
Please don&#39;t add the version number to the CHANGES yet.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
 sub open_directory {
     my &#40;$self,$path,$pb,undef,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;U&#34;, &#39;path&#39; =&gt; 
$path}&#41;;
+    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;M&#34;, &#39;path&#39; =&gt; 
$path}&#41; if $self-&gt;obj-&gt;{verbose};
     return $self-&gt;SUPER::open_directory &#40;$path, $pb,
                      $self-&gt;{mirror}{target_headrev}, $pool&#41;;
 }
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
1. Avoid a trailing if.

2. You have the if &#40;$self-&gt;obj-&gt;{verbose}&#41; { $self-&gt;obj-&gt;report&#40;...&#41; } 
pattern several times. Please encapsulate it into its own method.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
-our $VERSION = &#39;0.04&#39;;
+our $VERSION = &#39;0.05&#39;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
Please don&#39;t increment the $VERSION with your patch. Let me do it, as 
I may wish to have some other changes.

Regards,

      Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;08&nbsp;16:19:29&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;08&nbsp;17:31:37&nbsp;2007</span>
    <span class="description">piotr.roszatycki [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> piotr.roszatycki [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here are a few notes on your patch before I can apply it. Next time 
&gt; don&#39;t say &#34;Please,&#34; in the subject. The correct subject should have 
&gt; been:
</div>
Sorry. I usually use Debian&#39;s Bug Tracking System which has more 
options like i.e. tags so I don&#39;t need to mark the patch in the 
subject and the subject can be modified at any time.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And please do not reply to me in private but rather use rt.cpan.org 
</div>to 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; submit a reply.
</div>
Another habit from Debian&#39;s BTS...

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This line became two unwieldy for its own good. I can see several 
&gt; problems here:
</div>
It was intended to not change too much because I wanted to keep the 
simplicity of patch and didn&#39;t want to lose the idea and clarity of 
change. I know the &#34;Perl Best Practices&#34; and many of its advices are 
worth of using but my code is just a proof of concept, not the final 
solution.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Please don&#39;t increment the $VERSION with your patch. Let me do it, 
</div>as 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I may wish to have some other changes.
</div>
I did the $VERSION incrementation and CHANGES entry because it is not 
original package already on my system. Even that I didn&#39;t release the 
modified module anywhere but this RT submit.

You can do with this submit whatever you want. It is my proposition 
and if you feel it doesn&#39;t fit your needs or coding style, please drop 
it or change it or just tell me if you like it and I really modify it 
in more clean way.

I didn&#39;t know that SVN::Pusher is hosted on Berlios. Next time I&#39;ll 
use its SVN repository.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;10&nbsp;08:30:09&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHLOMIF [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Oct 08 17:31:37 2007, DEXTER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Here are a few notes on your patch before I can apply it. Next 
</div></div>time 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; don&#39;t say &#34;Please,&#34; in the subject. The correct subject should 
</div></div>have 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; been:
</div>&gt; 
&gt; Sorry. I usually use Debian&#39;s Bug Tracking System which has more 
&gt; options like i.e. tags so I don&#39;t need to mark the patch in the 
&gt; subject and the subject can be modified at any time.
&gt; 
</div>
OK.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; And please do not reply to me in private but rather use 
</div></div>rt.cpan.org 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; to 
<div class="message-stanza open">&gt; &gt; submit a reply.
</div>&gt; 
&gt; Another habit from Debian&#39;s BTS...
&gt; 
</div>
OK.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; This line became two unwieldy for its own good. I can see several 
&gt; &gt; problems here:
</div>&gt; 
&gt; It was intended to not change too much because I wanted to keep the 
&gt; simplicity of patch and didn&#39;t want to lose the idea and clarity of 
&gt; change. I know the &#34;Perl Best Practices&#34; and many of its advices are 
&gt; worth of using but my code is just a proof of concept, not the final 
&gt; solution.
</div>
OK, please fix it for the next incarnation of the patch.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open">&gt; &gt; Please don&#39;t increment the $VERSION with your patch. Let me do it, 
</div>&gt; as 
<div class="message-stanza open">&gt; &gt; I may wish to have some other changes.
</div>&gt; 
&gt; I did the $VERSION incrementation and CHANGES entry because it is 
</div>not 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; original package already on my system. Even that I didn&#39;t release 
</div>the 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; modified module anywhere but this RT submit.
</div>
OK, please avoid it next time.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; You can do with this submit whatever you want. It is my proposition 
&gt; and if you feel it doesn&#39;t fit your needs or coding style, please 
</div>drop 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; it or change it or just tell me if you like it and I really modify 
</div>it 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; in more clean way.
</div>
I like it. Please modify it according to my previous commentary.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I didn&#39;t know that SVN::Pusher is hosted on Berlios. Next time I&#39;ll 
&gt; use its SVN repository.
&gt; 
</div>
OK.

Regards,

      Shlomi Fish


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;11&nbsp;08:40:02&nbsp;2007</span>
    <span class="description">piotr.roszatycki [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I like it. Please modify it according to my previous commentary.
</div>
The cleaned up patch is attached. Greets.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">=== bin/svn-pusher
==================================================================
--- bin/svn-pusher	&#40;revision 2392&#41;
+++ bin/svn-pusher	&#40;local&#41;
@@ -53,6 +53,10 @@
 
 Do not store uuid and timestamp in log message.
 
+=item -v --verbose
+
+Print extra information.
+
 =back
 
 Example:
@@ -73,12 +77,22 @@
 
 # --------------------------------------------------------------------------
 
-sub opt_push { return &#40;&#39;message|m:s&#39;, &#39;revision|r:s&#39;, &#39;savedate&#39;, &#39;verbatim&#39;&#41; }
+sub opt_push {
+    return qw{
+	message|m:s
+	revision|r:s
+	savedate
+	verbatim
+	verbose|v
+    };
+}
 
 
 sub do_push 
 {
-    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] [--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
+    die &#34;Not enough arguments provided; try &#39;svn-pusher help&#39; for more info\n&#34;
+	if &#40;@_ &lt; 2&#41;;
+
     my &#40;$options, $source, $target&#41; = @_;
 
     my %revs ;
@@ -99,6 +113,7 @@
         logmsg    =&gt; $options -&gt; {message},
         savedate  =&gt; $options -&gt; {savedate},
         verbatim  =&gt; $options -&gt; {verbatim},
+        verbose   =&gt; $options -&gt; {verbose},
         &#41;;
 
     if &#40;$m-&gt;init &#40;&#41; &gt; 0&#41;
@@ -115,7 +130,7 @@
 my $cmdsub = &#34;do_$cmd&#34; ;
 my $cmdopt = &#34;opt_$cmd&#34; ;
 
-die &#34;Command not recognized. Try $0 help\n&#34; unless main-&gt;can&#40;$cmdsub&#41;;
+die &#34;Command not recognized. Try svn-pusher help\n&#34; unless main-&gt;can&#40;$cmdsub&#41;;
 
 my %options ;
 if &#40;my $cmdopt_ref = main -&gt; can &#40;$cmdopt&#41;&#41;
=== lib/SVN/Pusher/CmdLine.pm
==================================================================
--- lib/SVN/Pusher/CmdLine.pm	&#40;revision 2392&#41;
+++ lib/SVN/Pusher/CmdLine.pm	&#40;local&#41;
@@ -11,7 +11,7 @@
 
     if &#40;$op eq &#34;file&#34;&#41;
     {
-        print sprintf&#40;&#34;%-3c%s\n&#34;, ord&#40;$spec-&gt;{&#39;file_op&#39;}&#41;, $spec-&gt;{&#39;path&#39;}&#41;;
+        print sprintf&#40;&#34;   %c %s\n&#34;, ord&#40;$spec-&gt;{&#39;file_op&#39;}&#41;, $spec-&gt;{&#39;path&#39;}&#41;;
     }
     elsif &#40;$op eq &#34;msg&#34;&#41;
     {
=== lib/SVN/Pusher.pm
==================================================================
--- lib/SVN/Pusher.pm	&#40;revision 2392&#41;
+++ lib/SVN/Pusher.pm	&#40;local&#41;
@@ -30,14 +30,14 @@
 
 sub open_directory {
     my &#40;$self,$path,$pb,undef,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;U&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report_file&#40;$path, &#39;M&#39;&#41;;
     return $self-&gt;SUPER::open_directory &#40;$path, $pb,
                      $self-&gt;{mirror}{target_headrev}, $pool&#41;;
 }
 
 sub open_file {
     my &#40;$self,$path,$pb,undef,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;U&#34;, &#39;path&#39; =&gt; $path}&#41;;    
+    $self-&gt;obj-&gt;report_file&#40;$path, &#39;M&#39;&#41;;
     $self-&gt;{opening} = $path;
     return $self-&gt;SUPER::open_file &#40;$path, $pb,
                     $self-&gt;{mirror}{target_headrev}, $pool&#41;;
@@ -65,7 +65,7 @@
     my $path = shift;
     my $pb = shift;
     my &#40;$cp_path,$cp_rev,$pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41;;    
+    $self-&gt;obj-&gt;report_file&#40;$path, &#39;A&#39;&#41;;
     $self-&gt;SUPER::add_directory&#40;$path, $pb, @_&#41;;
 }
 
@@ -95,13 +95,13 @@
     my $self = shift;
     my $path = shift;
     my $pb = shift;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;A&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report_file&#40;$path, &#39;A&#39;&#41;;
     $self-&gt;SUPER::add_file&#40;$path, $pb, @_&#41;;
 }
 
 sub delete_entry {
     my &#40;$self, $path, $rev, $pb, $pool&#41; = @_;
-    $self-&gt;obj-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; &#34;D&#34;, &#39;path&#39; =&gt; $path}&#41;;
+    $self-&gt;obj-&gt;report_file&#40;$path, &#39;D&#39;&#41;;
     $self-&gt;SUPER::delete_entry &#40;$path, $rev, $pb, $pool&#41;;
 }
 
@@ -192,6 +192,13 @@
     return $self-&gt;report&#40;{&#39;op&#39; =&gt; &#39;msg&#39;, &#39;msg&#39; =&gt; $msg }&#41;;
 }
 
+sub report_file {
+    my &#40;$self, $path, $op&#41; = @_;
+    if &#40;$self-&gt;{verbose}&#41; {
+	$self-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; $op, &#39;path&#39; =&gt; $path}&#41;;
+    }
+}
+
 sub committed {
     my &#40;$self, $date, $sourcerev, $rev, undef, undef, $pool&#41; = @_;
     my $cpool = SVN::Pool-&gt;new_default &#40;$pool&#41;;
@@ -233,8 +240,8 @@
     my $editor = SVN::Pusher::MirrorEditor-&gt;new
     &#40;$tra-&gt;get_commit_editor&#40;
       $self-&gt;{verbatim}
-        ? &#34;$msg&#34;
-        : &#40; &#40;$msg?&#34;$msg\n&#34;:&#39;&#39;&#41; . &#34;:$rev:$self-&gt;{source_uuid}:$date:&#34; &#41;
+        ? &#40;defined $msg ? &#34;$msg&#34; : &#39;&#39;&#41;
+        : &#40; &#40;defined $msg ? &#34;$msg\n&#34; : &#39;&#39;&#41; . &#34;:$rev:$self-&gt;{source_uuid}:$date:&#34; &#41;
         ,
       sub { $self-&gt;committed&#40;$date, $rev, @_&#41; },
         undef, 0&#41;&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;11&nbsp;15:03:14&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHLOMIF [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Oct 11 08:40:02 2007, DEXTER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; I like it. Please modify it according to my previous commentary.
</div>&gt; 
&gt; The cleaned up patch is attached. Greets.
</div>
Here are some further comments on it:

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
-    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] 
[--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
+    die &#34;Not enough arguments provided; try &#39;svn-pusher help&#39; for 
more info\n&#34;
+       if &#40;@_ &lt; 2&#41;;
+
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
Use &#34;$0&#34; instead of &#34;svn-pusher&#34;. I suppose I can fix the trailing 
conditional in a different commit.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
-die &#34;Command not recognized. Try $0 help\n&#34; unless 
main-&gt;can&#40;$cmdsub&#41;;
+die &#34;Command not recognized. Try svn-pusher help\n&#34; unless 
main-&gt;can&#40;$cmdsub&#41;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
Again - &#34;$0&#34; instead of &#34;svn-pusher&#34;

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
+sub report_file {
+    my &#40;$self, $path, $op&#41; = @_;
+    if &#40;$self-&gt;{verbose}&#41; {
+       $self-&gt;report&#40;{&#39;op&#39; =&gt; &#34;file&#34;, &#39;file_op&#39; =&gt; $op, &#39;path&#39; =&gt; 
$path}&#41;;
+    }
+}
+
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
That&#39;s a good change. Thanks.

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
     my $editor = SVN::Pusher::MirrorEditor-&gt;new
     &#40;$tra-&gt;get_commit_editor&#40;
       $self-&gt;{verbatim}
-        ? &#34;$msg&#34;
-        : &#40; &#40;$msg?&#34;$msg\n&#34;:&#39;&#39;&#41; . &#34;:$rev:$self-&gt;{source_uuid}:
$date:&#34; &#41;
+        ? &#40;defined $msg ? &#34;$msg&#34; : &#39;&#39;&#41;
+        : &#40; &#40;defined $msg ? &#34;$msg\n&#34; : &#39;&#39;&#41; . &#34;:$rev:
$self-&gt;{source_uuid}:$date:&#34; &#41;
         ,
       sub { $self-&gt;committed&#40;$date, $rev, @_&#41; },
         undef, 0&#41;&#41;;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div></div>
You can rewrite this as:

&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
$dmsg =
        defined&#40;$msg&#41; 
    ? &#40; $msg . &#40;$self-&gt;{verbatim} ? &#34;&#34; : &#34;\n&#34;&#41; &#41;
    :   &#39;&#39;;

$tra-&gt;get_commit_editor&#40;
       $dmsg . 
       &#40;$self-&gt;{verbatim}
           ? &#34;&#34;
           : &#34;:$rev:$self-&gt;{source_uuid}:$date:&#34;
       &#41;,
       .
       .
       .
&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>
This will help avoid this syndrome:

<span class="clickylink"><a target="new" rel="nofollow" href="http://worsethanfailure.com/Articles/Turn_it_up_to_Eleven.aspx">http://worsethanfailure.com/Articles/Turn_it_up_to_Eleven.aspx</a></span>

And eliminate some duplicate code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;11&nbsp;15:55:03&nbsp;2007</span>
    <span class="description">piotr.roszatycki [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> piotr.roszatycki [...] gmail.com</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Czw. 11 Paź. 2007, 15:03:14, SHLOMIF wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt; -    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] 
&gt; [--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
&gt; +    die &#34;Not enough arguments provided; try &#39;svn-pusher help&#39; for 
&gt; more info\n&#34;
&gt; +       if &#40;@_ &lt; 2&#41;;
&gt; +
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>&gt; 
&gt; Use &#34;$0&#34; instead of &#34;svn-pusher&#34;. I suppose I can fix the trailing 
&gt; conditional in a different commit.
</div>
The trailing conditional &#40;I suppose you mean postfix if?&#41; is perfectly 
correct for flow control structures. See PBP Page 94.

IMO, the message like &#40;the real one&#41;:

Not enough arguments provided; 
try &#39;/var/lib/gforge/chroot/home/users/dexter/perl/bin/svn-pusher help

is just horrible. Do as you like. It&#39;s not so important for me.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt;      my $editor = SVN::Pusher::MirrorEditor-&gt;new
&gt;      &#40;$tra-&gt;get_commit_editor&#40;
&gt;        $self-&gt;{verbatim}
&gt; -        ? &#34;$msg&#34;
&gt; -        : &#40; &#40;$msg?&#34;$msg\n&#34;:&#39;&#39;&#41; . &#34;:$rev:$self-&gt;{source_uuid}:
&gt; $date:&#34; &#41;
&gt; +        ? &#40;defined $msg ? &#34;$msg&#34; : &#39;&#39;&#41;
&gt; +        : &#40; &#40;defined $msg ? &#34;$msg\n&#34; : &#39;&#39;&#41; . &#34;:$rev:
&gt; $self-&gt;{source_uuid}:$date:&#34; &#41;
&gt;          ,
&gt;        sub { $self-&gt;committed&#40;$date, $rev, @_&#41; },
&gt;          undef, 0&#41;&#41;;
<div class="message-stanza open">&gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>&gt; 
&gt; You can rewrite this as:
</div>
Yes, this is ugly and I rather avoid such code in my projects :&#41; Do 
you apply your modified version?

I&#39;m waiting for next release of SVN::Pusher. I&#39;d like to package it 
for Debian distribution. See: <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/446255">http://bugs.debian.org/446255</a></span>

Thanks for a good work.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;09:21:47&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> SHLOMIF [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Oct 11 15:55:03 2007, DEXTER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Czw. 11 Paź. 2007, 15:03:14, SHLOMIF wrote:
<div class="message-stanza open">&gt; &gt; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt; &gt; -    die &#34;$0 push [--message=&lt;text&gt;] [--revision=&lt;from&gt;:&lt;to&gt;] 
&gt; &gt; [--savedate] [--verbatim] &lt;source&gt; &lt;target&gt;\n&#34; unless $#_ &gt;= 2;
&gt; &gt; +    die &#34;Not enough arguments provided; try &#39;svn-pusher help&#39; for 
&gt; &gt; more info\n&#34;
&gt; &gt; +       if &#40;@_ &lt; 2&#41;;
&gt; &gt; +
<div class="message-stanza open">&gt; &gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>&gt; &gt; 
&gt; &gt; Use &#34;$0&#34; instead of &#34;svn-pusher&#34;. I suppose I can fix the trailing 
&gt; &gt; conditional in a different commit.
</div>&gt; 
&gt; The trailing conditional &#40;I suppose you mean postfix if?&#41; 
</div>
Yes, that&#39;s what I meant.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; is perfectly 
&gt; correct for flow control structures. See PBP Page 94.
&gt; 
</div>
Whatever PBP says I&#39;m not fond of it at all, and would rather avoid 
it. I corrected it manually.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; IMO, the message like &#40;the real one&#41;:
&gt; 
&gt; Not enough arguments provided; 
&gt; try &#39;/var/lib/gforge/chroot/home/users/dexter/perl/bin/svn-pusher 
</div>help
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; is just horrible. Do as you like. It&#39;s not so important for me.
&gt; 
</div>
OK. The point of $0 is to make sure the user can run the command, and 
that the correct path will be displayed. Normally you should put 
svn-pusher in the path.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
&gt; &gt;      my $editor = SVN::Pusher::MirrorEditor-&gt;new
&gt; &gt;      &#40;$tra-&gt;get_commit_editor&#40;
&gt; &gt;        $self-&gt;{verbatim}
&gt; &gt; -        ? &#34;$msg&#34;
&gt; &gt; -        : &#40; &#40;$msg?&#34;$msg\n&#34;:&#39;&#39;&#41; . &#34;:$rev:$self-&gt;{source_uuid}:
&gt; &gt; $date:&#34; &#41;
&gt; &gt; +        ? &#40;defined $msg ? &#34;$msg&#34; : &#39;&#39;&#41;
&gt; &gt; +        : &#40; &#40;defined $msg ? &#34;$msg\n&#34; : &#39;&#39;&#41; . &#34;:$rev:
&gt; &gt; $self-&gt;{source_uuid}:$date:&#34; &#41;
&gt; &gt;          ,
&gt; &gt;        sub { $self-&gt;committed&#40;$date, $rev, @_&#41; },
&gt; &gt;          undef, 0&#41;&#41;;
<div class="message-stanza open">&gt; &gt; &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
</div>&gt; &gt; 
&gt; &gt; You can rewrite this as:
</div>&gt; 
&gt; Yes, this is ugly and I rather avoid such code in my projects :&#41; Do 
&gt; you apply your modified version?
</div>
I applied it.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I&#39;m waiting for next release of SVN::Pusher. 
</div>
It&#39;s released now.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;d like to package it 
&gt; for Debian distribution. See: <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.debian.org/446255">http://bugs.debian.org/446255</a></span>
&gt; 
</div>
OK. That would be nice.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for a good work.
</div>
You&#39;re welcome.

Regards,

       Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;09:22:48&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">20 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patch was applied and modified and a new version of SVN::Pusher - 0.05 
was released to the CPAN.

Regards,

       Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;09:22:52&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;12&nbsp;09:22:54&nbsp;2007</span>
    <span class="description">SHLOMIF [...] cpan.org -  Given to SHLOMIF</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
