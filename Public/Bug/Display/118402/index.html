<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #118402 for Email-Send-SMTP-Gmail: Bug on windows.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #118402 for Email-Send-SMTP-Gmail: Bug on windows.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Email-Send-SMTP-Gmail/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Email-Send-SMTP-Gmail">Email-Send-SMTP-Gmail CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">118402</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Email-Send-SMTP-Gmail/Active/">Email-Send-SMTP-Gmail</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mrcpu [...] lilpantry.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236026-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-236027-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;01:43:53&nbsp;2016</span>
    <span class="description">mrcpu [...] lilpantry.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug on windows.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 15 Oct 2016 22:43:35 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jaye Mathisen &lt;mrcpu [...] lilpantry.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perl 5.22.0 on windows.



I get the following with the example program:



Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout
of 60

Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;

Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;

Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;

Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;

Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;

Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;

Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;

Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;

readline&#40;&#41; on unopened filehandle GEN0 at
C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.

Could not connect to SMTP server

Can&#39;t call method &#34;send&#34; without a package or object reference…





Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I use
telnet to connect, I can connect to those ports with no problem.



Haven’t figured it out, but it looks like a great little package.

*--*

*Jaye Mathisen*

*Lil Pantry*

*Ph: 541-476-0152 / Fax: 541-476-0152*

-- 

------------------------------

This electronic message may contain information that is privileged, 
confidential or otherwise protected from disclosure to anyone other than 
its intended recipient&#40;s&#41;. Any dissemination or use of this electronic 
message or its contents by persons other than the intended recipient&#40;s&#41; is 
strictly prohibited, and may be unlawful. If you have received this 
electronic transmission in error, please reply immediately to the sender so 
that we may correct our internal records, and then delete the original 
message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;04:20:28&nbsp;2016</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello.

It seems to be an issue at the module IO::Socket::IP. For some reason, it&#39;s unable to keep the connection open.

The debug trace expected is:

Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of 60
Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP a1sm40758152wjl.28 - gsmtp
Net::SMTPS=GLOB&#40;0x1933660&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service, [1a02:a205:2003:1951::1]
...
...

Please, if it&#39;s possible, check the next points:

1&#41; Try to connect by telnet and completing the first steps of the protocol. Write the next commands:
  -&gt; telnet smtp.gmail.com 587
  -&gt; EHLO smtp.gmail.com
  -&gt; STARTTLS

2&#41; Try to debug IO::Socket::IP using the next script to open a connection directly:

#!/usr/bin/perl
use strict;
use warnings;
use IO::Socket::IP;

my $sock = IO::Socket::IP-&gt;new&#40;
            PeerHost =&gt; &#34;smtp.gmail.com&#34;,
            PeerPort =&gt; &#34;smtp&#34;,
            Type     =&gt; SOCK_STREAM,
           &#41; or die &#34;Cannot construct socket - $@&#34;;

my $familyname = &#40; $sock-&gt;sockdomain == PF_INET6 &#41; ? &#34;IPv6&#34; :
                 &#40; $sock-&gt;sockdomain == PF_INET  &#41; ? &#34;IPv4&#34; :
                 &#34;unknown&#34;;
printf &#34;Connected to google via %s\n&#34;, $familyname;


3&#41; Finally, try to connect from another PC to rule out network issues.                                            

Regards,
Peco


On Sun Oct 16 01:43:53 2016, mrcpu@lilpantry.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Perl 5.22.0 on windows.
&gt; 
&gt; 
&gt; 
&gt; I get the following with the example program:
&gt; 
&gt; 
&gt; 
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout
&gt; of 60
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt; 
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; 
&gt; readline&#40;&#41; on unopened filehandle GEN0 at
&gt; C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.
&gt; 
&gt; Could not connect to SMTP server
&gt; 
&gt; Can&#39;t call method &#34;send&#34; without a package or object reference…
&gt; 
&gt; 
&gt; 
&gt; 
&gt; 
&gt; Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I use
&gt; telnet to connect, I can connect to those ports with no problem.
&gt; 
&gt; 
&gt; 
&gt; Haven’t figured it out, but it looks like a great little package.
&gt; 
&gt; *--*
&gt; 
&gt; *Jaye Mathisen*
&gt; 
&gt; *Lil Pantry*
&gt; 
&gt; *Ph: 541-476-0152 / Fax: 541-476-0152*
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;16&nbsp;04:20:28&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;17&nbsp;00:26:25&nbsp;2016</span>
    <span class="description">mrcpu [...] lilpantry.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #118402] Bug on windows.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 16 Oct 2016 21:26:07 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jaye Mathisen &lt;mrcpu [...] lilpantry.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Telnet works fine.

The test script you sent works fine.  &#34;Connected to google via IPv4&#34;.

Changing the script to port 1234 and I get a &#34;Cannot construct socket&#34;
error.



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Juan Jose San Martin via RT
[mailto:bug-Email-Send-SMTP-Gmail@rt.cpan.org]
Sent: Sunday, October 16, 2016 1:20 AM
To: mrcpu@lilpantry.com
Subject: [rt.cpan.org #118402] Bug on windows.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118402">https://rt.cpan.org/Ticket/Display.html?id=118402</a></span> &gt;

Hello.

It seems to be an issue at the module IO::Socket::IP. For some reason, it&#39;s
unable to keep the connection open.

The debug trace expected is:

Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of
60 Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP a1sm40758152wjl.28 -
gsmtp Net::SMTPS=GLOB&#40;0x1933660&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[1a02:a205:2003:1951::1] ...
...

Please, if it&#39;s possible, check the next points:

1&#41; Try to connect by telnet and completing the first steps of the protocol.
Write the next commands:
  -&gt; telnet smtp.gmail.com 587
  -&gt; EHLO smtp.gmail.com
  -&gt; STARTTLS

2&#41; Try to debug IO::Socket::IP using the next script to open a connection
directly:

#!/usr/bin/perl
use strict;
use warnings;
use IO::Socket::IP;

my $sock = IO::Socket::IP-&gt;new&#40;
            PeerHost =&gt; &#34;smtp.gmail.com&#34;,
            PeerPort =&gt; &#34;smtp&#34;,
            Type     =&gt; SOCK_STREAM,
           &#41; or die &#34;Cannot construct socket - $@&#34;;

my $familyname = &#40; $sock-&gt;sockdomain == PF_INET6 &#41; ? &#34;IPv6&#34; :
                 &#40; $sock-&gt;sockdomain == PF_INET  &#41; ? &#34;IPv4&#34; :
                 &#34;unknown&#34;;
printf &#34;Connected to google via %s\n&#34;, $familyname;


3&#41; Finally, try to connect from another PC to rule out network issues.

Regards,
Peco


On Sun Oct 16 01:43:53 2016, mrcpu@lilpantry.com wrote:
<div class="message-stanza open">&gt; Perl 5.22.0 on windows.
&gt;
&gt;
&gt;
&gt; I get the following with the example program:
&gt;
&gt;
&gt;
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and
&gt; timeout of 60
&gt;
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt;
&gt; readline&#40;&#41; on unopened filehandle GEN0 at
&gt; C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.
&gt;
&gt; Could not connect to SMTP server
&gt;
&gt; Can&#39;t call method &#34;send&#34; without a package or object reference…
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I
&gt; use telnet to connect, I can connect to those ports with no problem.
&gt;
&gt;
&gt;
&gt; Haven’t figured it out, but it looks like a great little package.
&gt;
&gt; *--*
&gt;
&gt; *Jaye Mathisen*
&gt;
&gt; *Lil Pantry*
&gt;
&gt; *Ph: 541-476-0152 / Fax: 541-476-0152*
&gt;
</div>
-- 

------------------------------

This electronic message may contain information that is privileged, 
confidential or otherwise protected from disclosure to anyone other than 
its intended recipient&#40;s&#41;. Any dissemination or use of this electronic 
message or its contents by persons other than the intended recipient&#40;s&#41; is 
strictly prohibited, and may be unlawful. If you have received this 
electronic transmission in error, please reply immediately to the sender so 
that we may correct our internal records, and then delete the original 
message.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;17&nbsp;00:38:31&nbsp;2016</span>
    <span class="description">mrcpu [...] lilpantry.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #118402] Bug on windows.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 16 Oct 2016 21:38:16 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jaye Mathisen &lt;mrcpu [...] lilpantry.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As a side note, I copied the script to my FreeBSD box, running 5.14.4, and I
get some odd warnings, although it does actually send the email.


Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of
60
Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.69&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.32&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.31&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.64_03&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;2.31&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;2.29&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::INET&#40;1.31&#41;
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP x1sm14361875pax.7 -
gsmtp
Net::SMTPS=GLOB&#40;0x28773578&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[68.185.1.62]
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-SIZE 35882577
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-8BITMIME
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-STARTTLS
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-PIPELINING
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-CHUNKING
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250 SMTPUTF8
Net::SMTPS=GLOB&#40;0x28773578&#41;&gt;&gt;&gt; STARTTLS
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 220 2.0.0 Ready to start TLS
Use of uninitialized value $ver in string eq at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1644, &lt;GEN0&gt; line
10.
Use of uninitialized value $ver in string eq at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1644, &lt;GEN0&gt; line
10.
Use of uninitialized value $ver in string eq at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1644, &lt;GEN0&gt; line
10.
Use of uninitialized value $ver in string eq at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1644, &lt;GEN0&gt; line
10.
Use of uninitialized value $ver in string eq at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1644, &lt;GEN0&gt; line
10.
Argument &#34;&#34; isn&#39;t numeric in bitwise and &#40;&#38;&#41; at
/usr/local/lib/perl5/site_perl/5.14/IO/Socket/SSL.pm line 1664, &lt;GEN0&gt; line
10.
Net::SMTPS=GLOB&#40;0x28773578&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[68.185.1.62]
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-SIZE 35882577
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-8BITMIME
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-AUTH LOGIN PLAIN XOAUTH2
PLAIN-CLIENTTOKEN OAUTHBEARER XOAUTH
Net::SMTPS=GLOB&#40;0x28773578&#41;&lt;&lt;&lt; 250-ENHANCEDSTATUSCODES

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Juan Jose San Martin via RT
[mailto:bug-Email-Send-SMTP-Gmail@rt.cpan.org]
Sent: Sunday, October 16, 2016 1:20 AM
To: mrcpu@lilpantry.com
Subject: [rt.cpan.org #118402] Bug on windows.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118402">https://rt.cpan.org/Ticket/Display.html?id=118402</a></span> &gt;

Hello.

It seems to be an issue at the module IO::Socket::IP. For some reason, it&#39;s
unable to keep the connection open.

The debug trace expected is:

Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of
60 Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP a1sm40758152wjl.28 -
gsmtp Net::SMTPS=GLOB&#40;0x1933660&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[1a02:a205:2003:1951::1] ...
...

Please, if it&#39;s possible, check the next points:

1&#41; Try to connect by telnet and completing the first steps of the protocol.
Write the next commands:
  -&gt; telnet smtp.gmail.com 587
  -&gt; EHLO smtp.gmail.com
  -&gt; STARTTLS

2&#41; Try to debug IO::Socket::IP using the next script to open a connection
directly:

#!/usr/bin/perl
use strict;
use warnings;
use IO::Socket::IP;

my $sock = IO::Socket::IP-&gt;new&#40;
            PeerHost =&gt; &#34;smtp.gmail.com&#34;,
            PeerPort =&gt; &#34;smtp&#34;,
            Type     =&gt; SOCK_STREAM,
           &#41; or die &#34;Cannot construct socket - $@&#34;;

my $familyname = &#40; $sock-&gt;sockdomain == PF_INET6 &#41; ? &#34;IPv6&#34; :
                 &#40; $sock-&gt;sockdomain == PF_INET  &#41; ? &#34;IPv4&#34; :
                 &#34;unknown&#34;;
printf &#34;Connected to google via %s\n&#34;, $familyname;


3&#41; Finally, try to connect from another PC to rule out network issues.

Regards,
Peco


On Sun Oct 16 01:43:53 2016, mrcpu@lilpantry.com wrote:
<div class="message-stanza open">&gt; Perl 5.22.0 on windows.
&gt;
&gt;
&gt;
&gt; I get the following with the example program:
&gt;
&gt;
&gt;
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and
&gt; timeout of 60
&gt;
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt;
&gt; readline&#40;&#41; on unopened filehandle GEN0 at
&gt; C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.
&gt;
&gt; Could not connect to SMTP server
&gt;
&gt; Can&#39;t call method &#34;send&#34; without a package or object reference…
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I
&gt; use telnet to connect, I can connect to those ports with no problem.
&gt;
&gt;
&gt;
&gt; Haven’t figured it out, but it looks like a great little package.
&gt;
&gt; *--*
&gt;
&gt; *Jaye Mathisen*
&gt;
&gt; *Lil Pantry*
&gt;
&gt; *Ph: 541-476-0152 / Fax: 541-476-0152*
&gt;
</div>
-- 

------------------------------

This electronic message may contain information that is privileged, 
confidential or otherwise protected from disclosure to anyone other than 
its intended recipient&#40;s&#41;. Any dissemination or use of this electronic 
message or its contents by persons other than the intended recipient&#40;s&#41; is 
strictly prohibited, and may be unlawful. If you have received this 
electronic transmission in error, please reply immediately to the sender so 
that we may correct our internal records, and then delete the original 
message.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;17&nbsp;00:41:14&nbsp;2016</span>
    <span class="description">mrcpu [...] lilpantry.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #118402] Bug on windows.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 16 Oct 2016 21:40:58 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Email-Send-SMTP-Gmail [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jaye Mathisen &lt;mrcpu [...] lilpantry.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Last thing I notice is that your connections appears to be IPv6, and I would
be IPV4 only.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Juan Jose San Martin via RT
[mailto:bug-Email-Send-SMTP-Gmail@rt.cpan.org]
Sent: Sunday, October 16, 2016 1:20 AM
To: mrcpu@lilpantry.com
Subject: [rt.cpan.org #118402] Bug on windows.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118402">https://rt.cpan.org/Ticket/Display.html?id=118402</a></span> &gt;

Hello.

It seems to be an issue at the module IO::Socket::IP. For some reason, it&#39;s
unable to keep the connection open.

The debug trace expected is:

Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of
60 Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP a1sm40758152wjl.28 -
gsmtp Net::SMTPS=GLOB&#40;0x1933660&#41;&gt;&gt;&gt; EHLO localhost.localdomain
Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
[1a02:a205:2003:1951::1] ...
...

Please, if it&#39;s possible, check the next points:

1&#41; Try to connect by telnet and completing the first steps of the protocol.
Write the next commands:
  -&gt; telnet smtp.gmail.com 587
  -&gt; EHLO smtp.gmail.com
  -&gt; STARTTLS

2&#41; Try to debug IO::Socket::IP using the next script to open a connection
directly:

#!/usr/bin/perl
use strict;
use warnings;
use IO::Socket::IP;

my $sock = IO::Socket::IP-&gt;new&#40;
            PeerHost =&gt; &#34;smtp.gmail.com&#34;,
            PeerPort =&gt; &#34;smtp&#34;,
            Type     =&gt; SOCK_STREAM,
           &#41; or die &#34;Cannot construct socket - $@&#34;;

my $familyname = &#40; $sock-&gt;sockdomain == PF_INET6 &#41; ? &#34;IPv6&#34; :
                 &#40; $sock-&gt;sockdomain == PF_INET  &#41; ? &#34;IPv4&#34; :
                 &#34;unknown&#34;;
printf &#34;Connected to google via %s\n&#34;, $familyname;


3&#41; Finally, try to connect from another PC to rule out network issues.

Regards,
Peco


On Sun Oct 16 01:43:53 2016, mrcpu@lilpantry.com wrote:
<div class="message-stanza open">&gt; Perl 5.22.0 on windows.
&gt;
&gt;
&gt;
&gt; I get the following with the example program:
&gt;
&gt;
&gt;
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and
&gt; timeout of 60
&gt;
&gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt;
&gt; readline&#40;&#41; on unopened filehandle GEN0 at
&gt; C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.
&gt;
&gt; Could not connect to SMTP server
&gt;
&gt; Can&#39;t call method &#34;send&#34; without a package or object reference…
&gt;
&gt;
&gt;
&gt;
&gt;
&gt; Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I
&gt; use telnet to connect, I can connect to those ports with no problem.
&gt;
&gt;
&gt;
&gt; Haven’t figured it out, but it looks like a great little package.
&gt;
&gt; *--*
&gt;
&gt; *Jaye Mathisen*
&gt;
&gt; *Lil Pantry*
&gt;
&gt; *Ph: 541-476-0152 / Fax: 541-476-0152*
&gt;
</div>
-- 

------------------------------

This electronic message may contain information that is privileged, 
confidential or otherwise protected from disclosure to anyone other than 
its intended recipient&#40;s&#41;. Any dissemination or use of this electronic 
message or its contents by persons other than the intended recipient&#40;s&#41; is 
strictly prohibited, and may be unlawful. If you have received this 
electronic transmission in error, please reply immediately to the sender so 
that we may correct our internal records, and then delete the original 
message.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;17&nbsp;06:13:58&nbsp;2016</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Thanks for the tests.
My bet is that the issue is related to IPv6/IPv4 selection. Your Perl distribution is choosing v6 over v4

From Gmail.pm, we can&#39;t force this protocol &#40;it&#39;s related to Net::SMTPS and IO::Socket::IP&#41;.

Ideas:
-&gt; 1&#41; Be sure to disable IPv6 on your Windows <span class="clickylink"><a target="new" rel="nofollow" href="https://support.microsoft.com/en-us/kb/929852">https://support.microsoft.com/en-us/kb/929852</a></span>
-&gt; 2&#41; Remove IO::Socket::INET6 &#40;make a backup first&#41; from your distribution

Peco
On Mon Oct 17 00:41:14 2016, mrcpu@lilpantry.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Last thing I notice is that your connections appears to be IPv6, and I would
&gt; be IPV4 only.
&gt; 
&gt; -----Original Message-----
&gt; From: Juan Jose San Martin via RT
&gt; [mailto:bug-Email-Send-SMTP-Gmail@rt.cpan.org]
&gt; Sent: Sunday, October 16, 2016 1:20 AM
&gt; To: mrcpu@lilpantry.com
&gt; Subject: [rt.cpan.org #118402] Bug on windows.
&gt; 
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=118402">https://rt.cpan.org/Ticket/Display.html?id=118402</a></span> &gt;
&gt; 
&gt; Hello.
&gt; 
&gt; It seems to be an issue at the module IO::Socket::IP. For some reason, it&#39;s
&gt; unable to keep the connection open.
&gt; 
&gt; The debug trace expected is:
&gt; 
&gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and timeout of
&gt; 60 Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 220 smtp.gmail.com ESMTP a1sm40758152wjl.28 -
&gt; gsmtp Net::SMTPS=GLOB&#40;0x1933660&#41;&gt;&gt;&gt; EHLO localhost.localdomain
&gt; Net::SMTPS=GLOB&#40;0x1933660&#41;&lt;&lt;&lt; 250-smtp.gmail.com at your service,
&gt; [1a02:a205:2003:1951::1] ...
&gt; ...
&gt; 
&gt; Please, if it&#39;s possible, check the next points:
&gt; 
&gt; 1&#41; Try to connect by telnet and completing the first steps of the protocol.
&gt; Write the next commands:
&gt;   -&gt; telnet smtp.gmail.com 587
&gt;   -&gt; EHLO smtp.gmail.com
&gt;   -&gt; STARTTLS
&gt; 
&gt; 2&#41; Try to debug IO::Socket::IP using the next script to open a connection
&gt; directly:
&gt; 
&gt; #!/usr/bin/perl
&gt; use strict;
&gt; use warnings;
&gt; use IO::Socket::IP;
&gt; 
&gt; my $sock = IO::Socket::IP-&gt;new&#40;
&gt;             PeerHost =&gt; &#34;smtp.gmail.com&#34;,
&gt;             PeerPort =&gt; &#34;smtp&#34;,
&gt;             Type     =&gt; SOCK_STREAM,
&gt;            &#41; or die &#34;Cannot construct socket - $@&#34;;
&gt; 
&gt; my $familyname = &#40; $sock-&gt;sockdomain == PF_INET6 &#41; ? &#34;IPv6&#34; :
&gt;                  &#40; $sock-&gt;sockdomain == PF_INET  &#41; ? &#34;IPv4&#34; :
&gt;                  &#34;unknown&#34;;
&gt; printf &#34;Connected to google via %s\n&#34;, $familyname;
&gt; 
&gt; 
&gt; 3&#41; Finally, try to connect from another PC to rule out network issues.
&gt; 
&gt; Regards,
&gt; Peco
&gt; 
&gt; 
&gt; On Sun Oct 16 01:43:53 2016, mrcpu@lilpantry.com wrote:
<div class="message-stanza open">&gt; &gt; Perl 5.22.0 on windows.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I get the following with the example program:
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Connecting to smtp.gmail.com using tls with LOGIN on port 587 and
&gt; &gt; timeout of 60
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt; Net::SMTPS&#40;0.04&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   IO::Socket::INET6&#40;2.72&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket&#40;1.38&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;       IO::Handle&#40;1.35&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;         Exporter&#40;5.72&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;   Net::SMTP&#40;3.10&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     Net::Cmd&#40;3.10&#41;
&gt; &gt;
&gt; &gt; Net::SMTPS&gt;&gt;&gt;     IO::Socket::IP&#40;0.37&#41;
&gt; &gt;
&gt; &gt; readline&#40;&#41; on unopened filehandle GEN0 at
&gt; &gt; C:/Strawberry/perl/site/lib/Net/Cmd.pm line 404.
&gt; &gt;
&gt; &gt; Could not connect to SMTP server
&gt; &gt;
&gt; &gt; Can&#39;t call method &#34;send&#34; without a package or object reference…
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Tried TLS, SSL, port 465, 587, 25, doesn’t get past that spot.  If I
&gt; &gt; use telnet to connect, I can connect to those ports with no problem.
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; Haven’t figured it out, but it looks like a great little package.
&gt; &gt;
&gt; &gt; *--*
&gt; &gt;
&gt; &gt; *Jaye Mathisen*
&gt; &gt;
&gt; &gt; *Lil Pantry*
&gt; &gt;
&gt; &gt; *Ph: 541-476-0152 / Fax: 541-476-0152*
&gt; &gt;
</div>&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;02&nbsp;05:18:51&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">No more info. Assume it&#39;s fixed
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;02&nbsp;05:18:57&nbsp;2017</span>
    <span class="description">PECO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
