<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #67568 for PDL: Improved ext. libraries detection</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #67568 for PDL: Improved ext. libraries detection</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PDL/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PDL/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PDL/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PDL/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://sourceforge.net/p/pdl/bugs/">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/PDL">PDL CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">67568</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PDL/Active/">PDL</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kmx [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25050-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.4.8    </td>
  </tr>
  <tr id="CF-25051-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
2.014    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;18:39:57&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Improved ext. libraries detection</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza">Hi,<br>

<br>

please find enclosed patch enhancing ext. lib. detection logic.<br>

<br>

The patch is focused mostly on strawberryperl users but could be handy also for other platforms.<br>

<br>

--<br>

kmx<br>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PDL-2.4.8.diff</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ru PDL-2.4.8.orig\Graphics\PLplot\Makefile.PL PDL-2.4.8\Graphics\PLplot\Makefile.PL
--- PDL-2.4.8.orig\Graphics\PLplot\Makefile.PL	Tue Mar 22 02:40:18 2011
+++ PDL-2.4.8\Graphics\PLplot\Makefile.PL	Mon Apr 18 23:00:17 2011
@@ -69,6 +69,7 @@
 		    &#39;/opt/lib&#39;,
 		    &#39;/ops/tools/lib&#39;,
                     &#39;/sw/lib/&#39;,    # default FINK installation
+		    split&#40;/ /, $Config{libpth}&#41;,
 		    $PDL::Config{WHERE_PLPLOT_LIBS},
 		                  # Add new library paths here!!
 		    &#41; {
@@ -103,6 +104,7 @@
 		    &#39;/ops/tools/include/plplot&#39;,
 		    &#39;/ops/tools/include&#39;,
                     &#39;/sw/include/plplot/&#39;,    # default FINK installation
+		    $Config{usrinc}.&#39;/plplot&#39;,
 		    $PDL::Config{WHERE_PLPLOT_INCLUDE},
 		                  # Add new header paths here!!
 		    &#41; {
diff -ru PDL-2.4.8.orig\IO\GD\Makefile.PL PDL-2.4.8\IO\GD\Makefile.PL
--- PDL-2.4.8.orig\IO\GD\Makefile.PL	Fri Mar 18 17:16:31 2011
+++ PDL-2.4.8\IO\GD\Makefile.PL	Tue Apr 19 00:22:02 2011
@@ -6,6 +6,7 @@
 #
 
 use ExtUtils::MakeMaker;
+use Config;
 PDL::Core::Dev-&gt;import&#40;&#41;;
 
 BEGIN
@@ -26,10 +27,12 @@
         &#39;/usr/lib&#39;,
         &#39;/usr/local/lib&#39;,
         &#39;/lib&#39;,
+        split&#40;/ /, $Config{libpth}&#41;,
     &#41;;
     @inc_locations = &#40;
         &#39;/usr/include&#39;,
         &#39;/usr/local/include&#39;,
+        $Config{usrinc},
     &#41;; 
     
     #
diff -ru PDL-2.4.8.orig\IO\HDF\Makefile.PL PDL-2.4.8\IO\HDF\Makefile.PL
--- PDL-2.4.8.orig\IO\HDF\Makefile.PL	Wed Mar 23 02:28:33 2011
+++ PDL-2.4.8\IO\HDF\Makefile.PL	Mon Apr 18 23:55:07 2011
@@ -35,7 +35,8 @@
         &#39;/opt/local/lib&#39;,
         &#39;/usr/lib&#39;,
         &#39;/usr/lib/hdf&#39;,
-        &#39;/opt/lib&#39;
+        &#39;/opt/lib&#39;,
+	split&#40;/ /, $Config{libpth}&#41;,
     &#41;;
     @HDF_inc_locations = &#40;
         &#39;/usr/local/include&#39;,
@@ -43,7 +44,8 @@
         &#39;/opt/local/include&#39;,
         &#39;/usr/include&#39;,
         &#39;/usr/include/hdf&#39;,
-        &#39;/opt/include&#39;
+        &#39;/opt/include&#39;,
+	$Config{usrinc},
     &#41;; 
     
     # get locations from perldl.conf, if specified there:
diff -ru PDL-2.4.8.orig\Lib\FFTW\Makefile.PL PDL-2.4.8\Lib\FFTW\Makefile.PL
--- PDL-2.4.8.orig\Lib\FFTW\Makefile.PL	Sat Jul 24 20:39:28 2010
+++ PDL-2.4.8\Lib\FFTW\Makefile.PL	Tue Apr 19 00:24:13 2011
@@ -2,6 +2,7 @@
 # Makefile.PL for a package defined by PP code.
 
 use ExtUtils::MakeMaker;
+use Config;
 
 PDL::Core::Dev-&gt;import&#40;&#41;;
 
@@ -33,8 +34,8 @@
 
 	# Look for FFTW includes/libs
 	# default locations:
-	@FFTW_inc_locations = &#40;&#39;/usr/local/include&#39;&#41;; 
-	@FFTW_lib_locations = &#40;&#39;/lib&#39;,&#39;/usr/lib&#39;,&#39;/usr/local/lib&#39;&#41;;
+	@FFTW_inc_locations = &#40;&#39;/usr/local/include&#39;, $Config{usrinc}&#41;; 
+	@FFTW_lib_locations = &#40;&#39;/lib&#39;,&#39;/usr/lib&#39;,&#39;/usr/local/lib&#39;,split&#40;/ /, $Config{libpth}&#41;&#41;;
 
 	# get locations from perldl.conf, if specified there:
 	@FFTW_inc_locations = @{$PDL::Config{FFTW_INC}} if&#40; defined $PDL::Config{FFTW_INC} &#41;;
diff -ru PDL-2.4.8.orig\Lib\GIS\Proj\Makefile.PL PDL-2.4.8\Lib\GIS\Proj\Makefile.PL
--- PDL-2.4.8.orig\Lib\GIS\Proj\Makefile.PL	Fri Mar 25 01:04:51 2011
+++ PDL-2.4.8\Lib\GIS\Proj\Makefile.PL	Tue Apr 19 00:24:38 2011
@@ -6,6 +6,7 @@
 #
 
 use ExtUtils::MakeMaker;
+use Config;
 PDL::Core::Dev-&gt;import&#40;&#41;;
 
 use lib &#39;../../../inc&#39;;
@@ -27,11 +28,13 @@
       &#39;/lib64&#39;,
       &#39;/usr/lib&#39;,
       &#39;/usr/local/lib&#39;,
-      &#39;/lib&#39;
+      &#39;/lib&#39;,
+      split&#40;/ /, $Config{libpth}&#41;,
    &#41;;
    @inc_locations = &#40;
       &#39;/usr/include&#39;,
-      &#39;/usr/local/include&#39;
+      &#39;/usr/local/include&#39;,
+      $Config{usrinc},
    &#41;;
 
    #
diff -ru PDL-2.4.8.orig\Lib\Transform\Proj4\Makefile.PL PDL-2.4.8\Lib\Transform\Proj4\Makefile.PL
--- PDL-2.4.8.orig\Lib\Transform\Proj4\Makefile.PL	Fri Mar 25 01:04:56 2011
+++ PDL-2.4.8\Lib\Transform\Proj4\Makefile.PL	Tue Apr 19 00:27:00 2011
@@ -27,11 +27,13 @@
       &#39;/lib64&#39;,
       &#39;/usr/lib&#39;,
       &#39;/usr/local/lib&#39;,
-      &#39;/lib&#39;
+      &#39;/lib&#39;,
+      split&#40;/ /, $Config{libpth}&#41;,
    &#41;;
    @inc_locations = &#40;
       &#39;/usr/include&#39;,
-      &#39;/usr/local/include&#39;
+      &#39;/usr/local/include&#39;,
+      $Config{usrinc},
    &#41;;
 
    #
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;19:13:47&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">On strawberryperl (with incdir like d:/strawberry/include) I need to patch also perldl.conf&nbsp; (on the top of the previous patch).<br>

<br>

In perldl.conf I have commented the following lines:<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFTW_LIBS =&gt; [ '/lib','/usr/lib','/usr/local/lib'],<br>

#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FFTW_INC =&gt; ['/usr/include/','/usr/local/include'],<br>
</div><br>

as it makes autodetection in Lib/FFTW/Makefile.PL useless<br>

<br>

--<br>

kmx<br>

<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;19:13:48&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;18&nbsp;19:33:35&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Thanks for the patch suggestion.&nbsp; One of our development<br>

priorities for the next PDL&nbsp;release is to refactor the many<br>

external dependencies for PDL using the Alien::XXX framework.<br>

Good detection logic will be important for that to work well.<br>

<br>

Another approach I would like to see PDL move to<br>

is to use the Devel::CheckLib module as the default<br>

mechanism to test for library features.<br>

<br>

FYI: PDL development takes place on our sf.net site<br>

and discussion via the mailing lists.&nbsp; See the official<br>

PDL&nbsp;web site to links to both:<br>

<br>

&nbsp;&nbsp;&nbsp; <span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.perl.org">http://pdl.perl.org</a></span><br>

<br>

It can be hit or miss as to when we get to the cpan<br>

bugs tracker reports since we don't use it beyond<br>

checking and forwarding any bugs that show up.<br>

<br>

Thanks for helping out,<br>

Chris<br>

<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;03:10:18&nbsp;2011</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> kmx [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67568] Improved ext. libraries detection</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 19 Apr 2011 09:10:07 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne 19.4.2011 1:33, Chris Marshall via RT napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67568">https://rt.cpan.org/Ticket/Display.html?id=67568</a></span> &gt;
&gt;
&gt; Thanks for the patch suggestion. One of our development
&gt; priorities for the next PDL release is to refactor the many
&gt; external dependencies for PDL using the Alien::XXX framework.
&gt; Good detection logic will be important for that to work well.
</div>
OK. BTW I am &#40;co&#41;maintainer of 3 Alien::* distributions on CPAN - if you
wanna discuss my experiences drop me an e-mail when PDL comes nears the
switch to Alien::* approach.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; FYI: PDL development takes place on our sf.net site
&gt; and discussion via the mailing lists. See the official
&gt; PDL web site to links to both:
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.perl.org">http://pdl.perl.org</a></span>
&gt;
&gt; It can be hit or miss as to when we get to the cpan
&gt; bugs tracker reports since we don&#39;t use it beyond
&gt; checking and forwarding any bugs that show up.
</div>
Sorry, I have missed that &#40;I simply click on &#34;bug report&#34; link at PDL&#39;s
cpan page&#41;.

Should I repost my patch to sf.net? or create a patch against got repo?

In that case I propose to add some meta information into the main
Makefile.PL - for example:

--- Makefile.PL.orig    Sat Mar 12 18:23:32 2011
+++ Makefile.PL    Tue Apr 19 09:02:50 2011
@@ -511,6 +511,13 @@
           &#39;VERSION_FROM&#39; =&gt; &#39;Basic/Core/Version.pm&#39;,
           &#39;EXE_FILES&#39; =&gt; \@exe_files,
           &#39;PM&#39; =&gt; { @podpms }, #so that the script docs are picked up
+              &#39;META_MERGE&#39; =&gt; {
+                   resources =&gt; {
+                     homepage   =&gt; &#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.perl.org/&#39;">http://pdl.perl.org/&#39;</a></span>,
+                     bugtracker =&gt;
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/tracker/?atid=100612&#38;group_id=612&#38;func=browse&#39;">http://sourceforge.net/tracker/?atid=100612&#38;group_id=612&#38;func=browse&#39;</a></span>,
+                     repository =&gt;
&#39;<span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.git.sourceforge.net/git/gitweb.cgi?p=pdl/pdl&#39;">http://pdl.git.sourceforge.net/git/gitweb.cgi?p=pdl/pdl&#39;</a></span>,
+                   },
+               },
               &#39;MAN1PODS&#39; =&gt; { &#39;perldl&#39; =&gt;
&#39;$&#40;INST_MAN1DIR&#41;/perldl.$&#40;MAN1EXT&#41;&#39;,
                               &#39;pdldoc&#39; =&gt;
&#39;$&#40;INST_MAN1DIR&#41;/pdldoc.$&#40;MAN1EXT&#41;&#39; },
           &#39;MAN3PODS&#39; =&gt; {}, # don&#39;t pick up the script pods again


These meta infos will show on PDL&#39;s cpan page.

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;09:48:04&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">On Tue Apr 19 03:10:18 2011, kmx@volny.cz wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  <br>

&gt; OK. BTW I am (co)maintainer of 3 Alien::* distributions on CPAN - if you <br>

&gt; wanna discuss my experiences drop me an e-mail when PDL comes nears the <br>

&gt; switch to Alien::* approach. <br>
</div><br>

Will do.&nbsp; In reviewing the various existing Alien::* implementations,<br>

I noticed that you had a number of them and that they appeared<br>

to be more feature complete than some of the others.&nbsp; Given<br>

that I would be starting from scratch with Module::Build and<br>

the Alien process, your modules looked like the best source<br>

for a starting template.&nbsp; Since PDL has a large number of<br>

external dependencies, I would like to make a template framework<br>

that could be rapidly populated for each dependency, sort of<br>

an Devel::Alien::Builder...<br>

<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  <br>
<div class="message-stanza open">&gt; &gt; FYI: PDL development takes place on our sf.net site <br>

&gt; &gt; and discussion via the mailing lists. See the official <br>

&gt; &gt; PDL web site to links to both: <br>

&gt; &gt; <br>

&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.perl.org">http://pdl.perl.org</a></span> <br>

&gt; &gt; <br>

&gt; &gt; It can be hit or miss as to when we get to the cpan <br>

&gt; &gt; bugs tracker reports since we don't use it beyond <br>

&gt; &gt; checking and forwarding any bugs that show up. <br>
</div>&gt;  <br>

&gt; Sorry, I have missed that (I simply click on &quot;bug report&quot; link at PDL's <br>

&gt; cpan page). <br>

&gt;  <br>

&gt; Should I repost my patch to sf.net? or create a patch against got repo? <br>
</div><br>

It would appreciate if you could repost it to sf.net.&nbsp; The patch<br>

is simple enough that it should apply to current git.&nbsp; Of course,<br>

patches against current git are optimal.&nbsp; :-)<br>

<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In that case I propose to add some meta information into the main <br>

&gt; Makefile.PL - for example: <br>

&gt;  <br>

&gt; --- Makefile.PL.orig    Sat Mar 12 18:23:32 2011 <br>

&gt; +++ Makefile.PL    Tue Apr 19 09:02:50 2011 <br>

&gt; @@ -511,6 +511,13 @@ <br>

&gt;            'VERSION_FROM' =&gt; 'Basic/Core/Version.pm', <br>

&gt;            'EXE_FILES' =&gt; \@exe_files, <br>

&gt;            'PM' =&gt; { @podpms }, #so that the script docs are picked up <br>

&gt; +              'META_MERGE' =&gt; { <br>

&gt; +                   resources =&gt; { <br>

&gt; +                     homepage   =&gt; '<span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.perl.org/&#39;">http://pdl.perl.org/&#39;</a></span>, <br>

&gt; +                     bugtracker =&gt; <br>

&gt; '<span class="clickylink"><a target="new" rel="nofollow" href="http://sourceforge.net/tracker/?atid=100612&#38;amp;group_id=612&#38;amp;func=browse&#39;">http://sourceforge.net/tracker/?atid=100612&#38;amp;group_id=612&#38;amp;func=browse&#39;</a></span>, <br>

&gt; +                     repository =&gt; <br>

&gt; '<span class="clickylink"><a target="new" rel="nofollow" href="http://pdl.git.sourceforge.net/git/gitweb.cgi?p=pdl/pdl&#39;">http://pdl.git.sourceforge.net/git/gitweb.cgi?p=pdl/pdl&#39;</a></span>, <br>

&gt; +                   }, <br>

&gt; +               }, <br>

&gt;                'MAN1PODS' =&gt; { 'perldl' =&gt; <br>

&gt; '$(INST_MAN1DIR)/perldl.$(MAN1EXT)', <br>

&gt;                                'pdldoc' =&gt; <br>

&gt; '$(INST_MAN1DIR)/pdldoc.$(MAN1EXT)' }, <br>

&gt;            'MAN3PODS' =&gt; {}, # don't pick up the script pods again <br>
</div><br>

Thanks for the META info tip.&nbsp; Will definitely fold<br>

that in (anything that makes it easier for PDL<br>

users to ask questions through the mailing list<br>

or to contribute or to report bugs benefits the<br>

PDL community).<br>

<br>

--Chris<br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  <br>

&gt; These meta infos will show on PDL's cpan page. <br>

&gt;  <br>

&gt; -- <br>

&gt; kmx <br>

&gt;  <br>
</div><br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;10:29:00&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Thanks kmx.&nbsp; The patches are applied to PDL&nbsp;git<br>

and will appear in the next PDL developers release.<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;10:29:02&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;10:29:32&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; Should I repost my patch to sf.net? or create a patch against got repo? <br>
</div>&gt;  <br>

&gt; It would appreciate if you could repost it to sf.net. The patch <br>

&gt; is simple enough that it should apply to current git. Of course, <br>

&gt; patches against current git are optimal. :-) <br>
</div><br>

reposted, closing this ticket<br>

<br>

--<br>

kmx<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;10:29:33&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;19&nbsp;10:29:33&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;20&nbsp;08:08:45&nbsp;2011</span>
    <span class="description">david.miko [...] email.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #67568] Improved ext. libraries detection</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 20 Apr 2011 14:08:31 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDL [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dvaid Miko &lt;david.miko [...] email.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Will do. In reviewing the various existing Alien::* implementations,
&gt; I noticed that you had a number of them and that they appeared
&gt; to be more feature complete than some of the others. Given
&gt; that I would be starting from scratch with Module::Build and
&gt; the Alien process, your modules looked like the best source
&gt; for a starting template. Since PDL has a large number of
&gt; external dependencies, I would like to make a template framework
&gt; that could be rapidly populated for each dependency, sort of
&gt; an Devel::Alien::Builder...
</div>
I could even imagine something like Module::Build::Alien which could be
used like:

######## Build.PL ########
use strict;
use warnings;
use Module::Build::Alien;

my $builder = Module::Build::Alien-&gt;new&#40;
  module_name        =&gt; &#39;Alien::Whatever&#39;,
  dist_version_from  =&gt; &#39;lib/Alien/Whatever.pm&#39;,
  dist_author        =&gt; &#39;KMX, kmx@cpan.org&#39;,
  license            =&gt; &#39;perl&#39;,
  requires =&gt; {
    ...
  },
  configure_requires =&gt; {
    ...
  },
  build_requires =&gt; {
    ...
  },
  alien_src_tarball    =&gt; { url=&gt;&#39;http://..../whatever.tgz&#39;,
sha1=&gt;&#39;12e23f7c1b5...&#39; };
  alien_src_patches    =&gt; [&#39;patches/patch1.diff&#39;,&#39;patches/patch1.diff&#39;];
  alien_build_commands =&gt; [
    [qw&#40;./configure --disable-dependency-tracking --enable-static=yes
--enable-shared=no --with-extra-lib --prefix=__BUILDROOT__&#41;],
    [qw&#40;make all&#41;],
    [qw&#40;make install&#41;],
  ];
&#41;;

$builder-&gt;create_build_script&#40;&#41;;
######## end of Build.PL ########

with properly sub-classed methods ACTION_install&#40;&#41;, ACTION_code&#40;&#41;

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;20&nbsp;08:08:46&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;20&nbsp;08:12:48&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">sorry, should be a private message to chris<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;20&nbsp;08:12:49&nbsp;2011</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;01&nbsp;18:11:17&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Yes, that is a better namespace for the functionality.&nbsp; It is<br>

compatible with the Alien::XXX preferred use of Module::Build<br>

<br>

Also, thanks for the META_MERGE suggestion for our<br>

Makefile.PL.&nbsp; It worked where I copied your syntax.&nbsp; Where<br>

I went by the documentation search.cpan.org did not<br>

pick it up.<br>

<br>

--Chris<br>

<br>

On Wed Apr 20 08:08:45 2011, david.miko@email.cz wrote: <br>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  <br>
<div class="message-stanza open">&gt; &gt; Will do. In reviewing the various existing Alien::* implementations, <br>

&gt; &gt; I noticed that you had a number of them and that they appeared <br>

&gt; &gt; to be more feature complete than some of the others. Given <br>

&gt; &gt; that I would be starting from scratch with Module::Build and <br>

&gt; &gt; the Alien process, your modules looked like the best source <br>

&gt; &gt; for a starting template. Since PDL has a large number of <br>

&gt; &gt; external dependencies, I would like to make a template framework <br>

&gt; &gt; that could be rapidly populated for each dependency, sort of <br>

&gt; &gt; an Devel::Alien::Builder... <br>
</div>&gt;  <br>

&gt; I could even imagine something like Module::Build::Alien which could be <br>

&gt; used like: <br>

&gt;  <br>
<div class="message-stanza open">&gt; ######## Build.PL ######## <br>
</div>&gt; use strict; <br>

&gt; use warnings; <br>

&gt; use Module::Build::Alien; <br>

&gt;  <br>

&gt; my $builder = Module::Build::Alien-&gt;new( <br>

&gt;   module_name        =&gt; 'Alien::Whatever', <br>

&gt;   dist_version_from  =&gt; 'lib/Alien/Whatever.pm', <br>

&gt;   dist_author        =&gt; 'KMX, kmx@cpan.org', <br>

&gt;   license            =&gt; 'perl', <br>

&gt;   requires =&gt; { <br>

&gt;     ... <br>

&gt;   }, <br>

&gt;   configure_requires =&gt; { <br>

&gt;     ... <br>

&gt;   }, <br>

&gt;   build_requires =&gt; { <br>

&gt;     ... <br>

&gt;   }, <br>

&gt;   alien_src_tarball    =&gt; { url=&gt;'http://..../whatever.tgz', <br>

&gt; sha1=&gt;'12e23f7c1b5...' }; <br>

&gt;   alien_src_patches    =&gt; ['patches/patch1.diff','patches/patch1.diff']; <br>

&gt;   alien_build_commands =&gt; [ <br>

&gt;     [qw(./configure --disable-dependency-tracking --enable-static=yes <br>

&gt; --enable-shared=no --with-extra-lib --prefix=__BUILDROOT__)], <br>

&gt;     [qw(make all)], <br>

&gt;     [qw(make install)], <br>

&gt;   ]; <br>

&gt; ); <br>

&gt;  <br>

&gt; $builder-&gt;create_build_script(); <br>
<div class="message-stanza open">&gt; ######## end of Build.PL ######## <br>
</div>&gt;  <br>

&gt; with properly sub-classed methods ACTION_install(), ACTION_code() <br>

&gt;  <br>

&gt; -- <br>

&gt; kmx <br>

&gt;  <br>
</div><br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;01&nbsp;18:11:18&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;01&nbsp;18:11:19&nbsp;2011</span>
    <span class="description">chm [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;13&nbsp;08:42:16&nbsp;2015</span>
    <span class="description">chm [...] cpan.org -  Status changed from &#39;patched&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;13&nbsp;08:42:16&nbsp;2015</span>
    <span class="description">chm [...] cpan.org -  Fixed in 2.014 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;13&nbsp;08:42:17&nbsp;2015</span>
    <span class="description">chm [...] cpan.org -  Broken in 2.4.8 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
