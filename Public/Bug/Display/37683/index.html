<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #37683 for IPC-System-Simple: system&#40;$cmd, @args&#41; invokes the shell when @args is empty</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #37683 for IPC-System-Simple: system&#40;$cmd, @args&#41; invokes the shell when @args is empty</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IPC-System-Simple">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IPC-System-Simple">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IPC-System-Simple">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IPC-System-Simple">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/pjf/ipc-system-simple/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/IPC-System-Simple">IPC-System-Simple CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">37683</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IPC-System-Simple">IPC-System-Simple</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">PJF [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
IKEGAMI [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-40366-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.12    </td>
  </tr>
  <tr id="CF-40367-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.13    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=37683">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486324" href="/Public/Bug/Display.html?id=37683#txn-486324">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;14&nbsp;22:53:40&nbsp;2008</span>
    <span class="description">IKEGAMI [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Invokes shell when it says it doesn&#39;t</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/486324/240394/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240394">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 525b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">According to your documentation, &#34;system&#40;$cmd, @args&#41;;&#34; executes the
command while &#34;avoiding the shell&#34;, but that&#39;s not always true.

The following code doesn&#39;t execute the specified program, passing it to
the shell as a shell command instead.

    use IPC::System::Simple qw&#40; system &#41;;

    my $cmd = q{notepad &gt; foo};
    my @args = &#40;&#41;;

    system&#40;$cmd, @args&#41;;

I don&#39;t consider this just a documentation bug. The module is useless to
me if it doesn&#39;t provides a means of avoiding the shell &#40;both for
capturing and not&#41;.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486332" href="/Public/Bug/Display.html?id=37683#txn-486332">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;14&nbsp;23:39:03&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486356" href="/Public/Bug/Display.html?id=37683#txn-486356">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;00:30:03&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/486356/240408/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240408">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">G&#39;day ikegami,

On Mon Jul 14 22:53:40 2008, ikegami wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; According to your documentation, &#34;system&#40;$cmd, @args&#41;;&#34; executes the
&gt; command while &#34;avoiding the shell&#34;, but that&#39;s not always true.
</div>
You&#39;re quite right here.  IPC::System::Simple tries to use similar
semantics to Perl&#39;s built-in system&#40;&#41;.  Unfortunately, it&#39;s so similar
it also duplicates some of the bugs.  Both suffer the identical problem
with:

   system&#40;$cmd, @args&#41;;

calling the shell when @args is an empty list.  The built-in provides an
ugly way around this by having the &#34;exotic&#34; form of system, but that&#39;s
not an option to me, since the exotic form of system can&#39;t be prototyped.

There are a few work-arounds that sometimes get seen, notably by
appending the empty string or &#34;--&#34; to the argument list &#40;depending upon
the command and the OS&#41;.  However they&#39;re clunky, ugly, and not
&#34;simple&#34;, which is what this module is all about.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t consider this just a documentation bug. The module is useless to
&gt; me if it doesn&#39;t provides a means of avoiding the shell &#40;both for
&gt; capturing and not&#41;.
</div>
I can create an interface into IPC::System::Simple for system/capture
that never invokes the shell.  The hard part here is determining the
name for such an interface.  The following are verbose and obvious, but
I think are too ugly:

    noshell_system&#40;...&#41;;
    noshell_capture&#40;...&#41;;

I&#39;m tempted by:

    systemx&#40;...&#41;;
    capturex&#40;...&#41;;

or:

    xsystem&#40;...&#41;;
    xcapture&#40;...&#41;;

because they&#39;re only a single keystroke different, they still read
nicely, and the the &#39;x&#39; fits nicely into my brain as being short for
&#34;exclude the shell&#34;.

Suggestions for better names highly appreciated, especially since I&#39;d
like to implement said interface by OSCON &#40;next week&#41;.

Another option is extending the interface a little by allowing special
symbols in the list of exit values, eg:

   system&#40; [ NO_SHELL ], $cmd, @args&#41;;

However this feels very inelegant, and not at all simple.

Of course, what I&#39;d *really* like is for the code to actually Do What I
Mean when one writes:

   system&#40;$cmd, @args&#41;;
   capture&#40;$cmd, @args&#41;;

That&#39;s a hard problem, because once we&#39;re inside system/capture, I don&#39;t
know of any way that allows me to tell if @args was absent, or merely
empty, especially if I want to retain backwards compatibility with
5.6.0.  I don&#39;t consider using source filters to achieve this to be a
good idea.

Further thoughts, suggestions, feedback, and patches[1] are all very
welcome.

Many thanks,

   Paul

[1] <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/pfenwick/ipc-system-simple/tree/master">http://github.com/pfenwick/ipc-system-simple/tree/master</a></span> is the
source repository for the module.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486357" href="/Public/Bug/Display.html?id=37683#txn-486357">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;00:30:09&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486359" href="/Public/Bug/Display.html?id=37683#txn-486359">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;00:30:41&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Subject changed from &#39;Invokes shell when it says it doesn&#39;t&#39; to &#39;system&#40;$cmd, @args&#41; invokes the shell when @args is empty&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486364" href="/Public/Bug/Display.html?id=37683#txn-486364">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;00:42:28&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/486364/240410/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240410">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 323b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 15 00:30:03 2008, PJF wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m tempted by:
&gt; 
&gt;     systemx&#40;...&#41;;
&gt;     capturex&#40;...&#41;;
</div>
FWIW, I think systemx&#40;&#41; is better than xsystem&#40;&#41;.  It sorts next to
system&#40;&#41; when doing keyword completion, and it *looks* more like
system&#40;&#41; to me, which means it mentally gets less in the way when trying
to skim code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486366" href="/Public/Bug/Display.html?id=37683#txn-486366">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;01:06:40&nbsp;2008</span>
    <span class="description">ikegami [...] adaelis.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #37683] Invokes shell when it says it doesn&#39;t</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 15 Jul 2008 01:05:08 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-IPC-System-Simple [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Eric Brine&#34; &lt;ikegami [...] adaelis.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/486366/240412/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240412">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 547b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue, Jul 15, 2008 at 12:30 AM, PJF via RT
&lt;bug-IPC-System-Simple@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The hard part here is determining the name for such an interface.
</div>
I agree, thus the lack of suggestion in my bug report. Nothing
compelling comes to mind.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can create an interface into IPC::System::Simple for system/capture
&gt; that never invokes the shell.
</div>
Have you considered not invoking the shell by default? or ever? &#40;The
user can always execute &#34;sh&#34; explicitly.&#41; It&#39;s just an idea, but I
like forcing people to realize the shell is involved.

ELB
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486382" href="/Public/Bug/Display.html?id=37683#txn-486382">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;01:31:25&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/486382/240423/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240423">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 15 01:06:40 2008, ikegami@adaelis.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Have you considered not invoking the shell by default? or ever? &#40;The
&gt; user can always execute &#34;sh&#34; explicitly.&#41; It&#39;s just an idea, but I
&gt; like forcing people to realize the shell is involved.
</div>
For me personally, never implicitly invoking the shell would be
wonderful.  Unfortunately, it&#39;s not a change I can make in
IPC::System::Simple without breaking other people&#39;s code, as well as my own.

One of the big selling points for IPC::System::Simple is that one can write:

    use IPC::System::Simple qw&#40;system&#41;;

at the top of existing code, and all calls to system&#40;&#41; continue to work
the same way[1], but they now throw exceptions if something goes wrong.
 It&#39;s especially useful to retrofit better error checking onto legacy code.

Having single-arg system start avoiding the shell means all the code out
there which relies upon that &#34;feature&#34; becomes incompatible with
IPC::System::Simple.  It stops being an easy solution to fix-up legacy code.

Cheerio,

   Paul

[1] Except for the exotic form, which turns into an obvious syntax error.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486410" href="/Public/Bug/Display.html?id=37683#txn-486410">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;04:39:19&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/486410/240440/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240440">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">G&#39;day ikegami,

I&#39;ve added systemx&#40;&#41; and capturex&#40;&#41; to the development version of
IPC::System::Simple.  You can grab a pre-release tarball at:

   <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/pfenwick/ipc-system-simple/tarball/master">http://github.com/pfenwick/ipc-system-simple/tarball/master</a></span>

&#40;Apologies for the ugly filename it will give you&#41;, or if you have git
installed, you can clone the repository with:

   git clone git://github.com/pfenwick/ipc-system-simple.git

You can safely ignore the warning about missing the META.yml files, this
is automatically generated by my build system for stable releases.

Note that capturex&#40;&#41; and systemx&#40;&#41; are not yet fully documented in the
dev version at the moment.  They will be before the final release.

All the existing tests pass with the new code, as do my &#40;rather minimal&#41;
extra tests in t/12_systemx.t, at least on my Linux, WinXP, and cygwin
systems.

It should be noted that capture&#40;&#41; under Windows has never invoked the
shell, however it *does* use the presence of additional arguments to
determine if it should treat the first argument as a command or a
command-line.  capturex&#40;&#41; will force it to always be treated as a
command, so:

   capturex&#40;&#34;ipconfig /all&#34;&#41;;

will fail &#40;the command ipconfig /all doesn&#39;t exist&#41;, whereas:

   capture&#40;&#34;ipconfig /all&#34;&#41;;

will fail.

There may still be bugs in the dev version of IPC::System::Simple; my
brain is partially fried form having spent the entire day preparing
slides for OSCON, so I haven&#39;t had a chance to look over the alterations
with the diligence and clarity I would like, which is partially
reflected in the short 12_systemx.t tests right now.

If you do spot any problems, let me know.

IPC::System::Simple 0.13 should be released to the CPAN by the end of
the week, since I&#39;ll be relying upon systemx&#40;&#41; and capturex&#40;&#41; existing
for OSCON.

Many thanks again for the bug report,

   Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-486412" href="/Public/Bug/Display.html?id=37683#txn-486412">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;15&nbsp;04:43:41&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/486412/240442/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240442">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 512b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 15 04:39:19 2008, PJF wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;    capturex&#40;&#34;ipconfig /all&#34;&#41;;
&gt; 
&gt; will fail &#40;the command ipconfig /all doesn&#39;t exist&#41;, whereas:
&gt; 
&gt;    capture&#40;&#34;ipconfig /all&#34;&#41;;
&gt; 
&gt; will fail.
</div>
D&#39;uh!  The capture&#40;&#41; example there will succeed.  Even though it doesn&#39;t
invoke the shell, IPC::System::Simple extracts the command from the
command-line, searches the path, and calls &#34;ipconfig.exe&#34;.

capturex&#40;&#41; should still search the path, but will assume the first
argument is the full command name.

Cheerio,

   Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-487245" href="/Public/Bug/Display.html?id=37683#txn-487245">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;17&nbsp;06:52:29&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/487245/240910/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/240910">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 589b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">G&#39;day ikegami,

IPC::System::Simple has just hit the CPAN, and will soon be reaching a
mirror near you.  It provides runx&#40;&#41;, systemx&#40;&#41; and capturex&#40;&#41; which
work just like their namesakes, but never invoke the shell, even if
called with only one argument.  As such, I&#39;m marking this bug as
resolved.  You&#39;ve also got an acknowledgement in the changelog.

If you feel this is in error, then I&#39;m sure you already know that
responding to this e-mail will re-open the ticket.  ;&#41;

Many thanks again for the report.  May you do good things with
IPC::System::Simple.

All the very best,

    Paul
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-487247" href="/Public/Bug/Display.html?id=37683#txn-487247">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;17&nbsp;06:52:37&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-488036" href="/Public/Bug/Display.html?id=37683#txn-488036">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;20&nbsp;02:32:56&nbsp;2008</span>
    <span class="description">PJF [...] cpan.org -  Fixed in 0.13 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.542268</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
