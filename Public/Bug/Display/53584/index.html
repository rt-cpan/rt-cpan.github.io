<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #53584 for Alien-wxWidgets: Another 64-bit troubles with mingw-w64 compiler</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #53584 for Alien-wxWidgets: Another 64-bit troubles with mingw-w64 compiler</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Alien-wxWidgets/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Alien-wxWidgets/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Alien-wxWidgets/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Alien-wxWidgets/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Alien-wxWidgets">Alien-wxWidgets CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">53584</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Alien-wxWidgets/Active/">Alien-wxWidgets</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kmx [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-1022-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-1023-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;11&nbsp;04:48:57&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Another 64-bit troubles with mingw-w64 compiler</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I have done another testing with mingw-w64 bit compiler.

After fixing #53471 and #53293 Alien::wxWidgets works nice with 32-bit
compiler from mingw-w64 projects. However there are still some issue
concerning 64-bit compiler by mingw-w64 &#40;yes they do not deliver only
64-bit compiler&#41;. 

Here are 2 of them &#40;both tested on Alien::wxWidgets 0.50 +
wxWidgets-2.8.10&#41;:

1&#41; filefn.h issue

I have experienced this error during compilation:

g++ -c -o gcc_mswudll\basedll_appbase.o  -O2 -mthreads  -DHAVE_W32API_H
-D__WXMSW__ -D_UNICODE   -I..\..\lib\gcc_dll\mswu -I..\..\include -Wall
-I..\..\src\tiff -I..\..\src\jpeg -I..\..\src\png -I..\..\src\zlib
-I..\..\src\regex -I..\..\src\expat\lib -DwxUSE_GUI=0 DWXMAKINGDLL_BASE
-DwxUSE_BASE=1   -Wno-ctor-dtor -privacy
-MTgcc_mswudll\basedll_appbase.o -MFgcc_mswudll\basedll_appbase.o.d -MD
-MP ../../src/common/appbase.cpp
In file included from ..\..\include/wx/utils.h:21,
                 from ../../src/common/appbase.cpp:35:
..\..\include/wx/filefn.h:286: error: &#39;stati64&#39; in namespace &#39;::&#39; does
not name a type
make: *** [gcc_mswudll\basedll_appbase.o] Error 1

The problem is in this section of filefn.h:

#if defined&#40;__BORLANDC__&#41; || defined&#40;__DMC__&#41; || defined&#40;__WATCOMC__&#41; ||
defined&#40;__MINGW64__&#41;
    #define wxPOSIX_IDENT&#40;func&#41;    ::func
#else // by default assume MSVC-compatible names
    #define wxPOSIX_IDENT&#40;func&#41;    _ ## func
    #define wxHAS_UNDERSCORES_IN_POSIX_IDENTS
#endif

I do not know why there is defined&#40;__MINGW64__&#41; because AFAIK mingw-w64
compiler fits into #else branche &#40;uses underscore&#41;.

Fix is to remove defined&#40;__MINGW64__&#41; from #if condition

Note:
__MINGW64__ is defined by 64-bit compiler from mingw-w64 project
__MINGW32__ is defined by both 32/64-bit compilers from mingw-w64 project

2&#41; Problem with src/msw/thread.cpp

g++ -c -o gcc_mswudll\basedll_thread.o  -O2 -mthreads  -DHAVE_W32API_H
-D__WXMSW__ -D_UNICODE -I..\..\lib\gcc_dll\mswu -I..\..\include -Wall
-I..\..\src\tiff -I..\..\src\jpeg -I..\..\src\png -I..\..\src\zlib
-I..\..\src\regex -I..\..\src\expat\lib -DwxUSE_GUI=0 -DWXMAKINGDLL_BASE
-DwxUSE_BASE=1   -Wno-ctor-dtor-privacy  
-MTgcc_mswudll\basedll_thread.o -MFgcc_mswudll\basedll_thread.o.d -MD
-MP ../../src/msw/thread.cpp
../../src/msw/thread.cpp: In static member function &#39;static
THREAD_RETVAL wxThreadInternal::DoThreadStart&#40;wxThread*&#41;&#39;:
../../src/msw/thread.cpp:525: error: cast from &#39;void*&#39; to
&#39;THREAD_RETVAL&#39; losesprecision
../../src/msw/thread.cpp: In member function &#39;wxThreadError
wxThreadInternal::WaitForTerminate&#40;wxCriticalSection&#38;, void**, wxThread*&#41;&#39;:
../../src/msw/thread.cpp:845: error: cast from &#39;void*&#39; to &#39;DWORD&#39; loses
precision
../../src/msw/thread.cpp: In member function &#39;void wxThread::Exit&#40;void*&#41;&#39;:
../../src/msw/thread.cpp:1165: error: cast from &#39;void*&#39; to &#39;unsigned
int&#39; loses precision
gmake: *** [gcc_mswudll\basedll_thread.o] Error 1

The problem is IMHO in this section of 

// define wxUSE_BEGIN_THREAD if the compiler has _beginthreadex&#40;&#41; function
// which should be used instead of Win32 ::CreateThread&#40;&#41; if possible
#if defined&#40;__VISUALC__&#41; || \
    &#40;defined&#40;__BORLANDC__&#41; &#38;&#38; &#40;__BORLANDC__ &gt;= 0x500&#41;&#41; || \
    &#40;defined&#40;__GNUG__&#41; &#38;&#38; defined&#40;__MSVCRT__&#41;&#41; || \
    defined&#40;__WATCOMC__&#41; || defined&#40;__MWERKS__&#41;

as it should contain also defined&#40;__MINGW64__&#41; or perhaps also
defined&#40;__MINGW32__&#41; - in case of incompatibility with mingw.org headers
we can use defined&#40;__MINGW64_VERSION_MAJOR&#41;.

Unfortunately I am short of time to test it further now, I just want to
keep a record of my up-to-now findings.

If anybody wants to analyse issues on MS Windows 64-bit platform here
you can download my strawberry-like manual build of 64-bit perl:
<span class="clickylink"><a target="new" rel="nofollow" href="http://svn.ali.as/cpan/users/kmx/strawberry_64bit-pre/">http://svn.ali.as/cpan/users/kmx/strawberry_64bit-pre/</a></span>

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;06:00:25&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza">Hi, <br>

<br>

I am back with a patch for enabling Alien::wxWidgets to build via 64bit mingw-w64 compiler.<br>

<br>

1/ it turns out that it is nearly impossible to make wxwidgets 2.8.10 to build via 64bit gcc from mingw-w64.sf.net<br>

<br>

2/ so I&nbsp;have focused just on 2.9.0 and I was successfull<br>

<br>

<br>

Please find eclosed files:<br>

<br>

a/ Alien-wxWidgets-0.50_01-win64.patch&nbsp; - changes Build.PL + patches\data-2.9.0<br>

<br>

b/ patches/wxMSW-2.9.0-makefiles.patch - updated file<br>

<br>

c/ patches/wxMSW-2.9.0-w64-filefn.patch - new file<br>

<br>

I&nbsp;have successfully tested patched Alien::wxWidgets on the following MS Win compilers<br>

- 32bit/gcc3 (currently used in strawberry perl 5.8/5.10)<br>

- 32bit/gcc4 (expected to be used in upcomming strawberry perl 5.11/5.12)<br>

- 64bit/gcc4 (expected to be used in upcomming strawberry perl  5.11/5.12)<br>

<br>

--<br>

kmx<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;06:00:31&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;06:01:44&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza">files<br>
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Alien-wxWidgets-0.50_01-win64.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ru Alien-wxWidgets-0.50_01.orig\Build.PL Alien-wxWidgets-0.50_01.64b\Build.PL
--- Alien-wxWidgets-0.50_01.orig\Build.PL	Fri Feb 26 17:10:01 2010
+++ Alien-wxWidgets-0.50_01.64b\Build.PL	Thu Mar 11 11:39:34 2010
@@ -5,6 +5,7 @@
 use strict;
 use lib &#34;lib&#34;, &#34;inc&#34;;
 use My::Build;
+use Config;
 
 our&#40; $TYPE, $URL &#41;;
 
@@ -22,6 +23,17 @@
 ==========================================================
 EOT
     exit 1;
+}
+
+if&#40; &#40;$^O eq &#39;MSWin32&#39;&#41; &#38;&#38; &#40;$Config{cc} =~ /gcc/&#41; &#38;&#38; &#40;$Config{archname} eq &#39;MSWin32-x64-multi-thread&#39;&#41; &#41; {
+    print &lt;&lt;EOT;
+==========================================================
+You are running 64bit perl on MS Windows &#40;gcc compiler&#41;.
+On this platform it is supported to build just wxwidgets
+version 2.9.0 &#40;or higher&#41;.
+==========================================================
+EOT
+    $DEFAULT_VERSION = &#39;2.9.0&#39;;
 }
 
 # new_from_context is broken: it does not restore
diff -ru Alien-wxWidgets-0.50_01.orig\patches\data-2.9.0 Alien-wxWidgets-0.50_01.64b\patches\data-2.9.0
--- Alien-wxWidgets-0.50_01.orig\patches\data-2.9.0	Fri Feb 26 17:10:01 2010
+++ Alien-wxWidgets-0.50_01.64b\patches\data-2.9.0	Wed Mar 10 23:37:35 2010
@@ -12,6 +12,7 @@
 wxMSW-2.9.0-makefiles.patch
 wxMSW-2.9.0-version.patch
 wxMSW-2.8.10-mingw64.patch
+wxMSW-2.9.0-w64-filefn.patch
                                &#41;, @common ],
                },
   mac     =&gt; { unicode =&gt; [ qw&#40;wxMac-2.9.0-textctrl.patch
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> wxMSW-2.9.0-w64-filefn.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- include\wx\filefn.h	Fri Sep 04 06:51:54 2009
+++ include\wx\filefn.h	Wed Mar 10 21:41:47 2010
@@ -203,7 +203,7 @@
     // to avoid using them as they&#39;re not present in earlier versions and
     // always using the native functions spelling is easier than testing for
     // the versions
-    #if defined&#40;__BORLANDC__&#41; || defined&#40;__DMC__&#41; || defined&#40;__WATCOMC__&#41; || defined&#40;__MINGW64__&#41;
+    #if defined&#40;__BORLANDC__&#41; || defined&#40;__DMC__&#41; || defined&#40;__WATCOMC__&#41;
         #define wxPOSIX_IDENT&#40;func&#41;    ::func
     #else // by default assume MSVC-compatible names
         #define wxPOSIX_IDENT&#40;func&#41;    _ ## func
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> wxMSW-2.9.0-makefiles.patch</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;11&nbsp;16:06:52&nbsp;2010</span>
    <span class="description">mattia.barbon [...] libero.it -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53584] Another 64-bit troubles with mingw-w64 compiler</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 11 Mar 2010 22:02:00 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-wxWidgets [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mattia Barbon &lt;mattia.barbon [...] libero.it&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">kmx via RT wrote:

   Hi,

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am back with a patch for enabling Alien::wxWidgets to build via 64bit
&gt; mingw-w64 compiler.
&gt; 
&gt; 1/ it turns out that it is nearly impossible to make wxwidgets 2.8.10 to build
&gt; via 64bit gcc from mingw-w64.sf.net
&gt; 
&gt; 2/ so I have focused just on 2.9.0 and I was successfull
&gt; 
&gt; 
&gt; Please find eclosed files:
&gt; 
&gt; a/ Alien-wxWidgets-0.50_01-win64.patch - changes Build.PL + patches\data-2.9.0
</div>
   I will not apply the patch to automatically switch to wxWidgets 
2.9.0, for the same reasons A::wx does not build 2.9.x on 64 bit OS X: 
if somebody _wants_ to try 2.9.x he can, but users installing it as a 
dependency of &#40;say&#41; Padre should not get a wx development version as 
default.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; b/ patches/wxMSW-2.9.0-makefiles.patch - updated file
</div>
   The only change is a s/-lwsock32/-lws2_32/, right?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; c/ patches/wxMSW-2.9.0-w64-filefn.patch - new file
</div>
   Will apply.

Thanks!
Mattia
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;12&nbsp;03:39:07&nbsp;2010</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53584] Another 64-bit troubles with mingw-w64 compiler</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 12 Mar 2010 09:37:51 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-wxWidgets [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; a/ Alien-wxWidgets-0.50_01-win64.patch - changes Build.PL + patches\data-2.9.0
&gt;&gt;     
</div>&gt; I will not apply the patch to automatically switch to wxWidgets 
&gt; 2.9.0, for the same reasons A::wx does not build 2.9.x on 64 bit OS X: 
&gt; if somebody _wants_ to try 2.9.x he can, but users installing it as a 
&gt; dependency of &#40;say&#41; Padre should not get a wx development version as 
&gt; default.
&gt;   
</div>OK, but maybe it is worth at least to show users the warning about
expected troubles &#40;note that I have changed the default just for MS
Windows 64bit + gcc&#41;.

As wx-2.8.10 simply cannot be build on 64bit MS Windows via gcc, Padre
users on 64bit MS Windows installing A:wx as a dependecy with current
defaults will end up with build failure.

On the other hand  I have to admit that there are some strange 64bit
troubles with Wx module so it wont be easy to install Padre on 64bit MS
Windows anyway.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; b/ patches/wxMSW-2.9.0-makefiles.patch - updated file
&gt;&gt;     
</div>&gt; The only change is a s/-lwsock32/-lws2_32/, right?
&gt;   
</div>Exactly, as there is no wsock32 on 64bit MS Windows, on the other hand
ws2_32works with both &#40;32/64bit&#41;

Thanks for prompt response.

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;12&nbsp;04:28:34&nbsp;2010</span>
    <span class="description">mbarbon [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Il Ven 12 Mar 2010 03:39:07, kmx@volny.cz ha scritto:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; a/ Alien-wxWidgets-0.50_01-win64.patch - changes Build.PL +
</div></div>&gt; patches\data-2.9.0
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt;
</div>&gt; &gt; I will not apply the patch to automatically switch to wxWidgets
&gt; &gt; 2.9.0, for the same reasons A::wx does not build 2.9.x on 64 bit OS
</div>&gt; X:
<div class="message-stanza open">&gt; &gt; if somebody _wants_ to try 2.9.x he can, but users installing it as
</div>&gt; a
<div class="message-stanza open">&gt; &gt; dependency of &#40;say&#41; Padre should not get a wx development version as
&gt; &gt; default.
&gt; &gt;
</div>&gt; OK, but maybe it is worth at least to show users the warning about
&gt; expected troubles &#40;note that I have changed the default just for MS
&gt; Windows 64bit + gcc&#41;.
</div>
  I looked at the failures in the 2.8 branch &#40;2.8.11-to-be&#41; and they 
seem fixable with some selective backport.  I will try to fix them in 
the weekend.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As wx-2.8.10 simply cannot be build on 64bit MS Windows via gcc, Padre
&gt; users on 64bit MS Windows installing A:wx as a dependecy with current
&gt; defaults will end up with build failure.
</div>
  If I can&#39;t fix 2.8 to compile, I will add an error message &#40;like
it&#39;s done for OS X&#41;.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On the other hand  I have to admit that there are some strange 64bit
&gt; troubles with Wx module so it wont be easy to install Padre on 64bit
&gt; MS
&gt; Windows anyway.
</div>
  I don&#39;t know if you also tested with a 32 bit 2.9.0.  Maybe they&#39;re 
just 2.9.0 problems and not related to 64 bit?

Regards,
Mattia
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Mar&nbsp;12&nbsp;08:07:23&nbsp;2010</span>
    <span class="description">kmx [...] volny.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #53584] Another 64-bit troubles with mingw-w64 compiler</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 12 Mar 2010 14:06:14 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Alien-wxWidgets [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kmx &lt;kmx [...] volny.cz&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; On the other hand  I have to admit that there are some strange 64bit
&gt;&gt; troubles with Wx module so it wont be easy to install Padre on 64bit
&gt;&gt; MS Windows anyway.
&gt;&gt;     
</div>&gt; I don&#39;t know if you also tested with a 32 bit 2.9.0.  Maybe they&#39;re 
&gt; just 2.9.0 problems and not related to 64 bit?
&gt;   
</div>
You are right, I have not checked if the same troubles occurs also on
32bit + 2.9.0 &#40;checked only 32bit + 2.8.10&#41;.

--
kmx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;15&nbsp;07:12:14&nbsp;2010</span>
    <span class="description">mbarbon [...] users.sourceforge.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">[sorry if you get this twice]

Il Ven 12 Mar 2010 04:28:34, MBARBON ha scritto:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Il Ven 12 Mar 2010 03:39:07, kmx@volny.cz ha scritto:
<div class="message-stanza open">&gt; &gt; OK, but maybe it is worth at least to show users the warning about
&gt; &gt; expected troubles &#40;note that I have changed the default just for MS
&gt; &gt; Windows 64bit + gcc&#41;.
</div>&gt; 
&gt;   I looked at the failures in the 2.8 branch &#40;2.8.11-to-be&#41; and they 
&gt; seem fixable with some selective backport.  I will try to fix them in 
&gt; the weekend.
</div>
  I added a patch set to A::wx and committed a one-line patch to
wxPerl and it seems to work &#40;a quick tour of the Demo shows no obvious 
errors&#41;.  YMMV.

Regards,
Mattia
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Mar&nbsp;29&nbsp;10:17:08&nbsp;2010</span>
    <span class="description">kmx [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;   I added a patch set to A::wx and committed a one-line patch to <br>

&gt; wxPerl and it seems to work (a quick tour of the Demo shows no obvious  <br>

&gt; errors).  YMMV. <br>
</div><br>

I can confirm, that on 64bit Strawberry Perl 5.12.0-RC0 Alien-wxWidgets-0.50_02 (wx2.8.10) builds OK.<br>

<br>

I only needed to fix separately reported issue:<br>

<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=56057">http://rt.cpan.org/Ticket/Display.html?id=56057</a></span><br>

<br>

--<br>

kmx<br>

<br>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;30&nbsp;16:12:10&nbsp;2010</span>
    <span class="description">mbarbon [...] users.sourceforge.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
