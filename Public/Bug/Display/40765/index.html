<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #40765 for Time-y2038: Test failure on x86_64</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #40765 for Time-y2038: Test failure on x86_64</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Time-y2038/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Time-y2038/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Time-y2038/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Time-y2038/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Time-y2038">Time-y2038 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">40765</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Time-y2038/Active/">Time-y2038</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
chris [...] fedde.us

<br />
grousse [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
perl-cpan [...] bereft.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-224268-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
20081106</li>
<li>
20081111</li>
</ul>
    </td>
  </tr>
  <tr id="CF-224269-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;08&nbsp;11:42:44&nbsp;2008</span>
    <span class="description">grousse [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Test failure on x86_64</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is test output:

+ ./Build test
t/everywhere....ok                                                     
     
t/time..........ok 1/0                                                 
     
t/time..........NOK 15/0#   Failed test &#39;localtime&#40;-2**52&#41;&#39;            
     
#   at t/time.t line 46.
#     Structures begin differing at:
#          $got-&gt;[0] = &#39;46&#39;
#     $expected-&gt;[0] = &#39;44&#39;

#   Failed test at t/time.t line 50.
t/time..........NOK 18/0#          got: &#39;Mon Jan 25 12:18:46 -142711421&#39;
    
#     expected: &#39;Mon Jan 25 12:11:44 -142711421&#39;
# Looks like you failed 2 tests of 33.
t/time..........dubious                                                
     
        Test returned status 2 &#40;wstat 512, 0x200&#41;
DIED. FAILED tests 15, 18
        Failed 2/33 tests, 93.94% okay
t/timegm........ok 1/0                                                 
     
#   Failed test &#39;timelocal&#40;localtime&#40;-4503599627370496&#41;&#41;&#39;
t/timegm........NOK 3/0#   at t/timegm.t line 20.                      
     
#          got: -4503599627370074
#     expected: -4503599627370496
t/timegm........ok 4/0# Looks like you failed 1 test of 25.            
     
t/timegm........dubious                                                
     
        Test returned status 1 &#40;wstat 256, 0x100&#41;
DIED. FAILED test 3
        Failed 1/25 tests, 96.00% okay
Failed Test Stat Wstat Total Fail  List of Failed
-------------------------------------------------------------------------------
t/time.t       2   512    33    2  15 18
t/timegm.t     1   256    25    1  3
Failed 2/3 test scripts. 3/60 subtests failed.
Files=3, Tests=60,  3 wallclock secs &#40; 3.20 cusr +  0.06 csys =  3.26 CPU&#41;
Failed 2/3 test programs. 3/60 subtests failed.

This happen on mandriva linux cooker, on x86_64 only, as tests pass on i586.
Here is min/max check test output:
     gmtime_max:  67768036191676800
     gmtime_min:  -67768040609740800
  localtime_max:  67768036191673200
  localtime_min:  -67768040609741360

Perl version is 5.10.0
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;10&nbsp;04:40:53&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 10 Nov 2008 01:39:38 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Guillaume Rousse via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is test output:
&gt;
&gt; t/time..........NOK 15/0#   Failed test &#39;localtime&#40;-2**52&#41;&#39;            
&gt;      
&gt; #   at t/time.t line 46.
&gt; #     Structures begin differing at:
&gt; #          $got-&gt;[0] = &#39;46&#39;
&gt; #     $expected-&gt;[0] = &#39;44&#39;
&gt; 
&gt; #   Failed test at t/time.t line 50.
&gt; t/time..........NOK 18/0#          got: &#39;Mon Jan 25 12:18:46 -142711421&#39;
&gt;     
&gt; #     expected: &#39;Mon Jan 25 12:11:44 -142711421&#39;
&gt; # Looks like you failed 2 tests of 33.
</div>
It&#39;s really weird to be off by 7 minutes and 2 seconds.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; #   Failed test &#39;timelocal&#40;localtime&#40;-4503599627370496&#41;&#41;&#39;
&gt; t/timegm........NOK 3/0#   at t/timegm.t line 20.                      
&gt;      
&gt; #          got: -4503599627370074
&gt; #     expected: -4503599627370496
</div>
422 seconds, that&#39;s 7 minutes and 2 seconds again.  Very odd.

I suspect internal floating point error.  Could you try the following C program?

#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
#include &lt;stdlib.h&gt;

int main&#40;void&#41; {
    time_t have        = -4503599627370496LL;
    time_t from_mktime;
    time_t Time_Zero   = 0;
    struct tm *date;

    date = localtime&#40;&#38;have&#41;;
    from_mktime = mktime&#40;date&#41;;

    printf&#40;&#34;localtime said: %s&#34;, asctime&#40;date&#41;&#41;;
    printf&#40;&#34;mktime said: %0.f, %s&#34;, difftime&#40;from_mktime, Time_Zero&#41;,
ctime&#40;&#38;from_mktime&#41;&#41;;

    return 0;
}



-- 
100. Claymore mines are not filled with yummy candy, and it is wrong
     to tell new soldiers that they are.
    -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
           <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;10&nbsp;04:40:57&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;04:57:15&nbsp;2008</span>
    <span class="description">GRAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mo. 10. Nov. 2008, 04:40:53, schwern@pobox.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I suspect internal floating point error.  Could you try the 
</div>following
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C program?
</div>
Since I get the same error on openSUSE x86-64 &#40;also with the latest
Time-y2038-20081111&#41; I post the result here:

mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421

HTH

Bernhard
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;06:00:43&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Nov 2008 02:59:56 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bernhard Graf via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; I suspect internal floating point error.  Could you try the 
</div>&gt; following
<div class="message-stanza open">&gt;&gt; C program?
</div>&gt; 
&gt; Since I get the same error on openSUSE x86-64 &#40;also with the latest
&gt; Time-y2038-20081111&#41; I post the result here:
&gt; 
&gt; mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421
</div>
What happened to &#34;localtime said&#34;?


-- 
Defender of Lexical Encapsulation
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;11:29:49&nbsp;2008</span>
    <span class="description">GRAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mi. 12. Nov. 2008, 06:00:43, schwern@pobox.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What happened to &#34;localtime said&#34;?
</div>
err ... sorry

localtime said: Mon Jan 25 21:05:12 -142711421
mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;15:08:19&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Nov 2008 12:07:43 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bernhard Graf via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Time-y2038
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=40765">http://rt.cpan.org/Ticket/Display.html?id=40765</a></span> &gt;
&gt; 
&gt; On Mi. 12. Nov. 2008, 06:00:43, schwern@pobox.com wrote:
&gt; 
<div class="message-stanza open">&gt;&gt; What happened to &#34;localtime said&#34;?
</div>&gt; 
&gt; err ... sorry
&gt; 
&gt; localtime said: Mon Jan 25 21:05:12 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421
</div>
I checked the results using the y2038 C library directly to rule out floating
point inaccuracy.  We have a genuine difference and I don&#39;t know which is
correct or how to verify it.

TZ=Europe/Berlin
localtime&#40;-4503599627370496&#41;: Mon Jan 25 21:11:44 -142711421
gmtime&#40;-4503599627370496&#41;: Mon Jan 25 20:11:44 -142711421

What time zone are you using?


-- 
THIS I COMMAND!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;17:01:36&nbsp;2008</span>
    <span class="description">GRAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mi. 12. Nov. 2008, 15:08:19, schwern@pobox.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What time zone are you using?
</div>
Europe/Berlin

What is this little program supposed to do?
It seems not to show a time-zone&#39;s time, but actually related to
the actual longitude of the location, right?

~&gt; TZ=Europe/Berlin ./a.out
localtime said: Mon Jan 25 21:05:12 -142711421
mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421

~&gt; TZ=Europe/Vienna ./a.out
localtime said: Mon Jan 25 21:17:04 -142711421
mktime said: -4503599627370496, Mon Jan 25 21:17:04 -142711421

~&gt; TZ=Europe/Zurich ./a.out
localtime said: Mon Jan 25 20:45:52 -142711421
mktime said: -4503599627370496, Mon Jan 25 20:45:52 -142711421
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;17:33:03&nbsp;2008</span>
    <span class="description">grousse [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Nov. 12 17:01:36 2008, GRAF a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ~&gt; TZ=Europe/Zurich ./a.out
&gt; localtime said: Mon Jan 25 20:45:52 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 20:45:52 -142711421
</div>I don&#39;t know if this have any added value, but here is mine:
[guillomovitch@klodia ~]$ TC=Europe/Paris ./a.out 
localtime said: Mon Jan 25 20:21:05 -142711421
mktime said: -4503599627370496, Mon Jan 25 20:21:05 -14271142
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;22:23:45&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Nov 2008 19:23:09 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bernhard Graf via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; What time zone are you using?
</div>&gt; 
&gt; Europe/Berlin
&gt; 
&gt; What is this little program supposed to do?
&gt; It seems not to show a time-zone&#39;s time, but actually related to
&gt; the actual longitude of the location, right?
</div>
No, it&#39;s supposed to be local to the time zone.  That you&#39;re getting such odd
output is... odd.

Maybe somebody decided that for times which pre-date time zones they should
use solar noon time at the actual location.

If you change the time to something like 1226546352 &#40;which is now&#41; they should
all show the same time.

I&#39;m going to whip up a program to scan backwards in time and compare the
results until it finds the point where this diverges.  Meanwhile, if you know
anyone in the 64 bit Linux world maybe you can ask them about this.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ~&gt; TZ=Europe/Berlin ./a.out
&gt; localtime said: Mon Jan 25 21:05:12 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 21:05:12 -142711421
&gt; 
&gt; ~&gt; TZ=Europe/Vienna ./a.out
&gt; localtime said: Mon Jan 25 21:17:04 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 21:17:04 -142711421
&gt; 
&gt; ~&gt; TZ=Europe/Zurich ./a.out
&gt; localtime said: Mon Jan 25 20:45:52 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 20:45:52 -142711421
</div>


-- 
Hating the web since 1994.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;12&nbsp;22:25:35&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 12 Nov 2008 19:24:31 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Guillaume Rousse via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Time-y2038
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=40765">http://rt.cpan.org/Ticket/Display.html?id=40765</a></span> &gt;
&gt; 
&gt; Le Mer. Nov. 12 17:01:36 2008, GRAF a écrit :
<div class="message-stanza open">&gt;&gt; ~&gt; TZ=Europe/Zurich ./a.out
&gt;&gt; localtime said: Mon Jan 25 20:45:52 -142711421
&gt;&gt; mktime said: -4503599627370496, Mon Jan 25 20:45:52 -142711421
</div>&gt; I don&#39;t know if this have any added value, but here is mine:
&gt; [guillomovitch@klodia ~]$ TC=Europe/Paris ./a.out 
&gt; localtime said: Mon Jan 25 20:21:05 -142711421
&gt; mktime said: -4503599627370496, Mon Jan 25 20:21:05 -14271142
</div>
It said -14271142?  That&#39;s a genuine bug in your system, localtime&#40;&#41; and
mktime&#40;&#41; should round trip.  You&#39;ll want to report that to your OS vendor.


-- 
185. My name is not a killing word.
    -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
           <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;13&nbsp;03:08:00&nbsp;2008</span>
    <span class="description">GRAF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mi. 12. Nov. 2008, 22:23:45, schwern@pobox.com wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Maybe somebody decided that for times which pre-date time zones they
&gt; should
&gt; use solar noon time at the actual location.
</div>
That makes sense. So it&#39;s not a bug, it&#39;s a feature. ;-&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you change the time to something like 1226546352 &#40;which is now&#41;
&gt; they should
&gt; all show the same time.
</div>
Correct.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;13&nbsp;14:25:50&nbsp;2008</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 13 Nov 2008 11:25:16 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Bernhard Graf via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Maybe somebody decided that for times which pre-date time zones they
&gt;&gt; should
&gt;&gt; use solar noon time at the actual location.
</div>&gt; 
&gt; That makes sense. So it&#39;s not a bug, it&#39;s a feature. ;-&#41;
</div>
A pretty clever feature.

Well, the idea of exactly testing the results of localtime&#40;&#41; was always dodgy
at best.  I&#39;ll give them an epsilon of an hour or two which should clear
things up.


-- 
Reality is that which, when you stop believing in it, doesn&#39;t go away.
    -- Phillip K. Dick
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;17&nbsp;17:38:45&nbsp;2008</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Nov 13 14:25:50 2008, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Bernhard Graf via RT wrote:
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; Maybe somebody decided that for times which pre-date time zones
</div></div>&gt; they
<div class="message-stanza open"><div class="message-stanza open">&gt; &gt;&gt; should
&gt; &gt;&gt; use solar noon time at the actual location.
</div>&gt; &gt;
&gt; &gt; That makes sense. So it&#39;s not a bug, it&#39;s a feature. ;-&#41;
</div>&gt; 
&gt; A pretty clever feature.
</div>
Thinking on it again... those tests are set to US/Pacific, not a
specific city.  There&#39;s no obvious &#34;solar noon&#34; for a region as large as
that.  I wonder what they&#39;re using.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;01&nbsp;16:21:18&nbsp;2009</span>
    <span class="description">chris [...] fedde.us -  Requestor CFEDDE added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;01&nbsp;16:30:43&nbsp;2009</span>
    <span class="description">chris [...] fedde.us -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here&#39;s another data point.  This looks like a similar problem:

$ 14:26:35 cfedde@floss:~/src/Time-y2038-20081111
perl t/time.t 
ok 1 - use Time::y2038;
ok 2 - gmtime&#40;0&#41;
ok 3 - localtimetime&#40;0&#41;
ok 4 - gmtime&#40;2**30&#41;
ok 5 - localtimetime&#40;2**30&#41;
ok 6 - scalar gmtime&#40;0&#41;
ok 7 - scalar localtime&#40;0&#41;
ok 8 - scalar gmtime&#40;2**30&#41;
ok 9 - scalar localtime&#40;2**30&#41;
ok 10 - gmtime&#40;2**52&#41;
ok 11 - gmtime&#40;-2**52&#41;
ok 12
ok 13
ok 14 - localtime&#40;2**52&#41;
not ok 15 - localtime&#40;-2**52&#41;
#   Failed test &#39;localtime&#40;-2**52&#41;&#39;
#   at t/time.t line 46.
#     Structures begin differing at:
#          $got-&gt;[0] = &#39;46&#39;
#     $expected-&gt;[0] = &#39;44&#39;
ok 16 - localtime&#40;&#41; w/dst
ok 17
not ok 18
#   Failed test at t/time.t line 50.
#          got: &#39;Mon Jan 25 12:18:46 -142711421&#39;
#     expected: &#39;Mon Jan 25 12:11:44 -142711421&#39;
ok 19
ok 20 - void context warning
ok 21 - prototype&#40;gmtime&#41;
ok 22 - gmtime&#40;&#41;
ok 23
ok 24
ok 25
ok 26
ok 27 - void context warning
ok 28 - prototype&#40;localtime&#41;
ok 29 - localtime&#40;&#41;
ok 30
ok 31
ok 32
ok 33
1..33
# Looks like you failed 2 tests of 33.


the C code above returns:
$ 14:26:57 cfedde@floss:~/src/Time-y2038-20081111
./schwern
localtime said: Mon Jan 25 13:11:48 -142711421
mktime said: -4503599627370496, Mon Jan 25 13:11:48 -142711421


$ 14:27:31 cfedde@floss:~/src/Time-y2038-20081111
uname -a
Linux floss 2.6.28-13-generic #44-Ubuntu SMP Tue Jun 2 07:55:09 UTC 2009
x86_64 GNU/Linux
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;28&nbsp;06:01:14&nbsp;2009</span>
    <span class="description">perl-cpan [...] bereft.net -  Cc BOWMANBS added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;13&nbsp;16:05:22&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi folks,
I&#39;ve finally got this problem licked and it tests out ok on 64 bit
machines.  I&#39;ve added some fuzz of a couple hours to the distant
localtime&#40;&#41; tests and also made timelocal&#40;&#41; and timegm&#40;&#41; make better use
of the system functions so they should round trip with localtime&#40;&#41; and
gmtime&#40;&#41; better.

Please try this alpha and report.
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/M/MS/MSCHWERN/Time-y2038-20100213.0504_02.tar.gz">http://search.cpan.org/CPAN/authors/id/M/MS/MSCHWERN/Time-y2038-20100213.0504_02.tar.gz</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;13&nbsp;16:13:05&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;13&nbsp;16:13:05&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Severity Normal changed to Important</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;13&nbsp;16:13:05&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Broken in 20081111 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;19:14:18&nbsp;2010</span>
    <span class="description">perl-cpan [...] bereft.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 13 16:05:22 2010, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi folks,
&gt; I&#39;ve finally got this problem licked and it tests out ok on 64 bit
&gt; machines.  I&#39;ve added some fuzz of a couple hours to the distant
&gt; localtime&#40;&#41; tests and also made timelocal&#40;&#41; and timegm&#40;&#41; make better
&gt; use
&gt; of the system functions so they should round trip with localtime&#40;&#41; and
&gt; gmtime&#40;&#41; better.
&gt; 
&gt; Please try this alpha and report.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/CPAN/authors/id/M/MS/MSCHWERN/Time-y2038-">http://search.cpan.org/CPAN/authors/id/M/MS/MSCHWERN/Time-y2038-</a></span>
&gt; 20100213.0504_02.tar.gz
</div>
I tried this but got some errors during the build.
Eventually, I got the tests passing, but I&#39;ll provide
the details on the other issue here.



[11:13 Time-y2038-20100213.0504_02]$ perl ./Build.PL 
Checking whether your kit is complete...
Looks good

Checking prerequisites...
Looks good

Creating new &#39;Build&#39; script for &#39;Time-y2038&#39; version &#39;20100213.0504_02&#39;
[11:13 Time-y2038-20100213.0504_02]$ ./Build 
Probing time.h capabilities.
You may see some C errors, that&#39;s ok.
try.c: In function ‘main’:
try.c:9: warning: assignment discards qualifiers from pointer target type
Failed to re-load &#39;Local::Module::Build&#39;: Can&#39;t locate
Local/Module/Build.pm in @INC &#40;@INC contains: _build/lib
/home/bsb/perl/lib /home/bsb/japh /etc/perl /usr/local/lib/perl/5.10.0
/usr/local/share/perl/5.10.0 /usr/lib/perl5 /usr/share/perl5
/usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .&#41; at
&#40;eval 29&#41; line 1.
Building a program to test the range of your system time functions...
cc -Iy2038 -I/usr/lib/perl/5.10/CORE -fPIC -c -D_REENTRANT -D_GNU_SOURCE
-DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2 -g -o check_max.o check_max.c
check_max.c:3:27: error: time64_config.h: No such file or directory
error building check_max.o from &#39;check_max.c&#39; at
/usr/local/share/perl/5.10.0/ExtUtils/CBuilder/Base.pm line 112.

$ ./Build test # fails the same as ./Build

I looked for time64_config.h, but think it was the
Local::Module:Build failure not creating it:

./inc/Local/Module/Build.pm:    $self-&gt;munge&#40;&#34;y2038/time64_config.h.in&#34;
=&gt; &#34;y2038/time64_config.h&#34;&#41;;

I re-ran with:

$ PERL5LIB=inc ./Build 
$ ./Build test
[..]
All tests successful.


I&#39;m using Ubuntu Jaunty&#39;s perl.

$ pmvers Module::Build
0.3
$ pmvers ExtUtils::CBuilder
0.27
$ perl -v
This is perl, v5.10.0 built for x86_64-linux-gnu-thread-multi


Happy to provide more info
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;19:14:21&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;20:01:20&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 14 Feb 2010 17:00:21 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Brad Bowman via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Creating new &#39;Build&#39; script for &#39;Time-y2038&#39; version &#39;20100213.0504_02&#39;
&gt; [11:13 Time-y2038-20100213.0504_02]$ ./Build 
&gt; Probing time.h capabilities.
&gt; You may see some C errors, that&#39;s ok.
&gt; try.c: In function ‘main’:
&gt; try.c:9: warning: assignment discards qualifiers from pointer target type
&gt; Failed to re-load &#39;Local::Module::Build&#39;: Can&#39;t locate
&gt; Local/Module/Build.pm in @INC &#40;@INC contains: _build/lib
&gt; /home/bsb/perl/lib /home/bsb/japh /etc/perl /usr/local/lib/perl/5.10.0
&gt; /usr/local/share/perl/5.10.0 /usr/lib/perl5 /usr/share/perl5
&gt; /usr/lib/perl/5.10 /usr/share/perl/5.10 /usr/local/lib/site_perl .&#41; at
&gt; &#40;eval 29&#41; line 1.
</div>
Damn.  I got that on FreeBSD, too.  There was some sort of bug in 
Module::Build&#39;s @INC recording so it doesn&#39;t remember that &#39;inc&#39; was in the 
path when Build.PL was run.  I don&#39;t know when this was fixed.  I&#39;ll find out.

-- 
&#34;I went to college, which is a lot like being in the Army, except when
  stupid people yell at me for stupid things, I can hit them.&#34;
     -- Jonathan Schwarz
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;14&nbsp;21:29:57&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40765] Test failure on x86_64</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 14 Feb 2010 18:28:59 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Time-y2038 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok, new alpha should have it fixed.  If its not on CPAN you can get it here.
<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/schwern/y2038/tarball/v20100214.1823_03">http://github.com/schwern/y2038/tarball/v20100214.1823_03</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;16&nbsp;20:42:08&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;03&nbsp;23:24:29&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Haven&#39;t heard back from the poster.  Replicated the bug on a similar
machine.  Assuming resolved.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;03&nbsp;23:24:29&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;03&nbsp;23:24:29&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
