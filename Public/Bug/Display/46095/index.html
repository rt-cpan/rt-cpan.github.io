<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #46095 for Scalar-List-Utils: Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #46095 for Scalar-List-Utils: Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Scalar-List-Utils">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Scalar-List-Utils">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Scalar-List-Utils">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Scalar-List-Utils">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Scalar-List-Utils">Scalar-List-Utils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">46095</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Scalar-List-Utils">Scalar-List-Utils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
RIVY [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-28278-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.20    </td>
  </tr>
  <tr id="CF-28279-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.21    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




xs_version.PL.DIFF.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/606304/307402/xs_version.PL.DIFF.txt">
Fri May 15 19:25:37 2009 (276b) by RIVY [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=46095">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-605688" href="/Public/Bug/Display.html?id=46095#txn-605688">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;14&nbsp;21:46:07&nbsp;2009</span>
    <span class="description">RIVY [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Failed build - make/compile fails on Win32 for v1.20 &#40;read-only
 file issue&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/605688/307075/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307075">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 537b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Scalar-List-Utils-v1.20 fails to build under various Win32 machines at
the line:

C:\perl\bin\perl.exe &#34;-Iblib\arch&#34; &#34;-Iblib\lib&#34; xs_version.PL xs_version

If XS.pm is changed to read-write from read-only &#40;&#34;attrib -r
blib\lib\List\Util\XS.pm&#34;&#41;, the make/compile will succeed although
testing still fails on my Win32/perlv5.8.8 machine during
t/stack-corruption.t at &#34;#   Failed test at t/stack-corruption.t line
25.&#34; &#40;A CPAN Testers report has been submitted.&#41;

Thanks for all the hard work on this module. It&#39;s quite useful.

- Roy Ivy
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-605691" href="/Public/Bug/Display.html?id=46095#txn-605691">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;14&nbsp;21:59:40&nbsp;2009</span>
    <span class="description">gbarr [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46095] Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 14 May 2009 20:59:02 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Scalar-List-Utils [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Graham Barr &lt;gbarr [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/605691/307078/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307078">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 799b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On May 14, 2009, at 8:46 PM, Roy Ivy III via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; C:\perl\bin\perl.exe &#34;-Iblib\arch&#34; &#34;-Iblib\lib&#34; xs_version.PL  
&gt; xs_version
&gt;
&gt; If XS.pm is changed to read-write from read-only &#40;&#34;attrib -r
&gt; blib\lib\List\Util\XS.pm&#34;&#41;, the make/compile will succeed although
</div>
xs_version.PL does an unlink on the file first. I assume that failed  
then

I am not familiar with win32, why would unlink on the file fail ?

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; testing still fails on my Win32/perlv5.8.8 machine during
&gt; t/stack-corruption.t at &#34;#   Failed test at t/stack-corruption.t line
&gt; 25.&#34; &#40;A CPAN Testers report has been submitted.&#41;
</div>
I have not seen any reports yet. 5.8.8 is not supposed to have
that issue. The test was added because 5.8.9 and 5.10.0 did have
the issue but it has been fixed in the core for future versions

Graham.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-605692" href="/Public/Bug/Display.html?id=46095#txn-605692">#</a>      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;14&nbsp;21:59:41&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-605831" href="/Public/Bug/Display.html?id=46095#txn-605831">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;01:38:10&nbsp;2009</span>
    <span class="description">GBARR [...] CPAN.ORG -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/605831/307137/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307137">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 183b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Can you try

<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/gbarr/Scalar-List-Utils/tree/next">http://github.com/gbarr/Scalar-List-Utils/tree/next</a></span>

the download link will create a tar or zip file

I changed the build system to not require to modify the file in blib
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-606133" href="/Public/Bug/Display.html?id=46095#txn-606133">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;12:05:42&nbsp;2009</span>
    <span class="description">roy.ivy.iii [...] nmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #46095] Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 May 2009 12:02:03 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Scalar-List-Utils [...] rt.cpan.org&gt;, &lt;RIVY [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Roy Ivy III&#34; &lt;roy.ivy.iii [...] nmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/606133/307297/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307297">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;From: Graham Barr via RT [mailto:bug-Scalar-List-Utils@rt.cpan.org] 
&gt;Sent: Thursday, May 14, 2009 9:00 PM
&gt;To: RIVY@cpan.org
&gt;Subject: Re: [rt.cpan.org #46095] Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41; 
&gt;
&gt;&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=46095">http://rt.cpan.org/Ticket/Display.html?id=46095</a></span> &gt;
&gt;
&gt;On May 14, 2009, at 8:46 PM, Roy Ivy III via RT wrote:
<div class="message-stanza open">&gt;&gt; C:\perl\bin\perl.exe &#34;-Iblib\arch&#34; &#34;-Iblib\lib&#34; xs_version.PL  
&gt;&gt; xs_version
&gt;&gt;
&gt;&gt; If XS.pm is changed to read-write from read-only &#40;&#34;attrib -r
&gt;&gt; blib\lib\List\Util\XS.pm&#34;&#41;, the make/compile will succeed although
</div>&gt;
&gt;xs_version.PL does an unlink on the file first. I assume that failed  
&gt;then
&gt;
&gt;I am not familiar with win32, why would unlink on the file fail ?
</div>
I&#39;m not sure why it&#39;s failing; I don&#39;t remember running into this problem recently. A quick permissions check shows ownership and read-write of the directory containing XS.pm. When the build fails at ` C:\Perl\bin\perl.exe &#34;-Iblib\arch&#34; &#34;-Iblib\lib&#34; xs_version.PL xs_version`, unlinking the file manually with `perl -e &#34;unlink qq{blib/lib/List/Util/XS.pm}&#34;` works correctly/removes the file. And a re-make/compile after issuing an `attrib -r blib\lib\List\Util\XS.pm` &#40;removing the READONLY attribute&#41; completes without error.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; testing still fails on my Win32/perlv5.8.8 machine during
&gt;&gt; t/stack-corruption.t at &#34;#   Failed test at t/stack-corruption.t line
&gt;&gt; 25.&#34; &#40;A CPAN Testers report has been submitted.&#41;
</div>&gt;
&gt;I have not seen any reports yet. 5.8.8 is not supposed to have
&gt;that issue. The test was added because 5.8.9 and 5.10.0 did have
&gt;the issue but it has been fixed in the core for future versions
</div>
Yes, my v5.6.1 test VM skips the test with a message to that effect. But, my main machine, with version v5.8.8, definitely fails at that one test file. I haven&#39;t tried my v5.10.0 test machine as of yet.

- Roy
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-606134" href="/Public/Bug/Display.html?id=46095#txn-606134">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;12:05:44&nbsp;2009</span>
    <span class="description">roy.ivy.iii [...] nmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #46095] Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41; </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 May 2009 12:04:40 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-Scalar-List-Utils [...] rt.cpan.org&gt;, &lt;RIVY [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Roy Ivy III&#34; &lt;roy.ivy.iii [...] nmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/606134/307298/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307298">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 680b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;From: Graham_Barr via RT [mailto:bug-Scalar-List-Utils@rt.cpan.org] 
&gt;Sent: Friday, May 15, 2009 12:38 AM
&gt;To: RIVY@cpan.org
&gt;Subject: [rt.cpan.org #46095] Failed build - make/compile fails on Win32 for v1.20 &#40;read-only file issue&#41; 
&gt;
&gt;&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46095">https://rt.cpan.org/Ticket/Display.html?id=46095</a></span> &gt;
&gt;
&gt;Can you try
&gt;
&gt;<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/gbarr/Scalar-List-Utils/tree/next">http://github.com/gbarr/Scalar-List-Utils/tree/next</a></span>
&gt;
&gt;the download link will create a tar or zip file
&gt;
&gt;I changed the build system to not require to modify the file in blib
</div>
It makes/compiles on perl v5.8.8 machine without error &#40;still fails `nmake test` at the t/stack-corruption.t test&#41;.

Successful make/test/install on v5.6.1 machine.

- Roy
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-606304" href="/Public/Bug/Display.html?id=46095#txn-606304">#</a>      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;15&nbsp;19:25:37&nbsp;2009</span>
    <span class="description">RIVY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/606304/307399/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/307399">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 549b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu May 14 21:59:40 2009, gbarr@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On May 14, 2009, at 8:46 PM, Roy Ivy III via RT wrote:
<div class="message-stanza open">&gt; &gt; C:\perl\bin\perl.exe &#34;-Iblib\arch&#34; &#34;-Iblib\lib&#34; xs_version.PL  
&gt; &gt; xs_version
&gt; &gt;
&gt; &gt; If XS.pm is changed to read-write from read-only &#40;&#34;attrib -r
&gt; &gt; blib\lib\List\Util\XS.pm&#34;&#41;, the make/compile will succeed although
</div>&gt; 
&gt; xs_version.PL does an unlink on the file first. I assume that failed  
&gt; then
&gt; 
&gt; I am not familiar with win32, why would unlink on the file fail ?
</div>
This patch &#40;adding a `chmod 0600`&#41; also corrects the problem.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/606304/307402/xs_version.PL.DIFF.txt">Download xs_version.PL.DIFF.txt</a><br />
<span class="downloadcontenttype">text/plain 276b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- xs_version.PL.ORIG	Wed Sep 10 18:59:57 2008
+++ xs_version.PL	Fri May 15 18:20:04 2009
@@ -18,6 +18,7 @@
     $line =~ s/^\$VERSION/# VERSION/;
   }
 }
+chmod 0600, $xs_pm;
 unlink&#40;$xs_pm&#41;;
 open&#40;FH,&#34;&gt;$xs_pm&#34;&#41; or die &#34;Cannot open $xs_pm: $!\n&#34;;
 print FH @file;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607383" href="/Public/Bug/Display.html?id=46095#txn-607383">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;18&nbsp;21:08:14&nbsp;2009</span>
    <span class="description">GBARR [...] CPAN.ORG -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-607385" href="/Public/Bug/Display.html?id=46095#txn-607385">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;May&nbsp;18&nbsp;21:08:15&nbsp;2009</span>
    <span class="description">GBARR [...] CPAN.ORG -  Fixed in 1.21 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.477283</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
