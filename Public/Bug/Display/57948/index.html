<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #57948 for PAR-Packer: Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #57948 for PAR-Packer: Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PAR-Packer/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PAR-Packer/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PAR-Packer">PAR-Packer CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">57948</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PAR-Packer/Active/">PAR-Packer</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">RSCHUPP [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mjk [...] iki.fi

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41710-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-41711-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;07:21:05&nbsp;2010</span>
    <span class="description">mjk [...] iki.fi -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 May 2010 14:20:43 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mjk [...] iki.fi</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Platform: Windows XP SP3 32-bit, Windows Vista SP2 32-bit
Perl version: Strawberry Perl 5.12.0.1
PAR::Packer version: 1.004
Module installed via CPAN client

PAR::Packer pp command generates executable files under Windows  
environment that depend on shared library called  
&#34;libgcc_s_sjlj-1.dll&#34;. It seems that parl.exe depends on this library.

If the target platform does not have this shared library somewhere in  
the path, the following error message will be displayed:

---------------------------
pingtest.exe - Unable To Locate Component
---------------------------
This application has failed to start because libgcc_s_sjlj-1.dll was  
not found. Re-installing the application may fix this problem.
---------------------------
OK
---------------------------

The project was compiled with the command-line: pp -o pingtest.exe pingtest.pl

If the libgcc_s_sjlj-1.dll is copied from the Strawberry Perl system  
&#40;C:\Strawberry\perl\bin\libgcc_s_sjlj-1.dll&#41; to the same directory  
with the pp-generated executable, the executable will work correctly.

Trying to include the DLL into the packed executable with an -a option  
does not solve the problem.

Side-note: for some reason a dependency checker &#40;for example cygcheck&#41;  
does not see that the generated executable depends on the  
libgcc_s_sjlj-1.dll.


Best regards,

Matti KÃ¤rki
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;08:47:44&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;08:51:39&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri May 28 07:21:05 2010, mjk@iki.fi wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; PAR::Packer pp command generates executable files under Windows
&gt; environment that depend on shared library called
&gt; &#34;libgcc_s_sjlj-1.dll&#34;. It seems that parl.exe depends on this library.
</div>
Known problem, buried deep in #57272.

Can you please try the patch attached to
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549">https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549</a></span>

Note that you must rebuild PAR::Packer with this patch, install it
and then repack your script to test the fix.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;08:51:40&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;May&nbsp;28&nbsp;15:49:57&nbsp;2010</span>
    <span class="description">mjk [...] iki.fi -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 May 2010 22:49:39 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mjk [...] iki.fi</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Known problem, buried deep in #57272.
&gt;
&gt; Can you please try the patch attached to
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549">https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549</a></span>
&gt;
&gt; Note that you must rebuild PAR::Packer with this patch, install it
&gt; and then repack your script to test the fix.
&gt;
</div>
I tried the patch mentioned above. The problem still exists. The end  
result of the pp still depends on the libgcc_s_sjlj-1.dll. My guess is  
that including this library inside the packed script does not help  
because the executable for some reason requires the DLL at pretty  
early stage of the execution. So, the DLL inside the packed script has  
no effect in this case.

If I have time, I have to investigate, what the PAR::Packer is doing  
while compiling the stub. I imagine that it should be possible to  
compile the stub in such way that this DLL is not needed when the stub  
part of the package is executing.


-Matti
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;29&nbsp;09:03:30&nbsp;2010</span>
    <span class="description">mark.dootson [...] znix.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> par [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 29 May 2010 14:03:05 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Dootson &lt;mark.dootson [...] znix.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

perl5xx.dll depends on libgcc_s_sjlj-1.dll, so libgcc_s_sjlj-1.dll needs 
to be packed with, and extracted with perl5xx.dll before any Perl code 
is run at all.

Cheers

Mark

On 28/05/2010 20:49, mjk via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Fri May 28 15:49:57 2010: Request 57948 was acted upon.
&gt; Transaction: Correspondence added by mjk@iki.fi
&gt;         Queue: PAR-Packer
&gt;       Subject: Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll
&gt;     Broken in: &#40;no value&#41;
&gt;      Severity: &#40;no value&#41;
&gt;         Owner: RSCHUPP
&gt;    Requestors: mjk@iki.fi
&gt;        Status: open
&gt;   Ticket&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=57948">http://rt.cpan.org/Ticket/Display.html?id=57948</a></span>&gt;
&gt;
&gt;
<div class="message-stanza open">&gt;&gt;
&gt;&gt; Known problem, buried deep in #57272.
&gt;&gt;
&gt;&gt; Can you please try the patch attached to
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549">https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549</a></span>
&gt;&gt;
&gt;&gt; Note that you must rebuild PAR::Packer with this patch, install it
&gt;&gt; and then repack your script to test the fix.
&gt;&gt;
</div>&gt;
&gt; I tried the patch mentioned above. The problem still exists. The end
&gt; result of the pp still depends on the libgcc_s_sjlj-1.dll. My guess is
&gt; that including this library inside the packed script does not help
&gt; because the executable for some reason requires the DLL at pretty
&gt; early stage of the execution. So, the DLL inside the packed script has
&gt; no effect in this case.
&gt;
&gt; If I have time, I have to investigate, what the PAR::Packer is doing
&gt; while compiling the stub. I imagine that it should be possible to
&gt; compile the stub in such way that this DLL is not needed when the stub
&gt; part of the package is executing.
&gt;
&gt;
&gt; -Matti
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;29&nbsp;12:55:19&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat May 29 09:03:30 2010, mark.dootson@znix.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; perl5xx.dll depends on libgcc_s_sjlj-1.dll, so libgcc_s_sjlj-1.dll
&gt; needs
&gt; to be packed with, and extracted with perl5xx.dll before any Perl code
&gt; is run at all.
</div>
Indeed, the problem is that the custom Perl interpreter 
&#34;included&#34; in every packed executable is linked dynamically
against perl5xx.dll. If you do
 
   pp -o foo.exe ....

and run foo.exe at least once you&#39;ll find the corresponding
cache area

  TMP\par-USER\cache-SHA1CHECKSUM

contains a file called foo.exe, too. That&#39;s the custom Perl
interpreter &#40;it&#39;s always the same file&#41;. Now, if we linked
this executable dynamically, you&#39;ll also find a copy of perl5xx.dll
in this directory. But for Strawberry that&#39;s not enough, it needs
libgcc_s*.dll there, too.

So I see two possible options:
- stick with a dynamically linked custom Perl and
  modify &#40;conditionally for Strawberry only&#41; the whole 
  load_me_* shebang in myldr and add a load_me_3 file that
  would contain libgcc_s_*.dll &#40;which would get extracted 
  alongside par.exe and perl512.dll&#41;
- link the custom Perl statically, then the whole second
  bootstrap phase is omitted and the problem goes away

I definitely don&#39;t want to touch the load_me stuff with a
ten-foot pole, so I experimented with the latter option.
However, even after tweaking myldr/Makefile by hand I
couldn&#39;t produce a par.exe there that was NOT dynamically
linked against perl512.dll.

@Mark: Do you know why even

g++ main.o my_par_pl.o  -Wl,-Bstatic -Lc:\strawberry\perl\lib\CORE
-lperl512 -o par.exe

generates par.exe with a reference to perl512.dll? 

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;29&nbsp;15:15:32&nbsp;2010</span>
    <span class="description">mjk [...] iki.fi -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 29 May 2010 22:15:13 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mjk [...] iki.fi</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; Known problem, buried deep in #57272.
&gt;
&gt; Can you please try the patch attached to
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549">https://rt.cpan.org/Ticket/Display.html?id=57272#txn-776549</a></span>
&gt;
&gt; Note that you must rebuild PAR::Packer with this patch, install it
&gt; and then repack your script to test the fix.
&gt;
</div>
OK, now that I know what to look for and I think I have a little bit  
better understanding of the anatomy of the pp-generated executables, I  
re-checked the patch &#40;bug #57272&#41;. It does include the DLL in the PAR  
package, but when I execute the executable, the temporary directory  
only has the following files:

- perl512.dll
- pingtest.exe

In other words, the DLL is not extracted from the package.

Bad news is that according to the cygcheck, both of these files depend  
on the libgcc_s_sjlj-1.dll.

So, if I have understood previous messages correctly, it seems that  
all fingers are actually pointing to the MinGW.


-Matti
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;May&nbsp;30&nbsp;08:20:47&nbsp;2010</span>
    <span class="description">mark.dootson [...] znix.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> par [...] perl.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 30 May 2010 13:20:04 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Mark Dootson &lt;mark.dootson [...] znix.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

On 29/05/2010 17:55, RSCHUPP via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; So I see two possible options:
&gt; - stick with a dynamically linked custom Perl and
&gt;    modify &#40;conditionally for Strawberry only&#41; the whole
&gt;    load_me_* shebang in myldr and add a load_me_3 file that
&gt;    would contain libgcc_s_*.dll &#40;which would get extracted
&gt;    alongside par.exe and perl512.dll&#41;
&gt; - link the custom Perl statically, then the whole second
&gt;    bootstrap phase is omitted and the problem goes away
&gt;
&gt; I definitely don&#39;t want to touch the load_me stuff with a
&gt; ten-foot pole, so I experimented with the latter option.
&gt; However, even after tweaking myldr/Makefile by hand I
&gt; couldn&#39;t produce a par.exe there that was NOT dynamically
&gt; linked against perl512.dll.
&gt;
&gt; @Mark: Do you know why even
&gt;
&gt; g++ main.o my_par_pl.o  -Wl,-Bstatic -Lc:\strawberry\perl\lib\CORE
&gt; -lperl512 -o par.exe
&gt;
&gt; generates par.exe with a reference to perl512.dll?
&gt;
&gt; Cheers, Roderich
&gt;
</div>
I&#39;m not absolutely certain of the total effect of passing -static to ld 
on windows. For &#39;-lperl512&#39; what matters is what is contained in 
perl512.lib or libperl512.a.

I don&#39;t think you can mix and match your linking model on Windows. So if 
you had a static perl.exe &#40;or par.exe&#41; you could not then load separate 
xs code dynamically - you would have to compile in all the xs modules 
you require. That&#39;s why, by default, you don&#39;t get a static perl built 
on MSWin. It is not generally useful.

In a dynamic perl, all the xs dll&#39;s are dynamically linked to 
perl512.dll. You can&#39;t mix and match static / dynamic linking.

You have to add a load_me_3 file or some windows specific function that 
does the same thing, I&#39;m afraid.


Regards

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;01&nbsp;02:49:24&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun May 30 08:20:47 2010, mark.dootson@znix.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t think you can mix and match your linking model on Windows. So if 
&gt; you had a static perl.exe &#40;or par.exe&#41; you could not then load separate 
&gt; xs code dynamically - you would have to compile in all the xs modules 
&gt; you require. That&#39;s why, by default, you don&#39;t get a static perl built 
&gt; on MSWin. It is not generally useful.
</div>
Thanks for the explanation, Mark. 
I&#39;ll hold my nose and try the &#34;load_me_3&#34; approach then, stay tuned.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;01&nbsp;05:01:25&nbsp;2010</span>
    <span class="description">smueller [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 01 Jun 2010 11:01:05 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Steffen Mueller &lt;smueller [...] cpan.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">RSCHUPP via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: PAR-Packer
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=57948">https://rt.cpan.org/Ticket/Display.html?id=57948</a></span> &gt;
&gt; 
&gt; On Sun May 30 08:20:47 2010, mark.dootson@znix.com wrote:
<div class="message-stanza open">&gt;&gt; I don&#39;t think you can mix and match your linking model on Windows. So if 
&gt;&gt; you had a static perl.exe &#40;or par.exe&#41; you could not then load separate 
&gt;&gt; xs code dynamically - you would have to compile in all the xs modules 
&gt;&gt; you require. That&#39;s why, by default, you don&#39;t get a static perl built 
&gt;&gt; on MSWin. It is not generally useful.
</div>&gt; 
&gt; Thanks for the explanation, Mark. 
&gt; I&#39;ll hold my nose and try the &#34;load_me_3&#34; approach then, stay tuned.
</div>
Hey, I survived modifying the load_me stuff, too! But I probably have 
lower standards :&#41;

More seriously, I&#39;m pretty sure you already know how it works, but it&#39;s 
just a vehicle of embedding an arbitrary file as a variable in C code &#38; 
extracting it when run. I believe I refactored some of it to be slightly 
less insane a few years back. It&#39;s still totally a kludge, but alas, I 
don&#39;t have a good idea of how we could work around it. Except that 
statically linking a libz for some minor compression and reduction of 
the executable file size would be really cool. Not saying *you* should 
do that, mind you.

Cheers,
Steffen
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;18:42:55&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> mark.dootson [...] znix.com, par [...] perl.org, smueller [...] cpan.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I just released PAR::Packer 1.005 that should fix 
the issue with libgcc*.dll on Strawberry Perl 5.12.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;05&nbsp;18:42:56&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;06&nbsp;12:17:39&nbsp;2010</span>
    <span class="description">mjk [...] iki.fi -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Resolved: Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 06 Jun 2010 19:17:14 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mjk [...] iki.fi</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">First of all, thank you very much for reacting so quickly to my bug report.

But something is not right with the 1.005. I tried to upgrade the
package and the build process stops because of the parldyn.exe. I
tried this also with the clean Strawberry system and it still fails.
However, the parldyn.exe is in the script directory under the
C:\strawberry\cpan\build\PAR-Packer-1.005-fFWniH directory structure.

Here is the log:


Running make for R/RS/RSCHUPP/PAR-Packer-1.005.tar.gz
     Has already been unwrapped into directory
C:\strawberry\cpan\build\PAR-Packer-
1.005-fFWniH

     CPAN.pm: Going to build R/RS/RSCHUPP/PAR-Packer-1.005.tar.gz

cp lib/App/Packer/PAR.pm blib\lib\App\Packer\PAR.pm
cp lib/PAR/Packer.pm blib\lib\PAR\Packer.pm
cp lib/PAR/Filter/Obfuscate.pm blib\lib\PAR\Filter\Obfuscate.pm
cp lib/PAR/Filter/PodStrip.pm blib\lib\PAR\Filter\PodStrip.pm
cp lib/PAR/StrippedPARL/Base.pm blib\lib\PAR\StrippedPARL\Base.pm
cp lib/PAR/Filter.pm blib\lib\PAR\Filter.pm
cp lib/PAR/Filter/PatchContent.pm blib\lib\PAR\Filter\PatchContent.pm
cp lib/PAR/StrippedPARL/Dynamic.pm blib\lib\PAR\StrippedPARL\Dynamic.pm
cp lib/PAR/Filter/Bytecode.pm blib\lib\PAR\Filter\Bytecode.pm
cp lib/pp.pm blib\lib\pp.pm
cp lib/PAR/Filter/Bleach.pm blib\lib\PAR\Filter\Bleach.pm
cp lib/PAR/StrippedPARL/Static.pm blib\lib\PAR\StrippedPARL\Static.pm
C:\strawberry\perl\bin\perl.exe sha1.c.PL sha1.c
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT  -DUSE_SITECUSTOMIZE
-DPERL_IMPLICIT_CON
TEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields
-DPERL_MSVCRT_READF
IX  -I&#34;C:\strawberry\perl\lib\CORE&#34;  -DLOAD_MY_LIBGCC
-DPARL_EXE=\&#34;parl.exe\&#34; -s
    -O2 sha1.c
dmake:  Warning: -- Found file corresponding to virtual target [mktmpdir.h].
dmake:  Warning: -- Found file corresponding to virtual target [mktmpdir.c].
dmake:  Warning: -- Found file corresponding to virtual target [main.c].
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT  -DUSE_SITECUSTOMIZE
-DPERL_IMPLICIT_CON
TEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields
-DPERL_MSVCRT_READF
IX  -I&#34;C:\strawberry\perl\lib\CORE&#34;  -DLOAD_MY_LIBGCC
-DPARL_EXE=\&#34;parl.exe\&#34; -s
    -O2 main.c
C:\strawberry\perl\bin\perl.exe file2c.pl ..\script\par.pl my_par_pl.c
load_my_p
ar_pl 1
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT  -DUSE_SITECUSTOMIZE
-DPERL_IMPLICIT_CON
TEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields
-DPERL_MSVCRT_READF
IX  -I&#34;C:\strawberry\perl\lib\CORE&#34;  -DLOAD_MY_LIBGCC
-DPARL_EXE=\&#34;parl.exe\&#34; -s
    -O2 my_par_pl.c
g++ main.o my_par_pl.o win32.coff -s   -s
-L&#34;C:\strawberry\perl\lib\CORE&#34; -L&#34;C:\
strawberry\c\lib&#34;  C:\strawberry\perl\lib\CORE\libperl512.a
C:\strawberry\c\i686
-w64-mingw32\lib\libmoldname.a
C:\strawberry\c\i686-w64-mingw32\lib\libkernel32.
a C:\strawberry\c\i686-w64-mingw32\lib\libuser32.a
C:\strawberry\c\i686-w64-ming
w32\lib\libgdi32.a C:\strawberry\c\i686-w64-mingw32\lib\libwinspool.a
C:\strawbe
rry\c\i686-w64-mingw32\lib\libcomdlg32.a
C:\strawberry\c\i686-w64-mingw32\lib\li
badvapi32.a C:\strawberry\c\i686-w64-mingw32\lib\libshell32.a
C:\strawberry\c\i6
86-w64-mingw32\lib\libole32.a
C:\strawberry\c\i686-w64-mingw32\lib\liboleaut32.a
    C:\strawberry\c\i686-w64-mingw32\lib\libnetapi32.a
C:\strawberry\c\i686-w64-min
gw32\lib\libuuid.a C:\strawberry\c\i686-w64-mingw32\lib\libws2_32.a
C:\strawberr
y\c\i686-w64-mingw32\lib\libmpr.a
C:\strawberry\c\i686-w64-mingw32\lib\libwinmm.
a C:\strawberry\c\i686-w64-mingw32\lib\libversion.a
C:\strawberry\c\i686-w64-min
gw32\lib\libodbc32.a
C:\strawberry\c\i686-w64-mingw32\lib\libodbccp32.a C:\straw
berry\c\i686-w64-mingw32\lib\libcomctl32.a -o par.exe
C:\strawberry\perl\bin\perl.exe -e1
C:\strawberry\perl\bin\perl.exe file2c.pl par.exe my_par.c load_my_par 1 30000
C:\strawberry\perl\bin\perl.exe file2c.pl
C:\strawberry\perl\bin\perl512.dll my_
libperl.c load_my_libperl 1 30000
C:\strawberry\perl\bin\perl.exe file2c.pl
C:\strawberry\perl\bin\libgcc_s_sjlj-1
.dll my_libgcc.c load_my_libgcc 1 30000
gcc -c -s -O2 -DWIN32 -DHAVE_DES_FCRYPT  -DUSE_SITECUSTOMIZE
-DPERL_IMPLICIT_CON
TEXT -DPERL_IMPLICIT_SYS -fno-strict-aliasing -mms-bitfields
-DPERL_MSVCRT_READF
IX  -I&#34;C:\strawberry\perl\lib\CORE&#34;  -DLOAD_MY_LIBGCC
-DPARL_EXE=\&#34;parl.exe\&#34; -s
    -O2 static.c
static.c: In function &#39;main&#39;:
static.c:107: warning: passing argument 3 of &#39;spawnvpe&#39; from
incompatible pointe
r type
c:\strawberry\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64-mingw
32/include/process.h:169: note: expected &#39;char * const*&#39; but argument
is of type
    &#39;const char * const*&#39;
static.c:107: warning: passing argument 4 of &#39;spawnvpe&#39; from
incompatible pointe
r type
c:\strawberry\c\bin\../lib/gcc/i686-w64-mingw32/4.4.3/../../../../i686-w64-mingw
32/include/process.h:169: note: expected &#39;char * const*&#39; but argument
is of type
    &#39;const char * const*&#39;
g++ static.o -s   -s -L&#34;C:\strawberry\perl\lib\CORE&#34;
-L&#34;C:\strawberry\c\lib&#34;  C:
\strawberry\perl\lib\CORE\libperl512.a
C:\strawberry\c\i686-w64-mingw32\lib\libm
oldname.a C:\strawberry\c\i686-w64-mingw32\lib\libkernel32.a
C:\strawberry\c\i68
6-w64-mingw32\lib\libuser32.a
C:\strawberry\c\i686-w64-mingw32\lib\libgdi32.a C:
\strawberry\c\i686-w64-mingw32\lib\libwinspool.a
C:\strawberry\c\i686-w64-mingw3
2\lib\libcomdlg32.a C:\strawberry\c\i686-w64-mingw32\lib\libadvapi32.a
C:\strawb
erry\c\i686-w64-mingw32\lib\libshell32.a
C:\strawberry\c\i686-w64-mingw32\lib\li
bole32.a C:\strawberry\c\i686-w64-mingw32\lib\liboleaut32.a
C:\strawberry\c\i686
-w64-mingw32\lib\libnetapi32.a
C:\strawberry\c\i686-w64-mingw32\lib\libuuid.a C:
\strawberry\c\i686-w64-mingw32\lib\libws2_32.a
C:\strawberry\c\i686-w64-mingw32\
lib\libmpr.a C:\strawberry\c\i686-w64-mingw32\lib\libwinmm.a
C:\strawberry\c\i68
6-w64-mingw32\lib\libversion.a
C:\strawberry\c\i686-w64-mingw32\lib\libodbc32.a
C:\strawberry\c\i686-w64-mingw32\lib\libodbccp32.a
C:\strawberry\c\i686-w64-ming
w32\lib\libcomctl32.a win32.coff -o static.exe
C:\strawberry\perl\bin\perl.exe -e1
C:\strawberry\perl\bin\perl.exe parlsig.pl static.exe par.exe 1 30000
C:\strawberry\perl\bin\perl.exe run_with_inc.pl static.exe
-I../blib/lib -q -B -
O..\script\parl.exe
C:\strawberry\perl\bin\perl.exe -e &#34;chmod&#40;oct&#40;&#39;0600&#39;&#41;,
&#39;..\blib\lib\PAR\Stripped
PARL\Static.pm&#39;&#41;;&#34;
C:\strawberry\perl\bin\perl.exe encode_append.pl static.exe
..\blib\lib\PAR\Stri
ppedPARL\Static.pm
C:\strawberry\perl\bin\perl.exe -e &#34;chmod&#40;oct&#40;&#39;0444&#39;&#41;,
&#39;..\blib\lib\PAR\Stripped
PARL\Static.pm&#39;&#41;;&#34;
C:\strawberry\perl\bin\perl.exe run_with_inc.pl par.exe -I../blib/lib
-q -B -O..
\script\parldyn.exe
C:\strawberry\perl\bin\perl.exe -e &#34;chmod&#40;oct&#40;&#39;0600&#39;&#41;,
&#39;..\blib\lib\PAR\Stripped
PARL\Dynamic.pm&#39;&#41;;&#34;
C:\strawberry\perl\bin\perl.exe encode_append.pl par.exe
..\blib\lib\PAR\Strippe
dPARL\Dynamic.pm
C:\strawberry\perl\bin\perl.exe -e &#34;chmod&#40;oct&#40;&#39;0444&#39;&#41;,
&#39;..\blib\lib\PAR\Stripped
PARL\Dynamic.pm&#39;&#41;;&#34;
dmake.EXE:  Error: -- `script\parldyn.exe&#39; not found, and can&#39;t be made
     RSCHUPP/PAR-Packer-1.005.tar.gz
     C:\strawberry\c\bin\dmake.EXE -- NOT OK
Running make test
     Can&#39;t test without successful make
Running make install
     Make had returned bad status, install seems impossible
Failed during this command:
    RSCHUPP/PAR-Packer-1.005.tar.gz              : make NO
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;06&nbsp;12:17:40&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;06&nbsp;13:30:10&nbsp;2010</span>
    <span class="description">mjk [...] iki.fi -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 06 Jun 2010 20:29:53 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PAR-Packer [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mjk [...] iki.fi</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Running the installation again with force:

force install PAR::Packer

Seems to be able to complete the installation without errors.

And the resulting executable works fine!


I don&#39;t yet understand, what went wrong with the first installation  
round. Running the install twice seems to do the trick.


-Matti
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;07&nbsp;02:03:46&nbsp;2010</span>
    <span class="description">roderich.schupp [...] googlemail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #57948] Bug report: pp-generated executable and a missing dependency libgcc_s_sjlj-1.dll</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 7 Jun 2010 08:04:12 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-PAR-Packer [...] rt.cpan.org&#34; &lt;bug-PAR-Packer [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Roderich Schupp &lt;roderich.schupp [...] googlemail.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I don&#39;t yet understand, what went wrong with the first installation  
&gt; round. Running the install twice seems to do the trick
</div>
I encountered that problem, too. Running dmake twice completes the build.
Looks like I broke some subtle ordering constraint in the Makefile.

Cheers, Roderich
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;07&nbsp;07:29:57&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Folks, the build problems have nothing to do with the original bug.
Fort iem
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;07&nbsp;07:29:59&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;07&nbsp;07:34:19&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space"> Folks, the build problems have nothing to do with the original bug.
For the time being, follow the advice in my last entry
or file a new bug report, BUT KEEP THIS BUG RESOLVED.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;07&nbsp;07:34:20&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;05:03:11&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Please direct follow ups w.r.t. the build problem
recently reported on this ticket &#40;which is different
from the original problem&#41; to #58266
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jun&nbsp;16&nbsp;05:03:12&nbsp;2010</span>
    <span class="description">RSCHUPP [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
