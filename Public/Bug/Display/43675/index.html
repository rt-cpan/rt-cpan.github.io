<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #43675 for Devel-Symdump: Segfault bug in rnew-&gt;packages from Test::Class+Moose+Test::WWW::Mechanize::Catalyst</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #43675 for Devel-Symdump: Segfault bug in rnew-&gt;packages from Test::Class+Moose+Test::WWW::Mechanize::Catalyst</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Devel-Symdump">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Devel-Symdump">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Devel-Symdump">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Devel-Symdump">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Devel-Symdump">Devel-Symdump CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">43675</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Devel-Symdump">Devel-Symdump</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jmmills [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-11226-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
2.08    </td>
  </tr>
  <tr id="CF-11227-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




debug.out<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/570580/287775/debug.out">
Thu Feb 26 14:18:53 2009 (2.1k) by jmmills [...] cpan.org
</a>
</font></li>
</ul>


fix-segv.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/627599/319466/fix-segv.patch">
Fri Jul 03 02:28:39 2009 (520b) by gfuji [...] cpan.org
</a>
</font></li>
</ul>


glob_to_local_typeglob.t<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/571485/288259/glob_to_local_typeglob.t">
Sun Mar 01 01:08:51 2009 (1k) by jmmills [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=43675">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-570580" href="/Public/Bug/Display.html?id=43675#txn-570580">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;26&nbsp;14:18:53&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Segfault bug in rnew-&gt;packages from Test::Class+Moose+Test::WWW::Mechanize::Catalyst</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/570580/287772/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/287772">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It seems their is something going on in Devel::Symdump::_symdump under
rnew&#40;&#41; &#40;recursive&#41; that is causing a segfault.
The stack trace shows Test::Class uses Devel::Symdump to discover
packages that are &#34;tests&#34;. The usage is trivial and I suspect
Devel::Symdump shouldn&#39;t segfault no matter what packages have been
loaded :&#41;
Below &#40;and attached&#41; is the code I&#39;m using - the versions of relivant
package - my system id &#40;ubuntu&#41; and the strack trace output from the
perldebugger.
Sorry, I couldn&#39;t give you more but I&#39;m not very handy with gdb+perl.

-- cut --

package Mech;

use Moose;
use Scalar::Util &#39;blessed&#39;;
use Test::XML::RPC::Catalyst;
use Test::WWW::Mechanize::JSON;

extends qw[Test::WWW::Mechanize::Catalyst];

1;

package Case;

BEGIN { 
        use Moose;
        use Mech;
        extends qw[Test::Class Moose::Object];
}

has &#39;mech&#39; =&gt; &#40;
        is =&gt; &#39;ro&#39;,
        isa =&gt; &#39;Mech&#39;,
        lazy_build =&gt; 1,
&#41;;

has uri =&gt; &#40;
        is =&gt; &#39;ro&#39;,
        isa =&gt; &#39;Str&#39;,
        builder =&gt; &#39;build_uri&#39;,
        lazy =&gt; 1,
        required =&gt; 1
&#41;;

sub _build_mech {
        return Mech-&gt;new&#40;&#41;;
};

1;

package ATest;
BEGIN {
        use self;
        use Moose;
        extends &#39;Case&#39;;
}

sub build_uri { &#39;/test/abc/&#39;; }

sub t1_foo : Tests {
        self-&gt;builder-&gt;ok&#40;1&#41;;   
        self-&gt;builder-&gt;ok&#40;1&#41;;   
        self-&gt;builder-&gt;ok&#40;1&#41;;   
        self-&gt;builder-&gt;ok&#40;1&#41;;   
}

1;

# $Moose::VERSION == 0.68
# $Test::XML::RPC::Catalyst::VERSION == 0.01
# $Scalar::Util::VERSION == 1.19
# $Test::WWW::Mechanize::JSON::VERSION == 0.2
# $Test::WWW::Mechanize::Catalyst::VERSION == 0.50
# $Test::Class::VERSION == 0.31
# $Devel::Symdump::VERSION == 2.08

/tmp$ perl -MATest -d -e &#39;ATest-&gt;runtests&#40;&#41;;&#39;

Loading DB routines from perl5db.pl version 1.3
Editor support available.

Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.

Attribute::Handlers::CODE&#40;0x9938358&#41;&#40;/usr/share/perl/5.10/Attribute/Handlers.pm:221&#41;:
221:                    $global_phase++;
  DB&lt;1&gt; c
Signal SEGV at /usr/local/share/perl/5.10.0/Devel/Symdump.pm line 114
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x99d2478&#41;&#39;, &#39;version&#39;,
&#39;namespace&#39;, &#39;Case&#39;, &#39;Tie&#39;, &#39;Devel&#39;, &#39;U64&#39;, &#39;Encode&#39;, &#39;Regexp&#39;, ...&#41;
called at /usr/local/share/perl/5.10.0/Devel/Symdump.pm line 114
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x99d2478&#41;&#39;, &#39;main&#39;&#41;
called at /usr/local/share/perl/5.10.0/Devel/Symdump.pm line 43
        Devel::Symdump::_doit&#40;&#39;Devel::Symdump=HASH&#40;0x99d2478&#41;&#39;&#41; called at
/usr/local/share/perl/5.10.0/Devel/Symdump.pm line 30
        Devel::Symdump::rnew&#40;&#39;Devel::Symdump&#39;&#41; called at
/usr/local/share/perl/5.10.0/Test/Class.pm line 309
        Test::Class::_test_classes&#40;&#39;ATest&#39;&#41; called at
/usr/local/share/perl/5.10.0/Test/Class.pm line 318
        Test::Class::runtests&#40;&#39;ATest&#39;&#41; called at -e line 1
Aborted
/tmp$ cat /proc/version
Linux version 2.6.27-12-generic &#40;buildd@palmer&#41; &#40;gcc version 4.3.2
&#40;Ubuntu 4.3.2-1ubuntu12&#41; &#41; #1 SMP Thu Feb 5 09:26:35 UTC 2009
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> debug.out</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/570580/287775/debug.out">Download debug.out</a><br />
<span class="downloadcontenttype">application/octet-stream 2.1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-570609" href="/Public/Bug/Display.html?id=43675#txn-570609">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;26&nbsp;14:53:52&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/570609/287791/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/287791">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 103b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Also it case it matters: 

# $WWW::Mechanize::VERSION == 1.54
# $Test::WWW::Mechanize::VERSION == 1.20
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-570611" href="/Public/Bug/Display.html?id=43675#txn-570611">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;26&nbsp;14:53:53&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-570635" href="/Public/Bug/Display.html?id=43675#txn-570635">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;26&nbsp;16:37:23&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/570635/287806/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/287806">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok, did some more tracing &#40;fyi this is ubuntu vender perl 5.10.0&#41;
And it seems that if you break before local&#40;*ENTRY&#41; = $val &#40;in
Devel::Symdump::_symdump&#41; and step in from their the segv is happing at
ret_backtrace&#40;&#41; inside Carp::Heavy.
I&#39;m not sure why local&#40;*ENTRY&#41; = $val is jumping to Carp...
Here is my perldebug output:

  DB&lt;1&gt; c
Devel::Symdump::_symdump&#40;/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm:55&#41;:
55:                 my $gotone = 0;
  DB&lt;1&gt; 

  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm:56&#41;:
56:                 local&#40;*ENTRY&#41; = $val;
  DB&lt;1&gt; 
Devel::Symdump::_symdump&#40;/usr/share/perl/5.10/Carp.pm:28&#41;:
28:     sub longmess  { goto &#38;longmess_jmp }
  DB&lt;1&gt; s
Carp::longmess_real&#40;/usr/share/perl/5.10/Carp/Heavy.pm:39&#41;:
39:         my $call_pack = caller&#40;&#41;;
  DB&lt;1&gt; n
Carp::longmess_real&#40;/usr/share/perl/5.10/Carp/Heavy.pm:40&#41;:
40:         if &#40;$Internal{$call_pack} or $CarpInternal{$call_pack}&#41; {
  DB&lt;1&gt; n
Carp::longmess_real&#40;/usr/share/perl/5.10/Carp/Heavy.pm:44&#41;:
44:           local $CarpLevel = $CarpLevel + 1;
  DB&lt;1&gt; n
Carp::longmess_real&#40;/usr/share/perl/5.10/Carp/Heavy.pm:45&#41;:
45:           return longmess_heavy&#40;@_&#41;;
  DB&lt;1&gt; s
Carp::longmess_heavy&#40;/usr/share/perl/5.10/Carp/Heavy.pm:174&#41;:
174:      return @_ if ref&#40;$_[0]&#41;; # don&#39;t break references as exceptions
  DB&lt;1&gt; n
Carp::longmess_heavy&#40;/usr/share/perl/5.10/Carp/Heavy.pm:175&#41;:
175:      my $i = long_error_loc&#40;&#41;;
  DB&lt;1&gt; n
Carp::longmess_heavy&#40;/usr/share/perl/5.10/Carp/Heavy.pm:176&#41;:
176:      return ret_backtrace&#40;$i, @_&#41;;
  DB&lt;1&gt; s
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:182&#41;:
182:      my &#40;$i, @error&#41; = @_;
  DB&lt;1&gt; n
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:183&#41;:
183:      my $mess;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:184&#41;:
184:      my $err = join &#39;&#39;, @error;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:185&#41;:
185:      $i++;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:187&#41;:
187:      my $tid_msg = &#39;&#39;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:188&#41;:
188:      if &#40;defined &#38;threads::tid&#41; {
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:193&#41;:
193:      my %i = caller_info&#40;$i&#41;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:194&#41;:
194:      $mess = &#34;$err at $i{file} line $i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:196&#41;:
196:      while &#40;my %i = caller_info&#40;++$i&#41;&#41; {
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:197&#41;:
197:          $mess .= &#34;\t$i{sub_name} called at $i{file} line
$i{line}$tid_msg\n&#34;;
  DB&lt;1&gt; 
Carp::ret_backtrace&#40;/usr/share/perl/5.10/Carp/Heavy.pm:200&#41;:
200:      return $mess;
  DB&lt;1&gt; 
Signal SEGV at
/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm
line 115
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0xac84940&#41;&#39;, &#39;version&#39;,
&#39;Tie&#39;, &#39;Devel&#39;, &#39;U64&#39;, &#39;Encode&#39;, &#39;Regexp&#39;, &#39;UNIVERSAL&#39;, &#39;Tk&#39;, ...&#41;
called at
/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm
line 115
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0xac84940&#41;&#39;, &#39;main&#39;&#41;
called at
/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm
line 43
        Devel::Symdump::_doit&#40;&#39;Devel::Symdump=HASH&#40;0xac84940&#41;&#39;&#41; called at
/home/jason/.cpanplus/5.10.0/build/Devel-Symdump-2.08/lib//Devel/Symdump.pm
line 30
        Devel::Symdump::rnew&#40;&#39;Devel::Symdump&#39;&#41; called at
/usr/local/share/perl/5.10.0/Test/Class.pm line 309
        Test::Class::_test_classes&#40;&#39;Foo&#39;&#41; called at
/usr/local/share/perl/5.10.0/Test/Class.pm line 318
        Test::Class::runtests&#40;&#39;Foo&#39;&#41; called at -e line 1
Aborted &#40;core dumped&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-570713" href="/Public/Bug/Display.html?id=43675#txn-570713">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;26&nbsp;21:00:35&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/570713/287864/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/287864">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 191b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">So some further digging has show that the &#34;local *ENTITY = $val&#34; code
blows up &#40;segv&#39;s&#41; when it comes across the Compress::Zlib&#39;s
GZIP_NULL_TYPE constant which make $val eq a GLOB reference.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-571485" href="/Public/Bug/Display.html?id=43675#txn-571485">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;01&nbsp;01:08:51&nbsp;2009</span>
    <span class="description">jmmills [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/571485/288256/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/288256">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 79b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve attached a test case that should show configurations that have this
bug...
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/571485/288259/glob_to_local_typeglob.t">Download glob_to_local_typeglob.t</a><br />
<span class="downloadcontenttype">text/x-perl 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use strict;
use warnings;
use Test::More &#39;no_plan&#39;;
use English;

diag&#40;&#34;OS == $^O&#34;&#41;;

use_ok&#40;&#39;Compress::Zlib&#39;&#41;;
use_ok&#40;&#39;Devel::Symdump&#39;&#41;;

diag&#40;&#39;$Devel::Symdump::VERSION == &#39;.$Devel::Symdump::VERSION&#41;;
diag&#40;&#39;$Compress::Zlib::VERSION == &#39;.$Compress::Zlib::VERSION&#41;;
diag&#40;&#34;Perl == $]&#34;&#41;;

my $glob_ref = eval {
	no strict &#39;refs&#39;;
	${*{&#34;Compress::Zlib::&#34;}}{GZIP_NULL_BYTE};
};

ok&#40;!$@,&#39;reference assignment&#39;&#41;;
diag&#40;&#39;ref&#40;$glob_ref&#41; == &#34;&#39;.ref&#40;$glob_ref&#41;.&#39;&#34;&#39;&#41;;

_check_child&#40;sub {
	local *ENTRY;
	diag &#34;Checking GLOB assignment to reference...&#34;;
	*ENTRY = $glob_ref;
}&#41;;

_check_child&#40;sub {
	diag &#34;Checking Devel::Symdump-&gt;rnew-&gt;packages...&#34;;
	Devel::Symdump-&gt;rnew-&gt;packages;
}&#41;;

sub _check_child {
	local *CHILD;

	my $code = shift;
	my $pid = open&#40;CHILD, &#34;|-&#34;&#41;;
	
	unless &#40;$pid&#41; {
		$code-&gt;&#40;&#41;;
		exit 0;
	} else {
		my $w = waitpid&#40;$pid,0&#41;;
		ok&#40;$w != -1 &#38;&#38; $w == $pid,&#39;waitpid&#40;&#41;&#39;&#41;;
		my $e = $? &gt;&gt; 8;
		my $s = $? &#38; 127;
		my $c = $? &#38; 128;
		diag &#34;exit value = $e&#34;;
		diag &#34;exit with signal = $s&#34;;
		diag &#34;dumped core? $c&#34;;
		ok&#40;$s != 11,&#39;child did not SEGV&#39;&#41;;
		ok&#40;$e == 0 &#38;&#38; $s == 0,&#39;child exited properly&#39;&#41;;
	}
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-571517" href="/Public/Bug/Display.html?id=43675#txn-571517">#</a>      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;01&nbsp;04:33:13&nbsp;2009</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #43675] Segfault bug in rnew-&gt;packages from Test::Class+Moose+Test::WWW::Mechanize::Catalyst</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 01 Mar 2009 10:32:39 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Devel-Symdump [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/571517/288274/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/288274">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 306b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Sun, 01 Mar 2009 01:08:52 -0500, &#34;Jason M. Mills via RT&#34; &lt;bug-Devel-Symdump@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; I&#39;ve attached a test case that should show configurations that have this
  &gt; bug...
</div>
Excellent! New release 2.08_51 is uploaded to cpan. We&#39;ll see what
comes back from the cpantesters.

Thank you!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-584925" href="/Public/Bug/Display.html?id=43675#txn-584925">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;05:22:23&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/584925/295705/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/295705">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 100b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Devel-Symdump/">http://search.cpan.org/dist/Devel-Symdump/</a></span> does not show the new
release. Has something gone astray?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585080" href="/Public/Bug/Display.html?id=43675#txn-585080">#</a>      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;31&nbsp;12:45:50&nbsp;2009</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #43675] Segfault bug in rnew-&gt;packages from Test::Class+Moose+Test::WWW::Mechanize::Catalyst</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 31 Mar 2009 18:45:33 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Devel-Symdump [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/585080/295800/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/295800">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 142b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/dist/Devel-Symdump/">http://search.cpan.org/dist/Devel-Symdump/</a></span> does not show the new
  &gt; release. Has something gone astray?
</div>
Which new release?

-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585569" href="/Public/Bug/Display.html?id=43675#txn-585569">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;01&nbsp;17:06:47&nbsp;2009</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585569/296065/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296065">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 851b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m encountering the same segfault  issue with other CPAN modules.  In this case, PDF::API2.

For example, on RHEL4, PDF::API2 v0.72, Devel::SymDump 2.08:

perl -MDevel::Symdump -MPDF::API2 -e &#39;Devel::Symdump-&gt;rnew-&gt;packages&#39;

Signal SEGV at /home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 114
Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x269bf68&#41;&#39;, &#39;version&#39;, &#39;Tie&#39;, &#39;Devel&#39;, 
&#39;U64&#39;, &#39;Encode&#39;, &#39;Regexp&#39;, &#39;UNIVERSAL&#39;, &#39;Tk&#39;, ...&#41; called at 
/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 114
Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x269bf68&#41;&#39;, &#39;main&#39;&#41; called at 
/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 43
Devel::Symdump::_doit&#40;&#39;Devel::Symdump=HASH&#40;0x269bf68&#41;&#39;&#41; called at 
/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 30
Devel::Symdump::rnew&#40;&#39;Devel::Symdump&#39;&#41; called at -e line 1.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585681" href="/Public/Bug/Display.html?id=43675#txn-585681">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;03:50:24&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585681/296137/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296137">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 217b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Mar 31 09:45:50 2009, andreas.koenig.7os6VVqR@franz.ak.mind.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Which new release?
</div>
You announced:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;Excellent! New release 2.08_51 is uploaded to cpan. We&#39;ll see what
&gt;comes back from the cpantesters.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585684" href="/Public/Bug/Display.html?id=43675#txn-585684">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;03:57:08&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585684/296140/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296140">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 305b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 01 17:06:47 2009, RYBSKEJ wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m encountering the same segfault  issue with other CPAN modules.  In
&gt; this case, PDF::API2.
</div>
This is because PDF::API2 depends on Compress::Zlib

perl -MDevel::Symdump -MCompress::Zlib -e &#39;Devel::Symdump-&gt;rnew-&gt;packages&#39;

also segfaults in a similar manner
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585687" href="/Public/Bug/Display.html?id=43675#txn-585687">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;04:05:52&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585687/296143/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296143">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Mar 01 01:08:51 2009, JMMILLS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve attached a test case that should show configurations that have this
&gt; bug...
</div>
$ perl t/glob_to_local_typeglob.t
# OS == linux
ok 1 - use Compress::Zlib;
ok 2 - use Devel::Symdump;
# $Devel::Symdump::VERSION == 2.08
# $Compress::Zlib::VERSION == 2.008
# Perl == 5.010000
ok 3 - reference assignment
# ref&#40;$glob_ref&#41; == &#34;GLOB&#34;
# Checking GLOB assignment to reference...
ok 4 - waitpid&#40;&#41;
# exit value = 0
# exit with signal = 11
# dumped core? 0
not ok 5 - child did not SEGV
#   Failed test &#39;child did not SEGV&#39;
#   at t/glob_to_local_typeglob.t line 52.
not ok 6 - child exited properly
#   Failed test &#39;child exited properly&#39;
#   at t/glob_to_local_typeglob.t line 53.
# Checking Devel::Symdump-&gt;rnew-&gt;packages...
ok 7 - waitpid&#40;&#41;
# exit value = 0
# exit with signal = 11
# dumped core? 0
not ok 8 - child did not SEGV
#   Failed test &#39;child did not SEGV&#39;
#   at t/glob_to_local_typeglob.t line 52.
not ok 9 - child exited properly
#   Failed test &#39;child exited properly&#39;
#   at t/glob_to_local_typeglob.t line 53.
1..9
# Looks like you failed 4 tests of 9.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585710" href="/Public/Bug/Display.html?id=43675#txn-585710">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;05:34:04&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585710/296166/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296166">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 240b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Feb 26 16:37:23 2009, JMMILLS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And it seems that if you break before local&#40;*ENTRY&#41; = $val &#40;in
&gt; Devel::Symdump::_symdump&#41; and step in from their the segv is happing
</div>
For me, it is

defined *ENTRY{ARRAY}

that is calling carp.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585758" href="/Public/Bug/Display.html?id=43675#txn-585758">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;08:02:03&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585758/296193/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296193">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">And it crashes the debugger too when I try to look at $val:

$ perl -d -MDevel::Symdump -MCompress::Zlib -e
&#39;Devel::Symdump-&gt;rnew-&gt;packages&#39;

Loading DB routines from perl5db.pl version 1.3
Editor support available.

Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.

main::&#40;-e:1&#41;:   Devel::Symdump-&gt;rnew-&gt;packages
  DB&lt;1&gt; s
Devel::Symdump::rnew&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:26&#41;:
26:         my&#40;$class,@packages&#41; = @_;
  DB&lt;1&gt; b 114
  DB&lt;2&gt; c
Devel::Symdump::_symdump&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:114&#41;:
114:        return &#40;@todo &#38;&#38; $self-&gt;{RECURS}&#41;
  DB&lt;2&gt; s
Devel::Symdump::_symdump&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:48&#41;:
48:         my&#40;$self,@packages&#41; = @_ ;
  DB&lt;2&gt; c
Devel::Symdump::_symdump&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:114&#41;:
114:        return &#40;@todo &#38;&#38; $self-&gt;{RECURS}&#41;
  DB&lt;2&gt; s
Devel::Symdump::_symdump&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:48&#41;:
48:         my&#40;$self,@packages&#41; = @_ ;
  DB&lt;2&gt; b 54 $key eq &#39;GZIP_NULL_BYTE&#39;
  DB&lt;3&gt; c
Devel::Symdump::_symdump&#40;/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;3&gt; x $val
0  GLOB&#40;0xc00f68&#41;
   -&gt;
Signal SEGV at /home/jeff/lib/perl5/5.10.0/dumpvar.pl line 299
        dumpvar::unwrap&#40;&#39;GLOB&#40;0xc00f68&#41;&#39;, 3, -2&#41; called at
/home/jeff/lib/perl5/5.10.0/dumpvar.pl line 144
        dumpvar::DumpElem&#40;&#39;GLOB&#40;0xc00f68&#41;&#39;, 3, -2&#41; called at
/home/jeff/lib/perl5/5.10.0/dumpvar.pl line 270
        dumpvar::unwrap&#40;&#39;ARRAY&#40;0xe4f5b8&#41;&#39;, 0, -1&#41; called at
/home/jeff/lib/perl5/5.10.0/dumpvar.pl line 34
        main::dumpValue&#40;&#39;ARRAY&#40;0xe4f5b8&#41;&#39;, -1&#41; called at
/home/jeff/lib/perl5/5.10.0/perl5db.pl line 5545
        DB::dumpit&#40;&#39;GLOB&#40;0x6adef0&#41;&#39;, &#39;ARRAY&#40;0xe4f5b8&#41;&#39;&#41; called at
/home/jeff/lib/perl5/5.10.0/perl5db.pl line 667
        DB::eval called at /home/jeff/lib/perl5/5.10.0/perl5db.pl line 3434
        DB::DB called at
/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 54
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x646588&#41;&#39;,
&#39;Tie::Hash&#39;, &#39;Class::ISA&#39;, &#39;Devel::Peek&#39;, &#39;Devel::Symdump&#39;,
&#39;File::BSDGlob&#39;, &#39;File::Spec&#39;, &#39;File::Glob&#39;, &#39;File::Basename&#39;, ...&#41;
called at /home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 114
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x646588&#41;&#39;,
&#39;version&#39;, &#39;Tie&#39;, &#39;Class&#39;, &#39;Cwd&#39;, &#39;Devel&#39;, &#39;U64&#39;, &#39;Encode&#39;, &#39;Regexp&#39;,
...&#41; called at /home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm
line 114
        Devel::Symdump::_symdump&#40;&#39;Devel::Symdump=HASH&#40;0x646588&#41;&#39;,
&#39;main&#39;&#41; called at /home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm
line 43
        Devel::Symdump::_doit&#40;&#39;Devel::Symdump=HASH&#40;0x646588&#41;&#39;&#41; called at
/home/jeff/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm line 30
        Devel::Symdump::rnew&#40;&#39;Devel::Symdump&#39;&#41; called at -e line 1
Aborted
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-585829" href="/Public/Bug/Display.html?id=43675#txn-585829">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;02&nbsp;10:29:52&nbsp;2009</span>
    <span class="description">jffry [...] posteo.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/585829/296248/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/296248">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 66b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">GZIP_NULL_BYTE is a string - it shouldn&#39;t identified as a globref.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-588019" href="/Public/Bug/Display.html?id=43675#txn-588019">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;07&nbsp;05:31:41&nbsp;2009</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/588019/297553/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/297553">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Looks like this issue is specific to perl 5.10.0.  Something has changed in core perl regarding 
typeglobs, and it&#39;s breaking code that either tries typeglob ref assignment or 
$typeglob{THING} notation.

Comparing identical stack traces of below for different perl versions, note that perl 5.10.0 
returns a GLOB ref instead of a literal GLOB string &#40;i.e. GLOB&#40;0x895770&#41; vs. 
&#39;*Compress::Zlib::GZIP_NULL_BYTE&#39;&#41;.

========== perl 5.10.0 ==========:
perl -MDevel::Symdump -MCompress::Zlib -d -e &#39;Devel::Symdump-&gt;rnew-&gt;packages&#39;

Loading DB routines from perl5db.pl version 1.3
Editor support available.

Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.

main::&#40;-e:1&#41;:   Devel::Symdump-&gt;rnew-&gt;packages
  DB&lt;1&gt; s
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:26&#41;:
26:         my&#40;$class,@packages&#41; = @_;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:28&#41;:
28:         my $self = bless {%${&#34;$class\::Defaults&#34;}}, $class;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:28&#41;:
28:         my $self = bless {%${&#34;$class\::Defaults&#34;}}, $class;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:29&#41;:
29:         $self-&gt;{RECURS}++;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:30&#41;:
30:         $self-&gt;_doit&#40;@packages&#41;;
  DB&lt;1&gt; s
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:41&#41;:
41:         my&#40;$self,@packages&#41; = @_;
  DB&lt;1&gt; n
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:42&#41;:
42:         @packages = &#40;&#34;main&#34;&#41; unless @packages;
  DB&lt;1&gt; n
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:43&#41;:
43:         $self-&gt;{RESULT} = $self-&gt;_symdump&#40;@packages&#41;;
  DB&lt;1&gt; s
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:48&#41;:
48:         my&#40;$self,@packages&#41; = @_ ;
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:49&#41;:
49:         my&#40;$key,$val,$num,$pack,@todo,$tmp&#41;;
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:50&#41;:
50:         my $result = {};
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:51&#41;:
51:         foreach $pack &#40;@packages&#41;{
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;1&gt; w $key eq &#39;GZIP_NULL_BYTE&#39;
  DB&lt;2&gt; c
Watchpoint 0:   $key eq &#39;GZIP_NULL_BYTE&#39; changed:
    old value:  &#39;&#39;
    new value:  &#39;1&#39;
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;2&gt; p $val
GLOB&#40;0x895770&#41;
  DB&lt;3&gt; p *{$val}

  DB&lt;4&gt; 


========== Perl 5.8.8 ==========:
  DB&lt;1&gt; w $key eq &#39;GZIP_NULL_BYTE&#39;                                                                                                                                   
  DB&lt;2&gt; c                                                                                                                                                            
p $vWatchpoint 0:       $key eq &#39;GZIP_NULL_BYTE&#39; changed:
    old value:  &#39;&#39;
    new value:  &#39;1&#39;
Devel::Symdump::_symdump&#40;/Library/Perl/5.8.8/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;2&gt; p $val                                                                                                                                                       
*Compress::Zlib::GZIP_NULL_BYTE
  DB&lt;3&gt; p *{$val}                                                                                                                                                    
*Compress::Zlib::GZIP_NULL_BYTE
  DB&lt;4&gt;                                                                                                                                                              
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-588024" href="/Public/Bug/Display.html?id=43675#txn-588024">#</a>      
    </span>
    <span class="date">Tue&nbsp;Apr&nbsp;07&nbsp;05:43:00&nbsp;2009</span>
    <span class="description">RYBSKEJ [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/588024/297556/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/297556">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">For reference, *foo{THING} notation is documented here: <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.com/doc/manual/html/pod/perlref.html">http://www.perl.com/doc/manual/html/pod/perlref.html</a></span>

It&#39;s also interesting to note is that constant subroutines &#40;like those defined by &#39;use constant&#39;&#41; 
show up in perl 5.10.0 as SCALAR refs instead of literal GLOB string in Devel::Symdump, as 
seen below.  This is harmless in the case of Devel::Symdump, due to the local&#40;*ENTRY&#41;=$val; 
assignment, but does break the standard *foo{THING} notation, i.e. *{$val} works in perl 
5.8.8, but dies with &#34;Not a GLOB reference&#34; in perl 5.10.0.

Seems appropriate to elevate this issue to perl5-porters.

========== perl 5.10.0 ==========
# /opt/local/bin/perl5.10 -MDevel::Symdump -d -e &#39;use constant MAX32 =&gt; 2**32; 
Devel::Symdump-&gt;rnew-&gt;packages&#39;

Loading DB routines from perl5db.pl version 1.3
Editor support available.

Enter h or `h h&#39; for help, or `man perldebug&#39; for more help.

main::&#40;-e:1&#41;:   use constant MAX32 =&gt; 2**32; Devel::Symdump-&gt;rnew-&gt;packages
  DB&lt;1&gt; s
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:26&#41;:
26:         my&#40;$class,@packages&#41; = @_;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:28&#41;:
28:         my $self = bless {%${&#34;$class\::Defaults&#34;}}, $class;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:28&#41;:
28:         my $self = bless {%${&#34;$class\::Defaults&#34;}}, $class;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:29&#41;:
29:         $self-&gt;{RECURS}++;
  DB&lt;1&gt; n
Devel::Symdump::rnew&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:30&#41;:
30:         $self-&gt;_doit&#40;@packages&#41;;
  DB&lt;1&gt; s
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:41&#41;:
41:         my&#40;$self,@packages&#41; = @_;
  DB&lt;1&gt; n
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:42&#41;:
42:         @packages = &#40;&#34;main&#34;&#41; unless @packages;
  DB&lt;1&gt; n
Devel::Symdump::_doit&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:43&#41;:
43:         $self-&gt;{RESULT} = $self-&gt;_symdump&#40;@packages&#41;;
  DB&lt;1&gt; s
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:48&#41;:
48:         my&#40;$self,@packages&#41; = @_ ;
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:49&#41;:
49:         my&#40;$key,$val,$num,$pack,@todo,$tmp&#41;;
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:50&#41;:
50:         my $result = {};
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:51&#41;:
51:         foreach $pack &#40;@packages&#41;{
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:53&#41;:
53:             while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
  DB&lt;1&gt; n
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;1&gt; w $key eq &#39;MAX32&#39;
  DB&lt;2&gt; c
Watchpoint 0:   $key eq &#39;MAX32&#39; changed:
    old value:  &#39;&#39;
    new value:  &#39;1&#39;
Devel::Symdump::_symdump&#40;/opt/local/lib/perl5/site_perl/5.10.0/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;2&gt; p $val
SCALAR&#40;0x89f540&#41;
  DB&lt;3&gt; x $val
0  SCALAR&#40;0x89f540&#41;
   -&gt; 4294967296
  DB&lt;4&gt; 


========== perl 5.8.8 ==========
  DB&lt;1&gt; w $key eq &#39;MAX32&#39;                                                                                                                                            
  DB&lt;2&gt; c                                                                                                                                                            
Watchpoint 0:   $key eq &#39;MAX32&#39; changed:
    old value:  &#39;&#39;
    new value:  &#39;1&#39;
Devel::Symdump::_symdump&#40;/Library/Perl/5.8.8/Devel/Symdump.pm:54&#41;:
54:                 my $gotone = 0;
  DB&lt;2&gt; p $val                                                                                                                                                       
*main::MAX32
  DB&lt;3&gt; x $val                                                                                                                                                       
0  *main::MAX32
  DB&lt;4&gt;    
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-627599" href="/Public/Bug/Display.html?id=43675#txn-627599">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;03&nbsp;02:28:38&nbsp;2009</span>
    <span class="description">gfuji [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/627599/319463/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/319463">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 161b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Although Andreas said 2.08_51 was released, I cannot see it :&#40;

Anyway, I wrote a patch to fix this problem.

Regards,
-- 
Goro Fuji &#40;gfx&#41; GFUJI at CPAN.org
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/627599/319466/fix-segv.patch">Download fix-segv.patch</a><br />
<span class="downloadcontenttype">text/x-diff 520b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- Symdump.pm~	2007-06-25 15:07:38.000000000 +0900
+++ Symdump.pm	2009-07-03 15:02:55.451240000 +0900
@@ -49,8 +49,10 @@
     my&#40;$key,$val,$num,$pack,@todo,$tmp&#41;;
     my $result = {};
     foreach $pack &#40;@packages&#41;{
-	no strict;
-	while &#40;&#40;$key,$val&#41; = each&#40;%{*{&#34;$pack\::&#34;}}&#41;&#41; {
+	no strict &#39;refs&#39;;
+	my $stash = \%{$pack .&#39;::&#39;};
+	while &#40;&#40;$key,$val&#41; = each&#40;%{$stash}&#41;&#41; {
+		next if ref&#40;\$val&#41; ne &#39;GLOB&#39;; # stubs and constants are not type-globs
 	    my $gotone = 0;
 	    local&#40;*ENTRY&#41; = $val;
 	    #### SCALAR ####
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-629246" href="/Public/Bug/Display.html?id=43675#txn-629246">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;07&nbsp;02:07:12&nbsp;2009</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/629246/320377/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/320377">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 725b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;d like to find out where we stand with this. I apologize that I
haven&#39;t been too helpful with this bug so far.

I recall that I did release 2.08_51 with a new test and later deleted
it. It&#39;s still on backpan:

<span class="clickylink"><a target="new" rel="nofollow" href="http://backpan.cpan.org/authors/id/A/AN/ANDK/Devel-Symdump-2.08_51.tar.gz">http://backpan.cpan.org/authors/id/A/AN/ANDK/Devel-Symdump-2.08_51.tar.gz</a></span>

Cpantesters have the results:

<span class="clickylink"><a target="new" rel="nofollow" href="http://matrix.cpantesters.org/?dist=Devel-Symdump&#38;maxver=">http://matrix.cpantesters.org/?dist=Devel-Symdump&#38;maxver=</a></span>

The reason I deleted it was because I had the impression that we are
chasing a perl bug not a Devel-Symdump bug and we don&#39;t help anybody by
changing Devel-Symdump.

For future directions I welcome suggestions. One option is to release a
1.08_52 just for the sake of getting cpantesters results. Hmmm. I might
just do that. Any other suggestsions?
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.093295</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
