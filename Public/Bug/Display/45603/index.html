<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #45603 for MooseX-Types-Structured: Broken compatibility with Moose v0.76</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #45603 for MooseX-Types-Structured: Broken compatibility with Moose v0.76</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/MooseX-Types-Structured/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/MooseX-Types-Structured/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/MooseX-Types-Structured/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/MooseX-Types-Structured/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/MooseX-Types-Structured">MooseX-Types-Structured CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">45603</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/MooseX-Types-Structured/Active/">MooseX-Types-Structured</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
nelo.onyiah [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-224392-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.13    </td>
  </tr>
  <tr id="CF-224393-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;12:44:16&nbsp;2009</span>
    <span class="description">nelo.onyiah [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Broken compatibility with Moose v0.76</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

You may already be aware of this but it seems like the recent update of
Moose has broken this module. The attached example illustrates the
problem. It keeps warning about not &#34;inlining&#34; the constructor probably
due to:

  around &#39;new&#39; =&gt; sub { ... };

I am assuming &#40;based on the warning&#41; that the solution would be:

  __PACKAGE__-&gt;meta-&gt;make_immutable&#40; inline_constructor =&gt; 0 &#41;;

This issue is preventing me from installing MooseX::Declare, which I
believe is also one of your modules =&#41;

Also there does not appear to be a VERSION number and as such I cannot
update the installed version of the module via CPANPLUS.

Thanks.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> t.pl</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/env perl
use strict;
use warnings;
use MooseX::Types::Structured;
print join&#40; &#34;\n&#34;, &#34;-----------------&#34;, &#34;STILL ALIVE&#34;, &#34;-----------------&#34;, &#41;, &#34;\n&#34;;

=head1 OUTPUTS:

Not inlining &#39;new&#39; for MooseX::Meta::TypeCoercion::Structured since it is not inheriting the default Moose::Object::new
If you are certain you don&#39;t need to inline your constructor, specify inline_constructor =&gt; 0 in your call to MooseX::Meta::TypeCoercion::Structured-&gt;meta-&gt;make_immutable
Not inlining a constructor for MooseX::Meta::TypeConstraint::Structured since it defines its own constructor.
If you are certain you don&#39;t need to inline your constructor, specify inline_constructor =&gt; 0 in your call to MooseX::Meta::TypeConstraint::Structured-&gt;meta-&gt;make_immutable
-----------------
STILL ALIVE
-----------------

=cut
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;12:53:05&nbsp;2009</span>
    <span class="description">nelo.onyiah [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry,

I forgot to supply my information:

perl v5.010
Moose v0.76
MooseX::Declare v0.10
Linux bc-9-1-03 2.6.5--286tg3susesfs #1 SMP Mon Aug 20 14:43:24 BST 2007
x86_64 GNU/Linux

On Thu Apr 30 12:44:16 2009, nelo.onyiah@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; You may already be aware of this but it seems like the recent update of
&gt; Moose has broken this module. The attached example illustrates the
&gt; problem. It keeps warning about not &#34;inlining&#34; the constructor probably
&gt; due to:
&gt; 
&gt;   around &#39;new&#39; =&gt; sub { ... };
&gt; 
&gt; I am assuming &#40;based on the warning&#41; that the solution would be:
&gt; 
&gt;   __PACKAGE__-&gt;meta-&gt;make_immutable&#40; inline_constructor =&gt; 0 &#41;;
&gt; 
&gt; This issue is preventing me from installing MooseX::Declare, which I
&gt; believe is also one of your modules =&#41;
&gt; 
&gt; Also there does not appear to be a VERSION number and as such I cannot
&gt; update the installed version of the module via CPANPLUS.
&gt; 
&gt; Thanks.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;12:53:07&nbsp;2009</span>
    <span class="description">nelo.onyiah [...] gmail.com -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;13:45:27&nbsp;2009</span>
    <span class="description">jjnapiork [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Apr 30 12:53:05 2009, nelo.onyiah@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry,
&gt; 
&gt; I forgot to supply my information:
&gt; 
&gt; perl v5.010
&gt; Moose v0.76
&gt; MooseX::Declare v0.10
&gt; Linux bc-9-1-03 2.6.5--286tg3susesfs #1 SMP Mon Aug 20 14:43:24 BST 2007
&gt; x86_64 GNU/Linux
&gt; 
&gt; On Thu Apr 30 12:44:16 2009, nelo.onyiah@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; 
&gt; &gt; You may already be aware of this but it seems like the recent update of
&gt; &gt; Moose has broken this module. The attached example illustrates the
&gt; &gt; problem. It keeps warning about not &#34;inlining&#34; the constructor probably
&gt; &gt; due to:
&gt; &gt; 
&gt; &gt;   around &#39;new&#39; =&gt; sub { ... };
&gt; &gt; 
&gt; &gt; I am assuming &#40;based on the warning&#41; that the solution would be:
&gt; &gt; 
&gt; &gt;   __PACKAGE__-&gt;meta-&gt;make_immutable&#40; inline_constructor =&gt; 0 &#41;;
&gt; &gt; 
&gt; &gt; This issue is preventing me from installing MooseX::Declare, which I
&gt; &gt; believe is also one of your modules =&#41;
&gt; &gt; 
&gt; &gt; Also there does not appear to be a VERSION number and as such I cannot
&gt; &gt; update the installed version of the module via CPANPLUS.
&gt; &gt; 
&gt; &gt; Thanks.
</div>&gt; 
&gt; 
</div>

Hmm, I thought rafl release a new version that has that code.  looks
like version 0.13 has the updates.  Are you sure you are using version 0.13?

I plan an update soon to get ride of the around new stuff, hopefully
will solve lingering issues.  Probably sometime next week.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;30&nbsp;14:12:27&nbsp;2009</span>
    <span class="description">nelo.onyiah [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

It appears the changes have been updated. There is still no version
number in the module so I had to install it via URL in CPANPLUS. But at
least it now installs =&#41;

Thank you.

On Thu Apr 30 13:45:27 2009, JJNAPIORK wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Apr 30 12:53:05 2009, nelo.onyiah@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Sorry,
&gt; &gt; 
&gt; &gt; I forgot to supply my information:
&gt; &gt; 
&gt; &gt; perl v5.010
&gt; &gt; Moose v0.76
&gt; &gt; MooseX::Declare v0.10
&gt; &gt; Linux bc-9-1-03 2.6.5--286tg3susesfs #1 SMP Mon Aug 20 14:43:24 BST 2007
&gt; &gt; x86_64 GNU/Linux
&gt; &gt; 
&gt; &gt; On Thu Apr 30 12:44:16 2009, nelo.onyiah@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hi,
&gt; &gt; &gt; 
&gt; &gt; &gt; You may already be aware of this but it seems like the recent
</div></div></div>update of
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; &gt; Moose has broken this module. The attached example illustrates the
&gt; &gt; &gt; problem. It keeps warning about not &#34;inlining&#34; the constructor
</div></div>probably
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; due to:
&gt; &gt; &gt; 
&gt; &gt; &gt;   around &#39;new&#39; =&gt; sub { ... };
&gt; &gt; &gt; 
&gt; &gt; &gt; I am assuming &#40;based on the warning&#41; that the solution would be:
&gt; &gt; &gt; 
&gt; &gt; &gt;   __PACKAGE__-&gt;meta-&gt;make_immutable&#40; inline_constructor =&gt; 0 &#41;;
&gt; &gt; &gt; 
&gt; &gt; &gt; This issue is preventing me from installing MooseX::Declare, which I
&gt; &gt; &gt; believe is also one of your modules =&#41;
&gt; &gt; &gt; 
&gt; &gt; &gt; Also there does not appear to be a VERSION number and as such I cannot
&gt; &gt; &gt; update the installed version of the module via CPANPLUS.
&gt; &gt; &gt; 
&gt; &gt; &gt; Thanks.
</div>&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; 
&gt; Hmm, I thought rafl release a new version that has that code.  looks
&gt; like version 0.13 has the updates.  Are you sure you are using version
</div>0.13?
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; I plan an update soon to get ride of the around new stuff, hopefully
&gt; will solve lingering issues.  Probably sometime next week.
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;27&nbsp;19:08:49&nbsp;2009</span>
    <span class="description">rafl [...] debian.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
