<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #105189 for Net-SSLeay: Net::SSLeay fails to build on perl-5.22.0</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #105189 for Net-SSLeay: Net::SSLeay fails to build on perl-5.22.0</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-SSLeay/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-SSLeay/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SSLeay">Net-SSLeay CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">105189</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-SSLeay/Active/">Net-SSLeay</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jkeenan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44414-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-44415-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;09:01:42&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Net::SSLeay fails to build on perl-5.22.0</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">While using cpanm, Net::SSLeay v1.69 failed to build on perl-5.22.0 &#40;installed via perlbrew&#41;.  Details in attachments.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> net-ssleay-build-failure-log.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">cpanm &#40;App::cpanminus&#41; 1.7001 on perl 5.022000 built for x86_64-linux
Work directory is /home/jkeenan/.cpanm/work/1434113764.2796
You have make /usr/bin/make
You have LWP 6.13
You have /bin/tar: tar &#40;GNU tar&#41; 1.27.1
Copyright &#40;C&#41; 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a></span>&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
You have /usr/bin/unzip
Searching Net::SSLeay on cpanmetadb ...
--&gt; Working on Net::SSLeay
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz">http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz</a></span>
-&gt; OK
Unpacking Net-SSLeay-1.69.tar.gz
Entering Net-SSLeay-1.69
Checking configure dependencies from META.yml
Checking if you have ExtUtils::MakeMaker 6.36 ... Yes &#40;7.04_01&#41;
Configuring Net-SSLeay-1.68
Running Makefile.PL
*** Found OpenSSL-1.0.1f installed in /usr
*** Be sure to use the same compiler and options to compile your OpenSSL, perl,
    and Net::SSLeay. Mixing and matching compilers is not supported.
Do you want to run external tests?
These tests *will* *fail* if you do not have network connectivity. [n] n
Checking if your kit is complete...
Looks good
Generating a Unix-style Makefile
Writing Makefile for Net::SSLeay
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have ExtUtils::MakeMaker 6.36 ... Yes &#40;7.04_01&#41;
Checking if you have Test::More 0.60_01 ... Yes &#40;1.001014&#41;
Checking if you have MIME::Base64 0 ... Yes &#40;3.15&#41;
Building and testing Net-SSLeay-1.68
cp lib/Net/SSLeay/Handle.pm blib/lib/Net/SSLeay/Handle.pm
cp lib/Net/SSLeay.pod blib/lib/Net/SSLeay.pod
cp lib/Net/SSLeay.pm blib/lib/Net/SSLeay.pm
AutoSplitting blib/lib/Net/SSLeay.pm &#40;blib/lib/auto/Net/SSLeay&#41;
blib/lib/Net/SSLeay.pm: some names are not unique when truncated to 8 characters:
 directory blib/lib/auto/Net/SSLeay:
  do_https3.al, do_https2.al, do_https4.al, do_https.al truncate to do_https
  do_httpx3.al, do_httpx2.al, do_httpx4.al truncate to do_httpx
  get_https.al, get_https3.al, get_https4.al, get_http.al, get_http3.al, get_http4.al, get_httpx.al, get_httpx3.al, get_httpx4.al truncate to get_http
  head_https.al, head_https3.al, head_https4.al, head_http.al, head_http3.al, head_http4.al, head_httpx.al, head_httpx3.al, head_httpx4.al truncate to head_htt
  post_https.al, post_https3.al, post_https4.al, post_http.al, post_http3.al, post_http4.al, post_httpx.al, post_httpx3.al, post_httpx4.al truncate to post_htt
  put_https.al, put_https3.al, put_https4.al, put_http.al, put_http3.al, put_http4.al, put_httpx.al, put_httpx3.al, put_httpx4.al truncate to put_http
  ssl_read_all.al, ssl_read_until.al, ssl_read_CRLF.al truncate to ssl_read
  ssl_write_all.al, ssl_write_CRLF.al truncate to ssl_writ
  tcp_read_all.al, tcp_read_until.al, tcp_read_CRLF.al truncate to tcp_read
  tcp_write_all.al, tcp_write_CRLF.al truncate to tcp_writ
Running Mkbootstrap for Net::SSLeay &#40;&#41;
chmod 644 &#34;SSLeay.bs&#34;
&#34;/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/bin/perl&#34; &#34;-Iinc&#34; &#34;/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/ExtUtils/xsubpp&#34;  -typemap &#34;/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/ExtUtils/typemap&#34; -typemap &#34;typemap&#34;  SSLeay.xs &gt; SSLeay.xsc &#38;&#38; mv SSLeay.xsc SSLeay.c
cc -c   -fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\&#34;1.69\&#34; -DXS_VERSION=\&#34;1.69\&#34; -fPIC &#34;-I/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/x86_64-linux/CORE&#34;   SSLeay.c
SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or directory
 #include &lt;openssl/err.h&gt;
                         ^
compilation terminated.
make: *** [SSLeay.o] Error 1
-&gt; FAIL Installing Net::SSLeay failed. See /home/jkeenan/.cpanm/work/1434113764.2796/build.log for details. Retry with --force to force install it.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> perl_5_22_0_V.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Summary of my perl5 &#40;revision 5 version 22 subversion 0&#41; configuration:
   
  Platform:
    osname=linux, osvers=3.13.0-53-generic, archname=x86_64-linux
    uname=&#39;linux zareason 3.13.0-53-generic #89-ubuntu smp wed may 20 10:34:39 utc 2015 x86_64 x86_64 x86_64 gnulinux &#39;
    config_args=&#39;-de -Dprefix=/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0 -Aeval:scriptdir=/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/bin&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=undef, usemultiplicity=undef
    use64bitint=define, use64bitall=define, uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.8.2&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678, doublekind=3
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16, longdblkind=3
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=8, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -fstack-protector -L/usr/local/lib&#39;
    libpth=/usr/local/lib /usr/lib/gcc/x86_64-linux-gnu/4.8/include-fixed /usr/include/x86_64-linux-gnu /usr/lib /lib/x86_64-linux-gnu /lib/../lib /usr/lib/x86_64-linux-gnu /usr/lib/../lib /lib /lib64 /usr/lib64
    libs=-lpthread -lnsl -ldb -ldl -lm -lcrypt -lutil -lc
    perllibs=-lpthread -lnsl -ldl -lm -lcrypt -lutil -lc
    libc=libc-2.19.so, so=so, useshrplib=false, libperl=libperl.a
    gnulibc_version=&#39;2.19&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/usr/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;: 
  Compile-time options: HAS_TIMES PERLIO_LAYERS PERL_DONT_CREATE_GVSV
                        PERL_HASH_FUNC_ONE_AT_A_TIME_HARD PERL_MALLOC_WRAP
                        PERL_NEW_COPY_ON_WRITE PERL_PRESERVE_IVUV
                        USE_64_BIT_ALL USE_64_BIT_INT USE_LARGE_FILES
                        USE_LOCALE USE_LOCALE_COLLATE USE_LOCALE_CTYPE
                        USE_LOCALE_NUMERIC USE_LOCALE_TIME USE_PERLIO
                        USE_PERL_ATOF
  Built under linux
  Compiled at Jun  1 2015 19:12:01
  %ENV:
    PERLBREW_BASHRC_VERSION=&#34;0.67&#34;
    PERLBREW_HOME=&#34;/home/jkeenan/.perlbrew&#34;
    PERLBREW_MANPATH=&#34;/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/man&#34;
    PERLBREW_PATH=&#34;/home/jkeenan/perl5/perlbrew/bin:/home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/bin&#34;
    PERLBREW_PERL=&#34;perl-5.22.0&#34;
    PERLBREW_ROOT=&#34;/home/jkeenan/perl5/perlbrew&#34;
    PERLBREW_VERSION=&#34;0.67&#34;
    PERL_WORKDIR=&#34;gitwork/perl&#34;
  @INC:
    /home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/site_perl/5.22.0/x86_64-linux
    /home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/site_perl/5.22.0
    /home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0/x86_64-linux
    /home/jkeenan/perl5/perlbrew/perls/perl-5.22.0/lib/5.22.0
    .
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;12:56:32&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This looks like the important bit:

SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or directory

So I suspect that the perl version is not important here, but rather that your openssl installation is not compatible.  Can you confirm by trying to install again on an earlier perl version?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;12:56:33&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;13:40:50&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 12 12:56:32 2015, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This looks like the important bit:
&gt; 
&gt; SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or
&gt; directory
&gt; 
&gt; So I suspect that the perl version is not important here, but rather
&gt; that your openssl installation is not compatible.  Can you confirm by
&gt; trying to install again on an earlier perl version?
</div>
Attempted with 5.20.1, attached.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> net-ssleay-build-failure-5-20-1.txt</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ perlbrew switch perl-5.20.1

$ perl -v

This is perl 5, version 20, subversion 1 &#40;v5.20.1&#41; built for x86_64-linux

Copyright 1987-2014, Larry Wall

Perl may be copied only under the terms of either the Artistic License or the
GNU General Public License, which may be found in the Perl 5 source kit.

Complete documentation for Perl, including FAQ lists, should be found on
this system using &#34;man perl&#34; or &#34;perldoc perl&#34;.  If you have access to the
Internet, point your browser at <span class="clickylink"><a target="new" rel="nofollow" href="http://www.perl.org/">http://www.perl.org/</a></span>, the Perl Home Page.

$ cpanm Net::SSLeay
--&gt; Working on Net::SSLeay
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz">http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz</a></span> ... OK
Configuring Net-SSLeay-1.68 ... OK
Building and testing Net-SSLeay-1.68 ... FAIL
! Installing Net::SSLeay failed. See /home/jkeenan/.cpanm/work/1434130148.9010/build.log for details. Retry with --force to force install it.

$ cat /home/jkeenan/.cpanm/work/1434130148.9010/build.log
cpanm &#40;App::cpanminus&#41; 1.7001 on perl 5.020001 built for x86_64-linux
Work directory is /home/jkeenan/.cpanm/work/1434130148.9010
You have make /usr/bin/make
You have /usr/bin/wget
You have /bin/tar: tar &#40;GNU tar&#41; 1.27.1
Copyright &#40;C&#41; 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</a></span>&gt;.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Written by John Gilmore and Jay Fenlason.
You have /usr/bin/unzip
Searching Net::SSLeay on cpanmetadb ...
--&gt; Working on Net::SSLeay
Fetching <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz">http://www.cpan.org/authors/id/M/MI/MIKEM/Net-SSLeay-1.69.tar.gz</a></span>
-&gt; OK
Unpacking Net-SSLeay-1.69.tar.gz
Entering Net-SSLeay-1.69
Checking configure dependencies from META.yml
Checking if you have ExtUtils::MakeMaker 6.36 ... Yes &#40;6.98&#41;
Configuring Net-SSLeay-1.68
Running Makefile.PL
*** Found OpenSSL-1.0.1f installed in /usr
*** Be sure to use the same compiler and options to compile your OpenSSL, perl,
    and Net::SSLeay. Mixing and matching compilers is not supported.
Do you want to run external tests?
These tests *will* *fail* if you do not have network connectivity. [n] n
Checking if your kit is complete...
Looks good
Generating a Unix-style Makefile
Writing Makefile for Net::SSLeay
Writing MYMETA.yml and MYMETA.json
-&gt; OK
Checking dependencies from MYMETA.json ...
Checking if you have Test::More 0.60_01 ... Yes &#40;1.001002&#41;
Checking if you have MIME::Base64 0 ... Yes &#40;3.14&#41;
Checking if you have ExtUtils::MakeMaker 6.36 ... Yes &#40;6.98&#41;

Building and testing Net-SSLeay-1.68
cp lib/Net/SSLeay.pod blib/lib/Net/SSLeay.pod
cp lib/Net/SSLeay.pm blib/lib/Net/SSLeay.pm
AutoSplitting blib/lib/Net/SSLeay.pm &#40;blib/lib/auto/Net/SSLeay&#41;
blib/lib/Net/SSLeay.pm: some names are not unique when truncated to 8 characters:
 directory blib/lib/auto/Net/SSLeay:
  do_https3.al, do_https2.al, do_https4.al, do_https.al truncate to do_https
  do_httpx3.al, do_httpx2.al, do_httpx4.al truncate to do_httpx
  get_https.al, get_https3.al, get_https4.al, get_http.al, get_http3.al, get_http4.al, get_httpx.al, get_httpx3.al, get_httpx4.al truncate to get_http
  head_https.al, head_https3.al, head_https4.al, head_http.al, head_http3.al, head_http4.al, head_httpx.al, head_httpx3.al, head_httpx4.al truncate to head_htt
  post_https.al, post_https3.al, post_https4.al, post_http.al, post_http3.al, post_http4.al, post_httpx.al, post_httpx3.al, post_httpx4.al truncate to post_htt
  put_https.al, put_https3.al, put_https4.al, put_http.al, put_http3.al, put_http4.al, put_httpx.al, put_httpx3.al, put_httpx4.al truncate to put_http
  ssl_read_all.al, ssl_read_until.al, ssl_read_CRLF.al truncate to ssl_read
  ssl_write_all.al, ssl_write_CRLF.al truncate to ssl_writ
  tcp_read_all.al, tcp_read_until.al, tcp_read_CRLF.al truncate to tcp_read
  tcp_write_all.al, tcp_write_CRLF.al truncate to tcp_writ
cp lib/Net/SSLeay/Handle.pm blib/lib/Net/SSLeay/Handle.pm
Running Mkbootstrap for Net::SSLeay &#40;&#41;
chmod 644 SSLeay.bs
/home/jkeenan/perl5/perlbrew/perls/perl-5.20.1/bin/perl &#34;-Iinc&#34; /home/jkeenan/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/ExtUtils/xsubpp  -typemap /home/jkeenan/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/ExtUtils/typemap -typemap typemap  SSLeay.xs &gt; SSLeay.xsc &#38;&#38; mv SSLeay.xsc SSLeay.c
cc -c   -fwrapv -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\&#34;1.69\&#34; -DXS_VERSION=\&#34;1.69\&#34; -fPIC &#34;-I/home/jkeenan/perl5/perlbrew/perls/perl-5.20.1/lib/5.20.1/x86_64-linux/CORE&#34;   SSLeay.c
SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or directory
 #include &lt;openssl/err.h&gt;
                         ^
compilation terminated.
make: *** [SSLeay.o] Error 1
-&gt; FAIL Installing Net::SSLeay failed. See /home/jkeenan/.cpanm/work/1434130148.9010/build.log for details. Retry with --force to force install it.

###############################################

$ which openssl
/usr/bin/openssl

$ openssl version
OpenSSL 1.0.1f 6 Jan 2014

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;13:44:29&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 12 12:56:32 2015, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This looks like the important bit:
&gt; 
&gt; SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or
&gt; directory
&gt; 
&gt; So I suspect that the perl version is not important here, but rather
&gt; that your openssl installation is not compatible.  Can you confirm by
&gt; trying to install again on an earlier perl version?
</div>
Similar results with perl-5.18.4.  Excerpts:

#####
/home/jkeenan/perl5/perlbrew/perls/perl-5.18.4/bin/perl &#34;-Iinc&#34; /home/jkeenan/perl5/perlbrew/perls/perl-5.18.4/lib/5.18.4/ExtUtils/xsubpp  -typemap /home/jkeenan/perl5/perlbrew/perls/perl-5.18.4/lib/5.18.4/ExtUtils/typemap -typemap typemap  SSLeay.xs &gt; SSLeay.xsc &#38;&#38; mv SSLeay.xsc SSLeay.c
cc -c   -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -O2   -DVERSION=\&#34;1.69\&#34; -DXS_VERSION=\&#34;1.69\&#34; -fPIC &#34;-I/home/jkeenan/perl5/perlbrew/perls/perl-5.18.4/lib/5.18.4/x86_64-linux/CORE&#34;   SSLeay.c
SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or directory
 #include &lt;openssl/err.h&gt;
                         ^
compilation terminated.
make: *** [SSLeay.o] Error 1
#####
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;13:50:01&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 12 12:56:32 2015, ETHER wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This looks like the important bit:
&gt; 
&gt; SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or
&gt; directory
&gt; 
&gt; So I suspect that the perl version is not important here, but rather
&gt; that your openssl installation is not compatible.  Can you confirm by
&gt; trying to install again on an earlier perl version?
</div>
The system &#40;Ubuntu 14.04 LTS&#41; perl does have Net::SSLeay.

#####
$ /usr/bin/perl -v |head -3 | tail -2
This is perl 5, version 18, subversion 2 &#40;v5.18.2&#41; built for x86_64-linux-gnu-thread-multi
&#40;with 41 registered patches, see perl -V for more detail&#41;

$ /usr/bin/perl -MNet::SSLeay -E &#39;say $Net::SSLeay::VERSION&#39;
1.58
#####
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;14:29:18&nbsp;2015</span>
    <span class="description">ether [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Note to the maintainers -- checking at Makefile.PL time for the presence of the required .h or .so files might be useful -- I use Devel::CheckLib for that.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;14:30:31&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 12 13:40:50 2015, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Jun 12 12:56:32 2015, ETHER wrote:
<div class="message-stanza open">&gt; &gt; This looks like the important bit:
&gt; &gt; 
&gt; &gt; SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or
&gt; &gt; directory
&gt; &gt; 
&gt; &gt; So I suspect that the perl version is not important here, but rather
&gt; &gt; that your openssl installation is not compatible.  Can you confirm by
&gt; &gt; trying to install again on an earlier perl version?
</div>&gt; 
&gt; Attempted with 5.20.1, attached.
&gt; 
</div>
Since openssl-1.0.1f is the latest version available with my version of Ubuntu, I manually installed openssl-1.0.2c from a tarball obtained from <span class="clickylink"><a target="new" rel="nofollow" href="https://www.openssl.org/source/openssl-1.0.2c.tar.gz">https://www.openssl.org/source/openssl-1.0.2c.tar.gz</a></span>.  I then established symlinks such that /usr/bin/openssl would point to /usr/local/ssl/bin/openssl.

I again tried &#39;cpanm install Net::SSLeay&#39; and failed with the same error, notwithstanding the fact that the cpanm correctly located the updated version of openssl:

#####
*** Found OpenSSL-1.0.2c installed in /usr
*** Be sure to use the same compiler and options to compile your OpenSSL, perl,
    and Net::SSLeay. Mixing and matching compilers is not supported.
#####

Which leads me to suspect that, to get this to work, I would have to recompile perl-5.22.0 against the updated openssl.  I&#39;m not sure that I want to go to all that effort, as that would entail re-compiling all the CPAN modules I&#39;ve already installed against perl-5.22.0.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;23:29:05&nbsp;2015</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Jun 12 14:30:31 2015, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Jun 12 13:40:50 2015, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; On Fri Jun 12 12:56:32 2015, ETHER wrote:
<div class="message-stanza open">&gt; &gt; &gt; This looks like the important bit:
&gt; &gt; &gt;
&gt; &gt; &gt; SSLeay.xs:163:25: fatal error: openssl/err.h: No such file or
&gt; &gt; &gt; directory
&gt; &gt; &gt;
&gt; &gt; &gt; So I suspect that the perl version is not important here, but
&gt; &gt; &gt; rather
&gt; &gt; &gt; that your openssl installation is not compatible.  Can you confirm
&gt; &gt; &gt; by
&gt; &gt; &gt; trying to install again on an earlier perl version?
</div>&gt; &gt;
&gt; &gt; Attempted with 5.20.1, attached.
&gt; &gt;
</div>&gt; 
&gt; Since openssl-1.0.1f is the latest version available with my version
&gt; of Ubuntu, I manually installed openssl-1.0.2c from a tarball obtained
&gt; from <span class="clickylink"><a target="new" rel="nofollow" href="https://www.openssl.org/source/openssl-1.0.2c.tar.gz">https://www.openssl.org/source/openssl-1.0.2c.tar.gz</a></span>.  I then
&gt; established symlinks such that /usr/bin/openssl would point to
&gt; /usr/local/ssl/bin/openssl.
&gt; 
&gt; I again tried &#39;cpanm install Net::SSLeay&#39; and failed with the same
&gt; error, notwithstanding the fact that the cpanm correctly located the
&gt; updated version of openssl:
&gt; 
&gt; #####
&gt; *** Found OpenSSL-1.0.2c installed in /usr
&gt; *** Be sure to use the same compiler and options to compile your
&gt; OpenSSL, perl,
&gt;     and Net::SSLeay. Mixing and matching compilers is not supported.
&gt; #####
&gt; 
&gt; Which leads me to suspect that, to get this to work, I would have to
&gt; recompile perl-5.22.0 against the updated openssl.  I&#39;m not sure that
&gt; I want to go to all that effort, as that would entail re-compiling all
&gt; the CPAN modules I&#39;ve already installed against perl-5.22.0.
</div>
haarg++ suggested on IRC that I install  libssl-dev.  That did the trick.  Thereafter I was able to install Net::SSLeay without incident and then install the distribution I really wanted, one for which Net::SSLeay was a prerequisite.

That being said, what ether mentioned earlier bears repeating:  Net::SSLeay&#39;s Makefile.PL ought to check for libraries needed.  The fact that it does not caused a lot of wasted time on the part of 3 CPAN contributors today.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
