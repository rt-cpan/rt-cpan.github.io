<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #133751 for Date-Manip: Problem with Italian I18N</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #133751 for Date-Manip: Problem with Italian I18N</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Date-Manip">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Date-Manip">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Date-Manip">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Date-Manip">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Date-Manip">Date-Manip CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">133751</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Date-Manip">Date-Manip</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
leo.cacciari [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45268-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-45269-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=133751">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1919547" href="/Public/Bug/Display.html?id=133751#txn-1919547">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;16&nbsp;06:20:34&nbsp;2020</span>
    <span class="description">leo.cacciari [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problem with Italian I18N</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 16 Nov 2020 12:20:14 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Date-Manip [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leo Cacciari &lt;leo.cacciari [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1919547/1027909/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1027909">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
I&#39;m using Date::Manip and I tried to make a script I made &#40;content of
the script irrelevant&#41; usable by Italian speakers but I bumped against
serious problems with date parsing when using &#34;descriptive format&#34;.

Some examples will help understand the problem:
  - first Monday in March 2020 translate to &#34;primo lunedì di marzo
2020&#34;. However,this string
    produces an &#34;Invalid date string&#34; error when feeded to the parse
or parse_date methods.
    It should be noted that the parsing succeed, producing the
expected result of 2020030200:00:00
    if we use the string &#34;primo lunedì del marzo 2020&#34; which is
however grammatically erroneous in
    Italian
  - Analogously, &#34;second sunday in May 2020&#34; translates to &#34;seconda
domenica di maggio 2020&#34;
    which is refused by the parsing methods unless rewritten in the
erroneous form
    &#34;secondo  domenica del maggio 2021&#34; which makes my eyes bleed

Similar problems arise when trying for &#34;thursday in fifteenth week of
2020&#34;, which would translate to &#34;giovedì della quindicesima settimana
del 2020&#34; or &#34;1st monday in 2021&#34;, translating
to &#34;1o lunedì del 2020&#34;, or again &#34;1st sunday in january 2020&#34; which
would be written
&#34;1a domenica di gennaio 2020&#34;.

The problems with Date::Manip::Lang::italian are the following:
  1. In italian most date components are masculine, but some &#40;e.g
&#39;settimana&#39; = week and
      &#39;domenica&#39; = sunday&#41; are feminine, Ordinal numbers must be in
accord with the
      counted object gender, so you have &#34;terzo lunedì&#34; for third
monday, but &#34;terza domenica&#34;
      for third sunday. The &#39;nth&#39; field in italian.pm doesn&#39;t take
this in account
  2. Still speaking about the &#39;nth&#39; field, the &#34;numerical&#34;
abbreviations listed there aren&#39;t those
       an Italian would use. We would write 1o for 1st, not 1mo, and
13esimo or 13o for 13th,
       not 13mo. Moreover, the remark in the preceding point still
holds: the abbreviations too
       must accord in gender: is &#34;1o lunedì&#34;, but &#34;1a domenica&#34;.
  3.  Some of the words used to mean &#34;in&#34; are missing &#40;e.g. &#34;di&#34;&#41;
  4. Some other words are missing in other fields. e.g. &#34;scorso&#34; in
the second element of field
      &#39;nextprev&#39; or &#34;dopodomani&#34; &#40;overmorrow&#41; and &#34;l&#39;altroieri&#34;
&#40;ereyesterday&#41; tn the offset_data
      field.

I already started patching the Date::Calc::Lang::italian module,
&#40;adding some tests, too&#41;. So if you are agreeable to that I could
submit a patch in the next few days


-- 
Leo Cacciari

Aliae nationes servitutem pati possunt. Populi Romani est propria libertas.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1921146" href="/Public/Bug/Display.html?id=133751#txn-1921146">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;30&nbsp;13:28:51&nbsp;2020</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1921146/1028666/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1028666">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I would welcome any patch to fix Italian.  If you want, you could just modify the Date/Manip/Lang/Italian.pm file and add the modified version to this problem.

It&#39;s a challenge for me to keep the languages up-to-date since I don&#39;t speak Italian.


On Mon Nov 16 06:20:34 2020, leo.cacciari@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; I&#39;m using Date::Manip and I tried to make a script I made &#40;content of
&gt; the script irrelevant&#41; usable by Italian speakers but I bumped against
&gt; serious problems with date parsing when using &#34;descriptive format&#34;.
&gt; 
&gt; Some examples will help understand the problem:
&gt;   - first Monday in March 2020 translate to &#34;primo lunedì di marzo
&gt; 2020&#34;. However,this string
&gt;     produces an &#34;Invalid date string&#34; error when feeded to the parse
&gt; or parse_date methods.
&gt;     It should be noted that the parsing succeed, producing the
&gt; expected result of 2020030200:00:00
&gt;     if we use the string &#34;primo lunedì del marzo 2020&#34; which is
&gt; however grammatically erroneous in
&gt;     Italian
&gt;   - Analogously, &#34;second sunday in May 2020&#34; translates to &#34;seconda
&gt; domenica di maggio 2020&#34;
&gt;     which is refused by the parsing methods unless rewritten in the
&gt; erroneous form
&gt;     &#34;secondo  domenica del maggio 2021&#34; which makes my eyes bleed
&gt; 
&gt; Similar problems arise when trying for &#34;thursday in fifteenth week of
&gt; 2020&#34;, which would translate to &#34;giovedì della quindicesima settimana
&gt; del 2020&#34; or &#34;1st monday in 2021&#34;, translating
&gt; to &#34;1o lunedì del 2020&#34;, or again &#34;1st sunday in january 2020&#34; which
&gt; would be written
&gt; &#34;1a domenica di gennaio 2020&#34;.
&gt; 
&gt; The problems with Date::Manip::Lang::italian are the following:
&gt;   1. In italian most date components are masculine, but some &#40;e.g
&gt; &#39;settimana&#39; = week and
&gt;       &#39;domenica&#39; = sunday&#41; are feminine, Ordinal numbers must be in
&gt; accord with the
&gt;       counted object gender, so you have &#34;terzo lunedì&#34; for third
&gt; monday, but &#34;terza domenica&#34;
&gt;       for third sunday. The &#39;nth&#39; field in italian.pm doesn&#39;t take
&gt; this in account
&gt;   2. Still speaking about the &#39;nth&#39; field, the &#34;numerical&#34;
&gt; abbreviations listed there aren&#39;t those
&gt;        an Italian would use. We would write 1o for 1st, not 1mo, and
&gt; 13esimo or 13o for 13th,
&gt;        not 13mo. Moreover, the remark in the preceding point still
&gt; holds: the abbreviations too
&gt;        must accord in gender: is &#34;1o lunedì&#34;, but &#34;1a domenica&#34;.
&gt;   3.  Some of the words used to mean &#34;in&#34; are missing &#40;e.g. &#34;di&#34;&#41;
&gt;   4. Some other words are missing in other fields. e.g. &#34;scorso&#34; in
&gt; the second element of field
&gt;       &#39;nextprev&#39; or &#34;dopodomani&#34; &#40;overmorrow&#41; and &#34;l&#39;altroieri&#34;
&gt; &#40;ereyesterday&#41; tn the offset_data
&gt;       field.
&gt; 
&gt; I already started patching the Date::Calc::Lang::italian module,
&gt; &#40;adding some tests, too&#41;. So if you are agreeable to that I could
&gt; submit a patch in the next few days
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1921147" href="/Public/Bug/Display.html?id=133751#txn-1921147">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;30&nbsp;13:28:51&nbsp;2020</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1921462" href="/Public/Bug/Display.html?id=133751#txn-1921462">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;03&nbsp;04:49:59&nbsp;2020</span>
    <span class="description">leo.cacciari [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #133751] Problem with Italian I18N</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 3 Dec 2020 10:49:38 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Date-Manip [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Leo Cacciari &lt;leo.cacciari [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1921462/1028816/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1028816">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
one of the advantages of open software is that people speaking
different languages  can help getting localization right :&#41;
I&#39;ve been working on the git repository, so if you like, I could just
do a pull request there. I have just some cleanup to do
in the test script and in the git commits that are at the present way
too atomic, all of wich should be done by saturday or sunday
depending on next days workload.

LC

On Mon, Nov 30, 2020 at 7:28 PM Sullivan Beck via RT
&lt;bug-Date-Manip@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=133751">https://rt.cpan.org/Ticket/Display.html?id=133751</a></span> &gt;
&gt;
&gt; I would welcome any patch to fix Italian.  If you want, you could just modify the Date/Manip/Lang/Italian.pm file and add the modified version to this problem.
&gt;
&gt; It&#39;s a challenge for me to keep the languages up-to-date since I don&#39;t speak Italian.
&gt;
&gt;
&gt; On Mon Nov 16 06:20:34 2020, leo.cacciari@gmail.com wrote:
<div class="message-stanza open">&gt; &gt; Hi,
&gt; &gt; I&#39;m using Date::Manip and I tried to make a script I made &#40;content of
&gt; &gt; the script irrelevant&#41; usable by Italian speakers but I bumped against
&gt; &gt; serious problems with date parsing when using &#34;descriptive format&#34;.
&gt; &gt;
&gt; &gt; Some examples will help understand the problem:
&gt; &gt;   - first Monday in March 2020 translate to &#34;primo lunedì di marzo
&gt; &gt; 2020&#34;. However,this string
&gt; &gt;     produces an &#34;Invalid date string&#34; error when feeded to the parse
&gt; &gt; or parse_date methods.
&gt; &gt;     It should be noted that the parsing succeed, producing the
&gt; &gt; expected result of 2020030200:00:00
&gt; &gt;     if we use the string &#34;primo lunedì del marzo 2020&#34; which is
&gt; &gt; however grammatically erroneous in
&gt; &gt;     Italian
&gt; &gt;   - Analogously, &#34;second sunday in May 2020&#34; translates to &#34;seconda
&gt; &gt; domenica di maggio 2020&#34;
&gt; &gt;     which is refused by the parsing methods unless rewritten in the
&gt; &gt; erroneous form
&gt; &gt;     &#34;secondo  domenica del maggio 2021&#34; which makes my eyes bleed
&gt; &gt;
&gt; &gt; Similar problems arise when trying for &#34;thursday in fifteenth week of
&gt; &gt; 2020&#34;, which would translate to &#34;giovedì della quindicesima settimana
&gt; &gt; del 2020&#34; or &#34;1st monday in 2021&#34;, translating
&gt; &gt; to &#34;1o lunedì del 2020&#34;, or again &#34;1st sunday in january 2020&#34; which
&gt; &gt; would be written
&gt; &gt; &#34;1a domenica di gennaio 2020&#34;.
&gt; &gt;
&gt; &gt; The problems with Date::Manip::Lang::italian are the following:
&gt; &gt;   1. In italian most date components are masculine, but some &#40;e.g
&gt; &gt; &#39;settimana&#39; = week and
&gt; &gt;       &#39;domenica&#39; = sunday&#41; are feminine, Ordinal numbers must be in
&gt; &gt; accord with the
&gt; &gt;       counted object gender, so you have &#34;terzo lunedì&#34; for third
&gt; &gt; monday, but &#34;terza domenica&#34;
&gt; &gt;       for third sunday. The &#39;nth&#39; field in italian.pm doesn&#39;t take
&gt; &gt; this in account
&gt; &gt;   2. Still speaking about the &#39;nth&#39; field, the &#34;numerical&#34;
&gt; &gt; abbreviations listed there aren&#39;t those
&gt; &gt;        an Italian would use. We would write 1o for 1st, not 1mo, and
&gt; &gt; 13esimo or 13o for 13th,
&gt; &gt;        not 13mo. Moreover, the remark in the preceding point still
&gt; &gt; holds: the abbreviations too
&gt; &gt;        must accord in gender: is &#34;1o lunedì&#34;, but &#34;1a domenica&#34;.
&gt; &gt;   3.  Some of the words used to mean &#34;in&#34; are missing &#40;e.g. &#34;di&#34;&#41;
&gt; &gt;   4. Some other words are missing in other fields. e.g. &#34;scorso&#34; in
&gt; &gt; the second element of field
&gt; &gt;       &#39;nextprev&#39; or &#34;dopodomani&#34; &#40;overmorrow&#41; and &#34;l&#39;altroieri&#34;
&gt; &gt; &#40;ereyesterday&#41; tn the offset_data
&gt; &gt;       field.
&gt; &gt;
&gt; &gt; I already started patching the Date::Calc::Lang::italian module,
&gt; &gt; &#40;adding some tests, too&#41;. So if you are agreeable to that I could
&gt; &gt; submit a patch in the next few days
&gt; &gt;
&gt; &gt;
</div>&gt;
&gt;
&gt;
</div>

-- 
Leo Cacciari

Aliae nationes servitutem pati possunt. Populi Romani est propria libertas.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1921490" href="/Public/Bug/Display.html?id=133751#txn-1921490">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;03&nbsp;09:35:43&nbsp;2020</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1921490/1028832/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1028832">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 53b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perfect.  Any help you give will be much appreciated.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1922070" href="/Public/Bug/Display.html?id=133751#txn-1922070">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;09&nbsp;10:06:40&nbsp;2020</span>
    <span class="description">sbeck [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #133751] Problem with Italian I18N</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 9 Dec 2020 10:06:24 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Date-Manip [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Sullivan Beck &#40;CPAN&#41;&#34; &lt;sullybeck [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1922070/1029113/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/1029113">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the patch.  I reviewed it and merged it in.  It will be in 
the next release.

On 12/3/20 4:49 AM, Leo Cacciari via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;         Queue: Date-Manip
&gt;   Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=133751">https://rt.cpan.org/Ticket/Display.html?id=133751</a></span> &gt;
&gt;
&gt; Hi,
&gt; one of the advantages of open software is that people speaking
&gt; different languages  can help getting localization right :&#41;
&gt; I&#39;ve been working on the git repository, so if you like, I could just
&gt; do a pull request there. I have just some cleanup to do
&gt; in the test script and in the git commits that are at the present way
&gt; too atomic, all of wich should be done by saturday or sunday
&gt; depending on next days workload.
&gt;
&gt; LC
&gt;
&gt; On Mon, Nov 30, 2020 at 7:28 PM Sullivan Beck via RT
&gt; &lt;bug-Date-Manip@rt.cpan.org&gt; wrote:
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=133751">https://rt.cpan.org/Ticket/Display.html?id=133751</a></span> &gt;
&gt;&gt;
&gt;&gt; I would welcome any patch to fix Italian.  If you want, you could just modify the Date/Manip/Lang/Italian.pm file and add the modified version to this problem.
&gt;&gt;
&gt;&gt; It&#39;s a challenge for me to keep the languages up-to-date since I don&#39;t speak Italian.
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mon Nov 16 06:20:34 2020, leo.cacciari@gmail.com wrote:
<div class="message-stanza open">&gt;&gt;&gt; Hi,
&gt;&gt;&gt; I&#39;m using Date::Manip and I tried to make a script I made &#40;content of
&gt;&gt;&gt; the script irrelevant&#41; usable by Italian speakers but I bumped against
&gt;&gt;&gt; serious problems with date parsing when using &#34;descriptive format&#34;.
&gt;&gt;&gt;
&gt;&gt;&gt; Some examples will help understand the problem:
&gt;&gt;&gt;    - first Monday in March 2020 translate to &#34;primo lunedì di marzo
&gt;&gt;&gt; 2020&#34;. However,this string
&gt;&gt;&gt;      produces an &#34;Invalid date string&#34; error when feeded to the parse
&gt;&gt;&gt; or parse_date methods.
&gt;&gt;&gt;      It should be noted that the parsing succeed, producing the
&gt;&gt;&gt; expected result of 2020030200:00:00
&gt;&gt;&gt;      if we use the string &#34;primo lunedì del marzo 2020&#34; which is
&gt;&gt;&gt; however grammatically erroneous in
&gt;&gt;&gt;      Italian
&gt;&gt;&gt;    - Analogously, &#34;second sunday in May 2020&#34; translates to &#34;seconda
&gt;&gt;&gt; domenica di maggio 2020&#34;
&gt;&gt;&gt;      which is refused by the parsing methods unless rewritten in the
&gt;&gt;&gt; erroneous form
&gt;&gt;&gt;      &#34;secondo  domenica del maggio 2021&#34; which makes my eyes bleed
&gt;&gt;&gt;
&gt;&gt;&gt; Similar problems arise when trying for &#34;thursday in fifteenth week of
&gt;&gt;&gt; 2020&#34;, which would translate to &#34;giovedì della quindicesima settimana
&gt;&gt;&gt; del 2020&#34; or &#34;1st monday in 2021&#34;, translating
&gt;&gt;&gt; to &#34;1o lunedì del 2020&#34;, or again &#34;1st sunday in january 2020&#34; which
&gt;&gt;&gt; would be written
&gt;&gt;&gt; &#34;1a domenica di gennaio 2020&#34;.
&gt;&gt;&gt;
&gt;&gt;&gt; The problems with Date::Manip::Lang::italian are the following:
&gt;&gt;&gt;    1. In italian most date components are masculine, but some &#40;e.g
&gt;&gt;&gt; &#39;settimana&#39; = week and
&gt;&gt;&gt;        &#39;domenica&#39; = sunday&#41; are feminine, Ordinal numbers must be in
&gt;&gt;&gt; accord with the
&gt;&gt;&gt;        counted object gender, so you have &#34;terzo lunedì&#34; for third
&gt;&gt;&gt; monday, but &#34;terza domenica&#34;
&gt;&gt;&gt;        for third sunday. The &#39;nth&#39; field in italian.pm doesn&#39;t take
&gt;&gt;&gt; this in account
&gt;&gt;&gt;    2. Still speaking about the &#39;nth&#39; field, the &#34;numerical&#34;
&gt;&gt;&gt; abbreviations listed there aren&#39;t those
&gt;&gt;&gt;         an Italian would use. We would write 1o for 1st, not 1mo, and
&gt;&gt;&gt; 13esimo or 13o for 13th,
&gt;&gt;&gt;         not 13mo. Moreover, the remark in the preceding point still
&gt;&gt;&gt; holds: the abbreviations too
&gt;&gt;&gt;         must accord in gender: is &#34;1o lunedì&#34;, but &#34;1a domenica&#34;.
&gt;&gt;&gt;    3.  Some of the words used to mean &#34;in&#34; are missing &#40;e.g. &#34;di&#34;&#41;
&gt;&gt;&gt;    4. Some other words are missing in other fields. e.g. &#34;scorso&#34; in
&gt;&gt;&gt; the second element of field
&gt;&gt;&gt;        &#39;nextprev&#39; or &#34;dopodomani&#34; &#40;overmorrow&#41; and &#34;l&#39;altroieri&#34;
&gt;&gt;&gt; &#40;ereyesterday&#41; tn the offset_data
&gt;&gt;&gt;        field.
&gt;&gt;&gt;
&gt;&gt;&gt; I already started patching the Date::Calc::Lang::italian module,
&gt;&gt;&gt; &#40;adding some tests, too&#41;. So if you are agreeable to that I could
&gt;&gt;&gt; submit a patch in the next few days
&gt;&gt;&gt;
&gt;&gt;&gt;
</div>&gt;&gt;
&gt;&gt;
</div>&gt;
</div></div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.364004</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
