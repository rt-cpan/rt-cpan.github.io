<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #28927 for Handel: make test fails because of localized exceptions thrown</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #28927 for Handel: make test fails because of localized exceptions thrown</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Handel/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Handel/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Handel/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Handel/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Handel">Handel CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">28927</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Handel/Active/">Handel</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">claco [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-15244-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.00003    </td>
  </tr>
  <tr id="CF-15245-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;10:04:26&nbsp;2007</span>
    <span class="description">Renaud Drousies -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> make test fails because of localized exceptions thrown</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,

When running make test under a french locale, the exception thrown are
translated using the default Handel::L10N::fr lexicon.

That makes all tests based on e.g. 

like&#40;shift, qr/not a hash/i, &#39;not a hash in message&#39;&#41;; &#40;from cart_create.t&#41;

fail.

Regards,
Renaud Drousies
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;10:18:32&nbsp;2007</span>
    <span class="description">claco [...] chrislaco.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28927] make test fails because of localized exceptions thrown</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 21 Aug 2007 10:17:31 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Handel [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Christopher H. Laco&#34; &lt;claco [...] chrislaco.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Renaud Drousies via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Aug 21 10:04:26 2007: Request 28927 was acted upon.
&gt; Transaction: Ticket created by RDROUSIES
&gt;        Queue: Handel
&gt;      Subject: make test fails because of localized exceptions thrown
&gt;    Broken in: 1.00003
&gt;     Severity: &#40;no value&#41;
&gt;        Owner: Nobody
&gt;   Requestors: 
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28927">http://rt.cpan.org/Ticket/Display.html?id=28927</a></span> &gt;
&gt; 
&gt; 
&gt; Hello,
&gt; 
&gt; When running make test under a french locale, the exception thrown are
&gt; translated using the default Handel::L10N::fr lexicon.
&gt; 
&gt; That makes all tests based on e.g. 
&gt; 
&gt; like&#40;shift, qr/not a hash/i, &#39;not a hash in message&#39;&#41;; &#40;from cart_create.t&#41;
&gt; 
&gt; fail.
&gt; 
&gt; Regards,
&gt; Renaud Drousies
&gt; 
&gt; 
</div>
&#34;ALL&#34;, or just &#34;some&#34;?

In most cases, where I remembered to, those tests should look like:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; try {
&gt;     local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
&gt;     $storage-&gt;create;
&gt; 
&gt;     fail&#40;&#39;no exception thrown&#39;&#41;;
&gt; } catch Handel::Exception::Argument with {
&gt;     pass&#40;&#39;argument exception caught&#39;&#41;;
&gt;     like&#40;shift, qr/not a HASH/i, &#39;not a hash in message&#39;&#41;;
&gt; } otherwise {
&gt;     fail&#40;&#39;other exception caught&#39;&#41;;
&gt; };
</div>
So, ENV LANG should force these exceptions into English...
But, I&#39;ve been horribly wrong before. :-&#41;

Could you send me the output of the failed test numbers, and what your
ENV/locale is set to...

-=Chris
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;10:18:41&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;11:37:36&nbsp;2007</span>
    <span class="description">Renaud Drousies -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;12:26:09&nbsp;2007</span>
    <span class="description">claco [...] chrislaco.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28927] make test fails because of localized exceptions thrown</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 21 Aug 2007 12:24:49 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Handel [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Christopher H. Laco&#34; &lt;claco [...] chrislaco.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;13:58:01&nbsp;2007</span>
    <span class="description">Renaud Drousies -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Thanks for the update. That helps a lot. I&#39;ll give those a shot
&gt; tonight
&gt; and see if I can get a 1.00004 out with some other fixes as well.
&gt; 
&gt; -=Chris
&gt; 
</div>
Well, thanks to you for this great framework :&#41;

I&#39;ve enclosed a patch for the test files, if that can save you some
time. You can appply it from the main Handel directory with -p0


Regards,
Renaud Drousies
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -Naur t/cart_item_create.t ../Handel-1.00003/t/cart_item_create.t
--- t/cart_item_create.t	2007-06-29 22:26:27.000000000 -0400
+++ ../Handel-1.00003/t/cart_item_create.t	2007-08-21 13:39:05.000000000 -0400
@@ -39,6 +39,8 @@
     ## test for Handel::Exception::Argument where first param is not a hashref
     {
         try {
+
+            local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
             my $item = $subclass-&gt;create&#40;sku =&gt; &#39;FOO&#39;&#41;;
 
             fail&#40;&#39;no exception thrown&#39;&#41;;
diff -Naur t/cart_items.t ../Handel-1.00003/t/cart_items.t
--- t/cart_items.t	2007-06-29 22:26:27.000000000 -0400
+++ ../Handel-1.00003/t/cart_items.t	2007-08-21 13:39:05.000000000 -0400
@@ -96,6 +96,7 @@
             local $ENV{&#39;HandelMaxQuantityAction&#39;} = &#39;Exception&#39;;
 
             try {
+                local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
                 $item2-&gt;quantity&#40;6&#41;;
 
                 fail&#40;&#39;no exception thrown&#39;&#41;;
diff -Naur t/checkout_plugins.t ../Handel-1.00003/t/checkout_plugins.t
--- t/checkout_plugins.t	2007-06-29 22:26:26.000000000 -0400
+++ ../Handel-1.00003/t/checkout_plugins.t	2007-08-21 13:39:05.000000000 -0400
@@ -38,6 +38,7 @@
         local $SIG{&#39;__WARN__&#39;} = sub {
             $warning = shift;
         };
+        local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
         is&#40;Handel::Checkout::Plugin-&gt;register, undef, &#39;register does nothing&#39;&#41;;
         like&#40;$warning, qr/plugin .* defined register/i, &#39;warning was set&#39;&#41;;
     };
diff -Naur t/compat_cart_item_new.t ../Handel-1.00003/t/compat_cart_item_new.t
--- t/compat_cart_item_new.t	2007-06-29 22:26:26.000000000 -0400
+++ ../Handel-1.00003/t/compat_cart_item_new.t	2007-08-21 13:39:05.000000000 -0400
@@ -18,11 +18,13 @@
     use_ok&#40;&#39;Handel::Subclassing::CartItem&#39;&#41;;
     use_ok&#40;&#39;Handel::Constraints&#39;, &#39;constraint_uuid&#39;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
-
+    
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
     use_ok&#40;&#39;Handel::Compat&#39;&#41;;
+
 };
 
 
diff -Naur t/compat_cart_items.t ../Handel-1.00003/t/compat_cart_items.t
--- t/compat_cart_items.t	2007-06-29 22:26:28.000000000 -0400
+++ ../Handel-1.00003/t/compat_cart_items.t	2007-08-21 13:39:05.000000000 -0400
@@ -20,6 +20,8 @@
     use_ok&#40;&#39;Handel::Constants&#39;, qw&#40;:cart :returnas&#41;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_cart_load.t ../Handel-1.00003/t/compat_cart_load.t
--- t/compat_cart_load.t	2007-06-29 22:26:27.000000000 -0400
+++ ../Handel-1.00003/t/compat_cart_load.t	2007-08-21 13:39:05.000000000 -0400
@@ -20,6 +20,8 @@
     use_ok&#40;&#39;Handel::Constants&#39;, qw&#40;:cart :returnas&#41;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_cart_new.t ../Handel-1.00003/t/compat_cart_new.t
--- t/compat_cart_new.t	2007-06-29 22:26:26.000000000 -0400
+++ ../Handel-1.00003/t/compat_cart_new.t	2007-08-21 13:39:05.000000000 -0400
@@ -21,6 +21,8 @@
     use_ok&#40;&#39;Handel::Constraints&#39;, &#39;constraint_uuid&#39;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_order_item_new.t ../Handel-1.00003/t/compat_order_item_new.t
--- t/compat_order_item_new.t	2007-06-29 22:26:26.000000000 -0400
+++ ../Handel-1.00003/t/compat_order_item_new.t	2007-08-21 13:39:05.000000000 -0400
@@ -22,6 +22,8 @@
     use_ok&#40;&#39;Handel::Constraints&#39;, &#39;constraint_uuid&#39;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_order_items.t ../Handel-1.00003/t/compat_order_items.t
--- t/compat_order_items.t	2007-06-29 22:26:20.000000000 -0400
+++ ../Handel-1.00003/t/compat_order_items.t	2007-08-21 13:39:05.000000000 -0400
@@ -20,6 +20,8 @@
     use_ok&#40;&#39;Handel::Constants&#39;, qw&#40;:order :returnas&#41;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_order_load.t ../Handel-1.00003/t/compat_order_load.t
--- t/compat_order_load.t	2007-06-29 22:26:27.000000000 -0400
+++ ../Handel-1.00003/t/compat_order_load.t	2007-08-21 13:39:05.000000000 -0400
@@ -20,6 +20,8 @@
     use_ok&#40;&#39;Handel::Constants&#39;, qw&#40;:order :returnas&#41;&#41;;
     use_ok&#40;&#39;Handel::Exception&#39;, &#39;:try&#39;&#41;;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/compat_order_new.t ../Handel-1.00003/t/compat_order_new.t
--- t/compat_order_new.t	2007-06-29 22:26:27.000000000 -0400
+++ ../Handel-1.00003/t/compat_order_new.t	2007-08-21 13:39:05.000000000 -0400
@@ -55,6 +55,8 @@
 use_ok&#40;&#39;Handel::Subclassing::OrderOnly&#39;&#41;;
 use_ok&#40;&#39;Handel::Subclassing::Cart&#39;&#41;;
 
+local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
+
 local $SIG{__WARN__} = sub {
     like&#40;shift, qr/deprecated/&#41;;
 };
diff -Naur t/compat.t ../Handel-1.00003/t/compat.t
--- t/compat.t	2007-06-29 22:26:25.000000000 -0400
+++ ../Handel-1.00003/t/compat.t	2007-08-21 13:39:05.000000000 -0400
@@ -7,6 +7,7 @@
     use lib &#39;t/lib&#39;;
     use Handel::Test tests =&gt; 15;
 
+    local $ENV{&#39;LANG&#39;} = &#39;en&#39;; 
     local $SIG{__WARN__} = sub {
         like&#40;shift, qr/deprecated/&#41;;
     };
diff -Naur t/storage_primary_columns.t ../Handel-1.00003/t/storage_primary_columns.t
--- t/storage_primary_columns.t	2007-06-29 22:26:20.000000000 -0400
+++ ../Handel-1.00003/t/storage_primary_columns.t	2007-08-21 13:39:05.000000000 -0400
@@ -29,6 +29,8 @@
 ## throw exception when primary column doesn&#39;t exists in columns
 {
     try {
+
+        local $ENV{&#39;LANG&#39;} = &#39;en&#39;;
         $storage-&gt;primary_columns&#40;qw/bar quix/&#41;;
 
         fail&#40;&#39;no exception thrown&#39;&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;14:01:47&nbsp;2007</span>
    <span class="description">claco [...] chrislaco.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #28927] make test fails because of localized exceptions thrown</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 21 Aug 2007 14:01:00 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Handel [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Christopher H. Laco&#34; &lt;claco [...] chrislaco.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Renaud Drousies via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: Handel
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=28927">http://rt.cpan.org/Ticket/Display.html?id=28927</a></span> &gt;
&gt; 
<div class="message-stanza open">&gt;&gt; Thanks for the update. That helps a lot. I&#39;ll give those a shot
&gt;&gt; tonight
&gt;&gt; and see if I can get a 1.00004 out with some other fixes as well.
&gt;&gt;
&gt;&gt; -=Chris
&gt;&gt;
</div>&gt; 
&gt; Well, thanks to you for this great framework :&#41;
&gt; 
&gt; I&#39;ve enclosed a patch for the test files, if that can save you some
&gt; time. You can appply it from the main Handel directory with -p0
&gt; 
&gt; 
&gt; Regards,
&gt; Renaud Drousies
&gt; 
&gt; 
&gt; 
</div>
Even better, thanks!

When you get further into your project, please stop by the mailing list
or IRC and let us know how things are going or if you have any problems.

-=Chris
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;22:25:30&nbsp;2007</span>
    <span class="description">claco [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Fixed in 1.00004.
Applied patch and also changed from LANG to LANGUAGE which seems to
cover more setups.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;22:25:32&nbsp;2007</span>
    <span class="description">claco [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;21&nbsp;22:25:40&nbsp;2007</span>
    <span class="description">claco [...] cpan.org -  Given to CLACO</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
