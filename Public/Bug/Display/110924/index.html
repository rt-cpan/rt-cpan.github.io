<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #110924 for XML-Twig: Support for !NOTATION elements</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #110924 for XML-Twig: Support for !NOTATION elements</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/XML-Twig/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/XML-Twig/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/XML-Twig/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/XML-Twig/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/XML-Twig">XML-Twig CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">110924</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/XML-Twig/Active/">XML-Twig</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
brianjamespugh [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-37682-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-37683-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<ul>
<li>
3.48</li>
<li>
3.49</li>
</ul>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;05&nbsp;14:41:06&nbsp;2016</span>
    <span class="description">brianjamespugh [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Support for !NOTATION elements</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">XML::Twig is currently lacking in support for manipulating !NOTATION elements found in the DTD/Doctype section.  

I&#39;m submitting a patch that is just a cut/paste/update of the current !ENTITY support to handle !NOTATION.  This patch is lacking tests and various parsing style updates, but works in basic cases.  

This patch was tested with 3.48, but I have applied to 3.49 and it went in clean.  
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> XML-Twig-3.48-Notation.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -uNr XML-Twig-3.48/Twig.pm XML-Twig-3.48-Notation/Twig.pm
--- XML-Twig-3.48/Twig.pm	2014-03-30 04:54:15.000000000 -0400
+++ XML-Twig-3.48-Notation/Twig.pm	2016-01-05 14:16:11.924926200 -0500
@@ -117,7 +117,7 @@
 my %DEFAULT_URI2NS= map { $DEFAULT_NS{$_} =&gt; $_ } keys %DEFAULT_NS;
 
 # constants
-my&#40; $PCDATA, $CDATA, $PI, $COMMENT, $ENT, $ELT, $TEXT, $ASIS, $EMPTY, $BUFSIZE&#41;;
+my&#40; $PCDATA, $CDATA, $PI, $COMMENT, $ENT, $NOTATION, $ELT, $TEXT, $ASIS, $EMPTY, $BUFSIZE&#41;;
 
 # used when an HTML doc only has a PUBLIC declaration, to generate the SYSTEM one
 # this should really be done by HTML::TreeBuilder, but as of HTML::TreeBuilder 4.2 it isn&#39;t
@@ -173,17 +173,20 @@
 import XML::Twig::Elt;
 import XML::Twig::Entity;
 import XML::Twig::Entity_list;
+import XML::Twig::Notation;
+import XML::Twig::Notation_list;
 
 # used to store the gi&#39;s
 # should be set for each twig really, at least when there are several
 # the init ensures that special gi&#39;s are always the same
 
 # constants: element types
-$PCDATA  = &#39;#PCDATA&#39;;
-$CDATA   = &#39;#CDATA&#39;;
-$PI      = &#39;#PI&#39;;
-$COMMENT = &#39;#COMMENT&#39;;
-$ENT     = &#39;#ENT&#39;;
+$PCDATA   = &#39;#PCDATA&#39;;
+$CDATA    = &#39;#CDATA&#39;;
+$PI       = &#39;#PI&#39;;
+$COMMENT  = &#39;#COMMENT&#39;;
+$ENT      = &#39;#ENT&#39;;
+$NOTATION = &#39;#NOTATION&#39;;
 
 # element classes
 $ELT     = &#39;#ELT&#39;;
@@ -237,6 +240,7 @@
                     End        =&gt; \&#38;_twig_end, 
                     Char       =&gt; \&#38;_twig_char, 
                     Entity     =&gt; \&#38;_twig_entity, 
+                    Notation   =&gt; \&#38;_twig_notation,
                     XMLDecl    =&gt; \&#38;_twig_xmldecl, 
                     Doctype    =&gt; \&#38;_twig_doctype, 
                     Element    =&gt; \&#38;_twig_element, 
@@ -731,7 +735,8 @@
     # XML::Parser level
     $self-&gt;setHandlers&#40; Init =&gt; \&#38;_twig_init, Final =&gt; \&#38;_twig_final&#41;;
 
-    $self-&gt;{twig_entity_list}= XML::Twig::Entity_list-&gt;new; 
+    $self-&gt;{twig_entity_list}   = XML::Twig::Entity_list-&gt;new; 
+    $self-&gt;{twig_notation_list} = XML::Twig::Notation_list-&gt;new;
 
     $self-&gt;{twig_id}= $ID; 
     $self-&gt;{twig_stored_spaces}=&#39;&#39;;
@@ -2829,6 +2834,19 @@
     return;
   }
 
+sub _twig_notation
+   {
+     # warn &#34; in _twig_notation...\n&#34;;
+     my&#40; $p, $name, $base, $sysid, $pubid &#41; = @_;
+     my $t = $p-&gt;{twig};
+
+     my $notation = XML::Twig::Notation-&gt;new&#40; $name, $base, $sysid, $pubid &#41;;
+     my $notation_list = $t-&gt;notation_list&#40;&#41;;
+     if&#40; $notation_list &#41; { $notation_list-&gt;add&#40; $notation &#41;; }
+
+     return;     
+   }
+
 
 sub _twig_extern_ent
    { # warn &#34; in _twig_extern_ent...I &#40;&#34;, $_[0]-&gt;original_string, &#34;&#41;\n&#34;; # DEBUG handler
@@ -3157,6 +3175,25 @@
     return $t-&gt;entity_list-&gt;ent&#40; $entity_name&#41;;
   }
 
+# return the notation_list object 
+sub notation_list
+  { my $t= shift;
+    return $t-&gt;{twig_notation_list};
+  }
+
+# return the list of notation names 
+sub notation_names
+  { my $t= shift;
+    return $t-&gt;notation_list-&gt;notation_names;
+  }
+
+# return the notation object 
+sub notation
+  { my $t= shift;
+    my $notation_name= shift;
+    return $t-&gt;notation_list-&gt;notation&#40; $notation_name&#41;;
+  }
+
 
 sub print_prolog
   { my $t= shift;
@@ -3195,15 +3232,18 @@
           { my $internal=$doctype-&gt;{internal};
             # awful hack, but at least it works a little better that what was there before
             if&#40; $internal&#41;
-              { # remove entity declarations &#40;they will be re-generated from the updated entity list&#41;
+              { # remove entity and notation declarations &#40;they will be re-generated from the updated lists&#41;
                 $internal=~ s{&lt;! \s* ENTITY \s+ $REG_TAG_NAME \s+ &#40; &#40;&#34;[^&#34;]*&#34;|&#39;[^&#39;]*&#39;&#41; \s* | SYSTEM [^&gt;]*&#41; &gt;\s*}{}xg;
+                $internal=~ s{&lt;! \s* NOTATION .*? &gt;\s*}{}xg;
                 $internal=~ s{^\n}{};
               }
-            $internal .= $t-&gt;entity_list-&gt;text ||&#39;&#39; if&#40; $t-&gt;entity_list&#41;;
+            $internal .= $t-&gt;entity_list-&gt;text   ||&#39;&#39; if&#40; $t-&gt;entity_list&#41;;
+            $internal .= $t-&gt;notation_list-&gt;text ||&#39;&#39; if&#40; $t-&gt;notation_list&#41;;
+
             if&#40; $internal&#41; { $doctype_text .= &#34;[\n$internal]&gt;\n&#34;; }
           }
-        elsif&#40; !$t-&gt;{&#39;twig_dtd&#39;} &#38;&#38; keys %{$t-&gt;entity_list}&#41; 
-          { $doctype_text .= &#34;&lt;!DOCTYPE &#34; . $t-&gt;root-&gt;gi . &#34; [\n&#34; . $t-&gt;entity_list-&gt;text . &#34;\n]&gt;&#34;;;}
+        elsif&#40; !$t-&gt;{&#39;twig_dtd&#39;} &#38;&#38; &#40; keys %{$t-&gt;entity_list} || keys %{$t-&gt;notation_list} &#41;&#41; 
+          { $doctype_text .= &#34;&lt;!DOCTYPE &#34; . $t-&gt;root-&gt;gi . &#34; [\n&#34; . $t-&gt;entity_list-&gt;text . $t-&gt;notation_list-&gt;text . &#34;\n]&gt;&#34;;;}
         else
           { $doctype_text= $t-&gt;{twig_dtd};
             $doctype_text .= $t-&gt;dtd_text;
@@ -4837,6 +4877,161 @@
 1;
 
 ######################################################################
+package XML::Twig::Notation_list;
+######################################################################
+
+*isa= *UNIVERSAL::isa;
+
+sub new
+  { my $class = shift;
+    my $self={ notations =&gt; {}, updated =&gt; 0};
+
+    bless $self, $class;
+    return $self;
+
+  }
+
+sub add_new_notation
+  { my $notation_list= shift;
+    my $notation= XML::Twig::Notation-&gt;new&#40; @_&#41;;
+    $notation_list-&gt;add&#40; $notation&#41;;
+    return $notation_list;
+  }
+
+sub _add_list
+  { my&#40; $notation_list, $to_add&#41;= @_;
+    my $notations_to_add= $to_add-&gt;{notations};
+    return $notation_list unless&#40; $notations_to_add &#38;&#38; %$notations_to_add&#41;;
+    @{$notation_list-&gt;{notations}}{keys %$notations_to_add}= values %$notations_to_add;
+    $notation_list-&gt;{updated}=1;
+    return $notation_list;
+  }
+
+sub add
+  { my&#40; $notation_list, $notation&#41;= @_;
+    $notation_list-&gt;{notations}-&gt;{$notation-&gt;{name}}= $notation;
+    $notation_list-&gt;{updated}=1;
+    return $notation_list;
+  }
+
+sub notation
+  { my&#40; $notation_list, $notation_name&#41;= @_;
+    return $notation_list-&gt;{notations}-&gt;{$notation_name};
+  }
+
+# can be called with an notationity or with an notationity name
+sub delete
+  { my $notation_list= shift;
+    if&#40; isa&#40; ref $_[0], &#39;XML::Twig::Notation&#39;&#41;&#41;
+      { # the second arg is an notationity
+        my $notation= shift;
+        delete $notation_list-&gt;{notations}-&gt;{$notation-&gt;{name}};
+      }
+    else
+      { # the second arg was not notationity, must be a string then
+        my $name= shift;
+        delete $notation_list-&gt;{notations}-&gt;{$name};
+      }
+    $notation_list-&gt;{updated}=1;
+    return $notation_list;
+  }
+
+sub print
+  { my &#40;$notation_list, $fh&#41;= @_;
+    my $old_select= defined $fh ? select $fh : undef;
+
+    foreach my $notation_name &#40; sort keys %{$notation_list-&gt;{notations}}&#41;
+      { my $notation= $notation_list-&gt;{notations}-&gt;{$notation_name};
+        # we have to test what the notationity is or un-defined notations can creep in
+        if&#40; isa&#40; $notation, &#39;XML::Twig::Notation&#39;&#41;&#41; { $notation-&gt;print&#40;&#41;; }
+      }
+    select $old_select if&#40; defined $old_select&#41;;
+    return $notation_list;
+  }
+
+sub text
+  { my &#40;$notation_list&#41;= @_;
+    return join &#34;\n&#34;, map { $notation_list-&gt;{notations}-&gt;{$_}-&gt;text} sort keys %{$notation_list-&gt;{notations}};
+  }
+
+# return the list of notationity names 
+sub notationity_names
+  { my $notation_list= shift;
+    return &#40;sort keys %{$notation_list-&gt;{notations}}&#41; ;
+  }
+
+
+sub list
+  { my &#40;$notation_list&#41;= @_;
+    return map { $notation_list-&gt;{notations}-&gt;{$_} } sort keys %{$notation_list-&gt;{notations}};
+  }
+
+1;
+
+######################################################################
+package XML::Twig::Notation;
+######################################################################
+
+#*isa= *UNIVERSAL::isa;
+
+sub new
+  { my&#40; $class, $name, $base, $sysid, $pubid&#41;= @_;
+    $class= ref&#40; $class&#41; || $class;
+
+    my $self={};
+    
+    $self-&gt;{name}  = $name;
+    $self-&gt;{base}  = $base  if&#40; defined $base  &#41;;
+    $self-&gt;{sysid} = $sysid if&#40; defined $sysid&#41;;
+    $self-&gt;{pubid} = $pubid if&#40; defined $pubid&#41;;
+
+    bless $self, $class;
+    return $self;
+  }
+
+
+sub name  { return $_[0]-&gt;{name};  }
+sub base  { return $_[0]-&gt;{base};  }
+sub sysid { return $_[0]-&gt;{sysid}; }
+sub pubid { return $_[0]-&gt;{pubid}; }
+
+
+sub print
+  { my &#40;$notation, $fh&#41;= @_;
+    my $text= $notation-&gt;text;
+    if&#40; $fh&#41; { print $fh $text . &#34;\n&#34;; }
+    else     { print $text . &#34;\n&#34;; }
+  }
+
+sub sprint
+  { my &#40;$notation&#41;= @_;
+    return $notation-&gt;text;
+  }
+
+sub text
+  { my &#40;$notation&#41;= @_;
+    #warn &#34;text called: &#39;&#34;, $notation-&gt;_dump, &#34;&#39;\n&#34;;
+    return &#39;&#39; if&#40; !$notation-&gt;{name}&#41;;
+    my @tokens;
+    push @tokens, &#39;&lt;!NOTATION&#39;;
+    push @tokens, $notation-&gt;{name};
+    push @tokens, &#40; &#39;PUBLIC&#39;, _quoted_val&#40; $notation-&gt;{pubid} &#41; &#41; if $notation-&gt;{pubid};
+    push @tokens, &#40; &#39;SYSTEM&#39;, _quoted_val&#40; $notation-&gt;{sysid} &#41; &#41; if $notation-&gt;{sysid};
+    
+    return join&#40; &#39; &#39;, @tokens&#41; . &#39;&gt;&#39;;
+  }
+
+sub _quoted_val
+  { my $q= $_[0]=~ m{&#34;} ? q{&#39;} : q{&#34;};
+    return qq{$q$_[0]$q};
+  }
+
+sub _dump
+  { my&#40; $notation&#41;= @_; return join&#40; &#34; - &#34;, map { &#34;$_ =&gt; &#39;$notation-&gt;{$_}&#39;&#34; } grep { defined $notation-&gt;{$_} } sort keys %$notation&#41;; }
+                
+1;
+
+######################################################################
 package XML::Twig::Elt;
 ######################################################################
 
@@ -11189,6 +11384,18 @@
 
 Return the entity 
 
+=item notation_list
+
+Return the notation list of a twig
+
+=item notation_names
+
+Return the list of all defined notations
+
+=item notation &#40;$notation_name&#41;
+
+Return the notation 
+
 =item change_gi      &#40;$old_gi, $new_gi&#41;
 
 Performs a &#40;very fast&#41; global change. All elements C&lt;$old_gi&gt; are now 
@@ -13621,6 +13828,72 @@
 
 =back
 
+=head2 XML::Twig::Notation_list
+
+=over 4
+
+=item new
+
+Create an notation list.
+
+=item add         &#40;$notation&#41;
+
+Add an notation to an notation list.
+
+=item add_new_notation &#40;$name, $base, $sysid, $pubid&#41;
+
+Create a new notation and add it to the notation list
+
+=item delete     &#40;$notation or $tag&#41;.
+
+Delete an notation &#40;defined by its name or by the Notation object&#41;
+from the list.
+
+=item print      &#40;$optional_filehandle&#41;
+
+Print the notation list.
+
+=item list
+
+Return the list as an array
+
+=back
+
+
+=head2 XML::Twig::Notation
+
+=over 4
+
+=item new        &#40;$name, $base, $sysid, $pubid&#41;
+
+Same argumnotations as the Notation handler for XML::Parser.
+
+=item print       &#40;$optional_filehandle&#41;
+
+Print an notation declaration.
+
+=item name 
+
+Return the name of the notation
+
+=item base 
+
+Return the base to be used for resolving a relative URI
+
+=item sysid
+
+Return the system id for the notation
+
+=item pubid
+
+Return the public id for the notation
+
+
+=item text
+
+Return the notation declaration text.
+
+=back
 
 =head1 EXAMPLES
 
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;05&nbsp;15:02:09&nbsp;2016</span>
    <span class="description">xmltwig [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #110924] Support for !NOTATION elements</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 5 Jan 2016 15:01:56 -0500</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-XML-Twig [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michel Rodriguez &lt;xmltwig [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks, I&#39;ll try to have a look at it this week.

I think the &#34;notationity_names&#34; method would be better call
&#34;notation_names&#34; though.

-- 
mirod


On Tue, Jan 5, 2016 at 2:41 PM, brianjamespugh@gmail.com via RT &lt;
bug-XML-Twig@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tue Jan 05 14:41:06 2016: Request 110924 was acted upon.
&gt; Transaction: Ticket created by brianjamespugh@gmail.com
&gt;        Queue: XML-Twig
&gt;      Subject: Support for !NOTATION elements
&gt;    Broken in: &#40;no value&#41;
&gt;     Severity: Normal
&gt;        Owner: Nobody
&gt;   Requestors: brianjamespugh@gmail.com
&gt;       Status: new
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=110924">https://rt.cpan.org/Ticket/Display.html?id=110924</a></span> &gt;
&gt;
&gt;
&gt; XML::Twig is currently lacking in support for manipulating !NOTATION
&gt; elements found in the DTD/Doctype section.
&gt;
&gt; I&#39;m submitting a patch that is just a cut/paste/update of the current
&gt; !ENTITY support to handle !NOTATION.  This patch is lacking tests and
&gt; various parsing style updates, but works in basic cases.
&gt;
&gt; This patch was tested with 3.48, but I have applied to 3.49 and it went in
&gt; clean.
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;05&nbsp;15:02:09&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
