<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #26664 for CPAN: test failure on Solaris 8 perl-5.8.8</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #26664 for CPAN: test failure on Solaris 8 perl-5.8.8</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/CPAN/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/CPAN/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/CPAN/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/CPAN/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPAN">CPAN CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">26664</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/CPAN/Active/">CPAN</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Marek.Rouchal [...] gmx.net

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-8164-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.9101    </td>
  </tr>
  <tr id="CF-8165-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;25&nbsp;03:17:45&nbsp;2007</span>
    <span class="description">Marek.Rouchal [...] gmx.net -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> test failure on Solaris 8 perl-5.8.8</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">See the attached log; here, on Solaris 8 &#40;Sparc&#41; and perl-5.8.8 and 
all the latest modules from CPAN, the 30shell test shows failures. On 
Linux &#40;RedHat Enterprise 3.0&#41;, with the identical setup, everything is 
fine. My apologies, from the test output I did not find what could be 
wrong... any pointer is appreciated. Likewise, if you need more 
debugging information, please let me know.

Cheers,
-Marek
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> cpantest.log</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;29&nbsp;11:57:23&nbsp;2007</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks much, I found the culprit, the patch program on your sun has a
different API than we&#39;re used to on Linux. From the output you sent me
the following stands out:


# Going to apply 1 patch:

#   /home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt

#   /usr/bin/patch -N --fuzz=3 -p1

# patch: Invalid options.

# patch: Usage:   patch [-blNR] [-c|-e|-n] [-d dir] [-D define] [-i
patchfile]\

#               [-o outfile] [-p num] [-r rejectfile] [file]

# Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt&#39;;
cannot continue

# Failed during this command:

#  ANDK/CPAN-Test-Dummy-Perl5-Build-Fails-1.03.tar.gz: unwrapped NO --
Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt&#39;

The question is: would it work without &#34;--fuzz=3&#34; ?


If you could try to change line ~6094 of CPAN.pm from

        my $stdpatchargs = &#34;-N --fuzz=3&#34;;
to
        my $stdpatchargs = &#34;-N&#34;;


would that solve the problem?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;29&nbsp;11:57:24&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;30&nbsp;03:50:16&nbsp;2007</span>
    <span class="description">marek.rouchal [...] infineon.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #26664] test failure on Solaris 8 perl-5.8.8 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 30 Apr 2007 09:49:51 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-CPAN [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;marek.rouchal [...] infineon.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Andreas,

thank you for looking into this - and my apologies, I could have found
the issue myself :-/

However, your suggestion does not &#40;yet&#41; fully solve the problem:
removing the --fuzz=3 allows Solaris&#39; /usr/bin/patch to start,
but it bails out when trying to apply the patch on the
read-only file t/00_load.t:

# Checksum for
/home/hwadm/.cpan/build/CPAN-1.9101-ncLqcY/t/CPAN/authors/id/A/AN/ANDK/C
PAN-Test-Dummy-Perl5-Build-Fails-1.03.tar.gz ok
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03, 0 bytes, 0 tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/t, 0 bytes, 0 tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/t/00_load.t, 423 bytes, 1
tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/MANIFEST, 95 bytes, 1 tape
blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/META.yml, 430 bytes, 1 tape
blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/Changes, 213 bytes, 1 tape
blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib, 0 bytes, 0 tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN, 0 bytes, 0 tape
blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN/Test, 0 bytes, 0
tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN/Test/Dummy, 0 bytes,
0 tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN/Test/Dummy/Perl5, 0
bytes, 0 tape blocks
# x
CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN/Test/Dummy/Perl5/Build,
0 bytes, 0 tape blocks
# x
CPAN-Test-Dummy-Perl5-Build-Fails-1.03/lib/CPAN/Test/Dummy/Perl5/Build/F
ails.pm, 692 bytes, 2 tape blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/README, 260 bytes, 1 tape
blocks
# x CPAN-Test-Dummy-Perl5-Build-Fails-1.03/Build.PL, 455 bytes, 1 tape
blocks
# Going to apply 1 patch:
#   /home/hwadm/.cpan/build/CPAN-1.9101-ncLqcY/t/CPAN/TestPatch.txt
#   /usr/bin/patch -N -p1
#   Looks like a unified context diff.
# patch: &#39;t/00_load.t&#39;: Permission denied
# Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9101-ncLqcY/t/CPAN/TestPatch.txt&#39;;
cannot continue


I tried to build a containder for the test distro with &#34;u+w&#34;
permissions,
but then the checksum is wrong and test stops after 175 tests.
I could easily switch to a GNU patch program, which AFAIK does not
care about file permissions, but I think that during the test my
own CPAN preferences are disabled, right?

I think it should work ok when the test distro contains the files
with user write permissions - can you prepare that, or tell me
where to adapt the checksum?

Cheers,

Marek


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Andreas Koenig via RT [mailto:bug-CPAN@rt.cpan.org] 
Sent: Sunday, April 29, 2007 5:57 PM
To: MAREKR@cpan.org
Subject: [rt.cpan.org #26664] test failure on Solaris 8 perl-5.8.8 


&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26664">http://rt.cpan.org/Ticket/Display.html?id=26664</a></span> &gt;

Thanks much, I found the culprit, the patch program on your sun has a
different API than we&#39;re used to on Linux. From the output you sent me
the following stands out:


# Going to apply 1 patch:

#   /home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt

#   /usr/bin/patch -N --fuzz=3 -p1

# patch: Invalid options.

# patch: Usage:   patch [-blNR] [-c|-e|-n] [-d dir] [-D define] [-i
patchfile]\

#               [-o outfile] [-p num] [-r rejectfile] [file]

# Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt&#39;;
cannot continue

# Failed during this command:

#  ANDK/CPAN-Test-Dummy-Perl5-Build-Fails-1.03.tar.gz: unwrapped NO --
Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9101-SW7TPG/t/CPAN/TestPatch.txt&#39;

The question is: would it work without &#34;--fuzz=3&#34; ?


If you could try to change line ~6094 of CPAN.pm from

        my $stdpatchargs = &#34;-N --fuzz=3&#34;;
to
        my $stdpatchargs = &#34;-N&#34;;


would that solve the problem?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;30&nbsp;13:07:17&nbsp;2007</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #26664] test failure on Solaris 8 perl-5.8.8</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 30 Apr 2007 19:07:03 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-CPAN [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Mon, 30 Apr 2007 03:50:22 -0400, &#34;marek.rouchal@infineon.com via RT&#34; &lt;bug-CPAN@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt;        Queue: CPAN
  &gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=26664">http://rt.cpan.org/Ticket/Display.html?id=26664</a></span> &gt;
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Hi Andreas,
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; thank you for looking into this - and my apologies, I could have found
  &gt; the issue myself :-/
</div>
Nono, there&#39;s really no need to apologize, this is my business. It&#39;s
definitely hard to read the output of my test scripts:&#40;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; However, your suggestion does not &#40;yet&#41; fully solve the problem:
  &gt; removing the --fuzz=3 allows Solaris&#39; /usr/bin/patch to start,
  &gt; but it bails out when trying to apply the patch on the
  &gt; read-only file t/00_load.t:
</div>
I see.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; [...]
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; I could easily switch to a GNU patch program, which AFAIK does not
  &gt; care about file permissions, but I think that during the test my
  &gt; own CPAN preferences are disabled, right?
</div>
Yes, but if the GNU &#39;patch&#39; comes before the Solaris &#39;patch&#39; in your
PATH, then it will be selected instead.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; I think it should work ok when the test distro contains the files
  &gt; with user write permissions - can you prepare that, or tell me
  &gt; where to adapt the checksum?
</div>
Well, we have to find two solutions: a workaround for you right now
immediately, and a real fix for the next release. For you I would
suggest &#40;apart from skipping testing:&#41; that you install GNU patch and
put it before Solaris patch in the PATH.

For the long term solution I have no plan yet. I suppose either a perl
module to delegate the responsibility, or better probing.


-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;09&nbsp;21:51:52&nbsp;2007</span>
    <span class="description">ANDK [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">1.9102 is out and hopefully does the right thing: it probes for the
output of &#39;patch --version&#39;. If it does not work for you, please reopen
ticket.

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;May&nbsp;09&nbsp;21:51:55&nbsp;2007</span>
    <span class="description">ANDK [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;10&nbsp;09:42:14&nbsp;2007</span>
    <span class="description">marek.rouchal [...] infineon.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #26664] test failure on Solaris 8 perl-5.8.8 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 10 May 2007 15:35:41 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-CPAN [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &lt;marek.rouchal [...] infineon.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">1.9102 does the right thing in detecting whether we
have GNU patch or some other. However, it does not
solve the problem that the Solaris 8 patch utility
refuses to patch a file with 444 &#40;r--r--r--&#41; 
permissions:

# Going to apply 1 patch:
#   /home/hwadm/.cpan/build/CPAN-1.9102-3BJnXy/t/CPAN/TestPatch.txt
#   /usr/bin/patch -N -p1
#   Looks like a unified context diff.
# patch: &#39;t/00_load.t&#39;: Permission denied
# Could not apply patch
&#39;/home/hwadm/.cpan/build/CPAN-1.9102-3BJnXy/t/CPAN/TestPatch.txt&#39;;
cannot continue 

When I prepend to $PATH a directory containing a 
&#34;patch&#34; script that calls GNU patch, then everything
works fine.

I am wondering whether CPAN could apply a recursive
        chmod -R u+w
on the build directory before applying the patch - then
also my initial problem would be solved, and users
might also appreciate being able to edit the files
without having to chmod before.

Thank you very much for your support!

Cheers,

Marek
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;May&nbsp;10&nbsp;09:42:17&nbsp;2007</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
