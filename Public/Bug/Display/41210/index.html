<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #41210 for SAP-Rfc: Troubleshooting Outbound IDOCs via the SAP::RFC module</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #41210 for SAP-Rfc: Troubleshooting Outbound IDOCs via the SAP::RFC module</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=SAP-Rfc">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=SAP-Rfc">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=SAP-Rfc">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=SAP-Rfc">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/SAP-Rfc">SAP-Rfc CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">41210</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=SAP-Rfc">SAP-Rfc</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
bert.tijhuis [...] wavin.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-28250-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.54    </td>
  </tr>
  <tr id="CF-28251-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=41210">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537088" href="/Public/Bug/Display.html?id=41210#txn-537088">#</a>      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;25&nbsp;05:24:34&nbsp;2008</span>
    <span class="description">bert.tijhuis [...] wavin.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Troubleshooting Outbound IDOCs via the SAP::RFC module</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/537088/269556/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/269556">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Troubleshooting Outbound IDOCs via the SAP::RFC module

After upgrading in a SAP 4.7 to SPS30

From:
SAP_BASIS       620     0058    SAPKB62058      SAP Basis Component
SAP_ABA 620     0058    SAPKA62058      Cross-Application Component
SAP_APPL        470     0026    SAPKH47026      Logistics and 
Accounting
SAP_HR  470     0055    SAPKE47055      Human Resources
ABA_PLUS        100     0015    SAPKGPBA15      PLUGIN ZU ABA_PLUS
EA-IPPE 200     0021    SAPKGPIB21      EA-IPPE 200 : Add-On 
Installation

To: 
SAP_BASIS       620     0064    SAPKB62064      SAP Basis Component
SAP_ABA 620     0064    SAPKA62064      Cross-Application Component
SAP_APPL        470     0030    SAPKH47030      Logistics and 
Accounting
SAP_HR  470     0080    SAPKE47080      Human Resources
ABA_PLUS        100     0020    SAPKGPBA20      PLUGIN ZU ABA_PLUS
EA-IPPE 200     0025    SAPKGPIB25      EA-IPPE 200 : Add-On 
Installation

The Outgoing IDOCs are not working anymore with the SAP::Rfc module:

Into the â€˜dev_rfc.trcâ€™ the next lines appears:


**** ERROR file opened at 20081124 170001 CET, SAP-REL 640,0,167 RFC-
VER 3 884790 MT-SL
T:16384 Error in program &#39;itidoc.rfcexec&#39;: ======&gt; FUNCTION_MISSING 
raised by external server
T:16384 Error in program &#39;itidoc.rfcexec&#39;: &lt;* RfcDispatch [5] : 
returns 13:RFC_NOT_FOUND


Within the coding we defined the next:

Do activate_acceptor&#40;&#41;;

sub activate_acceptor {
    my $rfc = new SAP::Rfc&#40;
        TRFC          =&gt; 1,
        TPNAME        =&gt; $_id-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{TPNAME},
        GWHOST        =&gt; $_id-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{GWHOST},
        GWSERV        =&gt; $_id-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{GWSERV},
        TRACE         =&gt; $_id-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{TRACE},
        TRFC_CHECK    =&gt; \&#38;check_tid,
        TRFC_CONFIRM  =&gt; \&#38;confirm_tid,
        TRFC_COMMIT   =&gt; \&#38;commit_tid,
        TRFC_ROLLBACK =&gt; \&#38;rollback_tid,
    &#41;;

    $rfc-&gt;iface&#40; idoc_inbound_asynchronous&#40;&#41; &#41;;
    $rfc-&gt;iface&#40; idoc_inbound_process&#40;&#41; &#41;;

    $rfc-&gt;accept&#40;\&#38;callback,10&#41;;

    $rfc-&gt;close&#40;&#41;;
}

sub idoc_inbound_asynchronous {
    my $rfc = new SAP::Rfc&#40;
        ASHOST =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{GWHOST},
        USER   =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{USER},
        PASSWD =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{PASSWD},
        LANG   =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{LANG},
        CLIENT =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{CLIENT},
        SYSNR  =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{SYSNR},
        TRACE  =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{TRACE}
    &#41;;
    my $it    = $rfc-&gt;discover&#40;&#39;IDOC_INBOUND_ASYNCHRONOUS&#39;&#41;;
    my $c_str = $it-&gt;tab&#40;&#34;IDOC_CONTROL_REC_40&#34;&#41;-&gt;structure&#40;&#41;;
    my $d_str = $it-&gt;tab&#40;&#34;IDOC_DATA_REC_40&#34;&#41;-&gt;structure&#40;&#41;;
    $rfc-&gt;close&#40;&#41;;
    my $iface = new SAP::Iface&#40;
        NAME    =&gt; &#39;IDOC_INBOUND_ASYNCHRONOUS&#39;,
        HANDLER =&gt; \&#38;do_idoc_inbound_asynchronous
    &#41;;

    $iface-&gt;addTab&#40; $it-&gt;tab&#40;&#34;IDOC_CONTROL_REC_40&#34;&#41; &#41;;
    $iface-&gt;addTab&#40; $it-&gt;tab&#40;&#34;IDOC_DATA_REC_40&#34;&#41; &#41;;
    return $iface;
}

sub idoc_inbound_process {
    my $rfc = new SAP::Rfc&#40;
        ASHOST =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{GWHOST},
        USER   =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{USER},
        PASSWD =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{PASSWD},
        LANG   =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{LANG},
        CLIENT =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{CLIENT},
        SYSNR  =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{SYSNR},
        TRACE  =&gt; $_parm-&gt;{connect}-&gt;{$profile}-&gt;{dest}-&gt;{$grp}-&gt;
{TRACE}
    &#41;;
    my $it    = $rfc-&gt;discover&#40;&#39;INBOUND_IDOC_PROCESS&#39;&#41;;
    my $c_str = $it-&gt;tab&#40;&#34;IDOC_CONTROL&#34;&#41;-&gt;structure&#40;&#41;;
    my $d_str = $it-&gt;tab&#40;&#34;IDOC_DATA&#34;&#41;-&gt;structure&#40;&#41;;
    $rfc-&gt;close&#40;&#41;;
    my $iface = new SAP::Iface&#40;
        NAME    =&gt; &#39;INBOUND_IDOC_PROCESS&#39;,
        HANDLER =&gt; \&#38;do_idoc_inbound_process
    &#41;;
    $iface-&gt;addTab&#40; $it-&gt;tab&#40;&#34;IDOC_CONTROL&#34;&#41; &#41;;
    $iface-&gt;addTab&#40; $it-&gt;tab&#40;&#34;IDOC_DATA&#34;&#41; &#41;;

    return $iface;
}

sub callback {
        return 1;
}

Running in the new environment the 

    $rfc-&gt;accept&#40;\&#38;callback,10&#41;;

failed:

debugging it futher in the â€˜Rfc.câ€™ program


SV* my_accept&#40; SV* sv_conn, SV* sv_docu, SV* sv_ifaces, SV* sv_saprfc &#41;
{

&lt;snip&gt;

   /*
    * enter main loop
    */
   do
   {
     /* fprintf&#40;stderr, &#34;going to wait ...\n&#34;&#41;; */
     rc = RfcWaitForRequest&#40;handle, wtime&#41;;
     /* fprintf&#40;stderr, &#34;done the wait: %d \n&#34;, rc&#41;; */

     /* needs to get an RFC_OK or RFC_RETRY */
     if &#40;rc == RFC_RETRY&#41;{
       /*  do event loop callback here for interloop breakout */
       /* fprintf&#40;stderr, &#34;got into the retry...\n&#34;&#41;; */
       rc = loop_callback&#40;sv_callback, sv_saprfc&#41;;
       continue;
     }

     /* short circuit here for tRFC  */
     if &#40;SvTRUE&#40;sv_is_trfc&#41;&#41; {
         rc = RfcDispatch&#40;handle&#41;;
         fprintf&#40;stderr, &#34;done the dispatch: %d \n&#34;, rc&#41;;
         continue;
     }


It appears the the message 

done the dispatch: 0            &#40;= RFC_OK&#41;
done the dispatch: 6            &#40;= RFC_CLOSE&#41;
the &#40;1&#41; MISSING Function Name is: I -&gt; 1K or sgR


I think &#40;but Iâ€™m not sure that the sv_is_trfc is calling

static RFC_RC DLL_CALL_BACK_FUNCTION user_global_server&#40;RFC_HANDLE 
handle&#41;
{

&lt;snip&gt;
  /* check at this point for registered functions */
#ifdef SAPwithUNICODE
        sv_temp = u16to8&#40;&#40;char *&#41; funcname, strlenU&#40;funcname&#41; * 2&#41;;
  if &#40; ! hv_exists&#40;p_iface_hash, SvPV&#40;sv_temp, PL_na&#41;, SvCUR
&#40;sv_temp&#41;&#41;&#41; {
#else
  if &#40; ! hv_exists&#40;p_iface_hash, funcname, strlen&#40;funcname&#41;&#41; &#41; {
#endif
       fprintf&#40;stderr, &#34;the &#40;1&#41; MISSING Function Name is: %s -&gt; %s\n&#34;, 
funcname,sv_temp&#41;;
       RfcRaise&#40; handle, cU&#40;&#34;FUNCTION_MISSING&#34;&#41; &#41;;
       /* do event callback to intertwine other events */
       /* rc = loop_callback&#40;sv_callback, sv_saprfc&#41;; */
       /* XXX   */
       return RFC_NOT_FOUND;
  }

  /* pass in the interface to be handled */
#ifdef SAPwithUNICODE


  sv_iface = *hv_fetch&#40;p_iface_hash, SvPV&#40;sv_temp, PL_na&#41;, SvCUR
&#40;sv_temp&#41;, FALSE&#41;;
#else
  sv_iface = *hv_fetch&#40;p_iface_hash, funcname, strlen&#40;funcname&#41;, 
FALSE&#41;;
#endif


The coding is compiled with UNICODE



I hope that this is enough information.
Any ideas why this is happening after the system upgrade.

Regards, Bert Tijhuis
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537958" href="/Public/Bug/Display.html?id=41210#txn-537958">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;27&nbsp;17:05:00&nbsp;2008</span>
    <span class="description">PIERS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/537958/270066/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/270066">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 412b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi -

The most likely thing I can think of is that the upgrade will have
probably upgraded the kernel to the netweaver level.

When I built in the unicode support into SAP::Rfc it was was never going
to be great, as the old style librfc was not written properly to cope -
this is why SAP created the new libnwrfc, for which I have created the
module sapnwrfc - please try porting to this.

Cheers,
Piers Harding.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-537959" href="/Public/Bug/Display.html?id=41210#txn-537959">#</a>      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;27&nbsp;17:05:01&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-538257" href="/Public/Bug/Display.html?id=41210#txn-538257">#</a>      
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;28&nbsp;11:03:11&nbsp;2008</span>
    <span class="description">bert.tijhuis [...] wavin.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #41210] Troubleshooting Outbound IDOCs via the SAP::RFC module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 28 Nov 2008 17:01:19 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-SAP-Rfc [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> bert.tijhuis [...] wavin.com</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/538257/270260/">Download &#40;untitled&#41;</a><br />
<span class="downloadcontenttype">image/gif 3.2k</span>
</div>
<div class="messagebody">
<img alt="&#40;untitled&#41;" title="&#40;untitled&#41;" src="/Ticket/Attachment/538257/270260/" /></div>
</div>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/538257/270258/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/270258">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,
We&#39;ve found out why this come.
It has to do with the SM59 flag specifying &#39;non unicode&#39;.  In the old 
release before SP30 we find out that a certain non unicode part is called. 
This part was missing after the upgrade.
So we switch completely to unicode withing transaction SM59. And since 
then everything is working correctly.

Thanks anyway

regards, Bert Tijhuis



 
Stationsplein 3
P.O. Box 173
8000 AD Zwolle
Netherlands
Bert Tijhuis
 
Technical Specialist
Wavin Group IT
Direct tel: 
Mobile: ++31 &#40;06&#41; 512 68 166
bert.tijhuis@wavin.com
www.wavin.com


&#34;Piers Harding via RT&#34; &lt;bug-SAP-Rfc@rt.cpan.org&gt; 
27-11-2008 23:05
Please respond to
bug-SAP-Rfc@rt.cpan.org


To
bert.tijhuis@wavin.com
cc

Subject
[rt.cpan.org #41210] Troubleshooting Outbound IDOCs via the SAP::RFC 
module






&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=41210">http://rt.cpan.org/Ticket/Display.html?id=41210</a></span> &gt;

Hi -

The most likely thing I can think of is that the upgrade will have
probably upgraded the kernel to the netweaver level.

When I built in the unicode support into SAP::Rfc it was was never going
to be great, as the old style librfc was not written properly to cope -
this is why SAP created the new libnwrfc, for which I have created the
module sapnwrfc - please try porting to this.

Cheers,
Piers Harding.



The information contained in this e-mail is intended solely for the addressee and as such is confidential and may legally be privileged. If you are not the intended recipient, any disclosure, copying, distribution or publishing of this information in any form is expressly prohibited and may be unlawful.   
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/538257/270259/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/270259">with headers</a>
<br />
<span class="downloadcontenttype">text/html 3k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.408667</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
