<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #39138 for Test-Smoke: MSWin32 improvements</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #39138 for Test-Smoke: MSWin32 improvements</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Test-Smoke">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Test-Smoke">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Test-Smoke">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Test-Smoke">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Smoke">Test-Smoke CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">39138</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Test-Smoke">Test-Smoke</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
JDB [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31598-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31599-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




seterrormode.bat<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/506841/252019/seterrormode.bat">
Wed Sep 10 05:17:29 2008 (2.1k) by shay [...] cpan.org
</a>
</font></li>
</ul>


smokeperl.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/506663/251927/smokeperl.diff">
Tue Sep 09 17:28:10 2008 (1.3k) by JDB [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=39138">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-506663" href="/Public/Bug/Display.html?id=39138#txn-506663">#</a>      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;09&nbsp;17:28:10&nbsp;2008</span>
    <span class="description">JDB [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> MSWin32 improvements</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/506663/251924/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/251924">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 552b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;ve started running some bleadperl smokes on Windows Vista and found
the attached patch useful:

1&#41; It disables all error dialogs from a crashing application so I don&#39;t
have to manually close those popups to get the smoke to continue.

2&#41; It lowers the priority of the smoke processes to slightly below
&#34;normal&#34; so that my interactive work on the machine takes precedence.

The first change needs Win32::API and the second one Win32::Process; the
patch simply doesn&#39;t apply the changes when those modules are missing in
the Perl used to run the smoke.
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> smokeperl.diff</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/506663/251927/smokeperl.diff">Download smokeperl.diff</a><br />
<span class="downloadcontenttype">text/x-diff 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">--- smokeperl.pl.orig	Sat Jul 19 02:04:58 2008
+++ smokeperl.pl	Mon Sep 08 13:34:04 2008
@@ -119,6 +119,30 @@
 
 =cut
 
+# MSWin32: Disable critical error popups and slightly lower priority
+if &#40;$^O eq &#34;MSWin32&#34;&#41; {
+    # Call kernel32.SetErrorMode&#40;SEM_FAILCRITICALERRORS&#41;:
+    # &#34;The system does not display the critical-error-handler message box.
+    # Instead, the system sends the error to the calling process.&#34; and
+    # &#34;A child process inherits the error mode of its parent process.&#34;
+    if &#40;eval {require Win32::API}&#41; {
+	my $SetErrorMode
+	    = Win32::API-&gt;new&#40;&#39;kernel32&#39;, &#39;SetErrorMode&#39;, &#39;I&#39;, &#39;I&#39;&#41;;
+	my $SEM_FAILCRITICALERRORS = 0x0001;
+	my $SEM_NOGPFAULTERRORBOX  = 0x0002;
+	$SetErrorMode-&gt;Call&#40;$SEM_FAILCRITICALERRORS | $SEM_NOGPFAULTERRORBOX&#41;;
+    }
+    # Set priority just below normal &#40;on Win2K and later&#41;
+    require Win32;
+    my &#40;undef, $major, undef, undef, $id&#41; = Win32::GetOSVersion&#40;&#41;;
+    if &#40;$id ==2 &#38;&#38; $major &gt;= 5 &#38;&#38; eval {require Win32::Process}&#41; {
+	Win32::Process::Open&#40;my $proc, $$, 0&#41;;
+	# constant not defined by older Win32::Process versions
+	my $BELOW_NORMAL_PRIORITY_CLASS = 0x00004000;
+	$proc-&gt;SetPriorityClass&#40;$BELOW_NORMAL_PRIORITY_CLASS&#41;;
+    }
+}
+
 # Try cwd&#40;&#41; first, then $findbin
 my $config_file = File::Spec-&gt;catfile&#40; cwd&#40;&#41;, $options{config} &#41;;
 unless &#40; read_config&#40; $config_file &#41; &#41; {
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-506841" href="/Public/Bug/Display.html?id=39138#txn-506841">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:17:28&nbsp;2008</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/506841/252016/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/252016">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Sep 09 17:28:10 2008, JDB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve started running some bleadperl smokes on Windows Vista and found
&gt; the attached patch useful:
&gt; 
&gt; 1&#41; It disables all error dialogs from a crashing application so I don&#39;t
&gt; have to manually close those popups to get the smoke to continue.
&gt; 
&gt; 2&#41; It lowers the priority of the smoke processes to slightly below
&gt; &#34;normal&#34; so that my interactive work on the machine takes precedence.
</div>
An alternative approach to disabling popup error dialogs is the attached
batch file. My overnight Scheduled Tasks always run &#34;seterrormode off&#34;
before launching the smoke proper, and then a clean-up task scheduled
for each morning runs &#34;seterrormode on&#34; so that I get the popups back
for interactive use during the day.

What effect does your kernel32.SetErrorMode&#40;SEM_FAILCRITICALERRORS&#41; call
have? Does it only affect the smoke process &#40;and children&#41;, or does it
affect the whole system? I&#39;m guessing it affects the whole system &#40;like
my batch file does&#41;, in which case how do you re-enable popups?

As for the process priority, I tried lowering that once before so that I
could run smokes while using the same machine, but I found that it was
still slowing things down too much, so I only ever smoke overnight now.
Will your adjustment of the process priority slow down my overnight
smoke, or will it have no effect on that since nothing else is happening
anyway?
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/506841/252019/seterrormode.bat">Download seterrormode.bat</a><br />
<span class="downloadcontenttype">application/octet-stream 2.1k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-506842" href="/Public/Bug/Display.html?id=39138#txn-506842">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;10&nbsp;05:17:35&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-507227" href="/Public/Bug/Display.html?id=39138#txn-507227">#</a>      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;11&nbsp;13:40:25&nbsp;2008</span>
    <span class="description">JDB [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> shay [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/507227/252265/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/252265">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Sep 10 05:17:28 2008, SHAY wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; What effect does your kernel32.SetErrorMode&#40;SEM_FAILCRITICALERRORS&#41; call
&gt; have? Does it only affect the smoke process &#40;and children&#41;, or does it
&gt; affect the whole system? I&#39;m guessing it affects the whole system &#40;like
&gt; my batch file does&#41;, in which case how do you re-enable popups?
</div>
Calling SetErrorMode&#40;&#41; only affects the calling process and its
children, so there is no need to re-enable popups.  I prefer this to
modifying the system defaults.
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As for the process priority, I tried lowering that once before so that I
&gt; could run smokes while using the same machine, but I found that it was
&gt; still slowing things down too much, so I only ever smoke overnight now.
</div>
The problem is that the smoke testing is very disk intensive, and
lowering process priority doesn&#39;t help that much with the disk trashing.
Putting the smoke directories on a separate disk &#40;not partition, but
physical disk&#41; does help.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Will your adjustment of the process priority slow down my overnight
&gt; smoke, or will it have no effect on that since nothing else is happening
&gt; anyway?
</div>
It will have no effect on the speed of your smoke if there are no
CPU-intensive processes active that run with NORMAL priority.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-507542" href="/Public/Bug/Display.html?id=39138#txn-507542">#</a>      
    </span>
    <span class="date">Fri&nbsp;Sep&nbsp;12&nbsp;07:47:19&nbsp;2008</span>
    <span class="description">shay [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> JDB [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/507542/252458/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/252458">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Sep 11 13:40:25 2008, JDB wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Sep 10 05:17:28 2008, SHAY wrote:
<div class="message-stanza open">&gt; &gt; What effect does your kernel32.SetErrorMode&#40;SEM_FAILCRITICALERRORS&#41; call
&gt; &gt; have? Does it only affect the smoke process &#40;and children&#41;, or does it
&gt; &gt; affect the whole system? I&#39;m guessing it affects the whole system &#40;like
&gt; &gt; my batch file does&#41;, in which case how do you re-enable popups?
</div>&gt; 
&gt; Calling SetErrorMode&#40;&#41; only affects the calling process and its
&gt; children, so there is no need to re-enable popups.  I prefer this to
&gt; modifying the system defaults.
&gt;  
</div>
Ah, OK. In that case, it sounds much better than my hacky batch file
approach.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; As for the process priority, I tried lowering that once before so that I
&gt; &gt; could run smokes while using the same machine, but I found that it was
&gt; &gt; still slowing things down too much, so I only ever smoke overnight now.
</div>&gt; 
&gt; The problem is that the smoke testing is very disk intensive, and
&gt; lowering process priority doesn&#39;t help that much with the disk trashing.
&gt; Putting the smoke directories on a separate disk &#40;not partition, but
&gt; physical disk&#41; does help.
&gt; 
<div class="message-stanza open">&gt; &gt; Will your adjustment of the process priority slow down my overnight
&gt; &gt; smoke, or will it have no effect on that since nothing else is happening
&gt; &gt; anyway?
</div>&gt; 
&gt; It will have no effect on the speed of your smoke if there are no
&gt; CPU-intensive processes active that run with NORMAL priority.
</div>
I only have one physical disk in my machine so I&#39;m definitely leaving my
smokes scheduled for overnight only. Nothing much else runs overnight,
so it sounds like your patch won&#39;t affect that at all.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1726798" href="/Public/Bug/Display.html?id=39138#txn-1726798">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;13&nbsp;10:07:46&nbsp;2017</span>
    <span class="description">abeltje [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1726798/928408/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/928408">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 47b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Still looks sane, will be released with 1.70_11
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1726801" href="/Public/Bug/Display.html?id=39138#txn-1726801">#</a>      
    </span>
    <span class="date">Sat&nbsp;May&nbsp;13&nbsp;10:07:47&nbsp;2017</span>
    <span class="description">abeltje [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.458969</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
