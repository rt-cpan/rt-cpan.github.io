<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #77761 for Statistics-R: Statistics::R fails on Windows Vista SP2</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #77761 for Statistics-R: Statistics::R fails on Windows Vista SP2</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Statistics-R/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Statistics-R/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Statistics-R/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Statistics-R/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Statistics-R">Statistics-R CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">77761</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Statistics-R/Active/">Statistics-R</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
clifford.sobchuk [...] ericsson.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-29798-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-29799-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;11&nbsp;16:27:40&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 11 Jun 2012 16:27:24 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">It hangs in the errors.t file, but the failure occurs in the run.t file -&gt; run_from_file command.

C:\Windows\system32&gt;cpan

There seems to be running another CPAN process &#40;pid 7920&#41;.  Contacting...
Other job not responding. Shall I overwrite the lockfile &#39;C:\strawberry\cpan\.lock&#39;? &#40;Y/n&#41; [y] y

cpan shell -- CPAN exploration and modules installation &#40;v1.9600&#41;
Enter &#39;h&#39; for help.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; install Statistics::R
</div>Database was generated on Mon, 11 Jun 2012 16:06:09 GMT
Running install for module &#39;Statistics::R&#39;
Running make for F/FA/FANGLY/Statistics-R-0.27.tar.gz
Checksum for C:\strawberry\cpan\sources\authors\id\F\FA\FANGLY\Statistics-R-0.27.tar.gz ok
Scanning cache C:\strawberry\cpan\build for sizes
............................................................................DONE

  CPAN.pm: Going to build F/FA/FANGLY/Statistics-R-0.27.tar.gz

Locating bin:R... found at C:\Program Files\R\R-2.13.0\bin\R.EXE.
Checking if your kit is complete...
Looks good
Writing Makefile for Statistics::R
Writing MYMETA.yml and MYMETA.json
cp lib/Statistics/R/Legacy.pm blib\lib\Statistics\R\Legacy.pm
cp lib/Statistics/R.pm blib\lib\Statistics\R.pm
cp lib/Statistics/R/Win32.pm blib\lib\Statistics\R\Win32.pm
  FANGLY/Statistics-R-0.27.tar.gz
  C:\strawberry\c\bin\dmake.EXE -- OK
Running make test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/00-load.t ........ # Testing Statistics::R 0.27, Perl 5.012003, C:\STRAWB~1\perl\bin\perl.exe
t/00-load.t ........ ok
t/01-pod.t ......... skipped: Test::Pod 1.00 required for testing POD
t/02-legacy.t ...... ok
t/03-run.t ......... 4/? Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
t/03-run.t ......... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
All 14 subtests passed
t/04-start-stop.t .. ok
t/05-shared.t ...... ok
t/06-get-set.t ..... ok
t/07-robust.t ...... ok
t/08-errors.t ...... 4/?

Sometimes it will display 7/? Before it hangs.



CLIFF SOBCHUK
Ericsson
Core RF Engineering
Calgary, AB, Canada
Phone 613-667-1974  ECN 8109 x71974
Mobile 403-819-9233
clifford.sobchuk@ericsson.com&lt;mailto:clifford.sobchuk@ericsson.com&gt;
yahoo: sobchuk
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ericsson.com/">http://www.ericsson.com/</a></span>

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer&lt;<span class="clickylink"><a target="new" rel="nofollow" href="http://www.ericsson.com/email_disclaimer">http://www.ericsson.com/email_disclaimer</a></span>&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;05&nbsp;23:20:14&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Cliff,

I cannot reproduce this bug on my machine. Since it seems to be
system-dependent, I am not sure what the cause of the problem is, much
less how to fix it.

Can you clarify: do the test always fails identically or is there some
randomness to the failure?

Could you please download and install Statistics::R version 0.28 which I
have just released?

If the tests fail again, please let me know what version of the
following you have: R, IPC::Run, Text::Balanced and Regexp::Common.

Then, if you have older versions of the Perl modules &#40;IPC::Run,
Text::Balanced and Regexp::Common&#41;, please make sure to update to their
latest versions and try to install Statistics::R again.

If this does not work, maybe try to upgrade your R to the latest version
and see if this helps.

Thanks,

Florent
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;05&nbsp;23:20:15&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;15:45:08&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 Nov 2012 20:44:35 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Florent,

I did some further testing before hitting send... I performed a force notest install Statistics::R and then went into the test directory to run the test manually. Results below.
=================================================
C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t&gt;perl 03-run.t
ok 1
ok 2 - Binary
ok 3
ok 4 - Basic
ok 5
ok 6
ok 7
ok 8
ok 9 - IO
ok 10
ok 11 - Multi-line commands
ok 12
ok 13 - Heredoc commands
ok 14 - Multiple commands
Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.

C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t&gt;
=====================================================

I get the following output. Note the error regarding &#39;\d&#39; below. It doesn&#39;t seem to proceed after the point in which I grabbed the screen shot. I waited 5 minutes with no obvious change in state. Looking in Process Explorer I can see that there are several R command processor initialized as well as an R terminal. No CPU time is associated with them while I waited to see if anything else occurred in the cpan window. 

I am using Strawberry Perl: perl 5, version 12, subversion 3 &#40;v5.12.3&#41; built for MSWin32-x86-multi-thread. 
R - two versions - the one in the path is R-2.13.0 as indicated in the output below.
IPC::Run is version 0.91, &#40;0.92 is latest - upgrading didn&#39;t change the results below&#41;
Text::Balanced is version is version 2.02 &#40;latest&#41;
Regexp::Common is version 2011121001 &#40;latest&#41;

Looking in to the code I see that it seems to be associated with passing the r script in to the module test. I tried the script itself and there are no obvious issues using it from the command line as `r --vanilla &lt;script.R` =&gt; the output follows the cpan output. 

==============================================================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">cpan&gt; install Statistics::R
</div>Running install for module &#39;Statistics::R&#39;
Running make for F/FA/FANGLY/Statistics-R-0.28.tar.gz
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/authors/id/F/FA/FANGLY/Statistics-R-0.28.tar.gz">http://cpan.strawberryperl.com/authors/id/F/FA/FANGLY/Statistics-R-0.28.tar.gz</a></span>
Checksum for C:\strawberry\cpan\sources\authors\id\F\FA\FANGLY\Statistics-R-0.28.tar.gz ok

  CPAN.pm: Going to build F/FA/FANGLY/Statistics-R-0.28.tar.gz

Locating bin:R... found at C:\Program Files\R\R-2.13.0\bin\R.EXE.
Checking if your kit is complete...
Looks good
Writing Makefile for Statistics::R
Writing MYMETA.yml and MYMETA.json
cp lib/Statistics/R/Legacy.pm blib\lib\Statistics\R\Legacy.pm
cp lib/Statistics/R.pm blib\lib\Statistics\R.pm
cp lib/Statistics/R/Win32.pm blib\lib\Statistics\R\Win32.pm
  FANGLY/Statistics-R-0.28.tar.gz
  C:\strawberry\c\bin\dmake.EXE -- OK
Running make test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t
t/00-load.t ........ 1/? # Testing Statistics::R 0.28, Perl 5.012003, C:\STRAWB~1\perl\bin\perl.exe
t/00-load.t ........ ok
t/01-pod.t ......... skipped: Test::Pod 1.00 required for testing POD
t/02-legacy.t ...... ok
t/03-run.t ......... 3/? Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
t/03-run.t ......... Dubious, test returned 1 &#40;wstat 256, 0x100&#41;
All 14 subtests passed
t/04-start-stop.t .. ok
t/05-shared.t ...... ok
t/06-get-set.t ..... ok
t/07-robust.t ...... ok
t/08-errors.t ...... 7/? 


=====================================================
I ran the script.R file with R and no issues were apparent. Output is below.

C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t\data&gt;r --vanilla &lt;script.R

R version 2.13.0 &#40;2011-04-13&#41;
Copyright &#40;C&#41; 2011 The R Foundation for Statistical Computing
ISBN 3-900051-07-0
Platform: i386-pc-mingw32/i386 &#40;32-bit&#41;

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license&#40;&#41;&#39; or &#39;licence&#40;&#41;&#39; for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type &#39;contributors&#40;&#41;&#39; for more information and
&#39;citation&#40;&#41;&#39; on how to cite R or R packages in publications.

Type &#39;demo&#40;&#41;&#39; for some demos, &#39;help&#40;&#41;&#39; for on-line help, or
&#39;help.start&#40;&#41;&#39; for an HTML browser interface to help.
Type &#39;q&#40;&#41;&#39; to quit R.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; postscript&#40;&#34;file2.ps&#34; , horizontal=FALSE , width=500 , height=500 , pointsize=1&#41;
&gt;
&gt; plot&#40;c&#40;1, 5, 10&#41;, type = &#34;l&#34;&#41;
&gt;
&gt; dev.off&#40;&#41;
</div>null device
          1
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; unlink&#40;&#34;file2.ps&#34;&#41;
&gt;
&gt; for &#40;j in 1:3&#41; { cat&#40;&#34;loop iteration: &#34;&#41;; print&#40;j&#41;; }
</div>loop iteration: [1] 1
loop iteration: [1] 2
loop iteration: [1] 3
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; write&#40;&#34;Some innocuous message on stdout\n&#34;, stdout&#40;&#41;&#41;
</div>Some innocuous message on stdout

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; write&#40;&#34;Some innocuous message on stderr\n&#34;, stderr&#40;&#41;&#41;
</div>Some innocuous message on stderr

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; x &lt;- 123
&gt; print&#40;x&#41;
</div>[1] 123
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; x &lt;- 456 ; write.table&#40;x, file=&#34;&#34;, row.names=FALSE, col.names=FALSE&#41;
</div>456
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
&gt; a &lt;- 2
&gt; b &lt;- 5
&gt; c &lt;- a * b
&gt; print&#40;&#39;ok&#39;&#41;
</div>[1] &#34;ok&#34;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;
</div>
C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t\data&gt;

===========================================================================

If there is anything more I can do to help I would need a little direction as to what to test or change.
Thanks,


CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Florent Angly via RT [mailto:bug-Statistics-R@rt.cpan.org] 
Sent: Monday, November 05, 2012 9:20 PM
To: Clifford Sobchuk
Subject: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77761">https://rt.cpan.org/Ticket/Display.html?id=77761</a></span> &gt;

Hi Cliff,

I cannot reproduce this bug on my machine. Since it seems to be system-dependent, I am not sure what the cause of the problem is, much less how to fix it.

Can you clarify: do the test always fails identically or is there some randomness to the failure?

Could you please download and install Statistics::R version 0.28 which I have just released?

If the tests fail again, please let me know what version of the following you have: R, IPC::Run, Text::Balanced and Regexp::Common.

Then, if you have older versions of the Perl modules &#40;IPC::Run, Text::Balanced and Regexp::Common&#41;, please make sure to update to their latest versions and try to install Statistics::R again.

If this does not work, maybe try to upgrade your R to the latest version and see if this helps.

Thanks,

Florent
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;16:08:21&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 6 Nov 2012 21:08:01 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Further debugging using the pdl2 shell &#40;from the PDL {perl data language} distribution&#41; I was able to determine that it is the File::Spec::Function that is the cause of the issue. It interprets the directory separator as &#39;\&#39;, however, R uses &#39;/&#39;. When I manually created the file with &#39;/&#39; instead of the &#39;\&#39;, it works.

Hope that helps.

Eg.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt; use File::Spec::Functions
pdl&gt; $file=catfile&#40;&#39;t&#39;,&#39;data&#39;,&#39;script.R&#39;&#41;
pdl&gt; p $file
</div>t\data\script.R
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt; use Statistics::R
pdl&gt; $R=Statistics::R-&gt;new&#40;&#41;
pdl&gt; $out=$R-&gt;run_from_file&#40;$file&#41;
</div>Runtime error: Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt; $file=&#39;t/data/script.R&#39;
pdl&gt; p $file
</div>t/data/script.R
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt; $out=$R-&gt;run_from_file&#40;$file&#41;
</div>Runtime error: Internal problem while running this R command:
source&#40;&#39;t/data/script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt; $R=Statistics::R-&gt;new&#40;&#41;
pdl&gt; $file=&#39;t/data/script.R&#39;
pdl&gt; $out=$R-&gt;run_from_file&#40;$file&#41;
pdl&gt; p $out
</div>Some innocuous message on stderr
loop iteration: [1] 1
loop iteration: [1] 2
loop iteration: [1] 3
Some innocuous message on stdout

[1] 123
456
[1] &#34;ok&#34;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">pdl&gt;
</div>


CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Clifford Sobchuk 
Sent: Tuesday, November 06, 2012 1:43 PM
To: &#39;bug-Statistics-R@rt.cpan.org&#39;
Subject: RE: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2

Hi Florent,

I did some further testing before hitting send... I performed a force notest install Statistics::R and then went into the test directory to run the test manually. Results below.
=================================================
C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t&gt;perl 03-run.t ok 1 ok 2 - Binary ok 3 ok 4 - Basic ok 5 ok 6 ok 7 ok 8 ok 9 - IO ok 10 ok 11 - Multi-line commands ok 12 ok 13 - Heredoc commands ok 14 - Multiple commands Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.

C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t&gt;
=====================================================

I get the following output. Note the error regarding &#39;\d&#39; below. It doesn&#39;t seem to proceed after the point in which I grabbed the screen shot. I waited 5 minutes with no obvious change in state. Looking in Process Explorer I can see that there are several R command processor initialized as well as an R terminal. No CPU time is associated with them while I waited to see if anything else occurred in the cpan window. 

I am using Strawberry Perl: perl 5, version 12, subversion 3 &#40;v5.12.3&#41; built for MSWin32-x86-multi-thread. 
R - two versions - the one in the path is R-2.13.0 as indicated in the output below.
IPC::Run is version 0.91, &#40;0.92 is latest - upgrading didn&#39;t change the results below&#41; Text::Balanced is version is version 2.02 &#40;latest&#41; Regexp::Common is version 2011121001 &#40;latest&#41;

Looking in to the code I see that it seems to be associated with passing the r script in to the module test. I tried the script itself and there are no obvious issues using it from the command line as `r --vanilla &lt;script.R` =&gt; the output follows the cpan output. 

==============================================================
<div class="message-stanza open">cpan&gt; install Statistics::R
</div>Running install for module &#39;Statistics::R&#39;
Running make for F/FA/FANGLY/Statistics-R-0.28.tar.gz
Fetching with LWP:
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpan.strawberryperl.com/authors/id/F/FA/FANGLY/Statistics-R-0.28.tar.gz">http://cpan.strawberryperl.com/authors/id/F/FA/FANGLY/Statistics-R-0.28.tar.gz</a></span>
Checksum for C:\strawberry\cpan\sources\authors\id\F\FA\FANGLY\Statistics-R-0.28.tar.gz ok

  CPAN.pm: Going to build F/FA/FANGLY/Statistics-R-0.28.tar.gz

Locating bin:R... found at C:\Program Files\R\R-2.13.0\bin\R.EXE.
Checking if your kit is complete...
Looks good
Writing Makefile for Statistics::R
Writing MYMETA.yml and MYMETA.json
cp lib/Statistics/R/Legacy.pm blib\lib\Statistics\R\Legacy.pm cp lib/Statistics/R.pm blib\lib\Statistics\R.pm cp lib/Statistics/R/Win32.pm blib\lib\Statistics\R\Win32.pm
  FANGLY/Statistics-R-0.28.tar.gz
  C:\strawberry\c\bin\dmake.EXE -- OK
Running make test
C:\strawberry\perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;inc&#39;, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/*.t t/00-load.t ........ 1/? # Testing Statistics::R 0.28, Perl 5.012003, C:\STRAWB~1\perl\bin\perl.exe t/00-load.t ........ ok t/01-pod.t ......... skipped: Test::Pod 1.00 required for testing POD t/02-legacy.t ...... ok t/03-run.t ......... 3/? Internal problem while running this R command:
source&#40;&#39;t\data\script.R&#39;&#41;

Got the error:
&#39;\d&#39; is an unrecognized escape in character string starting &#34;source&#40;&#39;t\d&#34;
Execution halted
Most likely, your R command contained lines exceeding  4076 bytes...
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.
t/03-run.t ......... Dubious, test returned 1 &#40;wstat 256, 0x100&#41; All 14 subtests passed t/04-start-stop.t .. ok t/05-shared.t ...... ok t/06-get-set.t ..... ok t/07-robust.t ...... ok t/08-errors.t ...... 7/? 


=====================================================
I ran the script.R file with R and no issues were apparent. Output is below.

C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t\data&gt;r --vanilla &lt;script.R

R version 2.13.0 &#40;2011-04-13&#41;
Copyright &#40;C&#41; 2011 The R Foundation for Statistical Computing ISBN 3-900051-07-0
Platform: i386-pc-mingw32/i386 &#40;32-bit&#41;

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type &#39;license&#40;&#41;&#39; or &#39;licence&#40;&#41;&#39; for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type &#39;contributors&#40;&#41;&#39; for more information and &#39;citation&#40;&#41;&#39; on how to cite R or R packages in publications.

Type &#39;demo&#40;&#41;&#39; for some demos, &#39;help&#40;&#41;&#39; for on-line help, or &#39;help.start&#40;&#41;&#39; for an HTML browser interface to help.
Type &#39;q&#40;&#41;&#39; to quit R.

<div class="message-stanza open">&gt; postscript&#40;&#34;file2.ps&#34; , horizontal=FALSE , width=500 , height=500 , 
&gt; pointsize=1&#41;
&gt;
&gt; plot&#40;c&#40;1, 5, 10&#41;, type = &#34;l&#34;&#41;
&gt;
&gt; dev.off&#40;&#41;
</div>null device
          1
<div class="message-stanza open">&gt;
&gt; unlink&#40;&#34;file2.ps&#34;&#41;
&gt;
&gt; for &#40;j in 1:3&#41; { cat&#40;&#34;loop iteration: &#34;&#41;; print&#40;j&#41;; }
</div>loop iteration: [1] 1
loop iteration: [1] 2
loop iteration: [1] 3
<div class="message-stanza open">&gt;
&gt; write&#40;&#34;Some innocuous message on stdout\n&#34;, stdout&#40;&#41;&#41;
</div>Some innocuous message on stdout

<div class="message-stanza open">&gt;
&gt; write&#40;&#34;Some innocuous message on stderr\n&#34;, stderr&#40;&#41;&#41;
</div>Some innocuous message on stderr

<div class="message-stanza open">&gt;
&gt; x &lt;- 123
&gt; print&#40;x&#41;
</div>[1] 123
<div class="message-stanza open">&gt;
&gt; x &lt;- 456 ; write.table&#40;x, file=&#34;&#34;, row.names=FALSE, col.names=FALSE&#41;
</div>456
<div class="message-stanza open">&gt;
&gt; a &lt;- 2
&gt; b &lt;- 5
&gt; c &lt;- a * b
&gt; print&#40;&#39;ok&#39;&#41;
</div>[1] &#34;ok&#34;
<div class="message-stanza open">&gt;
</div>
C:\Users\eclisob\.cpanm\work\1352216263.9508\Statistics-R-0.28\t\data&gt;

===========================================================================

If there is anything more I can do to help I would need a little direction as to what to test or change.
Thanks,


CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<div class="message-stanza open">-----Original Message-----
From: Florent Angly via RT [mailto:bug-Statistics-R@rt.cpan.org]
Sent: Monday, November 05, 2012 9:20 PM
To: Clifford Sobchuk
Subject: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77761">https://rt.cpan.org/Ticket/Display.html?id=77761</a></span> &gt;

Hi Cliff,

I cannot reproduce this bug on my machine. Since it seems to be system-dependent, I am not sure what the cause of the problem is, much less how to fix it.

Can you clarify: do the test always fails identically or is there some randomness to the failure?

Could you please download and install Statistics::R version 0.28 which I have just released?

If the tests fail again, please let me know what version of the following you have: R, IPC::Run, Text::Balanced and Regexp::Common.

Then, if you have older versions of the Perl modules &#40;IPC::Run, Text::Balanced and Regexp::Common&#41;, please make sure to update to their latest versions and try to install Statistics::R again.

If this does not work, maybe try to upgrade your R to the latest version and see if this helps.

Thanks,

Florent
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;19:33:27&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Cliff,

Thanks so much for this good investigation. You seem to be right about R
expecting &#39;/&#39; delimited files, even on Windows &#40;see
<span class="clickylink"><a target="new" rel="nofollow" href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/file.path.html&#41;">http://stat.ethz.ch/R-manual/R-patched/library/base/html/file.path.html&#41;</a></span>. This
is a bit I think... especially considering that the tests pass on some
Windows platforms &#40;see
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/distro/S/Statistics-R.html#Statistics-R-0.26&#41;">http://www.cpantesters.org/distro/S/Statistics-R.html#Statistics-R-0.26&#41;</a></span>.

Regardless, a sensible approach to fix the problem is to have
run_from_file&#40;&#41; dissect any given filepath into its individual
constituents &#40;volume, directories, filename&#41;, and pass that to R&#39;s
file.path&#40;&#41; command. This way, R builds the filename in a ways that is
always compatible with itself.

I released these changes in version 0.29. Let me know if all works as
expected in this improved version.

Cheers,

Florent
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;19:33:28&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;20:35:04&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 7 Nov 2012 01:34:50 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">As soon as it shows up on cpan I&#39;ll give it a shot and let you know how it worked.

Thanks for the support. 


CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Florent Angly via RT [mailto:bug-Statistics-R@rt.cpan.org] 
Sent: Tuesday, November 06, 2012 5:33 PM
To: Clifford Sobchuk
Subject: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77761">https://rt.cpan.org/Ticket/Display.html?id=77761</a></span> &gt;

Hi Cliff,

Thanks so much for this good investigation. You seem to be right about R expecting &#39;/&#39; delimited files, even on Windows &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://stat.ethz.ch/R-manual/R-patched/library/base/html/file.path.html&#41;">http://stat.ethz.ch/R-manual/R-patched/library/base/html/file.path.html&#41;</a></span>. This is a bit I think... especially considering that the tests pass on some Windows platforms &#40;see <span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/distro/S/Statistics-R.html#Statistics-R-0.26&#41;">http://www.cpantesters.org/distro/S/Statistics-R.html#Statistics-R-0.26&#41;</a></span>.

Regardless, a sensible approach to fix the problem is to have
run_from_file&#40;&#41; dissect any given filepath into its individual constituents &#40;volume, directories, filename&#41;, and pass that to R&#39;s
file.path&#40;&#41; command. This way, R builds the filename in a ways that is always compatible with itself.

I released these changes in version 0.29. Let me know if all works as expected in this improved version.

Cheers,

Florent
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Nov&nbsp;06&nbsp;20:35:05&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;08&nbsp;17:24:53&nbsp;2012</span>
    <span class="description">GWS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am 2012-11-06 19:33:27, FANGLY schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I released these changes in version 0.29. Let me know if all works as
&gt; expected in this improved version.
</div>I just tried version 0.29. The problem described by Clifford still
exists, with the same symptoms. I haven&#39;t done an in-depth analysis of
03-*.t, myself, but the tests do hang after the last &#40;and failed&#41; test
in 08-errors.t &#40;as described by Clifford&#41;. At this point I see hanging R
processes in the background.

For the record: I&#39;m running under Windows 7, R 2.15.x, IPC::Run 0.92,
Regexp::Common 2011121001, Text::Balanced 2.02.

As for previous versions, I cannot remember this problem occurring when
installing 0.26 &#40;but my memory may be wrong&#41;; maybe the test in question
was not in place back then? &#40;I skipped 0.27, 0.28, so I cannot vouch for
them.&#41;

\Gisbert
P.S.: Florent, thanks for the great module -- I use it heavily!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;08&nbsp;17:27:43&nbsp;2012</span>
    <span class="description">GWS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Am 2012-11-06 19:33:27, FANGLY schrieb:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I released these changes in version 0.29. Let me know if all works as
&gt; expected in this improved version.
</div>I just tried version 0.29. The problem described by Clifford still
exists, with the same symptoms. I haven&#39;t done an in-depth analysis of
03-*.t, myself, but the tests do hang after the last &#40;and failed&#41; test
in 08-errors.t &#40;as described by Clifford&#41;. At this point I see hanging R
processes in the background.

For the record: I&#39;m running under Windows 7, R 2.15.x, IPC::Run 0.92,
Regexp::Common 2011121001, Text::Balanced 2.02.

As for previous versions, I cannot remember this problem occurring when
installing 0.26 &#40;but my memory may be wrong&#41;; maybe the test in question
was not in place back then? &#40;I skipped 0.27, 0.28, so I cannot vouch for
them.&#41;

\Gisbert
P.S.: Florent, thanks for the great module -- I use it heavily!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;08&nbsp;18:05:12&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 8 Nov 2012 23:04:44 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Florent. 

It is just the last test &#40;in suite 08&#41; now that fails where you try the FlawedStatisticsR.pm - it can&#39;t seem to find the module even though it is there. Looking in the Makefile.PL I am not sure that I would find it. Since it is a pm file - would it not have to be in the same path as indicated in the all_from? It is just a guess on my part as I can&#39;t see anything else obvious.

=============================================
C:\Users\eclisob\statistics-r\t&gt;perl 08-errors.t
ok 1
ok 2 - Syntax error
ok 3
ok 4 - Runtime error
not ok 5 - use t::FlawedStatisticsR;
#   Failed test &#39;use t::FlawedStatisticsR;&#39;
#   at 08-errors.t line 28.
#     Tried to use &#39;t::FlawedStatisticsR&#39;.
#     Error:  Can&#39;t locate t/FlawedStatisticsR.pm in @INC &#40;@INC contains: C:\strawberry\perl\lib C:\strawberry\perl\site\lib/MSWin3
-x86-multi-thread C:\strawberry\perl\site\lib C:/strawberry/perl/site/lib/MSWin32-x86-multi-thread C:/strawberry/perl/site/lib C:/s
rawberry/perl/vendor/lib C:/strawberry/perl/lib .&#41; at &#40;eval 50&#41; line 2.
# BEGIN failed--compilation aborted at &#40;eval 50&#41; line 2.
Can&#39;t locate object method &#34;new&#34; via package &#34;t::FlawedStatisticsR&#34; &#40;perhaps you forgot to load &#34;t::FlawedStatisticsR&#34;?&#41; at 08-erro
s.t line 29.
# Tests were run but no plan was declared and done_testing&#40;&#41; was not seen.

C:\Users\eclisob\statistics-r\t&gt;  
=======================================

Thanks,

CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Gisbert W. Selke via RT [mailto:bug-Statistics-R@rt.cpan.org] 
Sent: Thursday, November 08, 2012 3:25 PM
To: Clifford Sobchuk
Subject: [rt.cpan.org #77761] Statistics::R fails on Windows Vista SP2

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77761">https://rt.cpan.org/Ticket/Display.html?id=77761</a></span> &gt;

Am 2012-11-06 19:33:27, FANGLY schrieb:
<div class="message-stanza open">&gt; I released these changes in version 0.29. Let me know if all works as 
&gt; expected in this improved version.
</div>I just tried version 0.29. The problem described by Clifford still exists, with the same symptoms. I haven&#39;t done an in-depth analysis of 03-*.t, myself, but the tests do hang after the last &#40;and failed&#41; test in 08-errors.t &#40;as described by Clifford&#41;. At this point I see hanging R processes in the background.

For the record: I&#39;m running under Windows 7, R 2.15.x, IPC::Run 0.92, Regexp::Common 2011121001, Text::Balanced 2.02.

As for previous versions, I cannot remember this problem occurring when installing 0.26 &#40;but my memory may be wrong&#41;; maybe the test in question was not in place back then? &#40;I skipped 0.27, 0.28, so I cannot vouch for
them.&#41;

\Gisbert
P.S.: Florent, thanks for the great module -- I use it heavily!
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;14&nbsp;06:01:24&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for leaving a review of the module, Gisbert.

Clifford, Gisbert &gt; I used Windows and was able to reproduce your issue
on file t/08-errors.t

Running the test in a test harness &#40;the way it&#39;s run when doing &#39;make
test&#39;&#41; hangs:
C:\Perl\bin\perl.exe &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0,
&#39;inc&#39;, &#39;blib\lib&#39;, &#39;blib\arch&#39;&#41;&#34; t/08-errors.t

However, tested on its own, all works:
C:\Perl\bin\perl.exe -I lib t/08-errors.t

So, the good news is that the Statistics::R code seems to work alright,
just not the test suite under Windows. I filed a bug report
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=81159&#38;results=6f4e9f9948eabf7ff29f4de481a7274e&#41;">https://rt.cpan.org/Ticket/Display.html?id=81159&#38;results=6f4e9f9948eabf7ff29f4de481a7274e&#41;</a></span>.
My plan is to skip these problematic tests under Windows at the moment,
until the problem is resolved upstream.

Florent
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;14&nbsp;23:32:29&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Version 0.30 released. Enjoy...
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;14&nbsp;23:32:30&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;10:15:11&nbsp;2012</span>
    <span class="description">clifford.sobchuk [...] ericsson.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: [rt.cpan.org #77761] Resolved: Statistics::R fails on Windows Vista SP2</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Nov 2012 15:14:35 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Statistics-R [...] rt.cpan.org&#34; &lt;bug-Statistics-R [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Clifford Sobchuk &lt;clifford.sobchuk [...] ericsson.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks Florent - Works Great! 


CLIFF SOBCHUK
Core RF Engineering
Phone 613-667-1974   ecn: 8109-71974
mobile 403-819-9233
yahoo: sobchuk
www.ericsson.com 

&#34;The author works for Telefonaktiebolaget L M Ericsson &#40;&#34;Ericsson&#34;&#41;, who is solely responsible for this email and its contents. All inquiries regarding this email should be addressed to Ericsson. The web site for Ericsson is www.ericsson.com.&#34;

This Communication is Confidential. We only send and receive email on the basis of the terms set out at www.ericsson.com/email_disclaimer


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Florent Angly via RT [mailto:bug-Statistics-R@rt.cpan.org] 
Sent: Wednesday, November 14, 2012 9:33 PM
To: Clifford Sobchuk
Subject: [rt.cpan.org #77761] Resolved: Statistics::R fails on Windows Vista SP2

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=77761">https://rt.cpan.org/Ticket/Display.html?id=77761</a></span> &gt;

According to our records, your request has been resolved. If you have any further questions or concerns, please respond to this message.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;10:15:13&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;18:47:20&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;18:47:57&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Great. Thanks for the feedback.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;18:47:58&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Nov&nbsp;15&nbsp;18:48:08&nbsp;2012</span>
    <span class="description">florent.angly [...] gmail.com -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
