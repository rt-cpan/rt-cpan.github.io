<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #55029 for DateTime-TimeZone: &#34;Cannot determine time zone&#34; on FreeBSD</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #55029 for DateTime-TimeZone: &#34;Cannot determine time zone&#34; on FreeBSD</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/DateTime-TimeZone/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/DateTime-TimeZone/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/houseabsolute/DateTime-TimeZone/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/DateTime-TimeZone">DateTime-TimeZone CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">55029</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/DateTime-TimeZone/Active/">DateTime-TimeZone</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-9962-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.10    </td>
  </tr>
  <tr id="CF-9963-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




0001-Parse-etc-localtime-by-DateTime-TimeZone-Tzfile.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1406355/746543/0001-Parse-etc-localtime-by-DateTime-TimeZone-Tzfile.patch">
Tue Sep 02 12:02:15 2014 (2.2k) by ppisar [...] redhat.com
</a>
</font></li>
</ul>


localtime<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/739730/382334/localtime">
Fri Feb 26 14:39:44 2010 (1.2k) by mschwern [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;26&nbsp;14:39:44&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> &#34;Cannot determine time zone&#34; on FreeBSD</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">$ perl -wle &#39;use DateTime;  DateTime-&gt;now&#40; time_zone =&gt; &#34;local&#34; &#41;&#39;
Cannot determine local time zone

$ uname -a
FreeBSD eschaton.local 7.2-STABLE FreeBSD 7.2-STABLE #0: Sat Nov 14
22:23:32 EST 2009     root@eschaton.local:/usr/obj/usr/src/sys/ESCHATON
 amd64

I&#39;m also seeing it on FreeBSD 8.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.cpantesters.org/cpan/report/6868995">http://www.cpantesters.org/cpan/report/6868995</a></span>

Digging into the problem, the only DateTime::TimeZone::Local::Unix
method which is having any luck is /etc/localtime, the rest of the files
checked do not exist, but there are no files of the same size in
/usr/share/zoneinfo.

Attached is a copy of /etc/localtime from that system.

This is with 5.10.1 and DateTime::TimeZone 1.10.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> localtime</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/739730/382334/localtime">Download localtime</a><br />
<span class="downloadcontenttype">application/octet-stream 1.2k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;26&nbsp;14:59:45&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">A further tidbit of information, /etc/localtime is not a symlink and it
is a TZif file while all the applicable files in /usr/share/zoneinfo are
TZif2.

One possibility is that /etc/localtime was updated as part of an update
for the 2007 DST changes and the zoneinfo files were changed under it.
<span class="clickylink"><a target="new" rel="nofollow" href="http://www.freebsd.org/releng/dst_info.html">http://www.freebsd.org/releng/dst_info.html</a></span>

One possible work around is to use zdump and scrape the output.
$ zdump /etc/localtime
/etc/localtime  Fri Feb 26 14:56:30 2010 EST
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;26&nbsp;14:59:45&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;27&nbsp;11:48:40&nbsp;2010</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55029] &#34;Cannot determine time zone&#34; on FreeBSD </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 27 Feb 2010 10:47:44 -0600 &#40;CST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime-TimeZone [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri, 26 Feb 2010, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Digging into the problem, the only DateTime::TimeZone::Local::Unix
&gt; method which is having any luck is /etc/localtime, the rest of the files
&gt; checked do not exist, but there are no files of the same size in
&gt; /usr/share/zoneinfo.
</div>
This could, in theory, be fixed by just using the binary Olson file 
directly, as we discussed on the list.

But in this case, it seems like your system has a problem. If there&#39;s no 
match in /usr/share/zoneinfo, the most likely case is that the file copied 
to /etc/localtime is now out of date and wrong, so actually using it will 
just produce wrong answers, instead of dying. I&#39;m not sure that&#39;s an 
improvement.

You suggested using zdump, which I suppose could work, assuming that the 
combination of a zone&#39;s short name and gmt offset for a given date is 
unique. However, that&#39;d require a whole bunch of new code to look this up 
given the list of all possible zones. This really doesn&#39;t seem worth it, 
when the simple fix is to symlink /etc/localtime instead of copying a file 
to it.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;27&nbsp;16:53:13&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55029] &#34;Cannot determine time zone&#34; on FreeBSD</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 27 Feb 2010 13:52:14 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-TimeZone [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Digging into the problem, the only DateTime::TimeZone::Local::Unix
&gt;&gt; method which is having any luck is /etc/localtime, the rest of the files
&gt;&gt; checked do not exist, but there are no files of the same size in
&gt;&gt; /usr/share/zoneinfo.
</div>&gt; 
&gt; This could, in theory, be fixed by just using the binary Olson file 
&gt; directly, as we discussed on the list.
 &gt;
&gt; But in this case, it seems like your system has a problem. If there&#39;s no 
&gt; match in /usr/share/zoneinfo, the most likely case is that the file copied 
&gt; to /etc/localtime is now out of date and wrong, so actually using it will 
&gt; just produce wrong answers, instead of dying. I&#39;m not sure that&#39;s an 
&gt; improvement.
 &gt;
&gt; You suggested using zdump, which I suppose could work, assuming that the 
&gt; combination of a zone&#39;s short name and gmt offset for a given date is 
&gt; unique. However, that&#39;d require a whole bunch of new code to look this up 
&gt; given the list of all possible zones. This really doesn&#39;t seem worth it, 
&gt; when the simple fix is to symlink /etc/localtime instead of copying a file 
&gt; to it.
</div>
So far this has shown up on two independent machines, neither are mine.  A 
FreeBSD 7.2 box provided to me by apeiron and szrezic&#39;s FreeBSD 8.0 smoke 
tests.  If they&#39;ve simply both misconfigured their machines then I&#39;ll get them 
to fix it.  If its a systematic FreeBSD problem then as much as it sucks, 
working around it would  be necessary.

I&#39;ve contacted szrezic and apeiron to see if they can shed any light.


-- 
87. If the thought of something makes me giggle for longer than 15
     seconds, I am to assume that I am not allowed to do it.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;27&nbsp;17:47:03&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here&#39;s what I&#39;ve figured out from talking with apeiron.  Its likely
policy for FreeBSD and other distributions to copy zone files rather
than symlink.  The logic appears to be that they want the time to be
correct even if /usr isn&#39;t mounted.  Here&#39;s Gentoo discussing it. 
<span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.gentoo.org/110038">http://bugs.gentoo.org/110038</a></span>  That discussion also indicates this is a
more widespread problem than just FreeBSD.

The problem occurs like so:
1&#41; tzsetup is run and a file from /usr/share/zoneinfo is copied to
/etc/localtime.
2&#41; The operating system is updated and new zoneinfo files are installed.
3&#41; tzsetup is not as part of the update
4&#41; /etc/localtime now represents no installed zoneinfo file.

Failure to re-run tzsetup is the fault of the operating system
distribution, not the sysadmin.  It should be handled as part of the
updated mechanism and it is not.  Which is to say, a lot of systems will
have this problem.  Since its a problem endemic to an entire major
distribution, it should be worked around.

A simple fallback mechanism would be to use POSIX::strftime&#40;&#41; to get the
short form time zone name and GMT offset.

$ perl -wle &#39;use POSIX;  print strftime&#40;&#34;%Z %z&#34;, localtime&#41;&#39;
EST -0500

This is enough to identify the time zone.  If there&#39;s a way to get all
zones which match a given short form zone then DateTime can simply pick
the first one that matches the gmtoff.  For modern times it shouldn&#39;t
matter if you&#39;re in America/Seattle or America/Los_Angeles.

Or DT simply reads and trusts /etc/localtime which would seem to be the
best long term fix.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;28&nbsp;05:11:09&nbsp;2010</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Feb 27 17:47:03 2010, MSCHWERN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here&#39;s what I&#39;ve figured out from talking with apeiron.  Its likely
&gt; policy for FreeBSD and other distributions to copy zone files rather
&gt; than symlink.  The logic appears to be that they want the time to be
&gt; correct even if /usr isn&#39;t mounted.  Here&#39;s Gentoo discussing it. 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://bugs.gentoo.org/110038">http://bugs.gentoo.org/110038</a></span>  That discussion also indicates this is a
&gt; more widespread problem than just FreeBSD.
&gt; 
&gt; The problem occurs like so:
&gt; 1&#41; tzsetup is run and a file from /usr/share/zoneinfo is copied to
&gt; /etc/localtime.
&gt; 2&#41; The operating system is updated and new zoneinfo files are installed.
&gt; 3&#41; tzsetup is not as part of the update
&gt; 4&#41; /etc/localtime now represents no installed zoneinfo file.
&gt; 
&gt; Failure to re-run tzsetup is the fault of the operating system
&gt; distribution, not the sysadmin.  It should be handled as part of the
&gt; updated mechanism and it is not.  Which is to say, a lot of systems will
&gt; have this problem.  Since its a problem endemic to an entire major
&gt; distribution, it should be worked around.
&gt; 
&gt; A simple fallback mechanism would be to use POSIX::strftime&#40;&#41; to get the
&gt; short form time zone name and GMT offset.
&gt; 
&gt; $ perl -wle &#39;use POSIX;  print strftime&#40;&#34;%Z %z&#34;, localtime&#41;&#39;
&gt; EST -0500
&gt; 
&gt; This is enough to identify the time zone.  If there&#39;s a way to get all
&gt; zones which match a given short form zone then DateTime can simply pick
&gt; the first one that matches the gmtoff.  For modern times it shouldn&#39;t
&gt; matter if you&#39;re in America/Seattle or America/Los_Angeles.
&gt; 
&gt; Or DT simply reads and trusts /etc/localtime which would seem to be the
&gt; best long term fix.
</div>
Excellent analysis, and this is what happened on my system, too: I
upgraded from FreeBSD 6.1 to FreeBSD 8.0, but /etc/localtime was not
changed during this process.

Though there&#39;s one problem in the proposed workaround with POSIX:
depending on DST being active or not one will get different results:

$ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#41;&#39;
CET +0100
$ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#40;time+86400*30&#41;&#41;&#39;
CEST +0200

However, I think that the result of DateTime::TimeZone&#39;s heuristics was
always something DST-agnostic like &#34;Europe/Berlin&#34;.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;28&nbsp;05:46:49&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 28 05:11:09 2010, SREZIC wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Though there&#39;s one problem in the proposed workaround with POSIX:
&gt; depending on DST being active or not one will get different results:
&gt; 
&gt; $ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#41;&#39;
&gt; CET +0100
&gt; $ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#40;time+86400*30&#41;&#41;&#39;
&gt; CEST +0200
&gt; 
&gt; However, I think that the result of DateTime::TimeZone&#39;s heuristics was
&gt; always something DST-agnostic like &#34;Europe/Berlin&#34;.
</div>
Yes, and the result from the heuristic would not be &#34;CET&#34; but would be a
European time zone.  It could be Europe/Berlin or Europe/Paris or any
other time zone which calls itself &#34;CET&#34;.  Its not 100% accurate, the
rules for one city in a time zone may be slightly different from
another, but it will account for daylight savings time.

Personally I&#39;d just trust /etc/localtime like everything else does. 
I&#39;ve worked around it in perl5i by using DateTime::TimeZone::Tzfile to
read /etc/localtime if present.  Tzfile is so small the simplest
solution may be to just include it in DT::TZ.

Dave?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;28&nbsp;11:11:06&nbsp;2010</span>
    <span class="description">SREZIC [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 28 05:11:09 2010, SREZIC wrote:
[...]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; $ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#41;&#39;
&gt; CET +0100
&gt; $ perl -wle &#39;use POSIX; print strftime&#40;&#34;%Z %z&#34;, localtime&#40;time+86400*30&#41;&#41;&#39;
&gt; CEST +0200
&gt; 
</div>
Another observation: a list of all possible timezone names as returned
by POSIX.pm may be generated with the following oneliner:

for tz in `perl -nale &#39;next if /^#/; print $F[2]&#39;
/usr/share/zoneinfo/zone.tab |sort -u`; do env TZ=$tz perl -MPOSIX -le
&#39;print strftime&#40;&#34;%Z&#34;, localtime&#41;&#39;; done|sort -u

This results in 137 timezone names on a FreeBSD machine, and 138 on a
Linux machine. However, DateTime::TimeZone::Catalog knows only a small
fraction of these names.

Regards,
    Slaven
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;28&nbsp;15:51:50&nbsp;2010</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55029] &#34;Cannot determine time zone&#34; on FreeBSD </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sun, 28 Feb 2010 14:50:54 -0600 &#40;CST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Slaven_Rezic via RT &lt;bug-DateTime-TimeZone [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 28 Feb 2010, Slaven_Rezic via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Another observation: a list of all possible timezone names as returned
&gt; by POSIX.pm may be generated with the following oneliner:
&gt;
&gt; for tz in `perl -nale &#39;next if /^#/; print $F[2]&#39;
&gt; /usr/share/zoneinfo/zone.tab |sort -u`; do env TZ=$tz perl -MPOSIX -le
&gt; &#39;print strftime&#40;&#34;%Z&#34;, localtime&#41;&#39;; done|sort -u
&gt;
&gt; This results in 137 timezone names on a FreeBSD machine, and 138 on a
&gt; Linux machine. However, DateTime::TimeZone::Catalog knows only a small
&gt; fraction of these names.
</div>
Those are _short_ names, which are generated based on a long name &#40;like 
America/Chicago&#41; and a specific date. For example, America/Chicago can be 
either CDT or CST, depending on whether daylight savings is currently in 
effect.

The DT::TZ catalog is generated based on the Olson database source data. 
This data has, for historical reasons, some short names aliased to longer 
names, as well as some actual zones with short names like EST or EST5EDT. 
It&#39;s strongly recommended that you use the Continent/City names when 
_selecting_ a time zone, since these are the most likely to do what people 
expect.

The short names are primarily useful for _output_ only. If you look in the 
datetime@perl.org list archives, you can probably find discussions about 
this.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;02&nbsp;13:50:49&nbsp;2010</span>
    <span class="description">autarch [...] urth.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55029] &#34;Cannot determine time zone&#34; on FreeBSD </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 2 Mar 2010 12:49:14 -0600 &#40;CST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Michael G Schwern via RT &lt;bug-DateTime-TimeZone [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Dave Rolsky &lt;autarch [...] urth.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun, 28 Feb 2010, Michael G Schwern via RT wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Yes, and the result from the heuristic would not be &#34;CET&#34; but would be a
&gt; European time zone.  It could be Europe/Berlin or Europe/Paris or any
&gt; other time zone which calls itself &#34;CET&#34;.  Its not 100% accurate, the
&gt; rules for one city in a time zone may be slightly different from
&gt; another, but it will account for daylight savings time.
&gt;
&gt; Personally I&#39;d just trust /etc/localtime like everything else does.
&gt; I&#39;ve worked around it in perl5i by using DateTime::TimeZone::Tzfile to
&gt; read /etc/localtime if present.  Tzfile is so small the simplest
&gt; solution may be to just include it in DT::TZ.
</div>
I&#39;d rather not include Tzfile. That doesn&#39;t really fix the problem, since 
the _real_ problem is an out of date zone file in /etc/localtime. So 
including Tzfile just means we&#39;d get wrong answers later in the process, 
rather than blowing up early on.

If someone wants to implement a lookup based on POSIX output, I&#39;d probably 
take a patch.


-dave

/*============================================================
<span class="clickylink"><a target="new" rel="nofollow" href="http://VegGuide.org">http://VegGuide.org</a></span>               <span class="clickylink"><a target="new" rel="nofollow" href="http://blog.urth.org">http://blog.urth.org</a></span>
Your guide to all that&#39;s veg      House Absolute&#40;ly Pointless&#41;
============================================================*/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;02&nbsp;15:43:00&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #55029] &#34;Cannot determine time zone&#34; on FreeBSD</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 02 Mar 2010 12:41:49 -0800</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DateTime-TimeZone [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">autarch@urth.org via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt; Yes, and the result from the heuristic would not be &#34;CET&#34; but would be a
&gt;&gt; European time zone.  It could be Europe/Berlin or Europe/Paris or any
&gt;&gt; other time zone which calls itself &#34;CET&#34;.  Its not 100% accurate, the
&gt;&gt; rules for one city in a time zone may be slightly different from
&gt;&gt; another, but it will account for daylight savings time.
&gt;&gt;
&gt;&gt; Personally I&#39;d just trust /etc/localtime like everything else does.
&gt;&gt; I&#39;ve worked around it in perl5i by using DateTime::TimeZone::Tzfile to
&gt;&gt; read /etc/localtime if present.  Tzfile is so small the simplest
&gt;&gt; solution may be to just include it in DT::TZ.
</div>&gt; 
&gt; I&#39;d rather not include Tzfile. That doesn&#39;t really fix the problem, since 
&gt; the _real_ problem is an out of date zone file in /etc/localtime. So 
&gt; including Tzfile just means we&#39;d get wrong answers later in the process, 
&gt; rather than blowing up early on.
&gt; 
&gt; If someone wants to implement a lookup based on POSIX output, I&#39;d probably 
&gt; take a patch.
</div>
We know using POSIX::strtime&#40;&#41; is going to give us an ambiguous time zone 
because the short form can match many zones with the same current GMT offset 
but possibly different DST rules.

For example, Arizona doesn&#39;t observe DST but it&#39;ll still match MST.  Here&#39;s 
the list of fun DST exceptions in the US alone.
<span class="clickylink"><a target="new" rel="nofollow" href="https://secure.wikimedia.org/wikipedia/en/wiki/Daylight_saving_time_in_the_United_States#Local_observance_of_DST">https://secure.wikimedia.org/wikipedia/en/wiki/Daylight_saving_time_in_the_United_States#Local_observance_of_DST</a></span>

On the one hand, using POSIX::strftime output we know is never going to be 
quite right.  We&#39;ll probably get lucky and probably the server is in a place 
that has normal DST rules.  Probably.  But &#34;probably correct&#34; is the same 
level of accuracy we have for /etc/localtime.

I&#39;m not sure how one would efficiently map the short form time zone to a long 
form.  You can&#39;t make it static, because a given zone changes its short form 
over the course of a year.  America/New York can be EDT or EST depending on 
the date and time.  You&#39;d have to ask every time zone what its current short 
form is until you got a hit.  This can be reduced by storing a list of all 
possible zones for a given short form, possibly tweaking the order to prefer 
normal ones over odd ones.  But this is still all a complicated guess.

On the other hand, /etc/localtime might be out of date, but it might not be. 
A given time zone doesn&#39;t change often, and I&#39;d gamble on /etc/localtime being 
correct.  If its significantly out of touch the problem will show up across 
the whole system and the admin will fix it.

One can reverse the whole argument.  Because DateTime maintains its own zone 
files they can just as easily fall out of date as /etc/localtime can.  Can you 
trust the currently installed DateTime to be up to date?

DateTime getting it wrong isn&#39;t any better than /etc/localtime getting it 
wrong.  It requires a lot more work for DateTime to get it wrong.  It will be 
wrong in a way different from the rest of the system.  I don&#39;t see this as a win.

DateTime can&#39;t solve the real problem, it is out of its control and scope. 
The user asked for the local time the system is configured to and that&#39;s the 
best that DateTime can give it.


-- 
31. Not allowed to let sock puppets take responsibility for any of my
     actions.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Sep&nbsp;02&nbsp;12:02:15&nbsp;2014</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Ne 28.úno.2010 05:46:49, MSCHWERN napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Personally I&#39;d just trust /etc/localtime like everything else does. 
&gt; I&#39;ve worked around it in perl5i by using DateTime::TimeZone::Tzfile to
&gt; read /etc/localtime if present.
</div>
I have the same feeling. The only problem with this approach is you cannot obtain the time zone name. I asked tzdata Fedora package maintainer to augment tzfile format to deliver the zone name, and he said that upstream had already refused any change in the format.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Tzfile is so small the simplest
&gt; solution may be to just include it in DT::TZ.
&gt; 
</div>Attached patch utilizes DateTime::TimeZone::Tzfile as a last resort to obtain unnamed time zone definition from /etc/localtime content.

I hit this &#34;bug&#34; in Fedora build system, unfortunately nobody can come with a fix on other side &#40;tzdata package, build tools etc&#41;. You can read &lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://bugzilla.redhat.com/show_bug.cgi?id=1135981">https://bugzilla.redhat.com/show_bug.cgi?id=1135981</a></span>&gt; and bugs referenced from there via See Also and Blocks or Depends, if you are interested in this topic.

-- Petr
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> 0001-Parse-etc-localtime-by-DateTime-TimeZone-Tzfile.patch</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">From 2976394b5aceb92df60dafdce4b5b50f3a7d14b2 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Petr=20P=C3=ADsa=C5=99?= &lt;ppisar@redhat.com&gt;
Date: Mon, 1 Sep 2014 17:37:12 +0200
Subject: [PATCH] Parse /etc/localtime by DateTime::TimeZone::Tzfile
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

If there is valid /etc/localtime, then the system has configured local
time. If the file is not a symlink to /usr/share/zoneinfo or a copy
from there, then it&#39;s still a valid configuration. The only issue is
one cannot know the time zone name &#40;Unfortunately, the time zone
abbreviations are ambiguous.&#41;

This patch implements this scenario and caused returning
 a DateTime::TimeZone::Tzfile object instead of dying with
&#34;Cannot determine local time zone&#34; message.

Signed-off-by: Petr PÃ­saÅ &lt;ppisar@redhat.com&gt;
---
 lib/DateTime/TimeZone/Local/Unix.pm | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions&#40;+&#41;

diff --git a/lib/DateTime/TimeZone/Local/Unix.pm b/lib/DateTime/TimeZone/Local/Unix.pm
index db96616..1b5011d 100644
--- a/lib/DateTime/TimeZone/Local/Unix.pm
+++ b/lib/DateTime/TimeZone/Local/Unix.pm
@@ -14,6 +14,7 @@ sub Methods {
         FromEtcTIMEZONE
         FromEtcSysconfigClock
         FromEtcDefaultInit
+        FromEtcLocaltimeContent
     &#41;;
 }
 
@@ -233,6 +234,25 @@ sub _ReadEtcDefaultInit {
     }
 }
 
+sub FromEtcLocaltimeContent {
+    my $class = shift;
+
+    my $lt_file = $class-&gt;_EtcFile&#40;&#39;localtime&#39;&#41;;
+    return unless -r $lt_file &#38;&#38; -s $lt_file &#38;&#38; ! -l $lt_file;
+
+    my $tz;
+    {
+        local $@;
+        local $SIG{__DIE__};
+        $tz = eval {
+            require DateTime::TimeZone::Tzfile;
+            DateTime::TimeZone::Tzfile-&gt;new&#40;$lt_file&#41;;
+        };
+    }
+
+    return $tz if $tz;
+}
+
 1;
 
 # ABSTRACT: Determine the local system&#39;s time zone on Unix
@@ -295,6 +315,13 @@ a time zone name.
 If this file exists, it is opened and we look for a line starting like
 &#34;TZ=...&#34;. If this is found, it should indicate a time zone name.
 
+=item * F&lt;/etc/localtime&gt; content
+
+If this file is not a symlink, it&#39;s parsed by
+a L&lt;DateTime::TimeZone::Tzfile&gt; to retrieve the time zone offset
+definition. No time zone name will be defined. This is usefull if the
+file does not present in the system time zone database.
+
 =back
 
 =cut
-- 
1.9.3

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;12&nbsp;12:58:49&nbsp;2016</span>
    <span class="description">DROLSKY [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ticket migrated to GitHub as <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/houseabsolute/DateTime-TimeZone/issues/13">https://github.com/houseabsolute/DateTime-TimeZone/issues/13</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Nov&nbsp;12&nbsp;12:58:55&nbsp;2016</span>
    <span class="description">DROLSKY [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
