<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #72581 for POE: Possible POE bug</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #72581 for POE: Possible POE bug</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=POE">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=POE">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=POE">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=POE">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/POE">POE CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">72581</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=POE">POE</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
pce [...] accesswave.ca

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26342-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-26343-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




inside_temps.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1002199/522112/inside_temps.pl">
Mon Nov 21 10:32:49 2011 (1009b) by pce [...] accesswave.ca
</a>
</font></li>
</ul>


inside_temps_data.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1002199/522113/inside_temps_data.pm">
Mon Nov 21 10:32:49 2011 (7k) by pce [...] accesswave.ca
</a>
</font></li>
</ul>


inside_temps_snapshot.pm<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1002199/522111/inside_temps_snapshot.pm">
Mon Nov 21 10:32:49 2011 (3.4k) by pce [...] accesswave.ca
</a>
</font></li>
</ul>


test7.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1002393/522247/test7.pl">
Mon Nov 21 18:16:08 2011 (929b) by pce [...] accesswave.ca
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=72581">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1002199" href="/Public/Bug/Display.html?id=72581#txn-1002199">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;21&nbsp;10:32:49&nbsp;2011</span>
    <span class="description">pce [...] accesswave.ca -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Possible POE bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 21 Nov 2011 11:34:06 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Payzant &lt;pce [...] accesswave.ca&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002199/522109/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/522109">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi-

I&#39;m receiving the following error text from my POE program, with 
ASSERT-DEFAULT = 1.

It&#39;s almost certainly a programming error on my part, but on the 
off-chance that you can spot anything, I&#39;m attaching the source of the 
affected program.

Thanks

Peter Payzant



=== &#40;8114&#41; ===
Please address any warnings or errors above this message, and try
again.  If there are none, or those messages are from within POE,
then please mail them along with the following information
to bug-POE@rt.cpan.org:
---
&lt;dt&gt; Cannot resolve ``scanner&#39;&#39; into a session reference
-----
  at inside_temps_snapshot.pm line 72
         inside_temps_snapshot::__ANON__&#40;&#39;undef&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;, 
&#39;HASH&#40;0x878d840&#41;&#39;, &#39;got_connect_error&#39;, &#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, 
&#39;undef&#39;, &#39;/usr/local/share/perl/5.8.8/POE/Wheel/SocketFactory.pm&#39;, 267, 
...&#41; called at /usr/local/share/perl/5.8.8/POE/Component/Client/TCP.pm 
line 234
         POE::Component::Client::TCP::__ANON__&#40;&#39;undef&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;, 
&#39;HASH&#40;0x878d840&#41;&#39;, &#39;got_connect_error&#39;, &#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, 
&#39;undef&#39;, &#39;/usr/local/share/perl/5.8.8/POE/Wheel/SocketFactory.pm&#39;, 267, 
...&#41; called at /usr/local/share/perl/5.8.8/POE/Session.pm line 464
         POE::Session::_invoke_state&#40;&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;got_connect_error&#39;, 
&#39;ARRAY&#40;0x82e9e84&#41;&#39;, 
&#39;/usr/local/share/perl/5.8.8/POE/Wheel/SocketFactory.pm&#39;, 267, 
&#39;POE::Wheel::SocketFactory&#40;19&#41; -&gt; select connect&#39;&#41; called at 
/usr/local/share/perl/5.8.8/POE/Kernel.pm line 1715
         POE::Kernel::call&#40;&#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;got_connect_error&#39;, &#39;connect&#39;, 111, 
&#39;Connection refused&#39;, 19&#41; called at 
/usr/local/share/perl/5.8.8/POE/Wheel/SocketFactory.pm line 267
         POE::Wheel::SocketFactory::__ANON__&#40;&#39;undef&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;, 
&#39;HASH&#40;0x878d840&#41;&#39;, &#39;POE::Wheel::SocketFactory&#40;19&#41; -&gt; select connect&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;undef&#39;, 
&#39;/usr/local/share/perl/5.8.8/POE/Resource/FileHandles.pm&#39;, 240, ...&#41; 
called at /usr/local/share/perl/5.8.8/POE/Session.pm line 464
         POE::Session::_invoke_state&#40;&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;POE::Wheel::SocketFactory&#40;19&#41; -&gt; 
select connect&#39;, &#39;ARRAY&#40;0x878f7a8&#41;&#39;, 
&#39;/usr/local/share/perl/5.8.8/POE/Resource/FileHandles.pm&#39;, 240, &#39;undef&#39;&#41; 
called at /usr/local/share/perl/5.8.8/POE/Kernel.pm line 1040
         eval {...} called at /usr/local/share/perl/5.8.8/POE/Kernel.pm 
line 1039
         POE::Kernel::_dispatch_event&#40;&#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;, 
&#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, &#39;POE::Session=ARRAY&#40;0x878d888&#41;&#39;, 
&#39;POE::Wheel::SocketFactory&#40;19&#41; -&gt; select connect&#39;, 1024, 
&#39;ARRAY&#40;0x878f7a8&#41;&#39;, 
&#39;/usr/local/share/perl/5.8.8/POE/Resource/FileHandles.pm&#39;, 240, &#39;undef&#39;, 
...&#41; called at /usr/local/share/perl/5.8.8/POE/Resource/FileHandles.pm 
line 238
         POE::Kernel::_data_handle_enqueue_ready&#40;&#39;undef&#39;, &#39;undef&#39;, 3&#41; 
called at /usr/local/share/perl/5.8.8/POE/Loop/Select.pm line 286
         POE::Kernel::loop_do_timeslice&#40;&#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;&#41; 
called at /usr/local/share/perl/5.8.8/POE/Loop/Select.pm line 314
         POE::Kernel::loop_run&#40;&#39;POE::Kernel=ARRAY&#40;0x82a73c4&#41;&#39;&#41; called at 
/usr/local/share/perl/5.8.8/POE/Kernel.pm line 1218
         POE::Kernel::run&#40;&#39;POE::Kernel&#39;&#41; called at ./inside_temps.pl line 35
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002199/522110/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/522110">with headers</a>
<br />
<span class="downloadcontenttype">text/html 4.9k</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002199/522111/inside_temps_snapshot.pm">Download inside_temps_snapshot.pm</a><br />
<span class="downloadcontenttype">text/x-perl 3.4k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002199/522112/inside_temps.pl">Download inside_temps.pl</a><br />
<span class="downloadcontenttype">text/x-perl 1009b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002199/522113/inside_temps_data.pm">Download inside_temps_data.pm</a><br />
<span class="downloadcontenttype">text/x-perl 7k</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1002393" href="/Public/Bug/Display.html?id=72581#txn-1002393">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;21&nbsp;18:16:07&nbsp;2011</span>
    <span class="description">pce [...] accesswave.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #72581] AutoReply: Possible POE bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 21 Nov 2011 19:17:32 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Payzant &lt;pce [...] accesswave.ca&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002393/522245/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/522245">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 95b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here&#39;s a tiny program which demonstrates the issue. On my system, it 
fails right away.

Peter
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002393/522246/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/522246">with headers</a>
<br />
<span class="downloadcontenttype">text/html 589b</span>
</div>
<div class="messagebody">
</div>
</div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1002393/522247/test7.pl">Download test7.pl</a><br />
<span class="downloadcontenttype">text/x-perl 929b</span>
</div>
<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1012014" href="/Public/Bug/Display.html?id=72581#txn-1012014">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;15&nbsp;14:11:29&nbsp;2011</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1012014/527556/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/527556">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 767b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, Peter!

The crux of the error is that the &#34;scanner&#34; alias is not active at the time the program calls 
post&#40;&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;dt&gt; Cannot resolve ``scanner&#39;&#39; into a session reference
</div>
The order of initialization implies that &#34;scanner&#34; should be in effect:

create_data_session&#40;&#41;;         ## starts the &#34;scanner&#34; client
create_point_librarian_session&#40;&#41;;
create_snapshot_session&#40;&#41;;  ## starts post&#40;&#41;ing to &#34;scanner&#34;

The error is being thrown from a &#34;ConnectError&#34; callback, which means there&#39;s a network 
problem.  It could be that the &#34;scanner&#34; has also thrown an error, in which case its alias may 
have been removed by the time post&#40;&#41; is called.

It would help to have a smaller test case that I could run and debug.  Seeing the problem 
first-hand makes all the difference.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1012017" href="/Public/Bug/Display.html?id=72581#txn-1012017">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;15&nbsp;14:11:31&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1012036" href="/Public/Bug/Display.html?id=72581#txn-1012036">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;15&nbsp;15:00:21&nbsp;2011</span>
    <span class="description">pce [...] accesswave.ca -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #72581] Possible POE bug</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 15 Dec 2011 16:00:16 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-POE [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Peter Payzant &lt;pce [...] accesswave.ca&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1012036/527573/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/527573">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1013b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Sorry about posting such a lot of code initially. I did subsequently 
post a very short test case.

Peter


On 2011/12/15 3:11 PM, Rocco Caputo via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=72581">https://rt.cpan.org/Ticket/Display.html?id=72581</a></span>&gt;
&gt;
&gt; Hi, Peter!
&gt;
&gt; The crux of the error is that the &#34;scanner&#34; alias is not active at the time the program calls
&gt; post&#40;&#41;:
<div class="message-stanza open">&gt;&gt; &lt;dt&gt;  Cannot resolve ``scanner&#39;&#39; into a session reference
</div>&gt; The order of initialization implies that &#34;scanner&#34; should be in effect:
&gt;
&gt; create_data_session&#40;&#41;;         ## starts the &#34;scanner&#34; client
&gt; create_point_librarian_session&#40;&#41;;
&gt; create_snapshot_session&#40;&#41;;  ## starts post&#40;&#41;ing to &#34;scanner&#34;
&gt;
&gt; The error is being thrown from a &#34;ConnectError&#34; callback, which means there&#39;s a network
&gt; problem.  It could be that the &#34;scanner&#34; has also thrown an error, in which case its alias may
&gt; have been removed by the time post&#40;&#41; is called.
&gt;
&gt; It would help to have a smaller test case that I could run and debug.  Seeing the problem
&gt; first-hand makes all the difference.
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1012036/527574/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/527574">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1048667" href="/Public/Bug/Display.html?id=72581#txn-1048667">#</a>      
    </span>
    <span class="date">Sat&nbsp;Mar&nbsp;10&nbsp;17:29:42&nbsp;2012</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1048667/548132/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/548132">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 806b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 15 15:00:21 2011, pce@accesswave.ca wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Sorry about posting such a lot of code initially. I did subsequently
&gt; post a very short test case.
</div>
Thanks, Peter!

I&#39;ve just run the small test case.  It&#39;s still a timing issue.  POE::Component::Client::TCP&#39;s 
&#34;Started&#34; callback is invoked synchronously before new&#40;&#41; returns.

Client &#34;one&#34; is created, and post_it&#40;&#41; is called right away.  Client &#34;two&#34; hasn&#39;t been created yet, 
so the post&#40;&#41; fails under ASSERT_DEFAULT.  Without the assertions, the program would just 
silently hang.

The solution I&#39;ve settled on is to swap the POE::Component::Client::TCP-&gt;new&#40;&#41; calls.  
Creating &#34;two&#34; before &#34;one&#34; lets post_it&#40;&#41; succeed.

If this doesn&#39;t satisfactorily solve the original problem, please let me know the additional 
details I haven&#39;t addressed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1072726" href="/Public/Bug/Display.html?id=72581#txn-1072726">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;29&nbsp;19:11:05&nbsp;2012</span>
    <span class="description">RCAPUTO [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1072726/564368/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/564368">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 226b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I wrote &#34;If this doesn&#39;t satisfactorily solve the original problem, please let me know the additional 
details I haven&#39;t addressed.&#34;

No response implies it&#39;s okay.  Tentatively resolving this ticket.  Please reopen if needed.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1072729" href="/Public/Bug/Display.html?id=72581#txn-1072729">#</a>      
    </span>
    <span class="date">Sun&nbsp;Apr&nbsp;29&nbsp;19:11:07&nbsp;2012</span>
    <span class="description">RCAPUTO [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.528321</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
