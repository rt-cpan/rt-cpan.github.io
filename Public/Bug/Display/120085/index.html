<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #120085 for Net-DNS: No brackets around multi-line RRs any more?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #120085 for Net-DNS: No brackets around multi-line RRs any more?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-DNS/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-DNS/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-DNS">Net-DNS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">120085</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-DNS/Active/">Net-DNS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
rt [...] illuminated.co.uk

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-22454-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<ul>
<li>
1.06_01</li>
<li>
1.06_02</li>
<li>
1.06_03</li>
<li>
1.06_04</li>
<li>
1.06_05</li>
<li>
1.06_06</li>
<li>
1.07</li>
</ul>
    </td>
  </tr>
  <tr id="CF-22455-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Feb&nbsp;03&nbsp;13:35:22&nbsp;2017</span>
    <span class="description">rt [...] illuminated.co.uk -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> No brackets around multi-line RRs any more?</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Consider the following record, generated in our tests:

  DB&lt;9&gt; x $rr                                                                   
0  Net::DNS::RR::SOA=HASH&#40;0x19da0e28&#41;
   &#39;expire&#39; =&gt; 604800
   &#39;minimum&#39; =&gt; 10800
   &#39;mname&#39; =&gt; Net::DNS::DomainName1035=HASH&#40;0x1a253618&#41;
      &#39;label&#39; =&gt; ARRAY&#40;0x1a27e1b0&#41;
         0  &#39;ns&#39;
         1  &#39;example&#39;
         2  &#39;org&#39;
   &#39;owner&#39; =&gt; Net::DNS::DomainName1035=HASH&#40;0x1a21dfb8&#41;
      &#39;label&#39; =&gt; ARRAY&#40;0x1a2650b8&#41;
         0  &#39;example&#39;
         1  &#39;com&#39;
      &#39;name&#39; =&gt; &#39;example.com&#39;
   &#39;refresh&#39; =&gt; 14400
   &#39;retry&#39; =&gt; 3600
   &#39;rname&#39; =&gt; Net::DNS::Mailbox1035=HASH&#40;0x1a2555d0&#41;
      &#39;label&#39; =&gt; ARRAY&#40;0x1a223760&#41;
         0  &#39;sn&#39;
         1  &#39;example&#39;
         2  &#39;org&#39;
   &#39;serial&#39; =&gt; 1439185151
   &#39;ttl&#39; =&gt; 86400
   &#39;type&#39; =&gt; 6

In Net::DNS 1.06, $rr-&gt;rdstring is wrapped with brackets:

  DB&lt;10&gt; print $rr-&gt;rdstring                                                    
&#40; ns.example.org. sn.example.org.
                                1439185151      ;serial
                                14400           ;refresh
                                3600            ;retry
                                604800          ;expire
                                10800           ;minimum
        &#41;

In Net::DNS 1.07 &#40;a change introduced, I believe, in 1.06_01&#41;, there are no brackets:
  DB&lt;4&gt; print $rr-&gt;rdstring  
ns.example.org. sn.example.org.
                                1439185151      ;serial
                                14400           ;refresh
                                3600            ;retry
                                604800          ;expire
                                10800           ;minimum

I believe this change was introduced in the refactor of Net::DNS::RR::rdstring to use the wrap method. Was this deliberate?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;06:26:58&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Feb 03 13:35:22 2017, SKINGTON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Consider the following record, generated in our tests:
&gt; 
&gt; DB&lt;9&gt; x $rr
&gt; 0  Net::DNS::RR::SOA=HASH&#40;0x19da0e28&#41;
&gt; &#39;expire&#39; =&gt; 604800
&gt; &#39;minimum&#39; =&gt; 10800
&gt; &#39;mname&#39; =&gt; Net::DNS::DomainName1035=HASH&#40;0x1a253618&#41;
&gt; &#39;label&#39; =&gt; ARRAY&#40;0x1a27e1b0&#41;
&gt; 0  &#39;ns&#39;
&gt; 1  &#39;example&#39;
&gt; 2  &#39;org&#39;
&gt; &#39;owner&#39; =&gt; Net::DNS::DomainName1035=HASH&#40;0x1a21dfb8&#41;
&gt; &#39;label&#39; =&gt; ARRAY&#40;0x1a2650b8&#41;
&gt; 0  &#39;example&#39;
&gt; 1  &#39;com&#39;
&gt; &#39;name&#39; =&gt; &#39;example.com&#39;
&gt; &#39;refresh&#39; =&gt; 14400
&gt; &#39;retry&#39; =&gt; 3600
&gt; &#39;rname&#39; =&gt; Net::DNS::Mailbox1035=HASH&#40;0x1a2555d0&#41;
&gt; &#39;label&#39; =&gt; ARRAY&#40;0x1a223760&#41;
&gt; 0  &#39;sn&#39;
&gt; 1  &#39;example&#39;
&gt; 2  &#39;org&#39;
&gt; &#39;serial&#39; =&gt; 1439185151
&gt; &#39;ttl&#39; =&gt; 86400
&gt; &#39;type&#39; =&gt; 6
&gt; 
&gt; In Net::DNS 1.06, $rr-&gt;rdstring is wrapped with brackets:
&gt; 
&gt; DB&lt;10&gt; print $rr-&gt;rdstring
&gt; &#40; ns.example.org. sn.example.org.
&gt; 1439185151      ;serial
&gt; 14400           ;refresh
&gt; 3600            ;retry
&gt; 604800          ;expire
&gt; 10800           ;minimum
&gt; &#41;
&gt; 
&gt; In Net::DNS 1.07 &#40;a change introduced, I believe, in 1.06_01&#41;, there
&gt; are no brackets:
&gt;     DB&lt;4&gt; print $rr-&gt;rdstring
&gt; ns.example.org. sn.example.org.
&gt;                                 1439185151      ;serial
&gt;                                 14400           ;refresh
&gt;                                 3600            ;retry
&gt;                                 604800          ;expire
&gt;                                 10800           ;minimum
&gt; 
&gt; I believe this change was introduced in the refactor of
&gt; Net::DNS::RR::rdstring to use the wrap method. Was this deliberate?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;06:27:00&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;08:21:05&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The RT server seems to have fallen over and trashed my reply!


On Fri Feb 03 13:35:22 2017, SKINGTON wrote:
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In Net::DNS 1.06, $rr-&gt;rdstring is wrapped with brackets:
</div>8&lt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; In Net::DNS 1.07 &#40;a change introduced, I believe, in 1.06_01&#41;, there
&gt; are no brackets:
</div>8&lt;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I believe this change was introduced in the refactor of
&gt; Net::DNS::RR::rdstring to use the wrap method. Was this deliberate?
</div>
Yes.

RFC1035 &#40;5.1&#41; says:

&#40; &#41;             Parentheses are used to group data that crosses a line
                boundary.  In effect, line terminations are not
                recognized within parentheses.

Note the word used is &#34;data&#34; rather than the more specific &#34;RDATA&#34;.

Zone &#40;master&#41; file format is specified as a sequence of directives and complete RRs. Nowhere is it specified where brackets may, or may not, appear.

There is no requirement for the result of $rr-&gt;rdstring&#40;&#41;, in isolation, to be parsable by a zone file parser.

Neither is there any justification for the view that the brackets are an integral part of the RDATA.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;09:09:36&nbsp;2017</span>
    <span class="description">rt [...] illuminated.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 05 08:21:05 2017, rwfranks@acm.org wrote:
[...]
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; There is no requirement for the result of $rr-&gt;rdstring&#40;&#41;, in
&gt; isolation, to be parsable by a zone file parser.
&gt; 
&gt; Neither is there any justification for the view that the brackets are
&gt; an integral part of the RDATA.
</div>
OK, that sounds plausible &#40;I&#39;m not a DNS expert&#41;. But can we have that change documented please? We have tests at work that check the results of $rr-&gt;rdstring and they broke with the latest version of Net::DNS; if there had been something in the Changes that said &#34;we do things this way now, it&#39;s fine&#34; I wouldn&#39;t have had to delve into the code to work out what was happening.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;13:10:32&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 05 09:09:36 2017, SKINGTON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Feb 05 08:21:05 2017, rwfranks@acm.org wrote:
&gt; [...]
<div class="message-stanza open">&gt; &gt; There is no requirement for the result of $rr-&gt;rdstring&#40;&#41;, in
&gt; &gt; isolation, to be parsable by a zone file parser.
&gt; &gt;
&gt; &gt; Neither is there any justification for the view that the brackets are
&gt; &gt; an integral part of the RDATA.
</div>&gt; 
&gt; OK, that sounds plausible &#40;I&#39;m not a DNS expert&#41;. But can we have that
&gt; change documented please? We have tests at work that check the results
&gt; of $rr-&gt;rdstring and they broke with the latest version of Net::DNS;
&gt; if there had been something in the Changes that said &#34;we do things
&gt; this way now, it&#39;s fine&#34; I wouldn&#39;t have had to delve into the code to
&gt; work out what was happening.
</div>
If your test is to add any value at all, it needs to test that requirements as documented in the &#40;many&#41; relevant RFCs are met.

The documentation for $rr-&gt;rdstring&#40;&#41;, which first appeared in 0.69, has always claimed:

 Returns a string representation of the RR-specific data.


This is a different proposition from the format described for $rr-&gt;string&#40;&#41;:

 Returns a string representation of the RR using the zone file format
described in RFC1035.


Your test is based on the unwarranted assumption that the two formats would be identical, which claim is not supported by the documentation.  In this instance, the fault lies in your test.  It also demonstrates the folly of getting too cosy with the implementation when constructing the test.


I admit to making the same assumption in the code introduced at 0.69, when $rr-&gt;string&#40;&#41; was implemented by calling $rr-&gt;rdstring&#40;&#41;, which seemed convenient at the time, but had the unintended consequence of inserting brackets where not required. This began to unravel at 1.01 when the boundary between Net::DNS and Net::DNS::SEC was redrawn.  Line-wrapping becomes a significant issue when dealing with zone files containing DNSKEY and RRSIG records.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;13:35:08&nbsp;2017</span>
    <span class="description">rt [...] illuminated.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 05 13:10:32 2017, rwfranks@acm.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;  If your test is to add any value at all, it needs to test that
&gt; requirements as documented in the &#40;many&#41; relevant RFCs are met.
</div>
As it happens, the test in question checks that an internal API call of ours, which I think was provided so our front-end Javascript code can do DNS lookups, returns data in something like a reasonable format. It doesn&#39;t pretend to be part of an exhaustive DNS test suite, and I don&#39;t think I ever suggested it did?

When the other devs are back at work tomorrow I&#39;ll check what this route is used for, and whether we&#39;d be happy using $rr-&gt;string rather than $rr-&gt;rdstring. &#40;Or, if we prefer the shorter format we get from $rr-&gt;rdstring, whether we&#39;re happy mandating Net::DNS 1.07 or above.&#41;

All I&#39;m asking for - literally, this is *all* I&#39;m asking for - is a mention in the Changes file that the behaviour of $rr-&gt;rdstring changed. As it is, when I narrowed the test failure down to Net::DNS 1.07 vs Net::DNS 1.06, and looked at the Changes file of Net::DNS, I saw a mention of three RT tickets and nothing else. I checked the tickets and didn&#39;t see anything that matched the behaviour I was seeing.  If there had been literally *any* mention of &#34;some internal refactoring&#34; or something, I&#39;d have double-checked that against the documentation, confirmed that $rr-&gt;rdstring wasn&#39;t guaranteed to be in any particular format, and not bothered you with any of this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;17:40:20&nbsp;2017</span>
    <span class="description">rwfranks [...] acm.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rwfranks [...] acm.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Feb 05 13:35:08 2017, SKINGTON wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Sun Feb 05 13:10:32 2017, rwfranks@acm.org wrote:
<div class="message-stanza open">&gt; &gt; If your test is to add any value at all, it needs to test that
&gt; &gt; requirements as documented in the &#40;many&#41; relevant RFCs are met.
</div>&gt; 
&gt; As it happens, the test in question checks that an internal API call
&gt; of ours, which I think was provided so our front-end Javascript code
&gt; can do DNS lookups, returns data in something like a reasonable
&gt; format.
</div>
If &#34;reasonable format&#34; is the full extent of the requirement, the presence or absence of brackets seems irrelevant.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; All I&#39;m asking for - literally, this is *all* I&#39;m asking for - is a
&gt; mention in the Changes file that the behaviour of $rr-&gt;rdstring
&gt; changed.
</div>
The Changes file notes changes visible to users who are presumed to be using Net::DNS documented behaviour either because the code and documentation are inconsistent, or new functionality has been added.

Users relying upon undocumented behaviour, or some misinterpretation of the documentation, can not reasonably expect us to anticipate every possibility.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As it is, when I narrowed the test failure down to Net::DNS
&gt; 1.07 vs Net::DNS 1.06, and looked at the Changes file of Net::DNS, I
&gt; saw a mention of three RT tickets and nothing else. I checked the
&gt; tickets and didn&#39;t see anything that matched the behaviour I was
&gt; seeing.  If there had been literally *any* mention of &#34;some internal
&gt; refactoring&#34; or something, I&#39;d have double-checked that against the
&gt; documentation, confirmed that $rr-&gt;rdstring wasn&#39;t guaranteed to be in
&gt; any particular format, and not bothered you with any of this.
</div>
This could be viewed another way.

If instead you had read the documentation first, you might have complained about the superfluous brackets, and we would both have arrived at this point a few versions sooner.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;05&nbsp;18:44:11&nbsp;2017</span>
    <span class="description">rt [...] illuminated.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I don&#39;t want to belabour this point, so feel free to close this ticket as a WONTFIX. I&#39;ll just want to say one last thing.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; All I&#39;m asking for - literally, this is *all* I&#39;m asking for - is a
&gt; &gt; mention in the Changes file that the behaviour of $rr-&gt;rdstring
&gt; &gt; changed.
</div>&gt; 
&gt; The Changes file notes changes visible to users who are presumed to be
&gt; using Net::DNS documented behaviour either because the code and
&gt; documentation are inconsistent, or new functionality has been added.
&gt; 
&gt; Users relying upon undocumented behaviour, or some misinterpretation
&gt; of the documentation, can not reasonably expect us to anticipate every
&gt; possibility.
</div>
But $rr-&gt;rdstring *is* documented, as &#34;Returns a string representation of the RR-specific data&#34;. In the latest version you still get a string, so nobody could reasonably argue that the change broke the public Net::DNS API; but nonetheless a change did happen, and apparently for a good reason. Why not say that? &#40;A brief entry like &#34;Changes to the internal format used by Net::DNS::RR-&gt;rdstring for future-proofing reasons&#34; would be good enough, IMO.&#41;

Why insist that you didn&#39;t make the change that you did?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;28&nbsp;17:00:01&nbsp;2017</span>
    <span class="description">NLNETLABS [...] cpan.org -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
