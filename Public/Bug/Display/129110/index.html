<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #129110 for App-Provision-Tiny: update brew install command and support for linux machines?</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #129110 for App-Provision-Tiny: update brew install command and support for linux machines?</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/App-Provision-Tiny/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/App-Provision-Tiny/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/App-Provision-Tiny/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/App-Provision-Tiny/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/App-Provision-Tiny">App-Provision-Tiny CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">129110</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">45 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/App-Provision-Tiny/Active/">App-Provision-Tiny</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">gene [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
DBAURAIN [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-253812-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.0402    </td>
  </tr>
  <tr id="CF-253813-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;10:11:27&nbsp;2019</span>
    <span class="description">DBAURAIN [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> update brew install command and support for linux machines?</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Gene,

I have recently played with your distribution and I find it very convenient to deploy Perl modules relying on external binaries. As an illustration, I attach an example of a subclass taking advantage of your approach.

However, the class installing brew itself does not work anymore due to a change in the download URL. Therefore, would it be possible to update the install command? Moreover, it would be great to also support Linux systems, as homebrew works perfectly well on them too.

<span class="clickylink"><a target="new" rel="nofollow" href="https://brew.sh/">https://brew.sh/</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="https://stackoverflow.com/questions/33353618/can-i-use-homebrew-on-ubuntu">https://stackoverflow.com/questions/33353618/can-i-use-homebrew-on-ubuntu</a></span>

If you don&#39;t have the time to do that, I am willing to do the required changes myself, but I would need you to accept the patches on CPAN.

Best regards,
Denis

-- 

Prof. Denis BAURAIN
Head of the Dept of Life Sciences

University of Liège
InBioS - PhytoSYSTEMS, Eukaryotic Phylogenomics
Sart Tilman, Quartier Vallée 1
Chemin de la Vallée 4, Bât. B22
4000 Liège
Belgium
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Hmmer.pm</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">package Bio::MUST::Provision::Hmmer;
# ABSTRACT: Internal class for app provisioning system

# AUTOGENERATED CODE! DO NOT MODIFY THIS FILE!

use Modern::Perl &#39;2011&#39;;
use Carp;

use parent qw&#40;App::Provision::Tiny&#41;;


sub deps { qw&#40;brew&#41; }

sub condition {
    my $self = shift;

    my $condition = qx{which hmmsearch} =~ m/hmmsearch$/xms;
    carp &#39;Note: HMMER executable not found; installing with HomeBrew...&#39;
        unless $condition;

    return $condition ? 1 : 0;
}

sub meet {
    my $self = shift;

    $self-&gt;recipe&#40;
        [&#39;brew tap brewsci/bio&#39;],
        [&#39;brew install hmmer&#39;],
    &#41;;
}

1;
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> build_provis.pl</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/bin/env perl

use Modern::Perl &#39;2011&#39;;
use autodie;

use Template;
use Path::Class qw&#40;file dir&#41;;


# TODO: better handle taps &#40;some are in homebrew/core and tap is useless&#41;

my @provisions = &#40;
    { &#39;class&#39; =&gt; &#39;Blast&#39;,
      &#39;app&#39;   =&gt; &#39;NCBI-BLAST+&#39;,
      &#39;pgm&#39;   =&gt; &#39;blastp&#39;,
      &#39;form&#39;  =&gt; &#39;blast&#39;,               # homebrew/core
    },
    { &#39;class&#39; =&gt; &#39;Cap3&#39;,
      &#39;app&#39;   =&gt; &#39;CAP3&#39;,
      &#39;pgm&#39;   =&gt; &#39;cap3&#39;,
      &#39;form&#39;  =&gt; &#39;cap3&#39;,                # brewsci/bio
    },
    { &#39;class&#39; =&gt; &#39;CdHit&#39;,
      &#39;app&#39;   =&gt; &#39;CD-HIT&#39;,
      &#39;pgm&#39;   =&gt; &#39;cd-hit&#39;,
      &#39;form&#39;  =&gt; &#39;cd-hit&#39;,              # brewsci/bio
    },
    { &#39;class&#39; =&gt; &#39;ClustalO&#39;,
      &#39;app&#39;   =&gt; &#39;Clustal Omega&#39;,
      &#39;pgm&#39;   =&gt; &#39;clustalo&#39;,
      &#39;form&#39;  =&gt; &#39;clustal-omega&#39;,       # brewsci/bio
    },
    { &#39;class&#39; =&gt; &#39;Exonerate&#39;,
      &#39;app&#39;   =&gt; &#39;Exonerate&#39;,
      &#39;pgm&#39;   =&gt; &#39;exonerate&#39;,
      &#39;form&#39;  =&gt; &#39;exonerate&#39;,           # brewsci/bio
    },
    { &#39;class&#39; =&gt; &#39;Hmmer&#39;,
      &#39;app&#39;   =&gt; &#39;HMMER&#39;,
      &#39;pgm&#39;   =&gt; &#39;hmmsearch&#39;,
      &#39;form&#39;  =&gt; &#39;hmmer&#39;,               # homebrew/core
    },
    { &#39;class&#39; =&gt; &#39;Mafft&#39;,
      &#39;app&#39;   =&gt; &#39;MAFFT&#39;,
      &#39;pgm&#39;   =&gt; &#39;mafft&#39;,
      &#39;form&#39;  =&gt; &#39;mafft&#39;,               # homebrew/core
    },
&#41;;


my $template = file&#40;&#39;codegen/templates&#39;, &#39;generic.tt&#39;&#41;-&gt;stringify;
my $outdir = dir&#40;&#39;lib/Bio/MUST/Provision&#39;&#41;;

for my $vars &#40;@provisions&#41; {
    my $outfile = file&#40;$outdir, $vars-&gt;{class} . &#39;.pm&#39;&#41;-&gt;stringify;
    my $tt = Template-&gt;new&#40; { RELATIVE =&gt; 1 } &#41;;
    $tt-&gt;process&#40;$template, $vars, $outfile&#41;
        or die &#39;Cannot build: &#39; . $outfile . &#34;: $!&#34;;
}
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> generic.tt</td>
  </tr>
</table>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;20:06:13&nbsp;2019</span>
    <span class="description">gene [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for bringing this to my attention.  I will investigate! :-&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;20:06:14&nbsp;2019</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;20:32:23&nbsp;2019</span>
    <span class="description">gene [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">15 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello again Denis.

I see the change in hombrew URL, but am not sure about making a linux version for my module.  It&#39;s been quite a few years since I worked with it...

If you have a ready-made patch, form my repo and submit your changes via a github pull request, I will merge and make a new CPAN distro immediately.

Thanks,

Gene


On Wed Apr 10 07:11:27 2019, DBAURAIN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ...
&gt; If you don&#39;t have the time to do that, I am willing to do the required
&gt; changes myself, but I would need you to accept the patches on CPAN.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;20:32:59&nbsp;2019</span>
    <span class="description">gene [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">s/form/fork/
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;10&nbsp;20:42:01&nbsp;2019</span>
    <span class="description">gene [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">And if you are not a github user, just email the changes to me at gene.boggs@gmail.com and I will get them in.

Gene

On Wed Apr 10 17:32:23 2019, GENE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If you have a ready-made patch, form my repo and submit your changes
&gt; via a github pull request, I will merge and make a new CPAN distro
&gt; immediately.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;11&nbsp;03:01:35&nbsp;2019</span>
    <span class="description">denis.baurain [...] uliege.be -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #129110] update brew install command and support for linux machines?</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 11 Apr 2019 08:54:19 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &lt;bug-App-Provision-Tiny [...] rt.cpan.org&gt;, &lt;DBAURAIN [...] cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Denis BAURAIN&#34; &lt;denis.baurain [...] uliege.be&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you for your fast answer, Gene.
I&#39;ll try to submit a patch as soon as I have a solution for Linux as well &#40;it is less straightforward than for Mac OS X&#41;.

Best,
Denis

At Wed, 10 Apr 2019 20:42:02 -0400, bug-App-Provision-Tiny@rt.cpan.org wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=129110">https://rt.cpan.org/Ticket/Display.html?id=129110</a></span> &gt;
&gt;
&gt;And if you are not a github user, just email the changes to me at
&gt;gene.boggs@gmail.com and I will get them in.
&gt;
&gt;Gene
&gt;
&gt;On Wed Apr 10 17:32:23 2019, GENE wrote:
<div class="message-stanza open">&gt;&gt; If you have a ready-made patch, form my repo and submit your changes
&gt;&gt; via a github pull request, I will merge and make a new CPAN distro
&gt;&gt; immediately.
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;01&nbsp;18:31:43&nbsp;2020</span>
    <span class="description">gene [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> denis.baurain [...] uliege.be</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The newly released version 0.0403 has the homebrew URL fix and also includes the addition of Debian Linux homebrew installation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Mar&nbsp;01&nbsp;18:31:44&nbsp;2020</span>
    <span class="description">gene [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
