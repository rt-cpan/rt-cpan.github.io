<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #67491 for Perl-Critic: Perlcritic reports problem when evaluating a file with embedded form feed chars.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #67491 for Perl-Critic: Perlcritic reports problem when evaluating a file with embedded form feed chars.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Perl-Critic/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Perl-Critic/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Perl-Critic/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Perl-Critic/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/Perl-Critic/Perl-Critic/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Perl-Critic">Perl-Critic CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">67491</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Perl-Critic/Active/">Perl-Critic</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Scott.Stricker [...] NGC.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25198-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-25199-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;09:59:30&nbsp;2011</span>
    <span class="description">Scott.Stricker [...] NGC.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Perlcritic reports problem when evaluating a file with embedded form feed chars.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Apr 2011 13:59:08 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Critic [...] rt.cpan.org&#34; &lt;bug-Perl-Critic [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Stricker, Scott &#40;IS&#41;&#34; &lt;scott.stricker [...] ngc.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Just reinstalled Activestate perl and am running perlcritic 1.115 in an activestate perl 5.12.3 &#40;1204&#41; on a windows xp pro SP3 machine.
I run perlcritic against a perl script with raw form feeds &#40;12&#41; in it and get the following...
Problem while critiquing &#34;C:\h\HCS\website\COF_Root\Scripts\Region_Map_OL.pl&#34;: Can&#39;t parse code: Encountered unexpected character &#39;12&#39;
Added the FF characters to paginate the file when printed.
Also, just as an FYI, after reloading activestate perl, when I ran perlcritic, I was told that the following modules were missing
String-format
Perl-tidy
Pod-spell
PPix-regex
Was surprised that they did not come bundled to support perlcritic.  I&#39;ll do some digging and see if I can also pass the word to the activestate folks.

Thanks


E. Scott Stricker
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;12:24:07&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 15 09:59:30 2011, stricsc wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Just reinstalled Activestate perl and am running perlcritic 1.115 in
&gt; an activestate perl 5.12.3 &#40;1204&#41; on a windows xp pro SP3 machine.
&gt; I run perlcritic against a perl script with raw form feeds &#40;12&#41; in it
&gt; and get the following...
&gt; Problem while critiquing
&gt; &#34;C:\h\HCS\website\COF_Root\Scripts\Region_Map_OL.pl&#34;: Can&#39;t parse
&gt; code: Encountered unexpected character &#39;12&#39;
&gt; Added the FF characters to paginate the file when printed.
&gt; Also, just as an FYI, after reloading activestate perl, when I ran
&gt; perlcritic, I was told that the following modules were missing
&gt; String-format
&gt; Perl-tidy
&gt; Pod-spell
&gt; PPix-regex
&gt; Was surprised that they did not come bundled to support perlcritic.
&gt; I&#39;ll do some digging and see if I can also pass the word to the
&gt; activestate folks.
&gt; 
&gt; Thanks
&gt; 
&gt; 
&gt; E. Scott Stricker
&gt; 
&gt; 
&gt; 
</div>
I can not duplicate this failure, at least not so far. How relevant this
is, given that I have neither ActivePerl nor Windows XP, is not clear
&#40;it&#39;s Perl Perl so to speak, and Mac OS X&#41;.

On the presumption that it matters where the form feeds go, can you
possibly provide a failing file?

Also: can you confirm the version of the Perl PPI module you have
installed? Say, with

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"> &gt; perl -MPPI -E &#34;say PPI-&gt;VERSION&#34;
</div>
I have no idea what is going on with the missing dependencies. Speaking
pedantically, there is no such package as &#40;for instance&#41; Perl-tidy,
since case is important. I have not yet figured out how, without
ActivePerl, to download an individual PPM package, but the package.xml
file for Windows and Perl 5.12 seems to include all the missing packages
as dependencies, with the correct case.

You will know if the missing packages are truly missing, because
perlcritic will die horribly when trying to execute policies that use
them, even when criticizing files without form feeds. If they are really
not there, you should be able to get going by simply installing them.

Tom Wyant
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;12:24:08&nbsp;2011</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;12:45:33&nbsp;2011</span>
    <span class="description">Scott.Stricker [...] NGC.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: EXT :[rt.cpan.org #67491] Perlcritic reports problem when evaluating a file with embedded form feed chars.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Apr 2011 16:45:13 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Critic [...] rt.cpan.org&#34; &lt;bug-Perl-Critic [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Stricker, Scott &#40;IS&#41;&#34; &lt;scott.stricker [...] ngc.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the note Tom.

Attached is a file that causes the unexpected character warning.  Before I put the heredoc in, it did not have the issue with the form feed.

RE: Perl PPI version

C:\&gt;perl -MPPI -E &#34;say PPI-&gt;VERSION&#34;
1.215

RE: Missing packages.  From PPM query results...

String-Format              │ 1.16        │ sprintf-like string formatting capabilities with
Perl-Tidy                  │ 20101217    │ indent and reformat perl scripts
Pod-Spell                  │ 1.01        │ a formatter for spellchecking Pod
PPIx-Regexp                │ 0.020       │ Parse regular expressions

I was surprised to see missing packages.  As I mentioned I just reinstalled ActiveState perl.  My previous install, which was the same version did not have this issue.  One difference is I do remember doing an update with PPM and seeing perlcritic showing up in the update list.  Perhaps the dependencies got loaded when I updated perlcritic.  Perlcritic did indeed die &#39;horribly&#39; when I ran it after the reinstall which is how I figured out which packages were missing.  I did install them to fix the issue.  Again, the missing packages was more of an FYI as it would seem to be an ActiveState issue rather than a perlcritic issue.

E. Scott Stricker
Senior Software Engineer
Northrop Grumman - Information Systems - C2SD 
MailStop 4S02
2340 Dulles Corner Blvd.
Herndon, VA 20171
703-561-3671
703-713-1601 &#40;fax&#41; 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Tom Wyant via RT [mailto:bug-Perl-Critic@rt.cpan.org] 
Sent: Friday, April 15, 2011 12:24 PM
To: Stricker, Scott &#40;IS&#41;
Subject: EXT :[rt.cpan.org #67491] Perlcritic reports problem when evaluating a file with embedded form feed chars.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67491">https://rt.cpan.org/Ticket/Display.html?id=67491</a></span> &gt;

On Fri Apr 15 09:59:30 2011, stricsc wrote:
<div class="message-stanza open">&gt; Just reinstalled Activestate perl and am running perlcritic 1.115 in
&gt; an activestate perl 5.12.3 &#40;1204&#41; on a windows xp pro SP3 machine.
&gt; I run perlcritic against a perl script with raw form feeds &#40;12&#41; in it
&gt; and get the following...
&gt; Problem while critiquing
&gt; &#34;C:\h\HCS\website\COF_Root\Scripts\Region_Map_OL.pl&#34;: Can&#39;t parse
&gt; code: Encountered unexpected character &#39;12&#39;
&gt; Added the FF characters to paginate the file when printed.
&gt; Also, just as an FYI, after reloading activestate perl, when I ran
&gt; perlcritic, I was told that the following modules were missing
&gt; String-format
&gt; Perl-tidy
&gt; Pod-spell
&gt; PPix-regex
&gt; Was surprised that they did not come bundled to support perlcritic.
&gt; I&#39;ll do some digging and see if I can also pass the word to the
&gt; activestate folks.
&gt; 
&gt; Thanks
&gt; 
&gt; 
&gt; E. Scott Stricker
&gt; 
&gt; 
&gt; 
</div>
I can not duplicate this failure, at least not so far. How relevant this
is, given that I have neither ActivePerl nor Windows XP, is not clear
&#40;it&#39;s Perl Perl so to speak, and Mac OS X&#41;.

On the presumption that it matters where the form feeds go, can you
possibly provide a failing file?

Also: can you confirm the version of the Perl PPI module you have
installed? Say, with

<div class="message-stanza open"> &gt; perl -MPPI -E &#34;say PPI-&gt;VERSION&#34;
</div>
I have no idea what is going on with the missing dependencies. Speaking
pedantically, there is no such package as &#40;for instance&#41; Perl-tidy,
since case is important. I have not yet figured out how, without
ActivePerl, to download an individual PPM package, but the package.xml
file for Windows and Perl 5.12 seems to include all the missing packages
as dependencies, with the correct case.

You will know if the missing packages are truly missing, because
perlcritic will die horribly when trying to execute policies that use
them, even when criticizing files without form feeds. If they are really
not there, you should be able to get going by simply installing them.

Tom Wyant

</div></div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;13:46:30&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Apr 15 12:45:33 2011, stricsc wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thanks for the note Tom.
&gt; 
&gt; Attached is a file that causes the
&gt;    unexpected character warning.  Before I put the heredoc in, it did
&gt;    not have the issue with the form feed.
&gt; 
&gt; RE: Perl PPI version
&gt;    C:\&gt;perl -MPPI -E &#34;say PPI-&gt;VERSION&#34;
&gt; 1.215
&gt; 
&gt; RE: Missing
&gt;    packages.  From PPM query results...
&gt; 
&gt; String-Format
&gt;    │ 1.16        │ sprintf-like string formatting capabilities with
&gt;    Perl-Tidy                  │ 20101217    │ indent and reformat perl
&gt;    scripts
&gt; Pod-Spell                  │ 1.01        │ a formatter for
&gt;    spellchecking Pod
&gt; PPIx-Regexp                │ 0.020       │ Parse
&gt;    regular expressions
&gt; 
&gt; I was surprised to see missing packages.  As
&gt;    I mentioned I just reinstalled ActiveState perl.  My previous
&gt;    install, which was the same version did not have this issue.  One
&gt;    difference is I do remember doing an update with PPM and seeing
&gt;    perlcritic showing up in the update list.  Perhaps the dependencies
&gt;    got loaded when I updated perlcritic.  Perlcritic did indeed die
&gt;    &#39;horribly&#39; when I ran it after the reinstall which is how I figured
&gt;    out which packages were missing.  I did install them to fix the
&gt;    issue.  Again, the missing packages was more of an FYI as it would
&gt;    seem to be an ActiveState issue rather than a perlcritic issue.
&gt;    E. Scott Stricker
&gt; Senior Software Engineer
&gt; Northrop Grumman -
&gt;    Information Systems - C2SD 
&gt; MailStop 4S02
&gt; 2340 Dulles Corner
&gt;    Blvd.
&gt; Herndon, VA 20171
&gt; 703-561-3671
&gt; 703-713-1601 &#40;fax&#41;
&gt;    -----Original Message-----
&gt; From: Tom Wyant via RT [mailto:bug-
&gt;    Perl-Critic@rt.cpan.org] 
&gt; Sent: Friday, April 15, 2011 12:24 PM
&gt;    To: Stricker, Scott &#40;IS&#41;
&gt; Subject: EXT :[rt.cpan.org #67491]
&gt;    Perlcritic reports problem when evaluating a file with embedded
&gt;    form feed chars.
&gt; 
&gt; &lt;URL:
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67491">https://rt.cpan.org/Ticket/Display.html?id=67491</a></span> &gt;
&gt; 
&gt; On Fri Apr 15
&gt;    09:59:30 2011, stricsc wrote:
<div class="message-stanza open">&gt; &gt; Just reinstalled Activestate perl
</div>&gt;    and am running perlcritic 1.115 in
<div class="message-stanza open">&gt; &gt; an activestate perl 5.12.3
</div>&gt;    &#40;1204&#41; on a windows xp pro SP3 machine.
<div class="message-stanza open">&gt; &gt; I run perlcritic against
</div>&gt;    a perl script with raw form feeds &#40;12&#41; in it
<div class="message-stanza open">&gt; &gt; and get the
</div>&gt;    following...
<div class="message-stanza open">&gt; &gt; Problem while critiquing
&gt; &gt;
</div>&gt;    &#34;C:\h\HCS\website\COF_Root\Scripts\Region_Map_OL.pl&#34;: Can&#39;t parse
<div class="message-stanza open">&gt;    &gt; code: Encountered unexpected character &#39;12&#39;
</div><div class="message-stanza open">&gt; &gt; Added the FF
</div>&gt;    characters to paginate the file when printed.
<div class="message-stanza open">&gt; &gt; Also, just as an
</div>&gt;    FYI, after reloading activestate perl, when I ran
<div class="message-stanza open">&gt; &gt; perlcritic, I
</div>&gt;    was told that the following modules were missing
<div class="message-stanza open">&gt; &gt; String-format
</div><div class="message-stanza open">&gt;    &gt; Perl-tidy
</div><div class="message-stanza open">&gt; &gt; Pod-spell
&gt; &gt; PPix-regex
&gt; &gt; Was surprised that they
</div>&gt;    did not come bundled to support perlcritic.
<div class="message-stanza open">&gt; &gt; I&#39;ll do some digging
</div>&gt;    and see if I can also pass the word to the
<div class="message-stanza open">&gt; &gt; activestate folks.
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; Thanks
</div><div class="message-stanza open">&gt; &gt; 
&gt; &gt; 
&gt; &gt; E. Scott Stricker
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; I can not
&gt;    duplicate this failure, at least not so far. How relevant this
&gt; is,
&gt;    given that I have neither ActivePerl nor Windows XP, is not clear
&gt;    &#40;it&#39;s Perl Perl so to speak, and Mac OS X&#41;.
&gt; 
&gt; On the presumption
&gt;    that it matters where the form feeds go, can you
&gt; possibly provide
&gt;    a failing file?
&gt; 
&gt; Also: can you confirm the version of the Perl
&gt;    PPI module you have
&gt; installed? Say, with
&gt; 
<div class="message-stanza open">&gt;  &gt; perl -MPPI -E &#34;say
</div>&gt;    PPI-&gt;VERSION&#34;
&gt; 
&gt; I have no idea what is going on with the missing
&gt;    dependencies. Speaking
&gt; pedantically, there is no such package as
&gt;    &#40;for instance&#41; Perl-tidy,
&gt; since case is important. I have not yet
&gt;    figured out how, without
&gt; ActivePerl, to download an individual PPM
&gt;    package, but the package.xml
&gt; file for Windows and Perl 5.12 seems
&gt;    to include all the missing packages
&gt; as dependencies, with the
&gt;    correct case.
&gt; 
&gt; You will know if the missing packages are truly
&gt;    missing, because
&gt; perlcritic will die horribly when trying to
&gt;    execute policies that use
&gt; them, even when criticizing files
&gt;    without form feeds. If they are really
&gt; not there, you should be
&gt;    able to get going by simply installing them.
&gt; 
&gt; Tom Wyant
</div>

Thank you very much.

Problem duplicated. Now I have something to go on. I&#39;ll investigate
further, but I strongly suspect this will end up being a PPI bug. You
have the latest PPI, so if my suspicion is correct, the fix will await a
PPI release.

Interestingly, it fails on

^L  my $testvar = &lt;&lt;&#34;END_VAR&#34;;

but not on

^L
    my $testvar = &lt;&lt;&#34;END_VAR&#34;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;15&nbsp;13:56:02&nbsp;2011</span>
    <span class="description">Scott.Stricker [...] NGC.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> RE: EXT :[rt.cpan.org #67491] Perlcritic reports problem when evaluating a file with embedded form feed chars.</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 15 Apr 2011 17:55:44 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;bug-Perl-Critic [...] rt.cpan.org&#34; &lt;bug-Perl-Critic [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> &#34;Stricker, Scott &#40;IS&#41;&#34; &lt;scott.stricker [...] ngc.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Tom:

Assuming a PPI issue, is there anything I need to do to report it, or will it come from your end as related to running perlcritic?

Thanks again for looking into this.

E. Scott Stricker
Senior Software Engineer
Northrop Grumman - Information Systems - C2SD 
MailStop 4S02
2340 Dulles Corner Blvd.
Herndon, VA 20171
703-561-3671
703-713-1601 &#40;fax&#41; 

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">-----Original Message-----
From: Tom Wyant via RT [mailto:bug-Perl-Critic@rt.cpan.org] 
Sent: Friday, April 15, 2011 1:47 PM
To: Stricker, Scott &#40;IS&#41;
Subject: EXT :[rt.cpan.org #67491] Perlcritic reports problem when evaluating a file with embedded form feed chars.

&lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67491">https://rt.cpan.org/Ticket/Display.html?id=67491</a></span> &gt;

On Fri Apr 15 12:45:33 2011, stricsc wrote:
<div class="message-stanza open">&gt; Thanks for the note Tom.
&gt; 
&gt; Attached is a file that causes the
&gt;    unexpected character warning.  Before I put the heredoc in, it did
&gt;    not have the issue with the form feed.
&gt; 
&gt; RE: Perl PPI version
&gt;    C:\&gt;perl -MPPI -E &#34;say PPI-&gt;VERSION&#34;
&gt; 1.215
&gt; 
&gt; RE: Missing
&gt;    packages.  From PPM query results...
&gt; 
&gt; String-Format
&gt;    │ 1.16        │ sprintf-like string formatting capabilities with
&gt;    Perl-Tidy                  │ 20101217    │ indent and reformat perl
&gt;    scripts
&gt; Pod-Spell                  │ 1.01        │ a formatter for
&gt;    spellchecking Pod
&gt; PPIx-Regexp                │ 0.020       │ Parse
&gt;    regular expressions
&gt; 
&gt; I was surprised to see missing packages.  As
&gt;    I mentioned I just reinstalled ActiveState perl.  My previous
&gt;    install, which was the same version did not have this issue.  One
&gt;    difference is I do remember doing an update with PPM and seeing
&gt;    perlcritic showing up in the update list.  Perhaps the dependencies
&gt;    got loaded when I updated perlcritic.  Perlcritic did indeed die
&gt;    &#39;horribly&#39; when I ran it after the reinstall which is how I figured
&gt;    out which packages were missing.  I did install them to fix the
&gt;    issue.  Again, the missing packages was more of an FYI as it would
&gt;    seem to be an ActiveState issue rather than a perlcritic issue.
&gt;    E. Scott Stricker
&gt; Senior Software Engineer
&gt; Northrop Grumman -
&gt;    Information Systems - C2SD 
&gt; MailStop 4S02
&gt; 2340 Dulles Corner
&gt;    Blvd.
&gt; Herndon, VA 20171
&gt; 703-561-3671
&gt; 703-713-1601 &#40;fax&#41;
&gt;    -----Original Message-----
&gt; From: Tom Wyant via RT [mailto:bug-
&gt;    Perl-Critic@rt.cpan.org] 
&gt; Sent: Friday, April 15, 2011 12:24 PM
&gt;    To: Stricker, Scott &#40;IS&#41;
&gt; Subject: EXT :[rt.cpan.org #67491]
&gt;    Perlcritic reports problem when evaluating a file with embedded
&gt;    form feed chars.
&gt; 
&gt; &lt;URL:
&gt;    <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67491">https://rt.cpan.org/Ticket/Display.html?id=67491</a></span> &gt;
&gt; 
&gt; On Fri Apr 15
&gt;    09:59:30 2011, stricsc wrote:
<div class="message-stanza open">&gt; &gt; Just reinstalled Activestate perl
</div>&gt;    and am running perlcritic 1.115 in
<div class="message-stanza open">&gt; &gt; an activestate perl 5.12.3
</div>&gt;    &#40;1204&#41; on a windows xp pro SP3 machine.
<div class="message-stanza open">&gt; &gt; I run perlcritic against
</div>&gt;    a perl script with raw form feeds &#40;12&#41; in it
<div class="message-stanza open">&gt; &gt; and get the
</div>&gt;    following...
<div class="message-stanza open">&gt; &gt; Problem while critiquing
&gt; &gt;
</div>&gt;    &#34;C:\h\HCS\website\COF_Root\Scripts\Region_Map_OL.pl&#34;: Can&#39;t parse
<div class="message-stanza open">&gt;    &gt; code: Encountered unexpected character &#39;12&#39;
</div><div class="message-stanza open">&gt; &gt; Added the FF
</div>&gt;    characters to paginate the file when printed.
<div class="message-stanza open">&gt; &gt; Also, just as an
</div>&gt;    FYI, after reloading activestate perl, when I ran
<div class="message-stanza open">&gt; &gt; perlcritic, I
</div>&gt;    was told that the following modules were missing
<div class="message-stanza open">&gt; &gt; String-format
</div><div class="message-stanza open">&gt;    &gt; Perl-tidy
</div><div class="message-stanza open">&gt; &gt; Pod-spell
&gt; &gt; PPix-regex
&gt; &gt; Was surprised that they
</div>&gt;    did not come bundled to support perlcritic.
<div class="message-stanza open">&gt; &gt; I&#39;ll do some digging
</div>&gt;    and see if I can also pass the word to the
<div class="message-stanza open">&gt; &gt; activestate folks.
&gt; &gt;
</div><div class="message-stanza open">&gt;    &gt; Thanks
</div><div class="message-stanza open">&gt; &gt; 
&gt; &gt; 
&gt; &gt; E. Scott Stricker
&gt; &gt; 
&gt; &gt; 
&gt; &gt; 
</div>&gt; 
&gt; I can not
&gt;    duplicate this failure, at least not so far. How relevant this
&gt; is,
&gt;    given that I have neither ActivePerl nor Windows XP, is not clear
&gt;    &#40;it&#39;s Perl Perl so to speak, and Mac OS X&#41;.
&gt; 
&gt; On the presumption
&gt;    that it matters where the form feeds go, can you
&gt; possibly provide
&gt;    a failing file?
&gt; 
&gt; Also: can you confirm the version of the Perl
&gt;    PPI module you have
&gt; installed? Say, with
&gt; 
<div class="message-stanza open">&gt;  &gt; perl -MPPI -E &#34;say
</div>&gt;    PPI-&gt;VERSION&#34;
&gt; 
&gt; I have no idea what is going on with the missing
&gt;    dependencies. Speaking
&gt; pedantically, there is no such package as
&gt;    &#40;for instance&#41; Perl-tidy,
&gt; since case is important. I have not yet
&gt;    figured out how, without
&gt; ActivePerl, to download an individual PPM
&gt;    package, but the package.xml
&gt; file for Windows and Perl 5.12 seems
&gt;    to include all the missing packages
&gt; as dependencies, with the
&gt;    correct case.
&gt; 
&gt; You will know if the missing packages are truly
&gt;    missing, because
&gt; perlcritic will die horribly when trying to
&gt;    execute policies that use
&gt; them, even when criticizing files
&gt;    without form feeds. If they are really
&gt; not there, you should be
&gt;    able to get going by simply installing them.
&gt; 
&gt; Tom Wyant
</div>

Thank you very much.

Problem duplicated. Now I have something to go on. I&#39;ll investigate
further, but I strongly suspect this will end up being a PPI bug. You
have the latest PPI, so if my suspicion is correct, the fix will await a
PPI release.

Interestingly, it fails on

^L  my $testvar = &lt;&lt;&#34;END_VAR&#34;;

but not on

^L
    my $testvar = &lt;&lt;&#34;END_VAR&#34;;


</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;16&nbsp;14:45:40&nbsp;2011</span>
    <span class="description">wyant [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Yes, this was a PPI problem. Thank you for your offer &#40;by mail&#41; to file
the ticket. But it turned out to be a one-liner, so I just went ahead
and patched it, referring to the patch in the bug report. It is
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=67517">https://rt.cpan.org/Ticket/Display.html?id=67517</a></span>
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
