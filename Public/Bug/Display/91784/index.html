<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #91784 for IPC-Cmd: run_forked&#40;&#34;/usr/bin/echo test&#34;&#41; captures no output</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #91784 for IPC-Cmd: run_forked&#40;&#34;/usr/bin/echo test&#34;&#41; captures no output</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=IPC-Cmd">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=IPC-Cmd">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=IPC-Cmd">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=IPC-Cmd">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IPC-Cmd">IPC-Cmd CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">91784</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=IPC-Cmd">IPC-Cmd</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
GAAS [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-17338-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.90    </td>
  </tr>
  <tr id="CF-17339-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=91784">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1307256" href="/Public/Bug/Display.html?id=91784#txn-1307256">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;01&nbsp;17:15:51&nbsp;2014</span>
    <span class="description">GAAS [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> run_forked&#40;&#34;/usr/bin/echo test&#34;&#41; captures no output</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1307256/692719/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/692719">with headers</a>
<br />
<span class="downloadcontenttype">text/html 5.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza">For our HP-UX builds we get test failures from test 5 in t/03_run-forked.t about 80% of the time. &nbsp;This can be reproduced with this simple script:<br>

<br>


<div>
	&nbsp; #!perl</div>


<div>
	&nbsp; use strict;</div>


<div>
	&nbsp; use IPC::Cmd qw(run_forked);</div>


<div>
	&nbsp; my $cmd = shift || &quot;/usr/bin/echo test&quot;;</div>


<div>
	&nbsp; my $r = run_forked($cmd);</div>


<div>
	&nbsp; #use Data::Dump; dd $r;</div>


<div>
	&nbsp; print &quot;not &quot; unless $r-&gt;{stdout} =~ /test/;</div>


<div>
	&nbsp; print &quot;ok\n&quot;;<br>
	<br>
	When it fails the script hangs for about 9 seconds before it exits. &nbsp;The failure to capture output also happens for simple commands like &quot;ls /&quot;, not for more complex ones like &quot;ls -l /&quot; or &quot;echo test; echo&quot;. &nbsp;I believe this to be timing related. &nbsp;It might look like the process doesn&#39;t get a chance to set up capturing for commands that execute quickly.<br>
	<br>
	<div>
		&nbsp;perl -V</div>
	<div>
		Summary of my perl5 (revision 5 version 16 subversion 3) configuration:</div>
	<div>
		&nbsp;</div>
	<div>
		&nbsp; Platform:</div>
	<div>
		&nbsp; &nbsp; osname=hpux, osvers=11.00, archname=PA-RISC1.1-thread-multi</div>
	<div>
		&nbsp; &nbsp; uname=&#39;hp-ux bertha b.11.00 u 9000800 136901587 unlimited-user license &#39;</div>
	<div>
		&nbsp; &nbsp; config_args=&#39;-ders -Dcc=cc -Dusethreads -Duseithreads -Uinstallusrbinperl -Ulocincpth= -Uloclibpth= -Dsh=/usr/bin/sh -Dd_attribut=undef -Dd_attribute_warn_unused_result=undef -Dd_u32align=define -Aprepend:libswanted=cl &nbsp;-Dvendorprefix=/home/gecko/ap1604/vendor -Dvendorlib=/home/gecko/ap1604/vendor/lib -Dvendorarch=/home/gecko/ap1604/vendor/lib -Darchname=PA-RISC1.1 -Accflags=+DAportable +DS2.0 -Doptimize=-O -Accflags=+Z -Accflags=-DUSE_SITECUSTOMIZE -Duselargefiles -Accflags=-DPERL_RELOCATABLE_INCPUSH -Dprefix=/home/gecko/ap1604 -Dprivlib=/home/gecko/ap1604/lib -Darchlib=/home/gecko/ap1604/lib -Dsiteprefix=/home/gecko/ap1604/site -Dsitelib=/home/gecko/ap1604/site/lib -Dsitearch=/home/gecko/ap1604/site/lib -Dsed=/usr/bin/sed -Duseshrplib -Dcf_by=ActiveState -Dcf_email=support@ActiveState.com&#39;</div>
	<div>
		&nbsp; &nbsp; hint=recommended, useposix=true, d_sigaction=define</div>
	<div>
		&nbsp; &nbsp; useithreads=define, usemultiplicity=define</div>
	<div>
		&nbsp; &nbsp; useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef</div>
	<div>
		&nbsp; &nbsp; use64bitint=undef, use64bitall=undef, uselongdouble=undef</div>
	<div>
		&nbsp; &nbsp; usemymalloc=n, bincompat5005=undef</div>
	<div>
		&nbsp; Compiler:</div>
	<div>
		&nbsp; &nbsp; cc=&#39;cc&#39;, ccflags =&#39; -D_POSIX_C_SOURCE=199506L -D_REENTRANT -Ae -D_HPUX_SOURCE -Wl,+vnocompatwarnings +DAportable +DS2.0 +Z -DUSE_SITECUSTOMIZE -DPERL_RELOCATABLE_INCPUSH -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 &#39;,</div>
	<div>
		&nbsp; &nbsp; optimize=&#39;-O&#39;,</div>
	<div>
		&nbsp; &nbsp; cppflags=&#39;-Aa -D__STDC_EXT__ -D_HPUX_SOURCE -D_POSIX_C_SOURCE=199506L -D_REENTRANT -D_HPUX_SOURCE -Wl,+vnocompatwarnings +DAportable +DS2.0 +Z -DUSE_SITECUSTOMIZE -DPERL_RELOCATABLE_INCPUSH&#39;</div>
	<div>
		&nbsp; &nbsp; ccversion=&#39;B.11.X.35098-35101.GP&#39;, gccversion=&#39;&#39;, gccosandvers=&#39;&#39;</div>
	<div>
		&nbsp; &nbsp; intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=4321</div>
	<div>
		&nbsp; &nbsp; d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16</div>
	<div>
		&nbsp; &nbsp; ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;, lseeksize=8</div>
	<div>
		&nbsp; &nbsp; alignbytes=8, prototype=define</div>
	<div>
		&nbsp; Linker and Libraries:</div>
	<div>
		&nbsp; &nbsp; ld=&#39;/usr/bin/ld&#39;, ldflags =&#39;&#39;</div>
	<div>
		&nbsp; &nbsp; libpth=/lib /usr/lib /usr/ccs/lib /usr/local/lib</div>
	<div>
		&nbsp; &nbsp; libs=-lcl -lnsl -lnm -lndbm -lmalloc -ldld -lm -lcrypt -lsec -lpthread -lc</div>
	<div>
		&nbsp; &nbsp; perllibs=-lcl -lnsl -lnm -lmalloc -ldld -lm -lcrypt -lsec -lpthread -lc</div>
	<div>
		&nbsp; &nbsp; libc=/lib/libc.sl, so=sl, useshrplib=true, libperl=libperl.sl</div>
	<div>
		&nbsp; &nbsp; gnulibc_version=&#39;&#39;</div>
	<div>
		&nbsp; Dynamic Linking:</div>
	<div>
		&nbsp; &nbsp; dlsrc=dl_hpux.xs, dlext=sl, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E -Wl,-B,deferred &#39;</div>
	<div>
		&nbsp; &nbsp; cccdlflags=&#39;+Z&#39;, lddlflags=&#39;-b +vnocompatwarnings&#39;</div>
	<div>
		&nbsp;</div>
	<div>
		&nbsp;</div>
	<div>
		Characteristics of this binary (from libperl):</div>
	<div>
		&nbsp; Compile-time options: HAS_TIMES MULTIPLICITY PERLIO_LAYERS</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PERL_DONT_CREATE_GVSV PERL_IMPLICIT_CONTEXT</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PERL_MALLOC_WRAP PERL_PRESERVE_IVUV</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PERL_RELOCATABLE_INCPUSH USE_ITHREADS USE_LARGE_FILES</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; USE_LOCALE USE_LOCALE_COLLATE USE_LOCALE_CTYPE</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; USE_LOCALE_NUMERIC USE_PERLIO USE_PERL_ATOF</div>
	<div>
		&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; USE_REENTRANT_API USE_SITECUSTOMIZE<br>
		<div>
			&nbsp; Built under hpux</div>
		<div>
			&nbsp; Compiled at Dec 30 2013 13:11:43</div>
	</div>
</div>

<br>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1307259" href="/Public/Bug/Display.html?id=91784#txn-1307259">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;01&nbsp;17:20:47&nbsp;2014</span>
    <span class="description">GAAS [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1307259/692722/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/692722">with headers</a>
<br />
<span class="downloadcontenttype">text/html 650b</span>
</div>
<div class="messagebody">
<div class="message-stanza">I found that the problem goes away with this patch, but I have no idea why this works:<br>

<br>


<div>
	--- lib/IPC/Cmd.pm.orig Wed Jan &nbsp;1 14:16:48 2014</div>


<div>
	+++ lib/IPC/Cmd.pm &nbsp; &nbsp; &nbsp;Wed Jan &nbsp;1 14:18:30 2014</div>


<div>
	@@ -517,6 +517,7 @@</div>


<div>
	&nbsp; &nbsp;$child_err-&gt;autoflush(1);</div>


<div>
	&nbsp;</div>


<div>
	&nbsp; &nbsp;my $pid = open3($child_in, $child_out, $child_err, $cmd);</div>


<div>
	+ &nbsp;Time::HiRes::usleep(1);</div>


<div>
	&nbsp;</div>


<div>
	&nbsp; &nbsp;# push my child&#39;s pid to our parent</div>


<div>
	&nbsp; &nbsp;# so in case i am killed parent</div>


<div>
	&nbsp;</div>


</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1771299" href="/Public/Bug/Display.html?id=91784#txn-1771299">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;03:21:14&nbsp;2018</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1771299/953184/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/953184">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 585b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne St 01.led.2014 17:20:47, GAAS napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; --- lib/IPC/Cmd.pm.orig Wed Jan 1 14:16:48 2014 +++ lib/IPC/Cmd.pm Wed
&gt; Jan 1
&gt; 14:18:30 2014 @@ -517,6 +517,7 @@ $child_err-&gt;autoflush&#40;1&#41;; my $pid =
&gt; open3&#40;$child_in, $child_out, $child_err, $cmd&#41;; +
&gt; Time::HiRes::usleep&#40;1&#41;; #
&gt; push my child&#39;s pid to our parent # so in case i am killed parent
</div>
Fixing race conditions by inserting arbitrary sleeps is wrong. It does not fix the cause, it only masks it. Unreliably.

While using sleep in tests is quite cheap hack, doing it in the library code burdens everybody by slowing their code.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1771300" href="/Public/Bug/Display.html?id=91784#txn-1771300">#</a>      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;15&nbsp;03:21:15&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.310267</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
