<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #47983 for DBD-SQLite: Re: DBD-SQLite with mod_perl &#40;CentOS only?&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #47983 for DBD-SQLite: Re: DBD-SQLite with mod_perl &#40;CentOS only?&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBD-SQLite">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBD-SQLite">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBD-SQLite">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBD-SQLite">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBD-SQLite">DBD-SQLite CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">47983</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBD-SQLite">DBD-SQLite</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
igor.bujna [...] post.cz

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10248-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-10249-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




DBD-SQLite-old-sqlite-workaround-20100531.patch.diff<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/784359/406321/DBD-SQLite-old-sqlite-workaround-20100531.patch.diff">
Mon May 31 01:51:04 2010 (3.5k) by mozo [...] mozo.jp
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=47983">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-633675" href="/Public/Bug/Display.html?id=47983#txn-633675">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;16&nbsp;04:03:29&nbsp;2009</span>
    <span class="description">igor.bujna [...] post.cz - Ticket #47936:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 16 Jul 2009 10:00:04 +0200 &#40;CEST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> igor.bujna [...] post.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/633675/322847/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/322847">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Good morning,
I have little problem with implementation DBD-SQLite and mod_perl.  Everything is operated on the last updated version of CentOS-5.2 and version DBD-SQLite is 1.25. 
When using the console, the program show all as it should be. But when using Apache and mod_perl than i have some problem.

Configuration for apache

Alias / test-cgi / tmp / test-cgi 
&lt;Directory / tmp / test-cgi &lt; 
AddHandler perl-script. Pl 
SetHandler perl-script 
# PerlResponseHandler ModPerl:: Registry 
PerlResponseHandler ModPerl:: PerlRun 
PerlOptions + ParseHeaders 
Options + ExecCGI 
&lt;/ Directory &lt; 
 
This is test script 

#!/usr/bin/perl

use strict;
 use DBI;
 my $dbh = DBI-&gt;connect&#40;&#34;dbi:SQLite:dbname=/tmp/sqlite.db&#34;,&#34;&#34;,&#34;&#34;,
                        {RaiseError =&gt; 1, PrintError =&gt; 1, AutoCommit =&gt; 1}&#41;;

 my $hash_ref = $dbh-&gt;selectall_hashref&#40;&#39;SELECT * FROM pob ORDER BY city, c_pob;&#39;,&#34;c_pob&#34;&#41;;

 my %h_l = &#40;&#41;;
 while&#40;my&#40;$k, $d&#41; = each %$hash_ref&#41;    {
    my $str = substr&#40;$d-&gt;{&#39;city&#39;},0,1&#41;;
    if &#40;defined&#40;$str&#41;&#41;  {
        my $s = uc&#40;$str&#41;;
        if &#40;exists&#40;$h_l{$s}&#41;&#41;   {
            my $d = $h_l{$s};
            push&#40;@$d, $k&#41;;
        } else  {
            $h_l{$s} = [$k];
        }
        print $d-&gt;{&#39;city&#39;} . &#34;\n&#34;;
    }
 }
 $dbh-&gt;disconnect&#40;&#41;;


And there is eror in log httpd

DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-cgi/test.pl line 11. [Wed Jul 15 23:14:08 2009] [error] DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-cgi/test.pl line 11.\n ModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 204 eval {...} called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 204 ModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 170 ModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/PerlRun.pm line 31 ModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;, &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0 eval {...} called at -e line 0 [Wed Jul 15 23:02:39 2009] [error] DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-cgi/test.pl line 33.\n at /tmp/test-cgi/test.pl line 33\n\tModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 204\n\teval {...} called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 204\n\tModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm line 170\n\tModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41; called at /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/PerlRun.pm line 31\n\tModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;, &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0\n\teval {...} called at -e line 0\n
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-634442" href="/Public/Bug/Display.html?id=47983#txn-634442">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jul&nbsp;17&nbsp;22:18:17&nbsp;2009</span>
    <span class="description">igor.bujna [...] post.cz -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 18 Jul 2009 00:09:23 +0200 &#40;CEST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> igor.bujna [...] post.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/634442/323317/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/323317">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello,
i found this problem. Everything OK is in version 1.13 or 1.14, but in version 1.19 to newest 1.26 make this problem.
Thank you nad bye Igor Bujna

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Good morning,
&gt; I have little problem with implementation DBD-SQLite and mod_perl.  Everything 
&gt; is operated on the last updated version of CentOS-5.2 and version DBD-SQLite is
&gt; 1.25. 
&gt; When using the console, the program show all as it should be. But when using
&gt; Apache and mod_perl than i have some problem.
&gt; 
&gt; Configuration for apache
&gt; 
&gt; Alias / test-cgi / tmp / test-cgi 
&gt; &lt;Directory / tmp / test-cgi &lt; 
&gt; AddHandler perl-script. Pl 
&gt; SetHandler perl-script 
&gt; # PerlResponseHandler ModPerl:: Registry 
&gt; PerlResponseHandler ModPerl:: PerlRun 
&gt; PerlOptions + ParseHeaders 
&gt; Options + ExecCGI 
&gt; &lt;/ Directory &lt; 
&gt;  
&gt; This is test script 
&gt; 
&gt; #!/usr/bin/perl
&gt; 
&gt; use strict;
&gt;  use DBI;
&gt;  my $dbh = DBI-&gt;connect&#40;&#34;dbi:SQLite:dbname=/tmp/sqlite.db&#34;,&#34;&#34;,&#34;&#34;,
&gt;                         {RaiseError =&gt; 1, PrintError =&gt; 1, AutoCommit =&gt; 1}&#41;;
&gt; 
&gt;  my $hash_ref = $dbh-&gt;selectall_hashref&#40;&#39;SELECT * FROM pob ORDER BY city,
&gt; c_pob;&#39;,&#34;c_pob&#34;&#41;;
&gt; 
&gt;  my %h_l = &#40;&#41;;
&gt;  while&#40;my&#40;$k, $d&#41; = each %$hash_ref&#41;    {
&gt;     my $str = substr&#40;$d-&gt;{&#39;city&#39;},0,1&#41;;
&gt;     if &#40;defined&#40;$str&#41;&#41;  {
&gt;         my $s = uc&#40;$str&#41;;
&gt;         if &#40;exists&#40;$h_l{$s}&#41;&#41;   {
&gt;             my $d = $h_l{$s};
&gt;             push&#40;@$d, $k&#41;;
&gt;         } else  {
&gt;             $h_l{$s} = [$k];
&gt;         }
&gt;         print $d-&gt;{&#39;city&#39;} . &#34;\n&#34;;
&gt;     }
&gt;  }
&gt;  $dbh-&gt;disconnect&#40;&#41;;
&gt; 
&gt; 
&gt; And there is eror in log httpd
&gt; 
&gt; DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-cgi/test.pl
&gt; line 11. [Wed Jul 15 23:14:08 2009] [error] DBD::SQLite::db selectall_hashref
&gt; failed: not an error at /tmp/test-cgi/test.pl line 11.\n
&gt; ModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line 204 eval {...} called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line 204 ModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line 170
&gt; ModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/PerlRun.pm line
&gt; 31 ModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0 eval {...} called
&gt; at -e line 0 [Wed Jul 15 23:02:39 2009] [error] DBD::SQLite::db
&gt; selectall_hashref failed: not an error at /tmp/test-cgi/test.pl line 33.\n at
&gt; /tmp/test-cgi/test.pl line
&gt; 33\n\tModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line 204\n\teval {...} called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line 204\n\tModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/RegistryCooker.pm
&gt; line
&gt; 170\n\tModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
&gt; called at
&gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-multi/ModPerl/PerlRun.pm line
&gt; 31\n\tModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0\n\teval {...}
&gt; called at -e line 0\n
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-635372" href="/Public/Bug/Display.html?id=47983#txn-635372">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;20&nbsp;15:06:40&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/635372/323816/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/323816">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi.  I have the same problem with the same setup, CentOS 5.2.  Is this a
regression to the same error &#40;&#34;Not an error&#34;&#41; from a bug in 2006?  BTW
there are a lot of these errors from building with CPAN, I do not know
if they are related.  Other modules with XS components are having these
errors when building:

gcc -c  -I.
-I/usr/lib/perl5/site_perl/5.8.8/i386-linux-thread-multi/auto/DBI
-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe
-Wdeclaration-after-statement -I/usr/local/include -D_LARGEFILE_SOURCE
-D_FILE_OFFSET_BITS=64 -I/usr/include/gdbm -O2   -DVERSION=\&#34;1.25\&#34;
-DXS_VERSION=\&#34;1.25\&#34; -fPIC
&#34;-I/usr/lib/perl5/5.8.8/i386-linux-thread-multi/CORE&#34;  -DSQLITE_CORE
-DSQLITE_ENABLE_FTS3 -DSQLITE_ENABLE_COLUMN_METADATA -DNDEBUG=1
-DSQLITE_PTR_SZ=4 -DHAVE_USLEEP=1 SQLite.c
SQLite.c: In function â€˜boot_DBD__SQLiteâ€™:
SQLite.c:1541: warning: passing argument 4 of â€˜Perl_newXSâ€™ discards
qualifiers from pointer target type
SQLite.c:1542: warning: passing argument 4 of â€˜Perl_newXSâ€™ discards
qualifiers from pointer target type
SQLite.c:1543: warning: passing argument 4 of â€˜Perl_newXSâ€™ discards
qualifiers from pointer target type
SQLite.c:1544: warning: passing argument 4 of â€˜Perl_newXSâ€™ discards
qualifiers from pointer target type
SQLite.c:1545: warning: passing argument 4 of â€˜Perl_newXSâ€™ discards
qualifiers from pointer target type
... lots more ...


On Fri Jul 17 22:18:17 2009, igor.bujna@post.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; i found this problem. Everything OK is in version 1.13 or 1.14, but in
&gt; version 1.19 to newest 1.26 make this problem.
&gt; Thank you nad bye Igor Bujna
&gt; 
<div class="message-stanza open">&gt; &gt; Good morning,
&gt; &gt; I have little problem with implementation DBD-SQLite and mod_perl.
</div>&gt; Everything
<div class="message-stanza open">&gt; &gt; is operated on the last updated version of CentOS-5.2 and version
</div>&gt; DBD-SQLite is
<div class="message-stanza open">&gt; &gt; 1.25.
&gt; &gt; When using the console, the program show all as it should be. But
</div>&gt; when using
<div class="message-stanza open">&gt; &gt; Apache and mod_perl than i have some problem.
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt;
&gt; &gt; DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-
</div>&gt; cgi/test.pl
<div class="message-stanza open">&gt; &gt; line 11. [Wed Jul 15 23:14:08 2009] [error] DBD::SQLite::db
</div>&gt; selectall_hashref
<div class="message-stanza open">&gt; &gt; failed: not an error at /tmp/test-cgi/test.pl line 11.\n
&gt; &gt;
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-635373" href="/Public/Bug/Display.html?id=47983#txn-635373">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;20&nbsp;15:06:41&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-635376" href="/Public/Bug/Display.html?id=47983#txn-635376">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;20&nbsp;15:08:06&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/635376/323819/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/323819">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 50b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">BTW version of sqlite3 libs on my system is 3.3.6.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-635393" href="/Public/Bug/Display.html?id=47983#txn-635393">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;20&nbsp;16:27:18&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/635393/323827/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/323827">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 915b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Igor did you recently install libapreq2 from CPAN?

For a long time under CentOS 5.2, CPAN could not find libapreq2
&#40;Apache2::Request/Apache2::Cookie&#41;.  So I installed 2.12 from source.

Recently after upgrading all my CPAN dependencies, libapreq2 was
downloaded and installed.  &#40;Even though the same version of libapreq2
was already installed on the system.&#41;  I also had a problem with
ExtUtils::CBuilder installing to the wrong path, a bug just fixed.

Did CPAN rebuild libapreq2 for you?

Mark

On Fri Jul 17 22:18:17 2009, igor.bujna@post.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; i found this problem. Everything OK is in version 1.13 or 1.14, but in
&gt; version 1.19 to newest 1.26 make this problem.
&gt; Thank you nad bye Igor Bujna
&gt; 
<div class="message-stanza open">&gt; &gt; Good morning,
&gt; &gt; I have little problem with implementation DBD-SQLite and mod_perl.
</div>&gt; Everything
<div class="message-stanza open">&gt; &gt; is operated on the last updated version of CentOS-5.2 and version
</div>&gt; DBD-SQLite is
<div class="message-stanza open">&gt; &gt; 1.25.
</div></div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-636928" href="/Public/Bug/Display.html?id=47983#txn-636928">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;00:03:10&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/636928/324743/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/324743">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 228b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can no longer build libapreq2 or Encode::Detect either.  I think that
something in ExtUtils::ParseXS or ExtUtils::CBuilder was changed
recently that causes problems with perl 5.8.8.  WTF is going on?  CentOS
CPAN seems hosed. 
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-637020" href="/Public/Bug/Display.html?id=47983#txn-637020">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;06:01:28&nbsp;2009</span>
    <span class="description">igor.bujna [...] post.cz -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47983] Re: DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 23 Jul 2009 12:01:01 +0200 &#40;CEST&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> igor.bujna [...] post.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/637020/324806/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/324806">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 784b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I try it everything on newest CentOS-5.3 and there is same problem. I try with libapreq2-2.09-0.rc2.1.el5,perl-libapreq2-2.09-0.rc2.1.el5
libapreq2-devel-2.09-0.rc2.1.el5 but same problem. I think problem is in SQLite.XS on declaration function.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ------------ PÅ¯vodnÃ­ zprÃ¡va ------------
&gt; Od: Mark Hedges via RT &lt;bug-DBD-SQLite@rt.cpan.org&gt;
&gt; PÅ™edmÄ›t: [rt.cpan.org #47983] Re: DBD-SQLite with mod_perl
&gt; Datum: 23.7.2009 06:29:25
&gt; ----------------------------------------
&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47983">https://rt.cpan.org/Ticket/Display.html?id=47983</a></span> &gt;
&gt;
&gt; I can no longer build libapreq2 or Encode::Detect either.  I think that
&gt; something in ExtUtils::ParseXS or ExtUtils::CBuilder was changed
&gt; recently that causes problems with perl 5.8.8.  WTF is going on?  CentOS
&gt; CPAN seems hosed.
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-637155" href="/Public/Bug/Display.html?id=47983#txn-637155">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;23&nbsp;13:21:30&nbsp;2009</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47983] Re: DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 24 Jul 2009 03:21:12 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adamkennedybackup [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/637155/324902/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/324902">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 177b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m not able to contribute usefully to these XS discussions, but just
chirping in to say if you need any dev releases or blog calls for
help, let me know and I&#39;m there.

Adam K
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-640799" href="/Public/Bug/Display.html?id=47983#txn-640799">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;28&nbsp;00:13:47&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> adam [...] ali.as, igor.bujna [...] post.cz</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/640799/327463/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327463">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jul 23 06:01:28 2009, igor.bujna@post.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I try it everything on newest CentOS-5.3 and there is same problem. I
&gt; try with libapreq2-2.09-0.rc2.1.el5,perl-libapreq2-2.09-0.rc2.1.el5
&gt; libapreq2-devel-2.09-0.rc2.1.el5 but same problem. I think problem is
&gt; in SQLite.XS on declaration function.
</div>
Maybe the patch for ExtUtils::ParseXS at
<span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=48104">https://rt.cpan.org/Ticket/Display.html?id=48104</a></span> will help?  

Also the people on libapreq-dev list say they think it&#39;s a buggy
httpd-devel package in CentOS that includes this bug: 

On Thu, 23 Jul 2009, Fred Moyer wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Looks like dev@httpd is aware of the issue and will be releasing a
&gt; fix.  Haven&#39;t tried 5.3 centos but this sounds like they shipped a
&gt; version of apache that caused this.
&gt;
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mail-archive.com/dev@httpd.apache.org/msg44177.html">http://www.mail-archive.com/dev@httpd.apache.org/msg44177.html</a></span>
</div>
Igor hey what yum repo has libapreq?  It&#39;s not in ATRPMS, ATR or rpmforge.

On Thu Jul 23 13:21:30 2009, adam@ali.as wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m not able to contribute usefully to these XS discussions, but just
&gt; chirping in to say if you need any dev releases or blog calls for
&gt; help, let me know and I&#39;m there.
</div>
It would be helpful to find out who can update httpd-devel in CentOS.

Mark
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641067" href="/Public/Bug/Display.html?id=47983#txn-641067">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;28&nbsp;13:18:02&nbsp;2009</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> igor.bujna [...] post.cz</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47983] Re: DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 29 Jul 2009 03:17:44 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] ali.as&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/641067/327603/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327603">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Message forwarded to the Perl code #p5p channel for you.

They are on it.

Adam K

On Tue, Jul 28, 2009 at 2:13 PM, Mark Hedges via
RT&lt;bug-DBD-SQLite@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47983">https://rt.cpan.org/Ticket/Display.html?id=47983</a></span> &gt;
&gt;
&gt; On Thu Jul 23 06:01:28 2009, igor.bujna@post.cz wrote:
<div class="message-stanza open">&gt;&gt; I try it everything on newest CentOS-5.3 and there is same problem. I
&gt;&gt; try with libapreq2-2.09-0.rc2.1.el5,perl-libapreq2-2.09-0.rc2.1.el5
&gt;&gt; libapreq2-devel-2.09-0.rc2.1.el5 but same problem. I think problem is
&gt;&gt; in SQLite.XS on declaration function.
</div>&gt;
&gt; Maybe the patch for ExtUtils::ParseXS at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=48104">https://rt.cpan.org/Ticket/Display.html?id=48104</a></span> will help?
&gt;
&gt; Also the people on libapreq-dev list say they think it&#39;s a buggy
&gt; httpd-devel package in CentOS that includes this bug:
&gt;
&gt; On Thu, 23 Jul 2009, Fred Moyer wrote:
<div class="message-stanza open">&gt;&gt; Looks like dev@httpd is aware of the issue and will be releasing a
&gt;&gt; fix. Â Haven&#39;t tried 5.3 centos but this sounds like they shipped a
&gt;&gt; version of apache that caused this.
&gt;&gt;
&gt;&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://www.mail-archive.com/dev@httpd.apache.org/msg44177.html">http://www.mail-archive.com/dev@httpd.apache.org/msg44177.html</a></span>
</div>&gt;
&gt; Igor hey what yum repo has libapreq? Â It&#39;s not in ATRPMS, ATR or rpmforge.
&gt;
&gt; On Thu Jul 23 13:21:30 2009, adam@ali.as wrote:
<div class="message-stanza open">&gt;&gt; I&#39;m not able to contribute usefully to these XS discussions, but just
&gt;&gt; chirping in to say if you need any dev releases or blog calls for
&gt;&gt; help, let me know and I&#39;m there.
</div>&gt;
&gt; It would be helpful to find out who can update httpd-devel in CentOS.
&gt;
&gt; Mark
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641546" href="/Public/Bug/Display.html?id=47983#txn-641546">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;29&nbsp;13:15:55&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> adam [...] ali.as</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/641546/327890/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327890">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 223b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 28 13:18:02 2009, adam@ali.as wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Message forwarded to the Perl code #p5p channel for you.
&gt; 
&gt; They are on it.
</div>
Thanks Adam but ... what are they on to?  

Do we know what the actual problem is?

--mark--
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641550" href="/Public/Bug/Display.html?id=47983#txn-641550">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;29&nbsp;13:18:35&nbsp;2009</span>
    <span class="description">MARKLE [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> igor.bujna [...] post.cz, adam [...] ali.as</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/641550/327894/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/327894">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 775b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 28 00:13:47 2009, MARKLE wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Thu Jul 23 06:01:28 2009, igor.bujna@post.cz wrote:
<div class="message-stanza open">&gt; &gt; I try it everything on newest CentOS-5.3 and there is same problem. I
&gt; &gt; try with libapreq2-2.09-0.rc2.1.el5,perl-libapreq2-2.09-0.rc2.1.el5
&gt; &gt; libapreq2-devel-2.09-0.rc2.1.el5 but same problem. I think problem is
&gt; &gt; in SQLite.XS on declaration function.
</div>&gt; 
&gt; Maybe the patch for ExtUtils::ParseXS at
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=48104">https://rt.cpan.org/Ticket/Display.html?id=48104</a></span> will help?  
</div>
BTW installing the latest dev release 2.20_03 of ExtUtils::ParseXS fixed
problems building other modules &#40;like Encode::Detect&#41; but it did not
help this.  I deleted site_perl and rebuild everything with the new
ExtUtils::ParseXS just to be safe.  Same problem with DBD::SQLite under
mod_perl2.  --mark--
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-641871" href="/Public/Bug/Display.html?id=47983#txn-641871">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jul&nbsp;30&nbsp;06:43:16&nbsp;2009</span>
    <span class="description">adam [...] ali.as -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #47983] Re: DBD-SQLite with mod_perl</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Jul 2009 20:42:56 +1000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBD-SQLite [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Adam Kennedy &lt;adam [...] ali.as&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/641871/328093/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/328093">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 838b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">My skills don&#39;t lie in C/XS, my skills lie in the Perl layer and build
engineering &#40;and more recently development team organisation, which is
how I ended up being the maintainer of DBD::SQLite despite not knowing
C&#41; :&#41;

I&#39;m afraid I don&#39;t really know any actual details about the problem,
other than that they have acknowledged it.

Drop into irc.perl.org #p5p if you&#39;d like to have an in-person
discussion about it with the relevant people.

Adam K

On Thu, Jul 30, 2009 at 3:15 AM, Mark Hedges via
RT&lt;bug-DBD-SQLite@rt.cpan.org&gt; wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=47983">https://rt.cpan.org/Ticket/Display.html?id=47983</a></span> &gt;
&gt;
&gt; On Tue Jul 28 13:18:02 2009, adam@ali.as wrote:
<div class="message-stanza open">&gt;&gt; Message forwarded to the Perl code #p5p channel for you.
&gt;&gt;
&gt;&gt; They are on it.
</div>&gt;
&gt; Thanks Adam but ... what are they on to?
&gt;
&gt; Do we know what the actual problem is?
&gt;
&gt; --mark--
&gt;
&gt;
&gt;
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-716334" href="/Public/Bug/Display.html?id=47983#txn-716334">#</a>      
    </span>
    <span class="date">Wed&nbsp;Jan&nbsp;06&nbsp;17:57:15&nbsp;2010</span>
    <span class="description">siracusa [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/716334/369756/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/369756">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza"><div>I've just run across this bug on CentOS 5.4 with the following packages installed:</div>


<div>&nbsp;</div>


<div>httpd-devel-2.2.3-31.el5.centos</div>


<div>httpd-2.2.3-31.el5.centos</div>


<div>mod_perl-2.0.4-6.el5</div>


<div>&nbsp;</div>


<div>When I install DBD::SQLite versions greater than 1.14 using CPAN, they work fine from the command line but fail under mod_perl with the dreaded &quot;not an error&quot; error as soon as any query is attempted on the (apparently successfully connected) DBI database handle.</div>


<div>&nbsp;</div>


<div>I chased it into the DBD::SQLite C code (in 1.28_02) and discovered that sqlite3SafetyCheckOk() (as called from sqlite3LockAndPrepare() as called from sqlite3_prepare_v2()) is failing because magic != SQLITE_MAGIC_OPEN. &nbsp;This is check is on line 19,545 of sqlite3.c:</div>


<div>&nbsp;</div>


<div><span class="clickylink"><a target="new" rel="nofollow" href="http://cpansearch.perl.org/src/ADAMK/DBD-SQLite-1.28_02/sqlite3.c">http://cpansearch.perl.org/src/ADAMK/DBD-SQLite-1.28_02/sqlite3.c</a></span></div>


<div>&nbsp;</div>


<div>The actual value of magic is 0, which is not one of the expected/allowed values, as per the source:</div>


<div>&nbsp;</div>


<div>/*</div>


<div>** Possible values for the sqlite.magic field.</div>


<div>** The numbers are obtained at random and have no special meaning, other</div>


<div>** than being distinct from one another.</div>


<div>*/</div>


<div>#define SQLITE_MAGIC_OPEN &nbsp; &nbsp; 0xa029a697 &nbsp;/* Database is open */</div>


<div>#define SQLITE_MAGIC_CLOSED &nbsp; 0x9f3c2d33 &nbsp;/* Database is closed */</div>


<div>#define SQLITE_MAGIC_SICK &nbsp; &nbsp; 0x4b771290 &nbsp;/* Error and awaiting close */</div>


<div>#define SQLITE_MAGIC_BUSY &nbsp; &nbsp; 0xf03b7906 &nbsp;/* Database currently in use */</div>


<div>#define SQLITE_MAGIC_ERROR &nbsp; &nbsp;0xb5357930 &nbsp;/* An SQLITE_MISUSE error occurred */</div>


<div>&nbsp;</div>


<div>I have no idea why this happens ONLY under mod_perl, nor how it's connected to the httpd-devel package I have installed. &nbsp;Can anyone help me understand this problem or offer a solution? &nbsp;This bug report is from almost six months ago. &nbsp;Any progress? &nbsp;How can I help?</div>


<div>&nbsp;</div>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-720922" href="/Public/Bug/Display.html?id=47983#txn-720922">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;16&nbsp;20:25:12&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/720922/372238/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/372238">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi. I&#39;ve not finished my investigation but as of this writing, I&#39;ve 
confirmed that 1&#41; recent versions of DBD::SQLite and mod_perl 2.04 work 
fine under Debian lenny and FreeBSD 8.0, and 2&#41; don&#39;t work under CentOS 
5.4. As they work under other platforms and DBD::SQLite itself works 
fine from the CentOS console, I&#39;m vaguely suspecting some &#40;possibly 
CentOS-specific&#41; clever security stuff is preventing from their 
working, but it looks like they even don&#39;t work when I disable selinux, 
so I&#39;m not sure.

On 2010-01-06 Wed 17:57:15, JSIRACUSA wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;ve just run across this bug on CentOS 5.4 with the following
&gt; packages
&gt; installed: httpd-devel-2.2.3-31.el5.centoshttpd-2.2.3-
&gt; 31.el5.centosmod_perl-2.0.4-6.el5
&gt; When I install DBD::SQLite versions greater than 1.14 using CPAN, they
&gt; work
&gt; fine from the command line but fail under mod_perl with the dreaded
&gt; &#34;not an
&gt; error&#34; error as soon as any query is attempted on the &#40;apparently
&gt; successfully
&gt; connected&#41; DBI database handle. I chased it into the DBD::SQLite C
&gt; code &#40;in
&gt; 1.28_02&#41; and discovered that sqlite3SafetyCheckOk&#40;&#41; &#40;as called from
&gt; sqlite3LockAndPrepare&#40;&#41; as called from sqlite3_prepare_v2&#40;&#41;&#41; is
&gt; failing because
&gt; magic != SQLITE_MAGIC_OPEN. This is check is on line 19,545 of
&gt; sqlite3.c:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://cpansearch.perl.org/src/ADAMK/DBD-SQLite-1.28_02/sqlite3.c">http://cpansearch.perl.org/src/ADAMK/DBD-SQLite-1.28_02/sqlite3.c</a></span> The
&gt; actual
&gt; value of magic is 0, which is not one of the expected/allowed values,
&gt; as per
&gt; the source: /*** Possible values for the sqlite.magic field.** The
&gt; numbers are
&gt; obtained at random and have no special meaning, other** than being
&gt; distinct
&gt; from one another.*/#define SQLITE_MAGIC_OPEN 0xa029a697 /* Database is
&gt; open */#define
&gt; SQLITE_MAGIC_CLOSED 0x9f3c2d33 /* Database is closed */#define
&gt; SQLITE_MAGIC_SICK 0x4b771290 /* Error and awaiting close */#define
&gt; SQLITE_MAGIC_BUSY 0xf03b7906 /* Database currently in use */#define
&gt; SQLITE_MAGIC_ERROR 0xb5357930 /* An SQLITE_MISUSE error occurred */ I
&gt; have no
&gt; idea why this happens ONLY under mod_perl, nor how it&#39;s connected to
&gt; the
&gt; httpd-devel package I have installed. Can anyone help me understand
&gt; this
&gt; problem or offer a solution? This bug report is from almost six months
&gt; ago. Any
&gt; progress? How can I help?
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-720925" href="/Public/Bug/Display.html?id=47983#txn-720925">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;16&nbsp;20:27:37&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Subject changed from &#39;Re: DBD-SQLite with mod_perl&#39; to &#39;Re: DBD-SQLite with mod_perl &#40;CentOS only?&#41;&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-784359" href="/Public/Bug/Display.html?id=47983#txn-784359">#</a>      
    </span>
    <span class="date">Mon&nbsp;May&nbsp;31&nbsp;01:51:04&nbsp;2010</span>
    <span class="description">mozo [...] mozo.jp -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> mozo [...] mozo.jp</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/784359/406320/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/406320">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 4.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I got a clue for this bug.  One of the Apache&#39;s dependencies,
libaprutil-1.so, links to /usr/lib/libsqlite3.so.0, and its symbols
conflicts with those of the bundled version of sqlite3.  To work around
this, I had to patch Makefile.PL to do the following things:

1. Change the line &#34;if &#40; 0 &#41;&#34; to &#34;if &#40; 1 &#41;&#34; that follows the comment
that states &#34;this block is if &#40; 0 &#41; to discourage casualusers building
against the system SQLite.&#34;

2. Apply the attached patch to Makefile.PL so that DBD::SQLite would
avoid using the new API that the version of SQLite that comes up with
CentOS 5 doesn&#39;t have.

Hope this helps.

Regards,
Moriyoshi

On Fri Jul 17 22:18:17 2009, igor.bujna@post.cz wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; i found this problem. Everything OK is in version 1.13 or 1.14, but in
&gt; version 1.19 to newest 1.26 make this problem.
&gt; Thank you nad bye Igor Bujna
&gt; 
<div class="message-stanza open">&gt; &gt; Good morning,
&gt; &gt; I have little problem with implementation DBD-SQLite and mod_perl.
</div>&gt; Everything
<div class="message-stanza open">&gt; &gt; is operated on the last updated version of CentOS-5.2 and version
</div>&gt; DBD-SQLite is
<div class="message-stanza open">&gt; &gt; 1.25.
&gt; &gt; When using the console, the program show all as it should be. But
</div>&gt; when using
<div class="message-stanza open">&gt; &gt; Apache and mod_perl than i have some problem.
&gt; &gt;
&gt; &gt; Configuration for apache
&gt; &gt;
&gt; &gt; Alias / test-cgi / tmp / test-cgi
&gt; &gt; &lt;Directory / tmp / test-cgi &lt;
&gt; &gt; AddHandler perl-script. Pl
&gt; &gt; SetHandler perl-script
&gt; &gt; # PerlResponseHandler ModPerl:: Registry
&gt; &gt; PerlResponseHandler ModPerl:: PerlRun
&gt; &gt; PerlOptions + ParseHeaders
&gt; &gt; Options + ExecCGI
&gt; &gt; &lt;/ Directory &lt;
&gt; &gt;
&gt; &gt; This is test script
&gt; &gt;
&gt; &gt; #!/usr/bin/perl
&gt; &gt;
&gt; &gt; use strict;
&gt; &gt;  use DBI;
&gt; &gt;  my $dbh = DBI-&gt;connect&#40;&#34;dbi:SQLite:dbname=/tmp/sqlite.db&#34;,&#34;&#34;,&#34;&#34;,
&gt; &gt;                         {RaiseError =&gt; 1, PrintError =&gt; 1,
</div>&gt; AutoCommit =&gt; 1}&#41;;
<div class="message-stanza open">&gt; &gt;
&gt; &gt;  my $hash_ref = $dbh-&gt;selectall_hashref&#40;&#39;SELECT * FROM pob ORDER BY
</div>&gt; city,
<div class="message-stanza open">&gt; &gt; c_pob;&#39;,&#34;c_pob&#34;&#41;;
&gt; &gt;
&gt; &gt;  my %h_l = &#40;&#41;;
&gt; &gt;  while&#40;my&#40;$k, $d&#41; = each %$hash_ref&#41;    {
&gt; &gt;     my $str = substr&#40;$d-&gt;{&#39;city&#39;},0,1&#41;;
&gt; &gt;     if &#40;defined&#40;$str&#41;&#41;  {
&gt; &gt;         my $s = uc&#40;$str&#41;;
&gt; &gt;         if &#40;exists&#40;$h_l{$s}&#41;&#41;   {
&gt; &gt;             my $d = $h_l{$s};
&gt; &gt;             push&#40;@$d, $k&#41;;
&gt; &gt;         } else  {
&gt; &gt;             $h_l{$s} = [$k];
&gt; &gt;         }
&gt; &gt;         print $d-&gt;{&#39;city&#39;} . &#34;\n&#34;;
&gt; &gt;     }
&gt; &gt;  }
&gt; &gt;  $dbh-&gt;disconnect&#40;&#41;;
&gt; &gt;
&gt; &gt;
&gt; &gt; And there is eror in log httpd
&gt; &gt;
&gt; &gt; DBD::SQLite::db selectall_hashref failed: not an error at /tmp/test-
</div>&gt; cgi/test.pl
<div class="message-stanza open">&gt; &gt; line 11. [Wed Jul 15 23:14:08 2009] [error] DBD::SQLite::db
</div>&gt; selectall_hashref
<div class="message-stanza open">&gt; &gt; failed: not an error at /tmp/test-cgi/test.pl line 11.\n
&gt; &gt;
</div>&gt;
</div>ModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line 204 eval {...} called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line 204
</div>&gt; ModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
<div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line 170
&gt; &gt;
</div>&gt;
</div>ModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/PerlRun.pm line
<div class="message-stanza open">&gt; &gt; 31 ModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0 eval
</div>&gt; {...} called
<div class="message-stanza open">&gt; &gt; at -e line 0 [Wed Jul 15 23:02:39 2009] [error] DBD::SQLite::db
&gt; &gt; selectall_hashref failed: not an error at /tmp/test-cgi/test.pl line
</div>&gt; 33.\n at
<div class="message-stanza open">&gt; &gt; /tmp/test-cgi/test.pl line
&gt; &gt;
</div>&gt;
</div>33\n\tModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line 204\n\teval {...} called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line
</div>&gt; 204\n\tModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
<div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; line
&gt; &gt;
</div>&gt;
</div>170\n\tModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; called at
&gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; multi/ModPerl/PerlRun.pm line
<div class="message-stanza open">&gt; &gt; 31\n\tModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line
</div>&gt; 0\n\teval {...}
<div class="message-stanza open">&gt; &gt; called at -e line 0\n
&gt; &gt;
&gt; &gt;
</div></div></div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> DBD-SQLite-old-sqlite-workaround-20100531.patch.diff</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/784359/406321/DBD-SQLite-old-sqlite-workaround-20100531.patch.diff">Download DBD-SQLite-old-sqlite-workaround-20100531.patch.diff</a><br />
<span class="downloadcontenttype">text/x-diff 3.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff -ur DBD-SQLite-1.30_02~/dbdimp.c DBD-SQLite-1.30_02/dbdimp.c
--- DBD-SQLite-1.30_02~/dbdimp.c	2010-05-31 04:55:25.000000000 +0900
+++ DBD-SQLite-1.30_02/dbdimp.c	2010-05-31 05:21:48.000000000 +0900
@@ -29,6 +29,10 @@
 #define sqlite_exec&#40;h,sql&#41; _sqlite_exec&#40;aTHX_ h, imp_dbh-&gt;db, sql&#41;
 #define sqlite_open&#40;dbname,db&#41; _sqlite_open&#40;aTHX_ dbh, dbname, db&#41;
 
+#ifndef HAVE_SQLITE3_SQL
+#define sqlite3_sql&#40;stmt&#41; &#34;&#40;prepared statement&#41;&#34;
+#endif
+
 static void
 _sqlite_trace&#40;pTHX_ char *file, int line, SV *h, imp_xxh_t *imp_xxh, const char *what&#41;
 {
@@ -446,7 +450,11 @@
 
     croak_if_db_is_null&#40;&#41;;
 
+#ifdef HAVE_SQLITE3_PREPARE_V2
     rc = sqlite3_prepare_v2&#40;imp_dbh-&gt;db, statement, -1, &#38;&#40;imp_sth-&gt;stmt&#41;, &#38;extra&#41;;
+#else
+    rc = sqlite3_prepare&#40;imp_dbh-&gt;db, statement, -1, &#38;&#40;imp_sth-&gt;stmt&#41;, &#38;extra&#41;;
+#endif
     if &#40;rc != SQLITE_OK&#41; {
         sqlite_error&#40;sth, rc, sqlite3_errmsg&#40;imp_dbh-&gt;db&#41;&#41;;
         if &#40;imp_sth-&gt;stmt&#41; {
diff -ur DBD-SQLite-1.30_02~/Makefile.PL DBD-SQLite-1.30_02/Makefile.PL
--- DBD-SQLite-1.30_02~/Makefile.PL	2010-05-31 04:55:25.000000000 +0900
+++ DBD-SQLite-1.30_02/Makefile.PL	2010-05-31 05:22:51.000000000 +0900
@@ -122,7 +122,7 @@
 # the system SQLite. We expect that anyone sophisticated enough to use
 # a system sqlite is also sophisticated enough to have a patching system
 # that can change the if &#40; 0 &#41; to if &#40; 1 &#41;
-my &#40;$sqlite_local, $sqlite_base, $sqlite_lib, $sqlite_inc&#41;;
+my &#40;$sqlite_local, $sqlite_base, $sqlite_lib, $sqlite_inc, $sqlite_version&#41;;
 if &#40; 0 &#41; {
 	require File::Spec;
 	if &#40; $sqlite_base = &#40;grep&#40;/SQLITE_LOCATION=.*/, @ARGV&#41;&#41;[0] &#41; {
@@ -143,14 +143,14 @@
 
 	# Now check for a compatible sqlite3
 	unless &#40; $sqlite_local &#41; {
-		my &#40;$dir, $file, $fh, $version&#41;;
+		my &#40;$dir, $file, $fh, $version_string&#41;;
 		print &#34;Checking installed SQLite version...\n&#34; if $ENV{AUTOMATED_TESTING};
 		if &#40; $sqlite_inc &#41; {
 			open&#40;$fh, &#39;&lt; &#39; , File::Spec-&gt;catfile&#40;$sqlite_inc, &#39;sqlite3.h&#39;&#41;&#41;
 				or die &#34;Error opening sqlite3.h in $sqlite_inc: $!&#34;;
 			while &#40; defined&#40;$_ = &lt;$fh&gt;&#41; &#41; {
 				if &#40;/\#define\s+SQLITE_VERSION_NUMBER\s+&#40;\d+&#41;/&#41; {
-					$version = $1;
+					$sqlite_version = $1;
 					last;
 				}
 			}
@@ -163,21 +163,26 @@
 				open&#40;$fh, &#34;&lt;&#34;, $file&#41; or die &#34;Error opening $file: $!&#34;;
 				while &#40; defined&#40;$_ = &lt;$fh&gt;&#41; &#41; {
 					if &#40;/\#define\s+SQLITE_VERSION_NUMBER\s+&#40;\d+&#41;/&#41; {
-						$version = $1;
+						$sqlite_version = $1;
 						last;
 					}
 				}
 				close&#40;$fh&#41;;
-				last if $version;
+				last if $sqlite_version;
 			}
 		}
-		unless &#40; $version &#38;&#38; &#40;$version &gt;= 3006000&#41; &#41; {
-			warn &#34;SQLite version must be at least 3.6.0. No header file at that\n&#34;;
+		$version_string = sprintf&#40;&#34;%d.%d.%d&#34;, int&#40;$sqlite_version / 1e6&#41;, int&#40;$sqlite_version / 1e3&#41; % 1e2, $sqlite_version % 1e3&#41;;
+		unless &#40; $sqlite_version &#38;&#38; &#40;$sqlite_version &gt;= 3003000&#41; &#41; {
+			warn &#34;SQLite version must be at least 3.3.0. No header file at that\n&#34;;
 			warn &#34;version or higher was found. Using the local version instead.\n&#34;;
 			$sqlite_local = 1;
 			undef $sqlite_lib;
 			undef $sqlite_inc;
+		} elsif &#40; $sqlite_version &gt;= 3003011 &#41; {
+			print &#34;Looks good\n&#34; if $ENV{AUTOMATED_TESTING};
 		} else {
+			warn &#34;SQLite version should be at least 3.3.11, but I found a header file \n&#34;;
+			warn &#34;of the version $version_string. Falls back to use the deprecated interface.\n&#34;;
 			print &#34;Looks good\n&#34; if $ENV{AUTOMATED_TESTING};
 		}
 	}
@@ -217,6 +222,11 @@
 	&#39;-DSQLITE_ENABLE_COLUMN_METADATA&#39;,
 	&#39;-DNDEBUG=1&#39;,
 &#41;;
+
+if &#40; $sqlite_version &gt;= 3003011 &#41; {
+	push @CC_DEFINE, &#39;-DHAVE_SQLITE3_PREPARE_V2&#39;, &#39;-DHAVE_SQLITE3_SQL&#39;;
+}
+
 if &#40; $Config{d_usleep} || $Config{osname} =~ m/linux/ &#41; {
 	push @CC_DEFINE, &#39;-DHAVE_USLEEP=1&#39;;
 }
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-790279" href="/Public/Bug/Display.html?id=47983#txn-790279">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jun&nbsp;13&nbsp;08:16:55&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> mozo [...] mozo.jp</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/790279/409501/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/409501">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, moriyoshi-san. Sorry for the late reply. Thank you for a patch. It 
made things much clearer for me.

To our sadness, however, it didn&#39;t seem to solve the whole issue. 
DBD::SQLite uses sqlite3_next_stmt &#40;which requires SQLite 3.6.0&#41; to 
prevent memory leaks, and sqlite3_sql &#40;also since 3.6.0&#41; not only to 
trace statements but also to fix transaction gaps between DBI and the 
SQLite library. Probably we can do the same things if we include 
sqliteInt.h to use internal stuff, but it&#39;s not available unless we get 
the SQLite source from the SQLite repository or a non-amalgamated 
tarball &#40;i.e. installing a package like sqlite-devel doesn&#39;t work for 
this&#41;.

Besides, DBD::SQLite is used to other modules like O/R mappers. So, 
DBD::SQLite is requested to be consistent, not to vary from systems to 
systems, as that makes their debugging much harder, not to mention 
ours. That&#39;s why the option to use installed library is disabled by 
default.

I&#39;m still wondering what&#39;s the best fix for this issue, but for now, 
I&#39;m not inclined to apply your patch. It might be better to recommend 
for people to rebuild their apache with the latest SQLite source, but 
that might also cause other issues elsewhere...

Anyway, thank you for your contribution,

Kenichi

On 2010-5-31 Mon 01:51:04, moriyoshi wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I got a clue for this bug.  One of the Apache&#39;s dependencies,
&gt; libaprutil-1.so, links to /usr/lib/libsqlite3.so.0, and its symbols
&gt; conflicts with those of the bundled version of sqlite3.  To work
&gt; around
&gt; this, I had to patch Makefile.PL to do the following things:
&gt; 
&gt; 1. Change the line &#34;if &#40; 0 &#41;&#34; to &#34;if &#40; 1 &#41;&#34; that follows the comment
&gt; that states &#34;this block is if &#40; 0 &#41; to discourage casualusers building
&gt; against the system SQLite.&#34;
&gt; 
&gt; 2. Apply the attached patch to Makefile.PL so that DBD::SQLite would
&gt; avoid using the new API that the version of SQLite that comes up with
&gt; CentOS 5 doesn&#39;t have.
&gt; 
&gt; Hope this helps.
&gt; 
&gt; Regards,
&gt; Moriyoshi
&gt; 
&gt; On Fri Jul 17 22:18:17 2009, igor.bujna@post.cz wrote:
<div class="message-stanza open">&gt; &gt; Hello,
&gt; &gt; i found this problem. Everything OK is in version 1.13 or 1.14, but
</div>&gt; in
<div class="message-stanza open">&gt; &gt; version 1.19 to newest 1.26 make this problem.
&gt; &gt; Thank you nad bye Igor Bujna
&gt; &gt;
<div class="message-stanza open">&gt; &gt; &gt; Good morning,
&gt; &gt; &gt; I have little problem with implementation DBD-SQLite and mod_perl.
</div>&gt; &gt; Everything
<div class="message-stanza open">&gt; &gt; &gt; is operated on the last updated version of CentOS-5.2 and version
</div>&gt; &gt; DBD-SQLite is
<div class="message-stanza open">&gt; &gt; &gt; 1.25.
&gt; &gt; &gt; When using the console, the program show all as it should be. But
</div>&gt; &gt; when using
<div class="message-stanza open">&gt; &gt; &gt; Apache and mod_perl than i have some problem.
&gt; &gt; &gt;
&gt; &gt; &gt; Configuration for apache
&gt; &gt; &gt;
&gt; &gt; &gt; Alias / test-cgi / tmp / test-cgi
&gt; &gt; &gt; &lt;Directory / tmp / test-cgi &lt;
&gt; &gt; &gt; AddHandler perl-script. Pl
&gt; &gt; &gt; SetHandler perl-script
&gt; &gt; &gt; # PerlResponseHandler ModPerl:: Registry
&gt; &gt; &gt; PerlResponseHandler ModPerl:: PerlRun
&gt; &gt; &gt; PerlOptions + ParseHeaders
&gt; &gt; &gt; Options + ExecCGI
&gt; &gt; &gt; &lt;/ Directory &lt;
&gt; &gt; &gt;
&gt; &gt; &gt; This is test script
&gt; &gt; &gt;
&gt; &gt; &gt; #!/usr/bin/perl
&gt; &gt; &gt;
&gt; &gt; &gt; use strict;
&gt; &gt; &gt;  use DBI;
&gt; &gt; &gt;  my $dbh = DBI-&gt;connect&#40;&#34;dbi:SQLite:dbname=/tmp/sqlite.db&#34;,&#34;&#34;,&#34;&#34;,
&gt; &gt; &gt;                         {RaiseError =&gt; 1, PrintError =&gt; 1,
</div>&gt; &gt; AutoCommit =&gt; 1}&#41;;
<div class="message-stanza open">&gt; &gt; &gt;
&gt; &gt; &gt;  my $hash_ref = $dbh-&gt;selectall_hashref&#40;&#39;SELECT * FROM pob ORDER
</div></div>&gt; BY
<div class="message-stanza open">&gt; &gt; city,
<div class="message-stanza open">&gt; &gt; &gt; c_pob;&#39;,&#34;c_pob&#34;&#41;;
&gt; &gt; &gt;
&gt; &gt; &gt;  my %h_l = &#40;&#41;;
&gt; &gt; &gt;  while&#40;my&#40;$k, $d&#41; = each %$hash_ref&#41;    {
&gt; &gt; &gt;     my $str = substr&#40;$d-&gt;{&#39;city&#39;},0,1&#41;;
&gt; &gt; &gt;     if &#40;defined&#40;$str&#41;&#41;  {
&gt; &gt; &gt;         my $s = uc&#40;$str&#41;;
&gt; &gt; &gt;         if &#40;exists&#40;$h_l{$s}&#41;&#41;   {
&gt; &gt; &gt;             my $d = $h_l{$s};
&gt; &gt; &gt;             push&#40;@$d, $k&#41;;
&gt; &gt; &gt;         } else  {
&gt; &gt; &gt;             $h_l{$s} = [$k];
&gt; &gt; &gt;         }
&gt; &gt; &gt;         print $d-&gt;{&#39;city&#39;} . &#34;\n&#34;;
&gt; &gt; &gt;     }
&gt; &gt; &gt;  }
&gt; &gt; &gt;  $dbh-&gt;disconnect&#40;&#41;;
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; And there is eror in log httpd
&gt; &gt; &gt;
&gt; &gt; &gt; DBD::SQLite::db selectall_hashref failed: not an error at
</div></div>&gt; /tmp/test-
<div class="message-stanza open">&gt; &gt; cgi/test.pl
<div class="message-stanza open">&gt; &gt; &gt; line 11. [Wed Jul 15 23:14:08 2009] [error] DBD::SQLite::db
</div>&gt; &gt; selectall_hashref
<div class="message-stanza open">&gt; &gt; &gt; failed: not an error at /tmp/test-cgi/test.pl line 11.\n
&gt; &gt; &gt;
</div>&gt; &gt;
</div>&gt; ModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler
</div>&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line 204 eval {...} called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line 204
</div>&gt; &gt; ModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH&#40;0x8074ea00&#41;&#39;&#41;
<div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line 170
&gt; &gt; &gt;
</div>&gt; &gt;
</div>&gt; ModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH
</div>&#40;0x8074ea00&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/PerlRun.pm line
<div class="message-stanza open">&gt; &gt; &gt; 31 ModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &gt; &gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line 0 eval
</div>&gt; &gt; {...} called
<div class="message-stanza open">&gt; &gt; &gt; at -e line 0 [Wed Jul 15 23:02:39 2009] [error] DBD::SQLite::db
&gt; &gt; &gt; selectall_hashref failed: not an error at /tmp/test-cgi/test.pl
</div></div>&gt; line
<div class="message-stanza open">&gt; &gt; 33.\n at
<div class="message-stanza open">&gt; &gt; &gt; /tmp/test-cgi/test.pl line
&gt; &gt; &gt;
</div>&gt; &gt;
</div>&gt; 33\n\tModPerl::ROOT::ModPerl::PerlRun::tmp_test_cgi_test_2epl::handler
</div>&#40;&#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line 204\n\teval {...} called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line
</div>&gt; &gt;
</div>&gt; 204\n\tModPerl::RegistryCooker::run&#40;&#39;ModPerl::PerlRun=HASH
</div>&#40;0x8074ea00&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/RegistryCooker.pm
<div class="message-stanza open">&gt; &gt; &gt; line
&gt; &gt; &gt;
</div>&gt; &gt;
</div>&gt; 170\n\tModPerl::RegistryCooker::default_handler&#40;&#39;ModPerl::PerlRun=HASH
</div>&#40;0x8074ea00&#41;&#39;&#41;
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; called at
&gt; &gt; &gt; /usr/lib/perl5/vendor_perl/5.8.8/i386-linux-thread-
</div>&gt; &gt; multi/ModPerl/PerlRun.pm line
<div class="message-stanza open">&gt; &gt; &gt; 31\n\tModPerl::PerlRun::handler&#40;&#39;ModPerl::PerlRun&#39;,
&gt; &gt; &gt; &#39;Apache2::RequestRec=SCALAR&#40;0x802f4d84&#41;&#39;&#41; called at -e line
</div>&gt; &gt; 0\n\teval {...}
<div class="message-stanza open">&gt; &gt; &gt; called at -e line 0\n
&gt; &gt; &gt;
&gt; &gt; &gt;
</div></div>&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-833983" href="/Public/Bug/Display.html?id=47983#txn-833983">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;20&nbsp;22:10:19&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org - Ticket #47936:  Merged into ticket #47983</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-833984" href="/Public/Bug/Display.html?id=47983#txn-833984">#</a>      
    </span>
    <span class="date">Mon&nbsp;Sep&nbsp;20&nbsp;22:10:19&nbsp;2010</span>
    <span class="description">ishigaki [...] cpan.org -  Merged into ticket #47983</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-980126" href="/Public/Bug/Display.html?id=47983#txn-980126">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;21&nbsp;22:51:19&nbsp;2011</span>
    <span class="description">ishigaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/980126/510270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/510270">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 148b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing this ticket as DBD::SQLite 1.34_01 with a fix to this problem is 
out. If you still experience the same problem, please reopen this. Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-980129" href="/Public/Bug/Display.html?id=47983#txn-980129">#</a>      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;21&nbsp;22:51:20&nbsp;2011</span>
    <span class="description">ishigaki [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 1.033773</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
