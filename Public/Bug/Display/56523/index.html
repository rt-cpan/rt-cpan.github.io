<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #56523 for Mouse: has with reader, writer, lazy and builder cannot create a write-only accessor</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #56523 for Mouse: has with reader, writer, lazy and builder cannot create a write-only accessor</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Mouse">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Mouse">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Mouse">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Mouse">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="https://github.com/gfx/p5-Mouse/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Mouse">Mouse CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">56523</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Mouse">Mouse</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
mschwern [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-222466-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.53    </td>
  </tr>
  <tr id="CF-222467-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




mouse.patch<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/762092/394238/mouse.patch">
Mon Apr 12 10:55:05 2010 (1.4k) by mschwern [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=56523">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-762064" href="/Public/Bug/Display.html?id=56523#txn-762064">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;12&nbsp;10:29:49&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> has with reader, writer, lazy and builder cannot create a
 write-only accessor</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/762064/394218/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/394218">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The following code works in Moose and Mouse 0.52 but fails in 0.53.

    package Foo;

    use Mouse;

    has history =&gt; &#40;
      reader        =&gt; &#39;history&#39;,
      writer        =&gt; &#39;set_history&#39;,
      builder       =&gt; &#39;_build_history&#39;,
      lazy          =&gt; 1,
    &#41;;
    __END__
    syntax error at wo-accessor for history
&#40;lib/Mouse/Meta/Method/Accessor.pm&#41; line 5, near &#34;}
    elsif&#34;

This is the code which is generated:

package Foo;
#line 1 &#34;wo-accessor for history &#40;lib/Mouse/Meta/Method/Accessor.pm&#41;&#34;
sub {
if&#40;@_ &lt; 2&#41;{ Carp::confess&#40;&#34;Not enough arguments for the writer of
history&#34;&#41; }{
return $_[0]-&gt;{q{history}} = $_[1];
}
elsif&#40;!exists $_[0]-&gt;{q{history}}&#41;{
$_[0]-&gt;{q{history}} = $_[0]-&gt;$builder&#40;&#41;;
}
return $_[0]-&gt;{q{history}};
}

If you tidy that up it becomes clear:

package Foo;

#line 1 &#34;wo-accessor for history &#40;lib/Mouse/Meta/Method/Accessor.pm&#41;&#34;
sub {
    if&#40;@_ &lt; 2&#41;{ Carp::confess&#40;&#34;Not enough arguments for the writer of
history&#34;&#41; }

    {
        return $_[0]-&gt;{q{history}} = $_[1];
    }
    elsif&#40;!exists $_[0]-&gt;{q{history}}&#41;{
        $_[0]-&gt;{q{history}} = $_[0]-&gt;$builder&#40;&#41;;
    }
    return $_[0]-&gt;{q{history}};
}

I think it&#39;s incorrect for the builder code to exist in the wo-accessor.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-762082" href="/Public/Bug/Display.html?id=56523#txn-762082">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;12&nbsp;10:48:09&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/762082/394229/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/394229">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 66b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This appears to only be a problem in the pure Perl implementation.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-762084" href="/Public/Bug/Display.html?id=56523#txn-762084">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;12&nbsp;10:48:14&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-762092" href="/Public/Bug/Display.html?id=56523#txn-762092">#</a>      
    </span>
    <span class="date">Mon&nbsp;Apr&nbsp;12&nbsp;10:55:05&nbsp;2010</span>
    <span class="description">mschwern [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/762092/394237/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/394237">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 157b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Attached is a patch to fix it.  It simply doesn&#39;t put the builder code
into a write-only accessor.

I don&#39;t know why the change from 0.52 to 0.53 broke this.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> mouse.patch</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/762092/394238/mouse.patch">Download mouse.patch</a><br />
<span class="downloadcontenttype">text/x-diff 1.4k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">diff --git a/lib/Mouse/Meta/Method/Accessor.pm b/lib/Mouse/Meta/Method/Accessor.pm
index 670d721..f7f75cb 100755
--- a/lib/Mouse/Meta/Method/Accessor.pm
+++ b/lib/Mouse/Meta/Method/Accessor.pm
@@ -75,7 +75,7 @@ sub _generate_accessor_any{
         $class-&gt;throw_error&#40;&#34;Unknown accessor type &#39;$type&#39;&#34;&#41;;
     }
 
-    if &#40;$attribute-&gt;is_lazy&#41; {
+    if &#40;$attribute-&gt;is_lazy and $type ne &#39;wo&#39;&#41; {
         my $value;
 
         if &#40;defined $builder&#41;{
@@ -88,7 +88,7 @@ sub _generate_accessor_any{
             $value = &#39;$default&#39;;
         }
 
-        $accessor .= &#34;els&#34; if $type eq &#39;rw&#39; || $type eq &#39;wo&#39;;
+        $accessor .= &#34;els&#34; if $type eq &#39;rw&#39;;
         $accessor .= &#34;if&#40;!exists $slot&#41;{\n&#34;;
         if&#40;$should_coerce&#41;{
             $accessor .= &#34;$slot = \$constraint-&gt;coerce&#40;$value&#41;&#34;;
diff --git a/t/builder_writer.t b/t/builder_writer.t
new file mode 100644
index 0000000..0a417f5
--- /dev/null
+++ b/t/builder_writer.t
@@ -0,0 +1,37 @@
+#!/usr/bin/perl
+
+use Test::More;
+
+{
+    package Foo;
+
+    use Mouse;
+
+    has thing =&gt; &#40;
+        reader        =&gt; &#39;thing&#39;,
+        writer        =&gt; &#39;set_thing&#39;,
+        builder       =&gt; &#39;_build_thing&#39;,
+        lazy          =&gt; 1,
+    &#41;;
+
+    sub _build_thing {
+        42;
+    }
+}
+
+# Get them set
+{
+    my $obj = Foo-&gt;new;
+    is $obj-&gt;thing, 42;
+    $obj-&gt;set_thing&#40; 23 &#41;;
+    is $obj-&gt;thing, 23;
+}
+
+# Set then get
+{
+    my $obj = Foo-&gt;new;
+    $obj-&gt;set_thing&#40;23&#41;;
+    is $obj-&gt;thing, 23;
+}
+
+done_testing&#40;&#41;;
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-764527" href="/Public/Bug/Display.html?id=56523#txn-764527">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;17&nbsp;04:30:50&nbsp;2010</span>
    <span class="description">gfuji [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/764527/395568/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395568">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 408b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, Michael.

Thank you for your patch. I have released 0.54 with it.
I think it is not in 0.53, but in older versions. Anyway, tests
are included.

By the way, if you have distributions that use Mouse, please tell me
these name. Mouse has a set of tests for external modules which depend
on Mouse&#40;*&#41;. 

*
<span class="clickylink"><a target="new" rel="nofollow" href="http://cpansearch.perl.org/src/GFUJI/Mouse-0.53/t/800_with_external/002-externals.t">http://cpansearch.perl.org/src/GFUJI/Mouse-0.53/t/800_with_external/002-externals.t</a></span>

Regards,
----
gfx
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-764530" href="/Public/Bug/Display.html?id=56523#txn-764530">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;17&nbsp;04:30:53&nbsp;2010</span>
    <span class="description">gfuji [...] cpan.org -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-764578" href="/Public/Bug/Display.html?id=56523#txn-764578">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;17&nbsp;06:58:42&nbsp;2010</span>
    <span class="description">schwern [...] pobox.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #56523] has with reader, writer, lazy and builder cannot create a write-only accessor</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 17 Apr 2010 13:58:27 +0300</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Mouse [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Michael G Schwern &lt;schwern [...] pobox.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/764578/395597/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/395597">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Goro Fuji via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you for your patch. I have released 0.54 with it.
&gt; I think it is not in 0.53, but in older versions. Anyway, tests
&gt; are included.
</div>
Thanks!


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; By the way, if you have distributions that use Mouse, please tell me
&gt; these name. Mouse has a set of tests for external modules which depend
&gt; on Mouse&#40;*&#41;. 
</div>
Test::Builder2, which will eventually back Test::Builder, Test::More and 
pretty much every Test module, depends on Mouse, but it hasn&#39;t been released.
You can find it in this branch.
<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/schwern/test-more/tree/Test-Builder2">http://github.com/schwern/test-more/tree/Test-Builder2</a></span>

It uses its own copy of Mouse so as to not set up a circular dependency and to 
provide stability.  It copies blib/lib/Mouse into lib/Test/Builder2/Mouse and 
then replaces all instances of &#34;Mouse&#34; with &#34;Test::Builder2::Mouse&#34; or 
&#34;Test/Builder2/Mouse&#34; as appropriate.  So Test::Builder2 actually uses 
Test::Builder2::Mouse.  You can see the script it uses to do that 
transformation here:
<span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/schwern/test-more/blob/Test-Builder2/dist/eat_mouse">http://github.com/schwern/test-more/blob/Test-Builder2/dist/eat_mouse</a></span>

Advice on how to better use Mouse is always welcome.  rafl did some much 
needed overhauling last weekend.


-- 
7. Not allowed to add &#34;In accordance with the prophesy&#34; to the end of
    answers I give to a question an officer asks me.
     -- The 213 Things Skippy Is No Longer Allowed To Do In The U.S. Army
            <span class="clickylink"><a target="new" rel="nofollow" href="http://skippyslist.com/list/">http://skippyslist.com/list/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-764581" href="/Public/Bug/Display.html?id=56523#txn-764581">#</a>      
    </span>
    <span class="date">Sat&nbsp;Apr&nbsp;17&nbsp;06:58:44&nbsp;2010</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-769695" href="/Public/Bug/Display.html?id=56523#txn-769695">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;28&nbsp;22:29:46&nbsp;2010</span>
    <span class="description">gfuji [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/769695/398253/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/398253">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Apr 17 06:58:42 2010, schwern@pobox.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; By the way, if you have distributions that use Mouse, please tell me
&gt; &gt; these name. Mouse has a set of tests for external modules which
</div>&gt; depend
<div class="message-stanza open">&gt; &gt; on Mouse&#40;*&#41;.
</div>&gt; 
&gt; Test::Builder2, which will eventually back Test::Builder, Test::More
&gt; and
&gt; pretty much every Test module, depends on Mouse, but it hasn&#39;t been
&gt; released.
&gt; You can find it in this branch.
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/schwern/test-more/tree/Test-Builder2">http://github.com/schwern/test-more/tree/Test-Builder2</a></span>
</div>
Hmm, testing unreleased modules is difficult. Well, I&#39;ll think it later.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; It uses its own copy of Mouse so as to not set up a circular
&gt; dependency and to
&gt; provide stability.  It copies blib/lib/Mouse into
&gt; lib/Test/Builder2/Mouse and
&gt; then replaces all instances of &#34;Mouse&#34; with &#34;Test::Builder2::Mouse&#34; or
&gt; &#34;Test/Builder2/Mouse&#34; as appropriate.  So Test::Builder2 actually uses
&gt; Test::Builder2::Mouse.  You can see the script it uses to do that
&gt; transformation here:
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://github.com/schwern/test-more/blob/Test-Builder2/dist/eat_mouse">http://github.com/schwern/test-more/blob/Test-Builder2/dist/eat_mouse</a></span>
&gt; 
&gt; Advice on how to better use Mouse is always welcome.  rafl did some
&gt; much
&gt; needed overhauling last weekend.
</div>
Looks great. Mouse::Tiny is maintained for that purpose, which makes
embedding easier, possibly.

-- 
Goro Fuji &#40;gfx&#41; GFUJI at CPAN.org
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-769698" href="/Public/Bug/Display.html?id=56523#txn-769698">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;28&nbsp;22:29:47&nbsp;2010</span>
    <span class="description">gfuji [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.453975</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
