<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #38186 for DBIx-Class: Storage::DBI::ODBC cause DBI-&gt;connect&#40;&#41; to be called twice</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #38186 for DBIx-Class: Storage::DBI::ODBC cause DBI-&gt;connect&#40;&#41; to be called twice</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBIx-Class">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBIx-Class">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBIx-Class">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBIx-Class">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBIx-Class">DBIx-Class CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">38186</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBIx-Class">DBIx-Class</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
oystein.torget [...] dnv.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-10410-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.08009    </td>
  </tr>
  <tr id="CF-10411-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




after.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/493360/244066/after.txt">
Tue Aug 05 08:20:26 2008 (2.5k) by oystein.torget [...] dnv.com
</a>
</font></li>
</ul>


before.txt<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/493360/244069/before.txt">
Tue Aug 05 08:20:26 2008 (4.8k) by oystein.torget [...] dnv.com
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=38186">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-493360" href="/Public/Bug/Display.html?id=38186#txn-493360">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;05&nbsp;08:20:26&nbsp;2008</span>
    <span class="description">oystein.torget [...] dnv.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Storage::DBI::ODBC cause DBI-&gt;connect&#40;&#41; to be called twice</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/493360/244063/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/244063">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 889b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">DBIx::Class::Storage::DBI::ODBC causes DBI-&gt;connect&#40;&#41; to be called 
twice each time you connect to the schema. This causes problems when 
using MS Access since locks on the database are not released correctly, 
even when the perl process is finished.

The problem seems to that DBIx::Class::Storage::DBI::ODBC _rebless&#40;&#41; 
calls $self-&gt;dbh&#40;&#41; which causes the second DBI-&gt;connect&#40;&#41; call. 
Replacing $self-&gt;dbh&#40;&#41; with $self-&gt;_dbh in _rebless&#40;&#41; fixes the problem.

It seems that is will also be possible to fix this be setting $self-
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;_conn_pid and $self-&gt;_conn_tid before the call to _rebless&#40;&#41;, but I 
</div>have not tried that approach.

I have attached two files with trace information. It contains both the 
DBI trace and a call trace for DBIx::Class::Storage::DBI. before.txt 
contains the trace with $self-&gt;dbh&#40;&#41; in _rebless&#40;&#41;. after.txt contains 
the trace with $self-&gt;_dbh&#40;&#41; in _rebless&#40;&#41;
</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> after.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/493360/244066/after.txt">Download after.txt</a><br />
<span class="downloadcontenttype">text/plain 2.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#Trace from DBI.
    DBI 1.50-ithread default trace level set to 0x0/1 &#40;pid 2376&#41;
    -&gt; DBI-&gt;connect&#40;DBI:ODBC:driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb, , ****, HASH&#40;0x215fe50&#41;&#41;
    -&gt; DBI-&gt;install_driver&#40;ODBC&#41; for MSWin32 perl=5.008007 pid=2376 ruid=0 euid=0
       install_driver: DBD::ODBC version 1.10 loaded from C:/Perl/site/lib/DBD/ODBC.pm
    &lt;- install_driver= DBI::dr=HASH&#40;0x1d83568&#41;
    &lt;- default_user&#40;undef undef ...&#41;= &#40; undef undef &#41; [2 items] at DBI.pm line 599
    &lt;- connect&#40;&#39;driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb&#39; undef ...&#41;= DBI::db=HASH&#40;0x21b64b8&#41; at DBI.pm line 617
    &lt;- STORE&#40;&#39;PrintError&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;AutoCommit&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;LongReadLen&#39; 8000&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;LongReadLen&#39;&#41;= 8000 &#40;&#39;LongReadLen&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;Username&#39; undef&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;Username&#39;&#41;= undef &#40;&#39;Username&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;LongTruncOk&#39; 1&#41;= 1 at DBI.pm line 667
    &lt;- FETCH&#40;&#39;LongTruncOk&#39;&#41;= 1 at DBI.pm line 667
    &lt;- connect= DBI::db=HASH&#40;0x21b64b8&#41;
    &lt;- STORE&#40;&#39;dbi_connect_closure&#39; CODE&#40;0x21b635c&#41;&#41;= 1 at DBI.pm line 683
    &lt;- STORE&#40;&#39;HandleError&#39; CODE&#40;0x21b69a4&#41;&#41;= 1 at DBI.pm line 847
    &lt;- STORE&#40;&#39;ShowErrorStatement&#39; 1&#41;= 1 at DBI.pm line 848
    &lt;- STORE&#40;&#39;RaiseError&#39; 1&#41;= 1 at DBI.pm line 849
    &lt;- STORE&#40;&#39;PrintError&#39; 0&#41;= 1 at DBI.pm line 850
    &lt;- FETCH&#40;&#39;AutoCommit&#39;&#41;= 1 at Grouped.pm line 267
    &lt;- FETCH&#40;&#39;Driver&#39;&#41;= DBI::dr=HASH&#40;0x1d83568&#41; at DBI.pm line 776
    &lt;&gt; FETCH&#40;&#39;Name&#39;&#41;= &#39;ODBC&#39; &#40;&#39;Name&#39; from cache&#41; at DBI.pm line 776
    &lt;- get_info&#40;17&#41;= &#39;ACCESS&#39; at ODBC.pm line 11
    &lt;- DESTROY&#40;DBI::db=HASH&#40;21b6758&#41;&#41;= undef
    &lt;- disconnect_all= &#39;&#39; at DBI.pm line 692
!   &lt;- DESTROY&#40;DBI::dr=HASH&#40;1d83568&#41;&#41;= undef during global destruction

#DBIx::Class::Storage::DBI trace created with Devel::TraceCalls
DBIx::Class::Storage::DBI::ensure_connected
  DBIx::Class::Storage::DBI::connected
    DBIx::Class::Storage::DBI::_dbh
  DBIx::Class::Storage::DBI::_populate_dbh
    DBIx::Class::Storage::DBI::_dbi_connect_info
    DBIx::Class::Storage::DBI::_connect
      DBIx::Class::Storage::DBI::unsafe
      DBIx::Class::Storage::DBI::weaken
      DBIx::Class::Storage::DBI::_dbh_autocommit
    DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::_dbh_autocommit
    DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::on_connect_do
    DBIx::Class::Storage::DBI::_conn_pid</div></div>
</div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> before.txt</td>
  </tr>
</table>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/493360/244069/before.txt">Download before.txt</a><br />
<span class="downloadcontenttype">text/plain 4.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#Trace from DBI.
    DBI 1.50-ithread default trace level set to 0x0/1 &#40;pid 2276&#41;
    -&gt; DBI-&gt;connect&#40;DBI:ODBC:driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb, , ****, HASH&#40;0x215fe50&#41;&#41;
    -&gt; DBI-&gt;install_driver&#40;ODBC&#41; for MSWin32 perl=5.008007 pid=2276 ruid=0 euid=0
       install_driver: DBD::ODBC version 1.10 loaded from C:/Perl/site/lib/DBD/ODBC.pm
    &lt;- install_driver= DBI::dr=HASH&#40;0x1d83568&#41;
    &lt;- default_user&#40;undef undef ...&#41;= &#40; undef undef &#41; [2 items] at DBI.pm line 599
    &lt;- connect&#40;&#39;driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb&#39; undef ...&#41;= DBI::db=HASH&#40;0x21b64b8&#41; at DBI.pm line 617
    &lt;- STORE&#40;&#39;PrintError&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;AutoCommit&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;LongReadLen&#39; 8000&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;LongReadLen&#39;&#41;= 8000 &#40;&#39;LongReadLen&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;Username&#39; undef&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;Username&#39;&#41;= undef &#40;&#39;Username&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;LongTruncOk&#39; 1&#41;= 1 at DBI.pm line 667
    &lt;- FETCH&#40;&#39;LongTruncOk&#39;&#41;= 1 at DBI.pm line 667
    &lt;- connect= DBI::db=HASH&#40;0x21b64b8&#41;
    &lt;- STORE&#40;&#39;dbi_connect_closure&#39; CODE&#40;0x21b635c&#41;&#41;= 1 at DBI.pm line 683
    &lt;- STORE&#40;&#39;HandleError&#39; CODE&#40;0x21b69a4&#41;&#41;= 1 at DBI.pm line 847
    &lt;- STORE&#40;&#39;ShowErrorStatement&#39; 1&#41;= 1 at DBI.pm line 848
    &lt;- STORE&#40;&#39;RaiseError&#39; 1&#41;= 1 at DBI.pm line 849
    &lt;- STORE&#40;&#39;PrintError&#39; 0&#41;= 1 at DBI.pm line 850
    &lt;- FETCH&#40;&#39;AutoCommit&#39;&#41;= 1 at Grouped.pm line 267
    &lt;- FETCH&#40;&#39;Driver&#39;&#41;= DBI::dr=HASH&#40;0x1d83568&#41; at DBI.pm line 776
    &lt;&gt; FETCH&#40;&#39;Name&#39;&#41;= &#39;ODBC&#39; &#40;&#39;Name&#39; from cache&#41; at DBI.pm line 776
    &lt;- STORE&#40;&#39;InactiveDestroy&#39; 1&#41;= 1 at DBI.pm line 723
    -&gt; DBI-&gt;connect&#40;DBI:ODBC:driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb, , ****, HASH&#40;0x215fe50&#41;&#41;
    &lt;- default_user&#40;undef undef ...&#41;= &#40; undef undef &#41; [2 items] at DBI.pm line 599
    &lt;- connect&#40;&#39;driver={Microsoft Access Driver &#40;*.mdb&#41;};dbq=C:/Data/Development/Erm3x/Develop/Tests/ESM/empty.mdb&#39; undef ...&#41;= DBI::db=HASH&#40;0x21b68e4&#41; at DBI.pm line 617
    &lt;- STORE&#40;&#39;PrintError&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;AutoCommit&#39; 1&#41;= 1 at DBI.pm line 664
    &lt;- STORE&#40;&#39;LongReadLen&#39; 8000&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;LongReadLen&#39;&#41;= 8000 &#40;&#39;LongReadLen&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;Username&#39; undef&#41;= 1 at DBI.pm line 667
    &lt;&gt; FETCH&#40;&#39;Username&#39;&#41;= undef &#40;&#39;Username&#39; from cache&#41; at DBI.pm line 667
    &lt;- STORE&#40;&#39;LongTruncOk&#39; 1&#41;= 1 at DBI.pm line 667
    &lt;- FETCH&#40;&#39;LongTruncOk&#39;&#41;= 1 at DBI.pm line 667
    &lt;- connect= DBI::db=HASH&#40;0x21b68e4&#41;
    &lt;- STORE&#40;&#39;dbi_connect_closure&#39; CODE&#40;0x21c2d98&#41;&#41;= 1 at DBI.pm line 683
    &lt;- STORE&#40;&#39;HandleError&#39; CODE&#40;0x21c3278&#41;&#41;= 1 at DBI.pm line 847
    &lt;- STORE&#40;&#39;ShowErrorStatement&#39; 1&#41;= 1 at DBI.pm line 848
    &lt;- STORE&#40;&#39;RaiseError&#39; 1&#41;= 1 at DBI.pm line 849
    &lt;- STORE&#40;&#39;PrintError&#39; 0&#41;= 1 at DBI.pm line 850
    &lt;- FETCH&#40;&#39;AutoCommit&#39;&#41;= 1 at Grouped.pm line 267
    &lt;- DESTROY&#40;DBI::db=HASH&#40;21b6758&#41;&#41;= undef at DBI.pm line 748
    &lt;- get_info&#40;17&#41;= &#39;ACCESS&#39; at ODBC.pm line 11
    &lt;- DESTROY&#40;DBI::db=HASH&#40;21c30d4&#41;&#41;= undef
    &lt;- disconnect_all= &#39;&#39; at DBI.pm line 692
!   &lt;- DESTROY&#40;DBI::dr=HASH&#40;1d83568&#41;&#41;= undef during global destruction

#DBIx::Class::Storage::DBI trace created with Devel::TraceCalls

DBIx::Class::Storage::DBI::ensure_connected
  DBIx::Class::Storage::DBI::connected
    DBIx::Class::Storage::DBI::_dbh
  DBIx::Class::Storage::DBI::_populate_dbh
    DBIx::Class::Storage::DBI::_dbi_connect_info
    DBIx::Class::Storage::DBI::_connect
      DBIx::Class::Storage::DBI::unsafe
      DBIx::Class::Storage::DBI::weaken
      DBIx::Class::Storage::DBI::_dbh_autocommit
    DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::_dbh_autocommit
    DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::dbh
      DBIx::Class::Storage::DBI::ensure_connected
        DBIx::Class::Storage::DBI::connected
          DBIx::Class::Storage::DBI::_dbh
          DBIx::Class::Storage::DBI::_conn_tid
          DBIx::Class::Storage::DBI::_verify_pid
            DBIx::Class::Storage::DBI::_conn_pid
            DBIx::Class::Storage::DBI::_dbh
            DBIx::Class::Storage::DBI::_dbh
          DBIx::Class::Storage::DBI::_dbh
        DBIx::Class::Storage::DBI::_populate_dbh
          DBIx::Class::Storage::DBI::_dbi_connect_info
          DBIx::Class::Storage::DBI::_connect
            DBIx::Class::Storage::DBI::unsafe
            DBIx::Class::Storage::DBI::weaken
            DBIx::Class::Storage::DBI::_dbh_autocommit
          DBIx::Class::Storage::DBI::_dbh
          DBIx::Class::Storage::DBI::_dbh_autocommit
          DBIx::Class::Storage::DBI::on_connect_do
          DBIx::Class::Storage::DBI::_conn_pid
      DBIx::Class::Storage::DBI::_dbh
    DBIx::Class::Storage::DBI::on_connect_do
    DBIx::Class::Storage::DBI::_conn_pid</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-495081" href="/Public/Bug/Display.html?id=38186#txn-495081">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;07&nbsp;21:43:43&nbsp;2008</span>
    <span class="description">mst [...] shadowcat.co.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #38186] Storage::DBI::ODBC cause DBI-&gt;connect&#40;&#41; to be called twice</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 8 Aug 2008 02:43:18 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> oyse via RT &lt;bug-DBIx-Class [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Matt S Trout &lt;mst [...] shadowcat.co.uk&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/495081/245060/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/245060">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 419b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Could you please discuss this on the dbix-class list since I&#39;m not familiar
with the ODBC storage module

-- 
      Matt S Trout       Need help with your Catalyst or DBIx::Class project?
   Technical Director                    <span class="clickylink"><a target="new" rel="nofollow" href="http://www.shadowcat.co.uk/catalyst/">http://www.shadowcat.co.uk/catalyst/</a></span>
 Shadowcat Systems Ltd.  Want a managed development or deployment platform?
<span class="clickylink"><a target="new" rel="nofollow" href="http://chainsawblues.vox.com/">http://chainsawblues.vox.com/</a></span>            <span class="clickylink"><a target="new" rel="nofollow" href="http://www.shadowcat.co.uk/servers/">http://www.shadowcat.co.uk/servers/</a></span>
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-495082" href="/Public/Bug/Display.html?id=38186#txn-495082">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;07&nbsp;21:43:45&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-518827" href="/Public/Bug/Display.html?id=38186#txn-518827">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;12&nbsp;18:10:56&nbsp;2008</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/518827/258963/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/258963">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 114b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This seems to have been fixed by
<span class="clickylink"><a target="new" rel="nofollow" href="http://dev.catalyst.perl.org/svnweb/bast/revision/?rev=4750">http://dev.catalyst.perl.org/svnweb/bast/revision/?rev=4750</a></span>. Can someone
confirm?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-527796" href="/Public/Bug/Display.html?id=38186#txn-527796">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;07:43:04&nbsp;2008</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/527796/264123/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/264123">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 335b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Closing tickets
<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=38186">http://rt.cpan.org/Ticket/Display.html?id=38186</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=35942">http://rt.cpan.org/Ticket/Display.html?id=35942</a></span>
<span class="clickylink"><a target="new" rel="nofollow" href="http://rt.cpan.org/Ticket/Display.html?id=32654">http://rt.cpan.org/Ticket/Display.html?id=32654</a></span>

as they all seem to be resolved by
<span class="clickylink"><a target="new" rel="nofollow" href="http://dev.catalyst.perl.org/svnweb/bast/revision/?rev=4750">http://dev.catalyst.perl.org/svnweb/bast/revision/?rev=4750</a></span>. Please test
against latest dev release to confirm the problem is take care of.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-527799" href="/Public/Bug/Display.html?id=38186#txn-527799">#</a>      
    </span>
    <span class="date">Sun&nbsp;Nov&nbsp;02&nbsp;07:43:07&nbsp;2008</span>
    <span class="description">ribasushi [...] leporine.io -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.401661</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
