<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #4632 for GDGraph: Bug with 3d pie graph not filling lower arc</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #4632 for GDGraph: Bug with 3d pie graph not filling lower arc</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=GDGraph">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=GDGraph">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=GDGraph">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=GDGraph">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/GDGraph">GDGraph CPAN distribution</a>.</p>


<h3>Maintainer&#40;s&#41;&#39; notes</h3>

<p>There are plenty of good ideas of what people can do published here on the queue. Turning a patch from the tracker into a pull request is not one of them. In order to get maintainers' attention way more quickier, PR should have at least a sample included. We know it's hard to test images generating software, but it doesn't mean we can not test numbers produced by intermediate algorithms used to generate these images, so either a test or a sample.</p>



<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">4632</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">30 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=GDGraph">GDGraph</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">bwarfield [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dan [...] jprix.cz

<br />
earlej [...] hotmail.com

<br />
scassidy [...] overlandstorage.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-14346-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.43    </td>
  </tr>
  <tr id="CF-14347-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.4307    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




test_graph_pie.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/124476/31437/test_graph_pie.pl">
Wed Feb 16 12:54:50 2005 (2.2k) by 
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=4632">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93360" href="/Public/Bug/Display.html?id=4632#txn-93360">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;10&nbsp;17:04:51&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug with pie graph</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/93360/14298/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/14298">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 132b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Change the first value in sample91.pl to 22 - the graph displays fine.  Change it to 23 and the highlight at the bottom disappears.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-95734" href="/Public/Bug/Display.html?id=4632#txn-95734">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jan&nbsp;18&nbsp;16:23:56&nbsp;2004</span>
    <span class="description">Guest - Ticket #4970:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Bug with 3d pie graph not filling lower arc</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/95734/15220/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/15220">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 875b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">First of all allow me to thank you for all the work you must have put into creating this package.
It is very helpfull.
Now to the bug.
It occurs if a 3d pie has one of the slices very big. So big that it covers the whole front arc. In that case the front &#34;3d&#34; arc doesn&#39;t get filled by any color. The following patch should i believe fix it. It&#39;s a diff of the  pie.pm file.


384c384,395
&lt;             return;
---
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;           # but it might happen that they wrap all the way around
&gt;           # the front back to the back in which case we need to fill
&gt;             # the whole front part
&gt;           # Rawel
&gt;               
&gt;           if&#40;$pa &gt; $pb&#41;{
&gt;               $pa=$ANGLE_OFFSET - 180;
&gt;               $pb=$ANGLE_OFFSET;
&gt;               }
&gt;           else{
&gt;               return;
&gt;               }
</div>
Thank you again for all the work,
        Yours sincerely Dan Rosendorf
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-95735" href="/Public/Bug/Display.html?id=4632#txn-95735">#</a>      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;29&nbsp;10:13:41&nbsp;2004</span>
    <span class="description">Guest - Ticket #4970:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> kedlubnowski</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/95735/18632/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/18632">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 745b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Sun Jan 18 16:23:56 2004]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 384c384,395
&gt; &lt;             return;
&gt; ---
<div class="message-stanza open">&gt; &gt;           # but it might happen that they wrap all the way around
&gt; &gt;           # the front back to the back in which case we need to fill
&gt; &gt;             # the whole front part
&gt; &gt;           # Rawel
&gt; &gt;
&gt; &gt;           if&#40;$pa &gt; $pb&#41;{
</div></div>^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
This condition isn&#39;t enough. The following code covers all cases.

if &#40;&#40;$pa &gt; 90 and $pb &gt; 90 and $pa &gt;= $pb&#41;
     or &#40;$pa &lt; -90 and $pb &lt; -90 and $pa &gt;= $pb&#41;
     or &#40;$pa &lt; -90 and $pb &gt; 90&#41;&#41; {

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &gt;               $pa=$ANGLE_OFFSET - 180;
&gt; &gt;               $pb=$ANGLE_OFFSET;
&gt; &gt;               }
&gt; &gt;           else{
&gt; &gt;               return;
&gt; &gt;               
</div>

Hope this will help.
kedlubnowski
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Create even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-124476" href="/Public/Bug/Display.html?id=4632#txn-124476">#</a>      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;16&nbsp;12:54:50&nbsp;2005</span>
    <span class="description">Guest - Ticket #11527:  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> question about odd behaviour of pie chart from GD::Graph</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/124476/31436/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/31436">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,
I am seeing an odd behaviour in drawing pie charts using GD::Graph 1.43, &#40; using perl 5.8.6, GD 2.19, gd 2.0.33, libpng 1.2.8, zlib 1.1.3&#41;.

When drawing 3d pie charts  &#40;output in png format&#41;, most of the time the 3d area is colored the same as the second slice &#40;first value in the data array&#41;.  When the first data value is below a certain value, the 3d area remains white.  It seems to be related to the relative percentage of the 2 slices. &#40;Sometimes I use a 3rd data value, and sometimes see the same behaviour&#41;.

Specifically, if my data values are like this:
my @piedata1=&#40;
    [&#34;Run&#34;,&#34;Not Run&#34; ],
    [    126,    1177],
&#41;;
# if the first value is lower than 127, it gives a white 3d area; otherwise it is colored like the larger slice
# for this example
# 127 works, 126 and lower does not

depending on the values, the 3d area is colored, or not.


I am attaching my little test program.  It was based on some of the sample programs from the distribution.  I have tried a bunch of things, and if I am doing something wrong, I cannot figure out what it is.

Can you please tell me if this is a bug, or something I am doing wrong?

Thanks,
Susan Cassidy 
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/124476/31437/test_graph_pie.pl">Download test_graph_pie.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/local/bin/perl

use GD::Graph::pie;
use GD::Graph::colour qw&#40;:colours :lists :files :convert&#41;;


#label array, then data points
my @piedata1=&#40;
    [&#34;Run&#34;,&#34;Not Run&#34; ],
    [    126,    1177],
&#41;;
# if the first value is lower than 127, it gives a white 3d area; otherwise it is colored like the larger slice
# for this example
# 127 works, 126 and lower does not

my $filename=&#39;/var/www/html/pie&#39;;
draw_pie_chart&#40;{&#39;filename&#39;=&gt; $filename,  &#39;title_txt&#39; =&gt; &#39;Tests Run&#39;,
   &#39;label_txt&#39;=&gt; &#39;Numbers of tests instances&#39;, &#39;data&#39;=&gt; \@piedata1}&#41;;
print &#34;file is in $filename\n&#34;;


sub draw_pie_chart {

  my &#40;$param_ref&#41;=@_;
  #the filename will have .png appended to it
  my $filename=$param_ref-&gt;{&#39;filename&#39;};
  my $title_txt=$param_ref-&gt;{&#39;title_txt&#39;};
  my $label_txt=$param_ref-&gt;{&#39;label_txt&#39;};
  my $width=$param_ref-&gt;{&#39;width&#39;} || 250;
  my $height=$param_ref-&gt;{&#39;height&#39;} || 200;
  my @data=@{$param_ref-&gt;{&#39;data&#39;}};

  add_colour&#40;ov_dark_green =&gt; [  hex2rgb&#40;&#39;#008080&#39;&#41; ]&#41;;
  add_colour&#40;ov_med_teal =&gt; [  hex2rgb&#40;&#39;#33cccc&#39;&#41; ]&#41;;
  add_colour&#40;ov_lt_purple =&gt; [  hex2rgb&#40;&#39;#e9d5f0&#39;&#41; ]&#41;;

  my $default_color_list=[ qw&#40;ov_med_teal ov_lt_purple red marine cyan green lblue pink gold lpurple&#41; ] ;
  my $color_list=$param_ref-&gt;{&#39;color_list&#39;} || $default_color_list;

  errexit&#40;&#34;draw_pie_chart: no filename specified&#34;&#41; unless &#40;$filename&#41;;
  errexit&#40;&#34;draw_pie_chart: no data specified&#34;&#41; unless &#40;&#40;scalar @data&#41; &gt; 0&#41;;

  my $my_graph = new GD::Graph::pie&#40; $width, $height &#41;;


  #my $color_list= [ qw&#40;ov_med_teal ov_lt_purple red&#41; ] ;
  #$my_graph-&gt;set&#40; dclrs =&gt; [ qw&#40;ov_med_teal ov_lt_purple red&#41; ] &#41;;

  $my_graph-&gt;set&#40; dclrs =&gt;  $color_list &#41;;
  $my_graph-&gt;set_text_clr&#40;&#39;black&#39;&#41;;
  $my_graph-&gt;set&#40;
       title =&gt; ${title_txt},
       label =&gt; ${label_txt},
       axislabelclr =&gt; &#39;black&#39;,
       &#39;3d&#39; =&gt; 1,
       #pie_height =&gt; 36,  #orig height
       pie_height =&gt; 30,

       l_margin =&gt; 15,
       r_margin =&gt; 15,

       start_angle =&gt; 235,

       transparent =&gt; 0,
  &#41;;

  $my_graph-&gt;plot&#40;\@data&#41;;
  open&#40;PNGFILE, &#34;&gt;${filename}.png&#34;&#41; or errexit&#40;&#34;Cannot open ${filename}.png for write: $!&#34;&#41;;
  binmode PNGFILE;
  print PNGFILE $my_graph-&gt;gd-&gt;png&#40;&#41;;
  close PNGFILE;
  chmod 0774, &#34;${filename}.png&#34;;

} # end sub draw_pie_chart


sub errexit {
  my &#40;@msg&#41;=@_;
  print STDERR @msg,&#34;\n&#34;;
  exit 1;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164125" href="/Public/Bug/Display.html?id=4632#txn-164125">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:02:41&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #11527:  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164126" href="/Public/Bug/Display.html?id=4632#txn-164126">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:02:44&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #11527:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164160" href="/Public/Bug/Display.html?id=4632#txn-164160">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:13:51&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #4970:  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164161" href="/Public/Bug/Display.html?id=4632#txn-164161">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:13:56&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #4970:  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164170" href="/Public/Bug/Display.html?id=4632#txn-164170">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:15:26&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164171" href="/Public/Bug/Display.html?id=4632#txn-164171">#</a>      
    </span>
    <span class="date">Sat&nbsp;Feb&nbsp;11&nbsp;19:15:29&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164199" href="/Public/Bug/Display.html?id=4632#txn-164199">#</a>      
    </span>
    <span class="date">Sun&nbsp;Feb&nbsp;12&nbsp;02:57:11&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Severity Normal added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164627" href="/Public/Bug/Display.html?id=4632#txn-164627">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;13&nbsp;23:35:43&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #4970:  Merged into ticket #4632</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164628" href="/Public/Bug/Display.html?id=4632#txn-164628">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;13&nbsp;23:35:43&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Merged into ticket #4632</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164629" href="/Public/Bug/Display.html?id=4632#txn-164629">#</a>      
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;13&nbsp;23:36:39&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Subject changed from &#39;Bug with pie graph&#39; to &#39;Bug with 3d pie graph not filling lower arc&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164630" href="/Public/Bug/Display.html?id=4632#txn-164630">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;14&nbsp;00:13:49&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">30 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/164630/52388/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/52388">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 44b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Patch included in the next release.  Thanks!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164633" href="/Public/Bug/Display.html?id=4632#txn-164633">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;14&nbsp;00:13:50&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164635" href="/Public/Bug/Display.html?id=4632#txn-164635">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;14&nbsp;00:24:19&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #11527:  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/164635/52392/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/52392">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It was a bug, and you weren&#39;t doing anything wrong--this will be fixed in the next release 
&#40;probably 1.4307&#41;.  Probably a bit late to matter to you, I realize, but at least it won&#39;t happen 
to the next person with similar data.

On Wed Feb 16 12:54:50 2005, guest wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; I am seeing an odd behaviour in drawing pie charts using GD::Graph
&gt;    1.43, &#40; using perl 5.8.6, GD 2.19, gd 2.0.33, libpng 1.2.8, zlib
&gt;    1.1.3&#41;.
&gt; 
&gt; When drawing 3d pie charts  &#40;output in png format&#41;, most of the time
&gt;    the 3d area is colored the same as the second slice &#40;first value in
&gt;    the data array&#41;.  When the first data value is below a certain
&gt;    value, the 3d area remains white.  It seems to be related to the
&gt;    relative percentage of the 2 slices. &#40;Sometimes I use a 3rd data
&gt;    value, and sometimes see the same behaviour&#41;.
&gt; 
&gt; Specifically, if my data values are like this:
&gt; my @piedata1=&#40;
&gt;     [&#34;Run&#34;,&#34;Not Run&#34; ],
&gt;     [    126,    1177],
&gt; &#41;;
&gt; # if the first value is lower than 127, it gives a white 3d area;
&gt;    otherwise it is colored like the larger slice
&gt; # for this example
&gt; # 127 works, 126 and lower does not
&gt; 
&gt; depending on the values, the 3d area is colored, or not.
&gt; 
&gt; 
&gt; I am attaching my little test program.  It was based on some of the
&gt;    sample programs from the distribution.  I have tried a bunch of
&gt;    things, and if I am doing something wrong, I cannot figure out what
&gt;    it is.
&gt; 
&gt; Can you please tell me if this is a bug, or something I am doing
&gt;    wrong?
&gt; 
&gt; Thanks,
&gt; Susan Cassidy
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164639" href="/Public/Bug/Display.html?id=4632#txn-164639">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;14&nbsp;00:24:36&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org - Ticket #11527:  Merged into ticket #4632</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-164640" href="/Public/Bug/Display.html?id=4632#txn-164640">#</a>      
    </span>
    <span class="date">Tue&nbsp;Feb&nbsp;14&nbsp;00:24:36&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Merged into ticket #4632</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-166668" href="/Public/Bug/Display.html?id=4632#txn-166668">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Mon&nbsp;Feb&nbsp;20&nbsp;13:58:42&nbsp;2006</span>
    <span class="description">bwarfield [...] cpan.org -  Fixed in 1.4307 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.64286</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
