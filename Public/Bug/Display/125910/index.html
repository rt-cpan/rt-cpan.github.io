<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #125910 for Business-CreditCard: Diners club cards no longer recognized.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #125910 for Business-CreditCard: Diners club cards no longer recognized.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Business-CreditCard/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Business-CreditCard/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Business-CreditCard/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Business-CreditCard/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Business-CreditCard">Business-CreditCard CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">125910</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">rejected</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Business-CreditCard/Active/">Business-CreditCard</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
Dan [...] DWright.Org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-4542-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-4543-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;11:20:55&nbsp;2018</span>
    <span class="description">Dan [...] DWright.Org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Diners club cards no longer recognized.</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hello, 

In version 0.31 of Business::CreditCard, cards beginning in 3056 we re-categorized from Diners Club to Discover Cards.

However, somewhere between version 0.34 and 0.36, they were re-categorized again from Discover to &#34;Unknown&#34;.    

The POD still states  &#34;Versions before 0.31 may also have returned &#34;Diner&#39;s Club/Carte Blanche&#34; &#40;these cards are now recognized as &#34;Discover card&#34;&#41;.&#34;    And I couldn&#39;t find anything in the Changelog that suggests that this was an intentional change.    So, I assume this was an oversight?

Thanks,
-Dan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;17:28:46&nbsp;2018</span>
    <span class="description">ivan-pause [...] 420.am -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 23 11:20:55 2018, DWRIGHT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hello,
&gt; 
&gt; In version 0.31 of Business::CreditCard, cards beginning in 3056 we
&gt; re-categorized from Diners Club to Discover Cards.
&gt; 
&gt; However, somewhere between version 0.34 and 0.36, they were re-
&gt; categorized again from Discover to &#34;Unknown&#34;.
</div>
That is incorrect.  Cards beginning in 3056 with 16-19 digits are recognized correctly.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The POD still states  &#34;Versions before 0.31 may also have returned
&gt; &#34;Diner&#39;s Club/Carte Blanche&#34; &#40;these cards are now recognized as
&gt; &#34;Discover card&#34;&#41;.&#34;    And I couldn&#39;t find anything in the Changelog
&gt; that suggests that this was an intentional change.
</div>
0.34  Fri Feb  5 07:24:00 PST 2016
        - 14 digit Discover remain only in 36*


Ivan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;17:28:47&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;23&nbsp;17:28:47&nbsp;2018</span>
    <span class="description">ivan-pause [...] 420.am -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;24&nbsp;12:56:10&nbsp;2018</span>
    <span class="description">Dan [...] DWright.Org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jul 23 17:28:46 2018, IVAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Jul 23 11:20:55 2018, DWRIGHT wrote:
<div class="message-stanza open">&gt; &gt; Hello,
&gt; &gt;
&gt; &gt; In version 0.31 of Business::CreditCard, cards beginning in 3056 we
&gt; &gt; re-categorized from Diners Club to Discover Cards.
&gt; &gt;
&gt; &gt; However, somewhere between version 0.34 and 0.36, they were re-
&gt; &gt; categorized again from Discover to &#34;Unknown&#34;.
</div>&gt; 
&gt; That is incorrect.  Cards beginning in 3056 with 16-19 digits are
&gt; recognized correctly.
</div>
Perhaps.  However, Diner&#39;s Club cards only have 14 digits.

For example, Stripe presently recommends testing Diner&#39;s Club with the following number:   &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://stripe.com/docs/testing#cards&#41;">https://stripe.com/docs/testing#cards&#41;</a></span>

30569309025904

This is the output with v0.33:

perl -MBusiness::CreditCard -e &#39; print cardtype&#40;&#34;30569309025904&#34;&#41;&#39;
Discover card

And here is the output with v0.36:

perl -MBusiness::CreditCard -e &#39; print cardtype&#40;&#34;30569309025904&#34;&#41;&#39;
Unknown

The behavior has changed in a way that is inconsistent with the POD.
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; The POD still states  &#34;Versions before 0.31 may also have returned
&gt; &gt; &#34;Diner&#39;s Club/Carte Blanche&#34; &#40;these cards are now recognized as
&gt; &gt; &#34;Discover card&#34;&#41;.&#34;    And I couldn&#39;t find anything in the Changelog
&gt; &gt; that suggests that this was an intentional change.
</div>&gt; 
&gt; 0.34  Fri Feb  5 07:24:00 PST 2016
&gt;         - 14 digit Discover remain only in 36*
</div>
This ticket isn&#39;t about Discover cards, it&#39;s about Diner&#39;s Club cards.  14 digit Diner&#39;s club cards are still valid &#40;as evidenced by the fact that Stripe.com still recommends testing them.&#41;    And even if they were not still valid, I suggest there are use cases where it may be necessary to evaluate the card type of an expired card.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;24&nbsp;12:56:12&nbsp;2018</span>
    <span class="description">Dan [...] DWright.Org -  Status changed from &#39;rejected&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;24&nbsp;13:24:05&nbsp;2018</span>
    <span class="description">ivan-pause [...] 420.am -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jul 24 12:56:10 2018, DWRIGHT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Mon Jul 23 17:28:46 2018, IVAN wrote:
<div class="message-stanza open">&gt; &gt; On Mon Jul 23 11:20:55 2018, DWRIGHT wrote:
<div class="message-stanza open">&gt; &gt; &gt; Hello,
&gt; &gt; &gt;
&gt; &gt; &gt; In version 0.31 of Business::CreditCard, cards beginning in 3056 we
&gt; &gt; &gt; re-categorized from Diners Club to Discover Cards.
&gt; &gt; &gt;
&gt; &gt; &gt; However, somewhere between version 0.34 and 0.36, they were re-
&gt; &gt; &gt; categorized again from Discover to &#34;Unknown&#34;.
</div>&gt; &gt;
&gt; &gt; That is incorrect.  Cards beginning in 3056 with 16-19 digits are
&gt; &gt; recognized correctly.
</div>&gt; 
&gt; Perhaps.  However, Diner&#39;s Club cards only have 14 digits.
</div>
No.  That is no longer the case, and has not been for many years.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; For example, Stripe presently recommends testing Diner&#39;s Club with the
&gt; following number:   &#40;<span class="clickylink"><a target="new" rel="nofollow" href="https://stripe.com/docs/testing#cards&#41;">https://stripe.com/docs/testing#cards&#41;</a></span>
&gt; 
&gt; 30569309025904
</div>
I believe that information to be incorrect.  It is inconsistent with the latest BIN update I have seen from Discover in 2015.  If you have an update from Discover dated newer that 2015, by all means, please share it &#40;privately, they typically cannot be shared publicly.&#41;


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This is the output with v0.33:
&gt; 
&gt; perl -MBusiness::CreditCard -e &#39; print cardtype&#40;&#34;30569309025904&#34;&#41;&#39;
&gt; Discover card
&gt; 
&gt; And here is the output with v0.36:
&gt; 
&gt; perl -MBusiness::CreditCard -e &#39; print cardtype&#40;&#34;30569309025904&#34;&#41;&#39;
&gt; Unknown
&gt; 
&gt; The behavior has changed in a way that is inconsistent with the POD.
</div>
No, the behavior has changed in a way that is consistent with the real world.  That is no longer a valid Discover card, according to Discover.  It hasn&#39;t been for many years, and probably wasn&#39;t even when 0.33 said it was.

The purpose of the module is to recognize real-world credit cards.  I believe it does so correctly according to the latest documentation available from the relevant processor and owner of that BIN space.

If you feel the POD is inconsistent or misleading, you are welcome to send a patch to the documentation.  I read through it again and I don&#39;t see what inconsistency you are referring to.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open"><div class="message-stanza open">&gt; &gt; &gt; The POD still states  &#34;Versions before 0.31 may also have returned
&gt; &gt; &gt; &#34;Diner&#39;s Club/Carte Blanche&#34; &#40;these cards are now recognized as
&gt; &gt; &gt; &#34;Discover card&#34;&#41;.&#34;    And I couldn&#39;t find anything in the Changelog
&gt; &gt; &gt; that suggests that this was an intentional change.
</div>&gt; &gt;
&gt; &gt; 0.34  Fri Feb  5 07:24:00 PST 2016
&gt; &gt;         - 14 digit Discover remain only in 36*
</div>&gt; 
&gt; This ticket isn&#39;t about Discover cards, it&#39;s about Diner&#39;s Club cards.
</div>
There are no more Diner&#39;s Club cards.  Diner&#39;s was acquired by Discover in 2008 and Diner&#39;s BINs are processed on the Discover network worldwide.

0.31  Mon Oct 19 18:51:35 PDT 2009
        - Most Diner&#39;s Club cards &#40;300-305, 3095 and 36&#41; now processed as
          Discover



<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 14 digit Diner&#39;s club cards are still valid &#40;as evidenced by the fact
&gt; that Stripe.com still recommends testing them.&#41;
</div>
I do not believe Stripe.com&#39;s page is better &#34;evidence&#34; than the information available from the actual card issuer in that BIN range.  It is probably just out of date.


<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; And even if they
&gt; were not still valid, I suggest there are use cases where it may be
&gt; necessary to evaluate the card type of an expired card.
</div>
You &#34;suggest&#34;, or you have an actual real-world use case for this?

Because that&#39;s a lot more than just recognizing Diner&#39;s from the past.  If you want to know the type of cards from the past, you need to know both the processing country and date, and you&#39;ll need the start and end date of all historical processing agreements.

Business::CreditCard does not attempt to provide this kind of historical information.  The scope of Business::CreditCard is to tell you what network you should accept a card on NOW, in your country.  You know, the actual thing that everyone actually needs to use the module for.


Thanks for your input.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;24&nbsp;13:24:06&nbsp;2018</span>
    <span class="description">ivan-pause [...] 420.am -  Status changed from &#39;open&#39; to &#39;rejected&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
