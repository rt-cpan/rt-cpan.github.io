<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #119962 for PDF-API2: Found a bug when creating a new XObject Form</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #119962 for PDF-API2: Found a bug when creating a new XObject Form</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PDF-API2/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PDF-API2/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PDF-API2/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PDF-API2/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PDF-API2">PDF-API2 CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">119962</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PDF-API2/Active/">PDF-API2</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
james.harper [...] rrd.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24958-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24959-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jan&nbsp;24&nbsp;14:26:00&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 24 Jan 2017 12:25:46 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">The problem is in FormType.  Randomly we get a value other then a 1.  Then
the XObject doesn&#39;t display in the pdf.

If I go into the generated PDF and alter the FormType back to 1, then it
displays.  I am not sure why this is happening.  But it would be great if
you could fix that.

Thank you.

-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;10:02:40&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Tue Jan 24 14:26:00 2017, james.harper@rrd.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The problem is in FormType.  Randomly we get a value other then a 1.  Then
&gt; the XObject doesn&#39;t display in the pdf.
&gt; 
&gt; If I go into the generated PDF and alter the FormType back to 1, then it
&gt; displays.  I am not sure why this is happening.  But it would be great if
&gt; you could fix that.
</div>
Can you provide a sample script that reproduces this problem?  What other values have you seen?

At a glance, I don&#39;t see why the FormType would ever be set to something other than 1.  There&#39;s only one reference to FormType in the PDF::API2 code, in Resource/XObject/Form.pm:

$self-&gt;{&#39;FormType&#39;} = PDFNum&#40;1&#41;;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;10:02:41&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;10:02:46&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;10:19:00&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 26 Jan 2017 08:18:43 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I did see that code and I was confused as to how it could be anything other
then a 1 also.  But I have seen FormType 500  and FormType 1000
On some XObjects.  It is intermittent 99+ percent of them are just fine.  I
could not see anything about those objects that would break it.

Like I said I can go into the raw pdf after and alter those numbers,
keeping the spacing for the xref entry, and they work just fine after that.

As for getting you an example,  I can&#39;t because it is private data.  I can
tell you the process that I am using is importintoform and we are taking
two pages and putting them into one.  Are are also adding a barcode.  It is
the barcode form that is the one that is broken.  It just won&#39;t appear in
the output PDF, and shows an error in Adobe.

Sorry.  that is about all I have.



On Thu, Jan 26, 2017 at 8:02 AM, Steve Simms via RT &lt;
bug-PDF-API2@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;
&gt; On Tue Jan 24 14:26:00 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt; &gt; The problem is in FormType.  Randomly we get a value other then a 1.
</div>&gt; Then
<div class="message-stanza open">&gt; &gt; the XObject doesn&#39;t display in the pdf.
&gt; &gt;
&gt; &gt; If I go into the generated PDF and alter the FormType back to 1, then it
&gt; &gt; displays.  I am not sure why this is happening.  But it would be great if
&gt; &gt; you could fix that.
</div>&gt;
&gt; Can you provide a sample script that reproduces this problem?  What other
&gt; values have you seen?
&gt;
&gt; At a glance, I don&#39;t see why the FormType would ever be set to something
&gt; other than 1.  There&#39;s only one reference to FormType in the PDF::API2
&gt; code, in Resource/XObject/Form.pm:
&gt;
&gt; $self-&gt;{&#39;FormType&#39;} = PDFNum&#40;1&#41;;
&gt;
</div>


-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;26&nbsp;10:19:00&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jan&nbsp;27&nbsp;13:22:22&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 27 Jan 2017 11:21:55 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I noticed that you use PDFNum&#40;1&#41; to place the one.  Do you have to run a
function PDFNum&#40;&#41; to place the literal.  Or can you just hard code the
value &#34;1&#34;.

Just asking?

On Thu, Jan 26, 2017 at 8:02 AM, Steve Simms via RT &lt;
bug-PDF-API2@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;
&gt; On Tue Jan 24 14:26:00 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt; &gt; The problem is in FormType.  Randomly we get a value other then a 1.
</div>&gt; Then
<div class="message-stanza open">&gt; &gt; the XObject doesn&#39;t display in the pdf.
&gt; &gt;
&gt; &gt; If I go into the generated PDF and alter the FormType back to 1, then it
&gt; &gt; displays.  I am not sure why this is happening.  But it would be great if
&gt; &gt; you could fix that.
</div>&gt;
&gt; Can you provide a sample script that reproduces this problem?  What other
&gt; values have you seen?
&gt;
&gt; At a glance, I don&#39;t see why the FormType would ever be set to something
&gt; other than 1.  There&#39;s only one reference to FormType in the PDF::API2
&gt; code, in Resource/XObject/Form.pm:
&gt;
&gt; $self-&gt;{&#39;FormType&#39;} = PDFNum&#40;1&#41;;
&gt;
</div>


-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;23:02:03&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Jan 26 10:19:00 2017, james.harper@rrd.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I did see that code and I was confused as to how it could be anything
&gt; other
&gt; then a 1 also.  But I have seen FormType 500  and FormType 1000
&gt; On some XObjects.  It is intermittent 99+ percent of them are just
&gt; fine.  I
&gt; could not see anything about those objects that would break it.
</div>
Ok, here are a couple of things to try:

1&#41; I just released PDF::API2 version 2.031.  It has some fixes that could potentially impact this bug.

2&#41; Is the problem reproducible on a given PDF?  In other words, on the 1% or so that fail, do they keep failing if you re-run the script?

Given that you&#39;re seeing the numbers 500 and 1000 show up, I&#39;m going to guess that the problem *is* reproducible on a given file, and that the affected PDFs have object streams in them, based on a bug I tracked down and fixed for a previous release.  That&#39;s still relatively new code &#40;added in 2.026&#41;, so there are probably still some edge cases that aren&#39;t working, which would explain why you&#39;re only seeing the problem occasionally.

If you can reproduce the problem on a given PDF that you can send to me privately for the sole purpose of troubleshooting this bug, I should be able to get a fix released.

-- Steve

PS: In regard to your other note, yes, the PDFNum wrapper function does need to be called so that the serializer knows what kind of value to write to the file &#40;e.g. a literal number vs. a name, boolean, string, etc.&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;30&nbsp;23:02:14&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:33:12&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 8 Feb 2017 17:32:54 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am testing now.  But I had a follow up question for you.  I noticed there
is a version PDF::API3.

Should I be using that?  Do it have all the latest code from the API2
version?

On Mon, Jan 30, 2017 at 9:02 PM, Steve Simms via RT &lt;
bug-PDF-API2@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;
&gt; On Thu Jan 26 10:19:00 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt; &gt; I did see that code and I was confused as to how it could be anything
&gt; &gt; other
&gt; &gt; then a 1 also.  But I have seen FormType 500  and FormType 1000
&gt; &gt; On some XObjects.  It is intermittent 99+ percent of them are just
&gt; &gt; fine.  I
&gt; &gt; could not see anything about those objects that would break it.
</div>&gt;
&gt; Ok, here are a couple of things to try:
&gt;
&gt; 1&#41; I just released PDF::API2 version 2.031.  It has some fixes that could
&gt; potentially impact this bug.
&gt;
&gt; 2&#41; Is the problem reproducible on a given PDF?  In other words, on the 1%
&gt; or so that fail, do they keep failing if you re-run the script?
&gt;
&gt; Given that you&#39;re seeing the numbers 500 and 1000 show up, I&#39;m going to
&gt; guess that the problem *is* reproducible on a given file, and that the
&gt; affected PDFs have object streams in them, based on a bug I tracked down
&gt; and fixed for a previous release.  That&#39;s still relatively new code &#40;added
&gt; in 2.026&#41;, so there are probably still some edge cases that aren&#39;t working,
&gt; which would explain why you&#39;re only seeing the problem occasionally.
&gt;
&gt; If you can reproduce the problem on a given PDF that you can send to me
&gt; privately for the sole purpose of troubleshooting this bug, I should be
&gt; able to get a fix released.
&gt;
&gt; -- Steve
&gt;
&gt; PS: In regard to your other note, yes, the PDFNum wrapper function does
&gt; need to be called so that the serializer knows what kind of value to write
&gt; to the file &#40;e.g. a literal number vs. a name, boolean, string, etc.&#41;
&gt;
</div>


-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:33:13&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:46:13&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 08 19:33:12 2017, james.harper@rrd.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I am testing now.  But I had a follow up question for you.  I noticed
&gt; there is a version PDF::API3.
&gt; 
&gt; Should I be using that?  Do it have all the latest code from the API2
&gt; version?
</div>
No, PDF::API3 was a fork that got created roughly around the same time I took over maintenance of PDF::API2, after the previous maintainer stopped supporting it.  We both had the same goal, but the other developer ended up moving on to other projects before making any changes.

-- Steve
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:46:19&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:49:35&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 8 Feb 2017 17:49:21 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I ask because I know the 2of5int barcode seems to work better in the API3
version.

So using PDF::API3::Compt::API2

Is not the answer.

On Wed, Feb 8, 2017 at 5:46 PM, Steve Simms via RT &lt;bug-PDF-API2@rt.cpan.org
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; wrote:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;
&gt; On Wed Feb 08 19:33:12 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt; &gt; I am testing now.  But I had a follow up question for you.  I noticed
&gt; &gt; there is a version PDF::API3.
&gt; &gt;
&gt; &gt; Should I be using that?  Do it have all the latest code from the API2
&gt; &gt; version?
</div>&gt;
&gt; No, PDF::API3 was a fork that got created roughly around the same time I
&gt; took over maintenance of PDF::API2, after the previous maintainer stopped
&gt; supporting it.  We both had the same goal, but the other developer ended up
&gt; moving on to other projects before making any changes.
&gt;
&gt; -- Steve
&gt;
</div>


-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Feb&nbsp;08&nbsp;19:49:35&nbsp;2017</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Feb&nbsp;09&nbsp;11:21:48&nbsp;2017</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 9 Feb 2017 09:21:22 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">So I guess I just wanted to know.  Do you plan on updating PDF::API2 to use
the barcode stuff from PDF::API3::Compat::API2.

Like I said.  At least the 2o5int barcode works better with that code?

Thank you.

On Wed, Feb 8, 2017 at 5:49 PM, James Harper &lt;james.harper@rrd.com&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I ask because I know the 2of5int barcode seems to work better in the API3
&gt; version.
&gt;
&gt; So using PDF::API3::Compt::API2
&gt;
&gt; Is not the answer.
&gt;
&gt; On Wed, Feb 8, 2017 at 5:46 PM, Steve Simms via RT &lt;
&gt; bug-PDF-API2@rt.cpan.org&gt; wrote:
&gt;
<div class="message-stanza open">&gt;&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;&gt;
&gt;&gt; On Wed Feb 08 19:33:12 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt;&gt; &gt; I am testing now.  But I had a follow up question for you.  I noticed
&gt;&gt; &gt; there is a version PDF::API3.
&gt;&gt; &gt;
&gt;&gt; &gt; Should I be using that?  Do it have all the latest code from the API2
&gt;&gt; &gt; version?
</div>&gt;&gt;
&gt;&gt; No, PDF::API3 was a fork that got created roughly around the same time I
&gt;&gt; took over maintenance of PDF::API2, after the previous maintainer stopped
&gt;&gt; supporting it.  We both had the same goal, but the other developer ended up
&gt;&gt; moving on to other projects before making any changes.
&gt;&gt;
&gt;&gt; -- Steve
&gt;&gt;
</div>&gt;
&gt;
&gt;
&gt; --
&gt; *James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR
&gt; Donnelley*
&gt; 630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 &lt;&#40;435&#41;%20755-4455&gt;
&gt; | Cell: 435-770-3289 &lt;&#40;435&#41;%20770-3289&gt; | Fax: 435-753-7002
&gt; &lt;&#40;435&#41;%20753-7002&gt;
&gt; Email: james.harper@rrd.com
&gt;
&gt; This email and any files transmitted with it are confidential and intended
&gt; solely for the use of the individual or entity to whom they are addressed.
&gt; Any unauthorized review, use, disclosure or distribution is prohibited. If
&gt; you are not the intended recipient, please contact the sender by reply
&gt; e-mail and destroy all copies of the original message.
&gt;
&gt;
</div>

-- 
*James L. Harper*  |  *Software Engineer IV &#40;Supervisor&#41;*  |  *RR Donnelley*
630 W 1000 N  |  Logan, UT 84321 | Voice: 435-755-4455 | Cell: 435-770-3289
| Fax: 435-753-7002
Email: james.harper@rrd.com

This email and any files transmitted with it are confidential and intended
solely for the use of the individual or entity to whom they are addressed.
Any unauthorized review, use, disclosure or distribution is prohibited. If
you are not the intended recipient, please contact the sender by reply
e-mail and destroy all copies of the original message.
</div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;02&nbsp;18:08:10&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Feb 08 19:49:35 2017, james.harper@rrd.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I ask because I know the 2of5int barcode seems to work better in the
&gt; API3 version.
</div>
That&#39;s interesting.  PDF::API3 is equivalent to PDF::API2 version 0.73 &#40;released eight years ago&#41;, so if you&#39;re not seeing the problem there, it means it got broken after that, and should be reproducible.

If you can provide a test case, I should be able to track it down.  Otherwise, I suggest starting at version 2.020 to see when the problem got introduced.  Version 2.022 is probably the most likely candidate, since it included changes to 2of5 barcodes.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;02&nbsp;18:08:16&nbsp;2017</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;stalled&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;17:59:34&nbsp;2018</span>
    <span class="description">steve [...] deefs.net -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I&#39;m still interested in looking into this if you can provide a test case, but am going to resolve it for now as not reproducible.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;17:59:35&nbsp;2018</span>
    <span class="description">The RT System itself -  Status changed from &#39;stalled&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;17:59:35&nbsp;2018</span>
    <span class="description">steve [...] deefs.net -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;02&nbsp;20:51:55&nbsp;2018</span>
    <span class="description">james.harper [...] rrd.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #119962] Found a bug when creating a new XObject Form</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 2 Jun 2018 18:28:30 -0600</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-API2 [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> James Harper &lt;james.harper [...] rrd.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you.

On Mon, Jan 30, 2017, 9:02 PM Steve Simms via RT &lt;bug-PDF-API2@rt.cpan.org&gt;
wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=119962">https://rt.cpan.org/Ticket/Display.html?id=119962</a></span> &gt;
&gt;
&gt; On Thu Jan 26 10:19:00 2017, james.harper@rrd.com wrote:
<div class="message-stanza open">&gt; &gt; I did see that code and I was confused as to how it could be anything
&gt; &gt; other
&gt; &gt; then a 1 also.  But I have seen FormType 500  and FormType 1000
&gt; &gt; On some XObjects.  It is intermittent 99+ percent of them are just
&gt; &gt; fine.  I
&gt; &gt; could not see anything about those objects that would break it.
</div>&gt;
&gt; Ok, here are a couple of things to try:
&gt;
&gt; 1&#41; I just released PDF::API2 version 2.031.  It has some fixes that could
&gt; potentially impact this bug.
&gt;
&gt; 2&#41; Is the problem reproducible on a given PDF?  In other words, on the 1%
&gt; or so that fail, do they keep failing if you re-run the script?
&gt;
&gt; Given that you&#39;re seeing the numbers 500 and 1000 show up, I&#39;m going to
&gt; guess that the problem *is* reproducible on a given file, and that the
&gt; affected PDFs have object streams in them, based on a bug I tracked down
&gt; and fixed for a previous release.  That&#39;s still relatively new code &#40;added
&gt; in 2.026&#41;, so there are probably still some edge cases that aren&#39;t working,
&gt; which would explain why you&#39;re only seeing the problem occasionally.
&gt;
&gt; If you can reproduce the problem on a given PDF that you can send to me
&gt; privately for the sole purpose of troubleshooting this bug, I should be
&gt; able to get a fix released.
&gt;
&gt; -- Steve
&gt;
&gt; PS: In regard to your other note, yes, the PDFNum wrapper function does
&gt; need to be called so that the serializer knows what kind of value to write
&gt; to the file &#40;e.g. a literal number vs. a name, boolean, string, etc.&#41;
&gt;
</div></div></div>

<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
