<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #40159 for DBIx-DataModel: Another hanging test with 1.05</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #40159 for DBIx-DataModel: Another hanging test with 1.05</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DBIx-DataModel">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DBIx-DataModel">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DBIx-DataModel">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DBIx-DataModel">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DBIx-DataModel">DBIx-DataModel CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">40159</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DBIx-DataModel">DBIx-DataModel</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
ANDK [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-10450-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.05    </td>
  </tr>
  <tr id="CF-10451-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




DBIx-DataModel-1.06.tar.gz<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/524699/262431/DBIx-DataModel-1.06.tar.gz">
Sun Oct 26 18:50:29 2008 (89.9k) by DAMI [...] cpan.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=40159">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-521302" href="/Public/Bug/Display.html?id=40159#txn-521302">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;19&nbsp;03:43:15&nbsp;2008</span>
    <span class="description">ANDK [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Another hanging test with 1.05</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/521302/260327/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/260327">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">I tried with current 5.10.1-tobe which hangs, then with current
5.8.9-tobe which succeeds, then with bleadperl which looks pretty
similar to the current 5.10 branch, that is noisy and hanging. This
seems to explain why the cpantesters show no test results for &gt; 5.8.8.

% make test
PERL_DL_NONLAZY=1
/home/src/perl/repoperls/installed-perls/maint-5.10/p3Hxa0E/perl-5.10.0@34500/bin/perl
&#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;,
&#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load...........1/7 # Testing DBIx::DataModel 1.05, Perl 5.010000,
/home/src/perl/repoperls/installed-perls/maint-5.10/p3Hxa0E/perl-5.10.0@34500/bin/perl
t/00-load...........ok   
t/DBIx-DataModel....1/165 Can&#39;t locate object method &#34;emp_id&#34; via
package &#34;HR::Employee&#34; at t/DBIx-DataModel.t line 252.
# Looks like you planned 165 tests but ran 49.
# Looks like your test exited with 9 just after 49.
t/DBIx-DataModel.... Dubious, test returned 9 &#40;wstat 2304, 0x900&#41;
 Failed 116/165 subtests 
t/MsAccess..........1/5 package
HR::AutoView::HR::Employee_JOIN_activities_JOIN_department is already
defined at t/MsAccess.t line 72
# Looks like you planned 5 tests but ran 1.
# Looks like your test exited with 9 just after 1.
t/MsAccess.......... Dubious, test returned 9 &#40;wstat 2304, 0x900&#41;
 Failed 4/5 subtests 
t/ParentClasses.....1/6 package
HR::AutoView::HR::Employee_JOIN_activities_JOIN_department is already
defined at t/ParentClasses.t line 41
# Looks like you planned 6 tests but ran 3.
# Looks like your test exited with 255 just after 3.
t/ParentClasses..... Dubious, test returned 255 &#40;wstat 65280, 0xff00&#41;
 Failed 3/6 subtests 
t/pod...............ok     
t/Storable..........package
HR::AutoView::HR::Employee_JOIN_activities_JOIN_department is already
defined at t/Storable.t line 39
# Looks like your test exited with 29 before it could output anything.




After that the test seems to hang forever. I gave up afte a few minutes.


Let me know if I can provide more detail.

Thanks,
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-524699" href="/Public/Bug/Display.html?id=40159#txn-524699">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;26&nbsp;18:50:26&nbsp;2008</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> maddingue [...] free.fr</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/524699/262428/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/262428">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 930b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Dim. Oct. 19 03:43:15 2008, ANDK a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I tried with current 5.10.1-tobe which hangs, then with current
&gt; 5.8.9-tobe which succeeds, then with bleadperl which looks pretty
&gt; similar to the current 5.10 branch, that is noisy and hanging. This
&gt; seems to explain why the cpantesters show no test results for &gt; 5.8.8.
&gt; 
</div>
Hi Andreas,

Thanks for the bug report.

SAPER pointed me to the fact that I was using a deprecated call : &#34;if
defined&#40;%hash&#41;&#34; .. probably that call is no longer supported in
Perl5.10, or behaves differently, so the tests fail. And since this
generates an exception, and since one of the tests was doing a fork&#40;&#41;,
the child became zombie, waiting for a dead parent ... that explains the
hanging behaviour.

Anyway, here is a 1.06 version which I hope corrects the problem. Could
you please give it a try on your various environments before I publish
it to CPAN ? 

Thanks in advance, 

Laurent Dami
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/524699/262431/DBIx-DataModel-1.06.tar.gz">Download DBIx-DataModel-1.06.tar.gz</a><br />
<span class="downloadcontenttype">application/x-gzip 89.9k</span>
</div>
<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-524700" href="/Public/Bug/Display.html?id=40159#txn-524700">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;26&nbsp;18:50:36&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-524707" href="/Public/Bug/Display.html?id=40159#txn-524707">#</a>      
    </span>
    <span class="date">Sun&nbsp;Oct&nbsp;26&nbsp;20:08:45&nbsp;2008</span>
    <span class="description">SAPER [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40159] Another hanging test with 1.05 </td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 27 Oct 2008 01:08:24 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBIx-DataModel [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Sébastien Aperghis-Tramoni &lt;saper [...] cpan.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/524707/262436/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/262436">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 3.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Laurent Dami wrote via RT:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Dim. Oct. 19 03:43:15 2008, ANDK a écrit :
<div class="message-stanza open">&gt;&gt; I tried with current 5.10.1-tobe which hangs, then with current
&gt;&gt; 5.8.9-tobe which succeeds, then with bleadperl which looks pretty
&gt;&gt; similar to the current 5.10 branch, that is noisy and hanging. This
&gt;&gt; seems to explain why the cpantesters show no test results for &gt;  
&gt;&gt; 5.8.8.
&gt;&gt;
</div>&gt;
&gt; Hi Andreas,
&gt;
&gt; Thanks for the bug report.
&gt;
&gt; SAPER pointed me to the fact that I was using a deprecated call : &#34;if
&gt; defined&#40;%hash&#41;&#34; .. probably that call is no longer supported in
&gt; Perl5.10, or behaves differently, so the tests fail. And since this
&gt; generates an exception, and since one of the tests was doing a fork&#40;&#41;,
&gt; the child became zombie, waiting for a dead parent ... that  
&gt; explains the
&gt; hanging behaviour.
&gt;
&gt; Anyway, here is a 1.06 version which I hope corrects the problem.  
&gt; Could
&gt; you please give it a try on your various environments before I publish
&gt; it to CPAN ?
</div>
All tests successful on Perl v5.8.6 darwin-thread-multi-2level

Fails on Perl v5.10.0 darwin-2level:

maddingue@Gwaihir:~/DBIx-DataModel-1.06 $ perl5.10.0 Makefile.PL &#38;&#38;  
make all test
Writing Makefile for DBIx::DataModel
[...]
PERL_DL_NONLAZY=1 /usr/local/bin/perl5.10.0 &#34;-MExtUtils::Command::MM&#34;  
&#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load...........ok 1/7# Testing DBIx::DataModel 1.06, Perl  
5.010000, /usr/local/bin/perl5.10.0
t/00-load...........ok
t/DBIx-DataModel....ok 2/165Can&#39;t locate object method &#34;emp_id&#34; via  
package &#34;HR::Employee&#34; at t/DBIx-DataModel.t line 252.
# Looks like you planned 165 tests but only ran 49.
# Looks like your test died just after 49.
t/DBIx-DataModel....dubious
         Test returned status 255 &#40;wstat 65280, 0xff00&#41;
DIED. FAILED tests 50-165
         Failed 116/165 tests, 29.70% okay
t/MsAccess..........ok
t/ParentClasses.....ok
t/pod...............skipped
         all skipped: Test::Pod 1.14 required for testing POD
t/Storable..........Can&#39;t locate object method &#34;classData&#34; via  
package &#34;HR::AutoView::HR::Employee_JOIN_activities_JOIN_department&#34;  
at /Users/maddingue/DBIx-DataModel-1.06/blib/lib/DBIx/DataModel/ 
Schema.pm line 504.
BEGIN failed--compilation aborted, at t/Storable.t line 60
FAILED before any test output arrived
Failed Test        Stat Wstat Total Fail  List of Failed
------------------------------------------------------------------------ 
-------
t/DBIx-DataModel.t  255 65280   165  232  50-165
t/Storable.t                     ??   ??  ??
1 test skipped.
Failed 2/6 test scripts. 119/186 subtests failed.
Files=6, Tests=186,  3 wallclock secs &#40; 1.16 cusr +  0.27 csys =   
1.43 CPU&#41;
Failed 2/6 test programs. 119/186 subtests failed.
make: *** [test_dynamic] Error 255


When executing these tests on their own:
maddingue@Gwaihir:~/DBIx-DataModel-1.06 $ perl5.10.0 -Mblib t/DBIx- 
DataModel.t
1..165
ok 1 - use DBIx::DataModel;
ok 2 - Schema defined
[...]
ok 45 - fetch &#40;undef&#41; [-1] &#40;params&#41;
ok 46 - first fetch_cached : go to db
ok 47 - second fetch_cached : no db
ok 48 - fetch_cached result
ok 49 - Can&#39;t locate object method &#34;emp_id&#34; via package  
&#34;HR::Employee&#34; at t/DBIx-DataModel.t line 249.
#
Can&#39;t locate object method &#34;emp_id&#34; via package &#34;HR::Employee&#34; at t/ 
DBIx-DataModel.t line 252.
# Looks like you planned 165 tests but only ran 49.
# Looks like your test died just after 49.

maddingue@Gwaihir:~/DBIx-DataModel-1.06 $ perl5.10.0 -Mblib t/Storable.t
1..3
Can&#39;t locate object method &#34;classData&#34; via package  
&#34;HR::AutoView::HR::Employee_JOIN_activities_JOIN_department&#34; at / 
Users/maddingue/DBIx-DataModel-1.06/blib/lib/DBIx/DataModel/Schema.pm  
line 504.
BEGIN failed--compilation aborted, at t/Storable.t line 60


-- 
Sébastien Aperghis-Tramoni

Close the world, txEn eht nepO.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-524806" href="/Public/Bug/Display.html?id=40159#txn-524806">#</a>      
    </span>
    <span class="date">Mon&nbsp;Oct&nbsp;27&nbsp;02:21:41&nbsp;2008</span>
    <span class="description">andreas.koenig.7os6VVqR [...] franz.ak.mind.de -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> ANDK [...] cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #40159] Another hanging test with 1.05</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 27 Oct 2008 07:20:57 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-DBIx-DataModel [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> andreas.koenig.7os6VVqR [...] franz.ak.mind.de &#40;Andreas J. Koenig&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/524806/262492/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/262492">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt;&gt;&gt;&gt;&gt; On Sun, 26 Oct 2008 18:50:36 -0400, &#34;Laurent Dami via RT&#34; &lt;bug-DBIx-DataModel@rt.cpan.org&gt; said:
</div></div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">  &gt; Anyway, here is a 1.06 version which I hope corrects the problem. Could
  &gt; you please give it a try on your various environments before I publish
  &gt; it to CPAN ? 
</div>
Thank you.

all tests successful with 5.8.9-tobe

5.10.1-tobe says

PERL_DL_NONLAZY=1 /home/src/perl/repoperls/installed-perls/maint-5.10/pV47zxQ/perl-5.10.0@34563/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load...........1/7 # Testing DBIx::DataModel 1.06, Perl 5.010000, /home/src/perl/repoperls/installed-perls/maint-5.10/pV47zxQ/perl-5.10.0@34563/bin/perl
t/00-load...........ok   
t/DBIx-DataModel....1/165 Can&#39;t locate object method &#34;emp_id&#34; via package &#34;HR::Employee&#34; at t/DBIx-DataModel.t line 252.
# Looks like you planned 165 tests but ran 49.
# Looks like your test exited with 9 just after 49.
t/DBIx-DataModel.... Dubious, test returned 9 &#40;wstat 2304, 0x900&#41;
 Failed 116/165 subtests 
t/MsAccess..........ok   
t/ParentClasses.....ok   
t/pod...............ok     
t/Storable..........Can&#39;t locate object method &#34;classData&#34; via package &#34;HR::AutoView::HR::Employee_JOIN_activities_JOIN_department&#34; at /tmp/DBIx-DataModel-1.06/blib/lib/DBIx/DataModel/Schema.pm line 504.
BEGIN failed--compilation aborted, at t/Storable.t line 60
t/Storable.......... Failed 3/3 subtests 


Did you know that by uploading developer releases
&#40;<span class="clickylink"><a target="new" rel="nofollow" href="http://pause.perl.org/pause/query?ACTION=pause_04about#conventions&#41;">http://pause.perl.org/pause/query?ACTION=pause_04about#conventions&#41;</a></span>
you get more pre-release tests automatically and quicker than manual
testing can provide?

Let me know if I can provide further help.

Regards,
-- 
andreas
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-525938" href="/Public/Bug/Display.html?id=40159#txn-525938">#</a>      
    </span>
    <span class="date">Wed&nbsp;Oct&nbsp;29&nbsp;01:10:22&nbsp;2008</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> saper [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/525938/263096/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/263096">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 344b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, I reproduced the bugs with Perl5.10 on Win32. The reason for
failures is that dynamic methods and subclasses in DBIx::DataModel are
not automatically detected by the new method caching system introduced
in Perl 5.9.5.

I Tried mro::method_changed_in&#40;$parent_class&#41;, but it doesn&#39;t seem to
solve the problem .. need further investigations.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-526646" href="/Public/Bug/Display.html?id=40159#txn-526646">#</a>      
    </span>
    <span class="date">Thu&nbsp;Oct&nbsp;30&nbsp;11:22:20&nbsp;2008</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/526646/263493/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/263493">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 600b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Mer. Oct. 29 01:10:22 2008, DAMI a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; OK, I reproduced the bugs with Perl5.10 on Win32. The reason for
&gt; failures is that dynamic methods and subclasses in DBIx::DataModel are
&gt; not automatically detected by the new method caching system introduced
&gt; in Perl 5.9.5.
&gt; 
&gt; I Tried mro::method_changed_in&#40;$parent_class&#41;, but it doesn&#39;t seem to
&gt; solve the problem .. need further investigations.
&gt; 
</div>
Indeed these are problems with the method cache in Perl&gt;5.9.5.

Opened perlbug tickets #60220 and #60232 &#40;with little code snippets that
demonstrate the problem, outside of DBIx::DataModel&#41;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-531006" href="/Public/Bug/Display.html?id=40159#txn-531006">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;10&nbsp;03:18:34&nbsp;2008</span>
    <span class="description">DAMI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/531006/266053/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/266053">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 806b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Le Jeu. Oct. 30 11:22:20 2008, DAMI a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Le Mer. Oct. 29 01:10:22 2008, DAMI a écrit :
<div class="message-stanza open">&gt; &gt; OK, I reproduced the bugs with Perl5.10 on Win32. The reason for
&gt; &gt; failures is that dynamic methods and subclasses in DBIx::DataModel are
&gt; &gt; not automatically detected by the new method caching system introduced
&gt; &gt; in Perl 5.9.5.
&gt; &gt; 
&gt; &gt; I Tried mro::method_changed_in&#40;$parent_class&#41;, but it doesn&#39;t seem to
&gt; &gt; solve the problem .. need further investigations.
&gt; &gt; 
</div>&gt; 
&gt; Indeed these are problems with the method cache in Perl&gt;5.9.5.
&gt; 
&gt; Opened perlbug tickets #60220 and #60232 &#40;with little code snippets that
&gt; demonstrate the problem, outside of DBIx::DataModel&#41;
&gt; 
</div>
Fixed in v1.06 &#40;assigning to @{Package::ISA} = @parent_classes instead
of *{Package::ISA} = \@parent_classes solved the problem
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-531008" href="/Public/Bug/Display.html?id=40159#txn-531008">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;10&nbsp;03:18:36&nbsp;2008</span>
    <span class="description">DAMI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.465567</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
