<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #94376 for Business-PayPal-API: PaymentDetails on SetExpressCheckout</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #94376 for Business-PayPal-API: PaymentDetails on SetExpressCheckout</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Business-PayPal-API">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Business-PayPal-API">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Business-PayPal-API">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Business-PayPal-API">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>




<div id="external_bugtracker">
<h3>Preferred bug tracker</h3>
<p>
<div>Please visit the <a href="http://github.com/oalders/business-paypal-api/issues">preferred bug tracker</a> to report your issue.</div>
</p>
</div>

<p>This queue is for tickets about the <a href="https://metacpan.org/release/Business-PayPal-API">Business-PayPal-API CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">94376</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Business-PayPal-API">Business-PayPal-API</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
racke [...] linuxia.de

<br />
melmothx [...] gmail.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38804-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-38805-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=94376">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1345756" href="/Public/Bug/Display.html?id=94376#txn-1345756">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;04:19:47&nbsp;2014</span>
    <span class="description">melmothx [...] gmail.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> PaymentDetails on SetExpressCheckout</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 02 Apr 2014 10:19:31 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Business-PayPal-API [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marco Pessotto &lt;melmothx [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1345756/714161/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714161">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 699b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hello and thanks for Business::PayPal::API

I&#39;m using the workflow described in the synopis of
<span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Business::PayPal::API::ExpressCheckout">https://metacpan.org/pod/Business::PayPal::API::ExpressCheckout</a></span> and it
looks like I can&#39;t set the PaymentDetailsItem when doing the
SetExpressCheckout.

Unless I do the redirection to paypal with the parameter
useraction=commit, the buyer can&#39;t even see the total she&#39;s going to
pay.

I&#39;ve looked into the source, and it looks like the PaymentDetailsItem is
supported only on DoExpressCheckoutPayment, i.e., when the buyer has
already approved the transaction, so kind of too late for the buyer to
review.

Am I doing something wrong or the support for that is actually missing?

Best wishes

-- 
Marco
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1345761" href="/Public/Bug/Display.html?id=94376#txn-1345761">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;04:21:37&nbsp;2014</span>
    <span class="description">racke [...] linuxia.de -  Requestor HORNBURG added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1345892" href="/Public/Bug/Display.html?id=94376#txn-1345892">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;11:34:18&nbsp;2014</span>
    <span class="description">ether [...] cpan.org -  Ticket deleted</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346022" href="/Public/Bug/Display.html?id=94376#txn-1346022">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;15:12:53&nbsp;2014</span>
    <span class="description">olaf [...] wundersolutions.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346022/714310/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714310">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 02 04:19:47 2014, melmothx@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Hello and thanks for Business::PayPal::API
&gt; 
&gt; I&#39;m using the workflow described in the synopis of
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://metacpan.org/pod/Business::PayPal::API::ExpressCheckout">https://metacpan.org/pod/Business::PayPal::API::ExpressCheckout</a></span> and it
&gt; looks like I can&#39;t set the PaymentDetailsItem when doing the
&gt; SetExpressCheckout.
&gt; 
&gt; Unless I do the redirection to paypal with the parameter
&gt; useraction=commit, the buyer can&#39;t even see the total she&#39;s going to
&gt; pay.
&gt; 
&gt; I&#39;ve looked into the source, and it looks like the PaymentDetailsItem is
&gt; supported only on DoExpressCheckoutPayment, i.e., when the buyer has
&gt; already approved the transaction, so kind of too late for the buyer to
&gt; review.
</div>
Hi Marco,

As described in the workflow, what do you see when you dump %details:

my %details = $pp-&gt;GetExpressCheckoutDetails&#40;$resp{Token}&#41;;
use Data::Printer;
p %details;

You should have access to this *before* DoExpressCheckoutPayment, since all that is required is the token.  Might be helpful if you could show some code to demonstrate the problem.

Best,

Olaf
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346035" href="/Public/Bug/Display.html?id=94376#txn-1346035">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;16:08:02&nbsp;2014</span>
    <span class="description">melmothx [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #94376] PaymentDetails on SetExpressCheckout</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 02 Apr 2014 22:07:47 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Business-PayPal-API [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marco Pessotto &lt;melmothx [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346035/714320/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714320">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Olaf Alders via RT&#34; &lt;bug-Business-PayPal-API@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; As described in the workflow, what do you see when you dump %details:
&gt;
&gt; my %details = $pp-&gt;GetExpressCheckoutDetails&#40;$resp{Token}&#41;;
&gt; use Data::Printer;
&gt; p %details;
&gt;
&gt; You should have access to this *before* DoExpressCheckoutPayment,
&gt; since all that is required is the token. Might be helpful if you could
&gt; show some code to demonstrate the problem.
</div>
Hello Olaf and thanks for the quick answer.

From the perl code point of view, everything looks fine. The problem is
from the buyer&#39;s point of view. The problem &#40;and the workaround&#41; I found
is exactly the same described here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/8206175/missing-amount-and-order-summary-in-paypal-express-checkout">http://stackoverflow.com/questions/8206175/missing-amount-and-order-summary-in-paypal-express-checkout</a></span>

The perl code sees the amount, but the buyer doesn&#39;t, unless the the
parameter useraction=commit is passed to Paypal on redirection. It looks
like PayPal doesn&#39;t show the amount if there is no detailed list of the
items &#40;or if there is no useraction=commit&#41;, so I was wondering if it
was possible to add the items when creating the token with
SetExpressCheckout.

I&#39;ll post some code if needed, but it boils down to the synopsis of
Business::PayPal::API::ExpressCheckout, and doesn&#39;t expose the problem
&#40;which is from the buyer point of view&#41;.

Best wishes

-- 
Marco
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346038" href="/Public/Bug/Display.html?id=94376#txn-1346038">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;16:13:35&nbsp;2014</span>
    <span class="description">olaf [...] wundersolutions.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346038/714323/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714323">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 02 16:08:02 2014, melmothx@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Olaf Alders via RT&#34; &lt;bug-Business-PayPal-API@rt.cpan.org&gt; writes:
&gt; 
<div class="message-stanza open">&gt; &gt; As described in the workflow, what do you see when you dump %details:
&gt; &gt;
&gt; &gt; my %details = $pp-&gt;GetExpressCheckoutDetails&#40;$resp{Token}&#41;;
&gt; &gt; use Data::Printer;
&gt; &gt; p %details;
&gt; &gt;
&gt; &gt; You should have access to this *before* DoExpressCheckoutPayment,
&gt; &gt; since all that is required is the token. Might be helpful if you
&gt; &gt; could
&gt; &gt; show some code to demonstrate the problem.
</div>&gt; 
&gt; Hello Olaf and thanks for the quick answer.
&gt; 
&gt; From the perl code point of view, everything looks fine. The problem
&gt; is
&gt; from the buyer&#39;s point of view. The problem &#40;and the workaround&#41; I
&gt; found
&gt; is exactly the same described here:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/8206175/missing-amount-and-order-">http://stackoverflow.com/questions/8206175/missing-amount-and-order-</a></span>
&gt; summary-in-paypal-express-checkout
&gt; 
&gt; The perl code sees the amount, but the buyer doesn&#39;t, unless the the
&gt; parameter useraction=commit is passed to Paypal on redirection. It
&gt; looks
&gt; like PayPal doesn&#39;t show the amount if there is no detailed list of
&gt; the
&gt; items &#40;or if there is no useraction=commit&#41;, so I was wondering if it
&gt; was possible to add the items when creating the token with
&gt; SetExpressCheckout.
&gt; 
&gt; I&#39;ll post some code if needed, but it boils down to the synopsis of
&gt; Business::PayPal::API::ExpressCheckout, and doesn&#39;t expose the problem
&gt; &#40;which is from the buyer point of view&#41;.
&gt; 
&gt; Best wishes
</div>
Hi Marco,

OK.  I understand what you&#39;re saying now.  The workflow I&#39;ve always used has me presenting the details to the buyer on my own site, having them do the PayPal authentication and then letting them confirm the purchase on my end before I submit the payment.  So, I&#39;ve got control of the payment details etc in that case.

To be honest, I got maint on this module for a very minor fix, so I haven&#39;t delved that deeply into the code.  I&#39;d be open to a pull request to add the functionality you&#39;ve described though.  I say this without having looked at the internals to see what would be involved.  ;&#41;

Best,

Olaf
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346046" href="/Public/Bug/Display.html?id=94376#txn-1346046">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;16:39:35&nbsp;2014</span>
    <span class="description">melmothx [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #94376] PaymentDetails on SetExpressCheckout</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Wed, 02 Apr 2014 22:39:18 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Business-PayPal-API [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Marco Pessotto &lt;melmothx [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346046/714330/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714330">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 899b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">&#34;Olaf Alders via RT&#34; &lt;bug-Business-PayPal-API@rt.cpan.org&gt; writes:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi Marco,
&gt;
&gt; OK. I understand what you&#39;re saying now. The workflow I&#39;ve always used
&gt; has me presenting the details to the buyer on my own site, having them
&gt; do the PayPal authentication and then letting them confirm the
&gt; purchase on my end before I submit the payment. So, I&#39;ve got control
&gt; of the payment details etc in that case.
&gt;
&gt; To be honest, I got maint on this module for a very minor fix, so I
&gt; haven&#39;t delved that deeply into the code. I&#39;d be open to a pull
&gt; request to add the functionality you&#39;ve described though. I say this
&gt; without having looked at the internals to see what would be involved.
&gt; ;&#41;
</div>
Ok, fair enough, at least now I know I&#39;m not doing it totally wrong :-&#41;

I&#39;ll let you know if I&#39;ll patch the module &#40;still unclear if really
needed&#41;.

Best wishes and thanks again for your time

-- 
Marco
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346049" href="/Public/Bug/Display.html?id=94376#txn-1346049">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;16:42:07&nbsp;2014</span>
    <span class="description">olaf [...] wundersolutions.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1346049/714333/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/714333">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Apr 02 16:39:35 2014, melmothx@gmail.com wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &#34;Olaf Alders via RT&#34; &lt;bug-Business-PayPal-API@rt.cpan.org&gt; writes:
&gt; 
<div class="message-stanza open">&gt; &gt; Hi Marco,
&gt; &gt;
&gt; &gt; OK. I understand what you&#39;re saying now. The workflow I&#39;ve always used
&gt; &gt; has me presenting the details to the buyer on my own site, having them
&gt; &gt; do the PayPal authentication and then letting them confirm the
&gt; &gt; purchase on my end before I submit the payment. So, I&#39;ve got control
&gt; &gt; of the payment details etc in that case.
&gt; &gt;
&gt; &gt; To be honest, I got maint on this module for a very minor fix, so I
&gt; &gt; haven&#39;t delved that deeply into the code. I&#39;d be open to a pull
&gt; &gt; request to add the functionality you&#39;ve described though. I say this
&gt; &gt; without having looked at the internals to see what would be involved.
&gt; &gt; ;&#41;
</div>&gt; 
&gt; Ok, fair enough, at least now I know I&#39;m not doing it totally wrong :-&#41;
&gt; 
&gt; I&#39;ll let you know if I&#39;ll patch the module &#40;still unclear if really
&gt; needed&#41;.
&gt; 
&gt; Best wishes and thanks again for your time
</div>
That sounds good. I&#39;m going to close this ticket then.  If you&#39;d like to send a patch, we can track that on Github. :&#41;

Best,

Olaf
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1346052" href="/Public/Bug/Display.html?id=94376#txn-1346052">#</a>      
    </span>
    <span class="date">Wed&nbsp;Apr&nbsp;02&nbsp;16:42:08&nbsp;2014</span>
    <span class="description">olaf [...] wundersolutions.com -  Status changed from &#39;deleted&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.453405</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
