<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #79312 for PDF-Create: bug in recent version with adding images</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #79312 for PDF-Create: bug in recent version with adding images</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/PDF-Create/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/PDF-Create/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/PDF-Create/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/PDF-Create/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/PDF-Create">PDF-Create CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">79312</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/PDF-Create/Active/">PDF-Create</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jshorie [...] medinaco.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24970-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-24971-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;16:01:51&nbsp;2012</span>
    <span class="description">jshorie [...] medinaco.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> bug in recent version with adding images</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 30 Aug 2012 15:58:43 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-PDF-Create [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jonathan Shorie &lt;jshorie [...] medinaco.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">We use pdf::create to create pdf&#39;s of customer bills that are then emailed to 
the customer.

We have been using this since about 2009 without problems.  This month, I 
received a new computer running Kubuntu 12.04.  Now there appears to be a 
problem with the pdf that is being created.  It neads to add 2 jpg graphics to 
the pdf.  When run with 1.06 it only adds 1 of the jpg graphics to the pdf.

While I do not have the old computer any more, I was able to run my program on 
another computer with an old version of pdf::create and it is working there.

Enclosed is the relevant information:

My Desktop
# uname -a
Linux tetra7 3.2.0-29-generic-pae #46-Ubuntu SMP Fri Jul 27 17:25:43 UTC 2012 
i686 i686 i386 GNU/Linux

# lsb_release -a
No LSB modules are available.
Distributor ID: Ubuntu
Description:    Ubuntu 12.04.1 LTS
Release:        12.04
Codename:       precise

# perl -v

This is perl 5, version 14, subversion 2 &#40;v5.14.2&#41; built for i686-linux-gnu-
thread-multi-64int
&#40;with 53 registered patches, see perl -V for more detail&#41;

# apt-cache showpkg libpdf-create-perl
Package: libpdf-create-perl
Versions: 
1.06-1 
&#40;/var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise_universe_binary-
i386_Packages&#41; &#40;/var/lib/dpkg/status&#41;
 Description Language: 
                 File: 
/var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise_universe_binary-
i386_Packages
                  MD5: 09210befb5791f0fbd6e5c5033af7df9
 Description Language: en
                 File: 
/var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_precise_universe_i18n_Translation-
en
                  MD5: 09210befb5791f0fbd6e5c5033af7df9


Reverse Depends: 
  sgf2dg,libpdf-create-perl
Dependencies: 
1.06-1 - perl &#40;0 &#40;null&#41;&#41; libpdf-api2-perl &#40;0 &#40;null&#41;&#41; 
Provides: 
1.06-1 - 
Reverse Provides: 

=====================================

My Code
###########################
# Print Heading on Page 1 #
###########################

   ++$thepage;
   $page-&gt;image&#40;&#39;image&#39;   =&gt;$img1,
                &#39;xalign&#39;  =&gt;0,
                &#39;yalign&#39;  =&gt;1, 
                &#39;xscale&#39;  =&gt;0.5,
                &#39;yscale&#39;  =&gt;0.5,
                &#39;xpos&#39;    =&gt;1,
                &#39;ypos&#39;    =&gt;10.5*$inch&#41;;

   $page-&gt;image&#40;&#39;image&#39;   =&gt;$img2,
                &#39;xalign&#39;  =&gt;0,
                &#39;yalign&#39;  =&gt;1, 
                &#39;xscale&#39;  =&gt;0.5,
                &#39;yscale&#39;  =&gt;0.5,
                &#39;xpos&#39;    =&gt;1,
                &#39;ypos&#39;    =&gt;7.25*$inch&#41;;


======================================
The Machine where it is working:

# uname -a
Linux scorpionfish5 2.6.32-30-server #59-Ubuntu SMP Tue Mar 1 22:46:09 UTC 2011 
x86_64 GNU/Linux 

#lsb_release -a                                                                                                    
No LSB modules are available.                                                                                                                                   
Distributor ID: Ubuntu                                                                                                                                           
Description:    Ubuntu 10.04.2 LTS                                                                                                                               
Release:        10.04                                                                                                                                             
Codename:       lucid                            

#perl -v
This is perl, v5.10.1 &#40;*&#41; built for x86_64-linux-gnu-thread-multi                                                                                                  
                                                                                                                                                                   
Copyright 1987-2009, Larry Wall                                                                                                                                     

#apt-cache showpkg libpdf-create-perl
Package: libpdf-create-perl
Versions: 
1.03-1 
&#40;/var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_lucid_universe_binary-
amd64_Packages&#41; &#40;/var/lib/dpkg/status&#41;
 Description Language: 
                 File: 
/var/lib/apt/lists/us.archive.ubuntu.com_ubuntu_dists_lucid_universe_binary-
amd64_Packages
                  MD5: 09210befb5791f0fbd6e5c5033af7df9


Reverse Depends: 
  sgf2dg,libpdf-create-perl
Dependencies: 
1.03-1 - perl &#40;2 5.6.0-16&#41; libpdf-api2-perl &#40;0 &#40;null&#41;&#41; 
Provides: 
1.03-1 - 
Reverse Provides: 

=============================================

Please let me know if there is any more information that you need or anything 
that I can do to help.  Thanks



Jonathan R. Shorie
Systems Administrator
Medina County Sanitary Engineers
791 W Smith Rd
Medina, OH  44256
Phone:  &#40;330&#41; 764-8332
Fax:    &#40;330&#41; 723-9661
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;16:37:02&nbsp;2012</span>
    <span class="description">markus [...] markus.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> markus [...] markus.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Hi Jonathan,

If I understand you correctly then you migrated from Ubuntu 10.04 with an unspecified version of 
PDF:Create to 12.04 and in the process installed the newest PDF::Create &#40;1.06&#41;. Since the upgrade one 
of the two pictures is no longer included in the PDF.

I&#39;m still using 10.04 on my main computer &#40;yes its should be changed&#41;. The newer Ubuntu developments 
did not encourage me &#40;Gnome 3.0 &#38; Unity, double yuck !&#41;.

However, the image processing in PDF::Create is all done in perl and does not depend on external 
software or libraries. But, also, the image processing has not changed since I&#39;ve started maintaining 
the code &#40;ca 2007&#41;. I&#39;m a bit lost in guessing where the problem is.

In order to find a bug I would need a self-contained &#40;no external dependencies&#41; script who exhibits 
the problem. The snippets you sent look fine, but are insufficient.

Markus
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;30&nbsp;16:37:03&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;09:05:05&nbsp;2012</span>
    <span class="description">jshorie [...] medinaco.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #79312]</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2012 09:01:55 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Markus Baertschi via RT&#34; &lt;bug-PDF-Create [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jonathan Shorie &lt;jshorie [...] medinaco.org&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">That is correct.  The code does still run on the second machine which has 
PDF::Create 1.03-1.  I am including the full perl script that creates the pdf

The old computer was running Ubuntu 9.10 with kde3 from the trinity project.  
The new computer is running Kubuntu 12.04 with PDF::Create 1.06-1.
The server where the script still runs is running Ubuntu Server 10.04 with 
PDF::Create 1.03-1

I am enclosing the perl script create_the_pdfs.pl as an attachment.
If you need a copy of the graphics, then I can email those to you.

Thank you for getting back with me so quickly on this.  I use PDF::Create on 
many programs here for creating pdfs.  You probably do not get as much 
recognition as you deserve for continuing to maintain this.



Jonathan R. Shorie
Systems Administrator
Medina County Sanitary Engineers
791 W Smith Rd
Medina, OH  44256
Phone:  &#40;330&#41; 764-8332
Fax:    &#40;330&#41; 723-9661
</div></div>

<div class="messagebody">
<p>Message body is not shown because sender requested not to inline it.</p></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;12:03:40&nbsp;2012</span>
    <span class="description">markus [...] markus.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> markus [...] markus.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi Jonathan,

it looks to me that you can not really determine if the problem comes from the new PDF-Create version, 
the new Ubuntu version, or even the installation of the application on the new server.

Your best bet is to change one thing after the other, step by step.

Also, the script you sent is nice and simple, but can not serve for testing because the images are 
missing and it requires a database to function.

Some questions:
- Do you still have pdf-create v1.03 ?
- Can you install it on the new server to check ?

Markus
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;31&nbsp;14:35:57&nbsp;2012</span>
    <span class="description">jshorie [...] medinaco.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #79312] bug in recent version with adding images</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 31 Aug 2012 14:32:47 -0400</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> &#34;Markus Baertschi via RT&#34; &lt;bug-PDF-Create [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Jonathan Shorie &lt;jshorie [...] medinaco.org&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I downloaded 1.06 version of PDF Create from CPAN at
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~markusb/PDF-Create-1.06/">http://search.cpan.org/~markusb/PDF-Create-1.06/</a></span>

It still only puts the first graphic on the pdfs

I then downloaded 1.04 version of PDF Create from CPAN at
<span class="clickylink"><a target="new" rel="nofollow" href="http://search.cpan.org/~markusb/PDF-Create-1.04/">http://search.cpan.org/~markusb/PDF-Create-1.04/</a></span>

It puts both graphics on the pdfs

I tried both the 1.06 version and the 1.04 version running on my new computer 
which has Kubuntu 12.04

I can send you a copy of the pdf generated with each version if it woud help.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
