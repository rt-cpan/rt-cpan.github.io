<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #125932 for Test-Smoke: logs/smokecurrent/*.jsn file and web page not identifying all failing unit tests</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #125932 for Test-Smoke: logs/smokecurrent/*.jsn file and web page not identifying all failing unit tests</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Test-Smoke/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Test-Smoke/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Test-Smoke/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Test-Smoke/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Test-Smoke">Test-Smoke CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">125932</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Test-Smoke/Active/">Test-Smoke</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jkeenan [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31598-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-31599-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;25&nbsp;15:48:56&nbsp;2018</span>
    <span class="description">jkeenan [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> logs/smokecurrent/*.jsn file and web page not identifying all
 failing unit tests</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here is another case where there is a significant discrepancy between the data generated locally by a Test::Smoke run and what gets displayed on test-smoke.org.  This discrepancy may be due to a discrepancy in the logs/smokecurrent/* files on disk.

The web report in question is:

<span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.test-smoke.org/report/68034">http://perl5.test-smoke.org/report/68034</a></span>

&#40;Note: the branch is correctly identified as &#34;smoke-me/khw-sisyphus&#34;.&#41;

On that page, the failing tests are identified as:

#####
Test failures:
~~ ../lib/locale.t ............................................. FAILED 436-437
#####

So, looking at this you would think that only 2 unit tests in lib/locale.t FAILed.  But when I examine the log file I find that in each of the 36 configurations *5* unit tests failed in lib/locale.t.

#####
[smokecurrent] $ grep -c -E &#39;lib/locale.*FAILED&#39; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log
36
[smokecurrent] $ grep -n -A1 -E &#39;lib/locale.*FAILED&#39; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log |head -n 11
8560:[2018-07-25 01:57:20+0000] ../lib/locale.t.............................................FAILED
8561-[2018-07-25 01:57:20+0000]     436-437, 441, 444, 458
--
8578:[2018-07-25 02:01:59+0000] ../lib/locale.t.............................................FAILED
8579-[2018-07-25 02:01:59+0000]     436-437, 441, 444, 458
--
9311:[2018-07-25 02:12:55+0000] ../lib/locale.t.............................................FAILED
9312-[2018-07-25 02:12:55+0000]     436-437, 441, 444, 458
--
9329:[2018-07-25 02:18:20+0000] ../lib/locale.t.............................................FAILED
9330-[2018-07-25 02:18:20+0000]     436-437, 441, 444, 458
#####

The same results are recorded in the corresponding &#39;out&#39; file.

#####
$ grep -c -E &#39;lib/locale.*FAILED&#39; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out
36
[smokecurrent] $ grep -n -A1 &#39;lib/locale.*FAILED&#39; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out |head -n 11
19:../lib/locale.t.............................................FAILED
20-    436-437, 441, 444, 458
--
24:../lib/locale.t.............................................FAILED
25-    436-437, 441, 444, 458
--
36:../lib/locale.t.............................................FAILED
37-    436-437, 441, 444, 458
--
41:../lib/locale.t.............................................FAILED
42-    436-437, 441, 444, 458
#####

The same results are recorded in the corresponding &#39;rpt&#39; file.

#####
Tests skipped on user request:
    # One test name on a line
Failures: &#40;common-args&#41; -Doptimize=&#34;-O2 -pipe -fstack-protector -fno-strict-aliasing&#34;
[stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Duse64bitint
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Duse64bitint
[stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Duselongdouble
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Duselongdouble
[stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Dusemorebits
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34; -Dusemorebits
[stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
[stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
[stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
[stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
[stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
[stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
[stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
../lib/locale.t.............................................FAILED
    436-437, 441, 444, 458
#####

However, when I look at the corresponding &#39;jsn&#39; file, I see that only 2 of the 5 failing unit tests are being identified.  The following block appears 36 times in jsnd3bb03e0842cd3214922ab134a48314ee3fe2077.jsn.

#####
               &#34;failures&#34; : [
                  {
                     &#34;status&#34; : &#34;FAILED&#34;,
                     &#34;extra&#34; : [
                        &#34;436-437&#34;
                     ],
                     &#34;test&#34; : &#34;../lib/locale.t&#34;
                  }
               ],
#####

The failures in unit tests 441, 444, 458 in lib/locale.t never make it into the .jsn file.  Am I correct in thinking that the web page is composed from the .jsn file?  If so, then the problem is in the composition of the .jsn file on disk.  If not, then test-smoke.org is incorrectly processing whatever file it does get.

Do you know why this is occurring?

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction links AddLink even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Jul&nbsp;25&nbsp;15:54:23&nbsp;2018</span>
    <span class="description">jkeenan [...] cpan.org -  Reference to ticket #90612 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;15&nbsp;10:28:36&nbsp;2018</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Jul 25 15:48:56 2018, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Here is another case where there is a significant discrepancy between
&gt; the data generated locally by a Test::Smoke run and what gets
&gt; displayed on test-smoke.org.  This discrepancy may be due to a
&gt; discrepancy in the logs/smokecurrent/* files on disk.
&gt; 
&gt; The web report in question is:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.test-smoke.org/report/68034">http://perl5.test-smoke.org/report/68034</a></span>
&gt; 
&gt; &#40;Note: the branch is correctly identified as &#34;smoke-me/khw-sisyphus&#34;.&#41;
&gt; 
&gt; On that page, the failing tests are identified as:
&gt; 
&gt; #####
&gt; Test failures:
&gt; ~~ ../lib/locale.t .............................................
&gt; FAILED 436-437
&gt; #####
&gt; 
&gt; So, looking at this you would think that only 2 unit tests in
&gt; lib/locale.t FAILed.  But when I examine the log file I find that in
&gt; each of the 36 configurations *5* unit tests failed in lib/locale.t.
&gt; 
&gt; #####
&gt; [smokecurrent] $ grep -c -E &#39;lib/locale.*FAILED&#39;
&gt; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log
&gt; 36
&gt; [smokecurrent] $ grep -n -A1 -E &#39;lib/locale.*FAILED&#39;
&gt; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log |head -n 11
&gt; 8560:[2018-07-25 01:57:20+0000]
&gt; ../lib/locale.t.............................................FAILED
&gt; 8561-[2018-07-25 01:57:20+0000]     436-437, 441, 444, 458
&gt; --
&gt; 8578:[2018-07-25 02:01:59+0000]
&gt; ../lib/locale.t.............................................FAILED
&gt; 8579-[2018-07-25 02:01:59+0000]     436-437, 441, 444, 458
&gt; --
&gt; 9311:[2018-07-25 02:12:55+0000]
&gt; ../lib/locale.t.............................................FAILED
&gt; 9312-[2018-07-25 02:12:55+0000]     436-437, 441, 444, 458
&gt; --
&gt; 9329:[2018-07-25 02:18:20+0000]
&gt; ../lib/locale.t.............................................FAILED
&gt; 9330-[2018-07-25 02:18:20+0000]     436-437, 441, 444, 458
&gt; #####
&gt; 
&gt; The same results are recorded in the corresponding &#39;out&#39; file.
&gt; 
&gt; #####
&gt; $ grep -c -E &#39;lib/locale.*FAILED&#39;
&gt; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out
&gt; 36
&gt; [smokecurrent] $ grep -n -A1 &#39;lib/locale.*FAILED&#39;
&gt; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out |head -n 11
&gt; 19:../lib/locale.t.............................................FAILED
&gt; 20-    436-437, 441, 444, 458
&gt; --
&gt; 24:../lib/locale.t.............................................FAILED
&gt; 25-    436-437, 441, 444, 458
&gt; --
&gt; 36:../lib/locale.t.............................................FAILED
&gt; 37-    436-437, 441, 444, 458
&gt; --
&gt; 41:../lib/locale.t.............................................FAILED
&gt; 42-    436-437, 441, 444, 458
&gt; #####
&gt; 
&gt; The same results are recorded in the corresponding &#39;rpt&#39; file.
&gt; 
&gt; #####
&gt; Tests skipped on user request:
&gt;     # One test name on a line
&gt; Failures: &#40;common-args&#41; -Doptimize=&#34;-O2 -pipe -fstack-protector -fno-
&gt; strict-aliasing&#34;
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; -Duse64bitint
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; arguments&#34; -Duse64bitint
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; -Duselongdouble
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; arguments&#34; -Duselongdouble
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; -Dusemorebits
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; arguments&#34; -Dusemorebits
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
&gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
&gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
&gt; ../lib/locale.t.............................................FAILED
&gt;     436-437, 441, 444, 458
&gt; #####
&gt; 
&gt; However, when I look at the corresponding &#39;jsn&#39; file, I see that only
&gt; 2 of the 5 failing unit tests are being identified.  The following
&gt; block appears 36 times in
&gt; jsnd3bb03e0842cd3214922ab134a48314ee3fe2077.jsn.
&gt; 
&gt; #####
&gt; &#34;failures&#34; : [
&gt;    {
&gt;       &#34;status&#34; : &#34;FAILED&#34;,
&gt;       &#34;extra&#34; : [
&gt;          &#34;436-437&#34;
&gt;       ],
&gt;       &#34;test&#34; : &#34;../lib/locale.t&#34;
&gt;    }
&gt; ],
&gt; #####
&gt; 
&gt; The failures in unit tests 441, 444, 458 in lib/locale.t never make it
&gt; into the .jsn file.  Am I correct in thinking that the web page is
&gt; composed from the .jsn file?  If so, then the problem is in the
&gt; composition of the .jsn file on disk.  If not, then test-smoke.org is
&gt; incorrectly processing whatever file it does get.
&gt; 
&gt; Do you know why this is occurring?
&gt; 
&gt; Thank you very much.
&gt; Jim Keenan
</div>
I have filed a pull request correcting this problem at:

<span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/abeltje/Test-Smoke/pull/41">https://github.com/abeltje/Test-Smoke/pull/41</a></span>

Please review and, if satisfactory, apply to master and issue a new CPAN release at your earliest opportunity.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;14&nbsp;12:30:56&nbsp;2018</span>
    <span class="description">jkeenan [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 15 10:28:36 2018, JKEENAN wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Wed Jul 25 15:48:56 2018, JKEENAN wrote:
<div class="message-stanza open">&gt; &gt; Here is another case where there is a significant discrepancy between
&gt; &gt; the data generated locally by a Test::Smoke run and what gets
&gt; &gt; displayed on test-smoke.org.  This discrepancy may be due to a
&gt; &gt; discrepancy in the logs/smokecurrent/* files on disk.
&gt; &gt;
&gt; &gt; The web report in question is:
&gt; &gt;
&gt; &gt; <span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.test-smoke.org/report/68034">http://perl5.test-smoke.org/report/68034</a></span>
&gt; &gt;
&gt; &gt; &#40;Note: the branch is correctly identified as &#34;smoke-me/khw-
&gt; &gt; sisyphus&#34;.&#41;
&gt; &gt;
&gt; &gt; On that page, the failing tests are identified as:
&gt; &gt;
&gt; &gt; #####
&gt; &gt; Test failures:
&gt; &gt; ~~ ../lib/locale.t .............................................
&gt; &gt; FAILED 436-437
&gt; &gt; #####
&gt; &gt;
&gt; &gt; So, looking at this you would think that only 2 unit tests in
&gt; &gt; lib/locale.t FAILed.  But when I examine the log file I find that in
&gt; &gt; each of the 36 configurations *5* unit tests failed in lib/locale.t.
&gt; &gt;
&gt; &gt; #####
&gt; &gt; [smokecurrent] $ grep -c -E &#39;lib/locale.*FAILED&#39;
&gt; &gt; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log
&gt; &gt; 36
&gt; &gt; [smokecurrent] $ grep -n -A1 -E &#39;lib/locale.*FAILED&#39;
&gt; &gt; logd3bb03e0842cd3214922ab134a48314ee3fe2077.log |head -n 11
&gt; &gt; 8560:[2018-07-25 01:57:20+0000]
&gt; &gt; ../lib/locale.t.............................................FAILED
&gt; &gt; 8561-[2018-07-25 01:57:20+0000]     436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 8578:[2018-07-25 02:01:59+0000]
&gt; &gt; ../lib/locale.t.............................................FAILED
&gt; &gt; 8579-[2018-07-25 02:01:59+0000]     436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 9311:[2018-07-25 02:12:55+0000]
&gt; &gt; ../lib/locale.t.............................................FAILED
&gt; &gt; 9312-[2018-07-25 02:12:55+0000]     436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 9329:[2018-07-25 02:18:20+0000]
&gt; &gt; ../lib/locale.t.............................................FAILED
&gt; &gt; 9330-[2018-07-25 02:18:20+0000]     436-437, 441, 444, 458
&gt; &gt; #####
&gt; &gt;
&gt; &gt; The same results are recorded in the corresponding &#39;out&#39; file.
&gt; &gt;
&gt; &gt; #####
&gt; &gt; $ grep -c -E &#39;lib/locale.*FAILED&#39;
&gt; &gt; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out
&gt; &gt; 36
&gt; &gt; [smokecurrent] $ grep -n -A1 &#39;lib/locale.*FAILED&#39;
&gt; &gt; outd3bb03e0842cd3214922ab134a48314ee3fe2077.out |head -n 11
&gt; &gt; 19:../lib/locale.t.............................................FAILED
&gt; &gt; 20-    436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 24:../lib/locale.t.............................................FAILED
&gt; &gt; 25-    436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 36:../lib/locale.t.............................................FAILED
&gt; &gt; 37-    436-437, 441, 444, 458
&gt; &gt; --
&gt; &gt; 41:../lib/locale.t.............................................FAILED
&gt; &gt; 42-    436-437, 441, 444, 458
&gt; &gt; #####
&gt; &gt;
&gt; &gt; The same results are recorded in the corresponding &#39;rpt&#39; file.
&gt; &gt;
&gt; &gt; #####
&gt; &gt; Tests skipped on user request:
&gt; &gt;     # One test name on a line
&gt; &gt; Failures: &#40;common-args&#41; -Doptimize=&#34;-O2 -pipe -fstack-protector -fno-
&gt; &gt; strict-aliasing&#34;
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; &gt; -Duse64bitint
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; &gt; arguments&#34; -Duse64bitint
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; &gt; -Duselongdouble
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; &gt; arguments&#34; -Duselongdouble
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;clang -Qunused-arguments&#34;
&gt; &gt; -Dusemorebits
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;clang -Qunused-
&gt; &gt; arguments&#34; -Dusemorebits
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duse64bitint
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Duselongdouble
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;g++&#34; -Dusemorebits
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duse64bitint
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Duselongdouble
&gt; &gt; [stdio/perlio] -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
&gt; &gt; [stdio/perlio] -DDEBUGGING -Duseithreads -Dcc=&#34;gcc&#34; -Dusemorebits
&gt; &gt; ../lib/locale.t.............................................FAILED
&gt; &gt;     436-437, 441, 444, 458
&gt; &gt; #####
&gt; &gt;
&gt; &gt; However, when I look at the corresponding &#39;jsn&#39; file, I see that only
&gt; &gt; 2 of the 5 failing unit tests are being identified.  The following
&gt; &gt; block appears 36 times in
&gt; &gt; jsnd3bb03e0842cd3214922ab134a48314ee3fe2077.jsn.
&gt; &gt;
&gt; &gt; #####
&gt; &gt; &#34;failures&#34; : [
&gt; &gt;    {
&gt; &gt;       &#34;status&#34; : &#34;FAILED&#34;,
&gt; &gt;       &#34;extra&#34; : [
&gt; &gt;          &#34;436-437&#34;
&gt; &gt;       ],
&gt; &gt;       &#34;test&#34; : &#34;../lib/locale.t&#34;
&gt; &gt;    }
&gt; &gt; ],
&gt; &gt; #####
&gt; &gt;
&gt; &gt; The failures in unit tests 441, 444, 458 in lib/locale.t never make
&gt; &gt; it
&gt; &gt; into the .jsn file.  Am I correct in thinking that the web page is
&gt; &gt; composed from the .jsn file?  If so, then the problem is in the
&gt; &gt; composition of the .jsn file on disk.  If not, then test-smoke.org is
&gt; &gt; incorrectly processing whatever file it does get.
&gt; &gt;
&gt; &gt; Do you know why this is occurring?
&gt; &gt;
&gt; &gt; Thank you very much.
&gt; &gt; Jim Keenan
</div>&gt; 
&gt; I have filed a pull request correcting this problem at:
&gt; 
&gt; <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/abeltje/Test-Smoke/pull/41">https://github.com/abeltje/Test-Smoke/pull/41</a></span>
&gt; 
&gt; Please review and, if satisfactory, apply to master and issue a new
&gt; CPAN release at your earliest opportunity.
&gt; 
</div>
Today I am evaluating Test-Smoke-1.72_06.  On the basis of a comparison between this smoke test report:

<span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.test-smoke.org/report/68034">http://perl5.test-smoke.org/report/68034</a></span>

and this smoke-test report:

<span class="clickylink"><a target="new" rel="nofollow" href="http://perl5.test-smoke.org/report/74020">http://perl5.test-smoke.org/report/74020</a></span>

... I infer that 1.72_06 addresses the problem.

This ticket will be closable once a new production release of Test-Smoke that includes this correction is made.

Thank you very much.
Jim Keenan
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
