<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #4702 for CPANPLUS: Declining sending test results for a distribution prevents me from *ever* sending results for that distribution</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #4702 for CPANPLUS: Declining sending test results for a distribution prevents me from *ever* sending results for that distribution</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=CPANPLUS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=CPANPLUS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=CPANPLUS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=CPANPLUS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/CPANPLUS">CPANPLUS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">4702</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=CPANPLUS">CPANPLUS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
daxelrod-cpanplus-rt [...] cpan.danonline.net

<br />
RSOD [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-8270-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.048    </td>
  </tr>
  <tr id="CF-8271-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=4702">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93902" href="/Public/Bug/Display.html?id=4702#txn-93902">#</a>      
    </span>
    <span class="date">Wed&nbsp;Dec&nbsp;17&nbsp;18:55:07&nbsp;2003</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Declining sending test results for a distribution prevents me
    from *ever* sending results for that distribution</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/93902/14508/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/14508">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.7k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">If I tell CPANPLUS not to report the testing result for a module to CPAN Testers, it causes CPANPLUS to think I *have* sent results for this module, even though it does not send them. This means that it will not allow me to send results of a subsequent test of that module distribution.

To reproduce:
0. Make sure the configuration option &#39;cpantest&#39; is set to &#39;1&#39;, and that CPANPLUS has the necessary prerequisites to send test reports to CPAN-Testers.
1. Install any module using cpanplus, default shell, by typing &#34;i Module::Name&#34;, where Module::Name is any module.
2. When CPANPLUS asks &#34;Report Module-Name-0.01&#39;s testing result?&#34;, answer &#34;n&#34;. No report will be sent, which is the correct behavior.
3. Type &#34;t Module::Name&#34;.

In fact, you can trigger this behavior whenever you test a module, decline to send the test results, and then test it again.

Expected Result:
Once the module is done being tested, CPANPLUS *again* asks &#34;Report Module-Name-0.01&#39;s testing result?&#34;, because Module-Name-0.01&#39;s testing result has not yet been sent to CPAN Testers.

Observed Result:
Once the module is done being tested again, CPANPLUS says &#34;You have already sent a report for Module-Name-0.01, skipping.&#34; and does not give me the option of sending a report.

This becomes a problem when a module fails to install because of some mistake of mine, rather than the author&#39;s. I decline to send a bogus report that the module has failed. I then fix my mistake, and rerun the module install. CPANPLUS will not allow me to report the module&#39;s testing result this time around, even though I never reported the test results.

CPANPLUS is a wonderful, wonderful module, and a pleasure to use. Thank you for developing it.

A transcript:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">_________________
[Max:~] qwertyd% perl -v
This is perl, v5.6.0 built for darwin
[Max:~] qwertyd% uname -a
Darwin Max.local. 6.5 Darwin Kernel Version 6.5: Mon Apr  7 17:05:38 PDT 2003; root:xnu/xnu-344.32.obj~1/RELEASE_PPC  Power Macintosh powerpc
[Max:~] qwertyd% cpanp
CPANPLUS::Shell::Default -- CPAN exploration and modules installation &#40;v0.03&#41;
*** Please report bugs to &lt;cpanplus-bugs@lists.sourceforge.net&gt;.
*** Using CPANPLUS::Backend v0.048.  ReadLine support enabled.

CPAN Terminal&gt; i Acme::Tango
Checking if source files are up to date
Retrieving /Users/qwertyd/.cpanplus/mailrc.2.08.stored
Retrieving /Users/qwertyd/.cpanplus/dslip.2.08.stored
Retrieving /Users/qwertyd/.cpanplus/packages.2.08.stored
Installing: Acme::Tango
  #...Snip....
Report Acme-Tango-0.04&#39;s testing result &#40;PASS&#41;?:  [y/N]: n
Successfully installed Acme::Tango
All modules installed successfully
CPAN Terminal&gt; t Acme::Tango
Testing: Acme::Tango
  #...Snip....
You have already sent a report for Acme-Tango-0.04, skipping.
Successfully tested Acme::Tango
All modules tested successfully
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93903" href="/Public/Bug/Display.html?id=4702#txn-93903">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;04&nbsp;14:58:43&nbsp;2004</span>
    <span class="description">Guest -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> A lot of things prevents me from *ever* sending results for that
 distribution</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> rrwo [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/93903/19605/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/19605">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">[guest - Wed Dec 17 18:55:07 2003]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If I tell CPANPLUS not to report the testing result for a module to
&gt;    CPAN Testers, it causes CPANPLUS to think I *have* sent results for
&gt;    this module, even though it does not send them. This means that it
&gt;    will not allow me to send results of a subsequent test of that
&gt;    module distribution.
</div>
Similarly, if CPANPLUS decides on its own not to send a test result, it
marks the test result as having been sent already.

And, if a test result has failed &#40;and been sent out&#41;, and one re-runs
the test successfully after diagnosing the problem &#40;suppose a prereq was
not installed, but one sent the test report out anyway&#41;, one cannot send
the new test result out.

And, if a test result bombs completely &#40;unable to compile C code, or
failed pre-reqs&#41; and skips sending the test out, one is unable to send
any tests out for other modules one tests... it will always say problem
with prereqs and skipping.  One has to quit CPANPLUS and re-enter it.

And &#40;mentioned in a closed issue&#41;, if the send fails due to a problem
with Test::Reporter or Mail::Mailer, it assumes the test has been sent
out and will not let one resend the test.

A workaround should at least let one use a special command to resend
test results, with maybe a check against website and an &#34;Are you really
really really sure?&#34; question or two.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93904" href="/Public/Bug/Display.html?id=4702#txn-93904">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;04&nbsp;18:39:03&nbsp;2004</span>
    <span class="description">RSOD [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/93904/25499/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/25499">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">As of 0.050_02 &#40;not out yet&#41;, t --force Acme::Tango submits the test
results every time.

 - R.

[guest - Fri Jun  4 14:58:43 2004]:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; [guest - Wed Dec 17 18:55:07 2003]:
&gt; 
<div class="message-stanza open">&gt; &gt; If I tell CPANPLUS not to report the testing result for a module to
&gt; &gt;    CPAN Testers, it causes CPANPLUS to think I *have* sent results for
&gt; &gt;    this module, even though it does not send them. This means that it
&gt; &gt;    will not allow me to send results of a subsequent test of that
&gt; &gt;    module distribution.
</div>&gt; 
&gt; Similarly, if CPANPLUS decides on its own not to send a test result, it
&gt; marks the test result as having been sent already.
&gt; 
&gt; And, if a test result has failed &#40;and been sent out&#41;, and one re-runs
&gt; the test successfully after diagnosing the problem &#40;suppose a prereq was
&gt; not installed, but one sent the test report out anyway&#41;, one cannot send
&gt; the new test result out.
&gt; 
&gt; And, if a test result bombs completely &#40;unable to compile C code, or
&gt; failed pre-reqs&#41; and skips sending the test out, one is unable to send
&gt; any tests out for other modules one tests... it will always say problem
&gt; with prereqs and skipping.  One has to quit CPANPLUS and re-enter it.
&gt; 
&gt; And &#40;mentioned in a closed issue&#41;, if the send fails due to a problem
&gt; with Test::Reporter or Mail::Mailer, it assumes the test has been sent
&gt; out and will not let one resend the test.
&gt; 
&gt; A workaround should at least let one use a special command to resend
&gt; test results, with maybe a check against website and an &#34;Are you really
&gt; really really sure?&#34; question or two.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93905" href="/Public/Bug/Display.html?id=4702#txn-93905">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;04&nbsp;18:40:51&nbsp;2004</span>
    <span class="description">RSOD [...] cpan.org -  Requestor RSOD added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-93906" href="/Public/Bug/Display.html?id=4702#txn-93906">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;04&nbsp;18:45:50&nbsp;2004</span>
    <span class="description">kane [...] cpan.org -  Status changed from &#39;new&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.313925</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
