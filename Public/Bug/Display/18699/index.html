<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #18699 for Net-SNMP: Problems with Octet string values</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #18699 for Net-SNMP: Problems with Octet string values</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Net-SNMP/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Net-SNMP/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Net-SNMP/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Net-SNMP/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Net-SNMP">Net-SNMP CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">18699</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="time worked">
    <td class="label">Worked:</td>
    <td class="value">10 min

</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Net-SNMP/Active/">Net-SNMP</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">dtown [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
aidas [...] elekta.lt

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-23238-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
5.2.0    </td>
  </tr>
  <tr id="CF-23239-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;09:07:27&nbsp;2006</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Problems with Octet string values</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

 i&#39;ve got that problem with D-Link switch&#39;es. OID - SNMPv2-SMI::mib-
2.17.7.1.3.1.1.3.1 &#40;.iso.org.dod.internet.mgmt.mib-
2.dot1dBridge.qBridgeMIB.qBridgeMIBObjects.dot1qStatic.dot1qStaticUnica
stTable&#41;

Labb

uname -a
FreeBSD unix.server 4.11-STABLE FreeBSD 4.11-STABLE #3: Thu Nov  3 
12:05:50 EET 2005 /usr/obj/usr/src/sys/GENERIC i386

------------------------------------------------------------------
## Version of the Net::SNMP module

our $VERSION = v5.2.0;

------------------------------------------------------------------
perl -V
Summary of my perl5 &#40;revision 5 version 8 subversion 6&#41; configuration:
  Platform:
    osname=freebsd, osvers=4.11-stable, archname=i386-freebsd-thread-
multi-64int
    uname=&#39;freebsd aps.elekta.lt 4.11-stable freebsd 4.11-stable #1: 
fri mar 4 11:53:35 eet 2005 root@aps.elekta.lt:usrobjusrsrcsysgeneric 
i386 &#39;
    config_args=&#39;-sde -Dprefix=/usr/local -
Darchlib=/usr/local/lib/perl5/5.8.6/mach -
Dprivlib=/usr/local/lib/perl5/5.8.6 -
Dman3dir=/usr/local/lib/perl5/5.8.6/perl/man/man3 -
Dman1dir=/usr/local/man/man1 -
Dsitearch=/usr/local/lib/perl5/site_perl/5.8.6/mach -
Dsitelib=/usr/local/lib/perl5/site_perl/5.8.6 -
Dscriptdir=/usr/local/bin -
Dsiteman3dir=/usr/local/lib/perl5/5.8.6/man/man3 -
Dsiteman1dir=/usr/local/man/man1 -Ui_malloc -Ui_iconv -
Uinstallusrbinperl -Dcc=cc -Doptimize=-O -pipe  -Duseshrplib -
Dccflags=-DAPPLLIB_EXP=&#34;/usr/local/lib/perl5/5.8.6/BSDPAN&#34; -Ud_dosuid -
Di_gdbm -Dusethreads=y -Dusemymalloc=n -Duse64bitint&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define 
usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=define use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-
DAPPLLIB_EXP=&#34;/usr/local/lib/perl5/5.8.6/BSDPAN&#34; -D_THREAD_SAFE -
DHAS_FPSETMASK -DHAS_FLOATINGPOINT_H -fno-strict-aliasing -pipe -
I/usr/local/include&#39;,
    optimize=&#39;-O -pipe &#39;,
    cppflags=&#39;-DAPPLLIB_EXP=&#34;/usr/local/lib/perl5/5.8.6/BSDPAN&#34; -
D_THREAD_SAFE -DHAS_FPSETMASK -DHAS_FLOATINGPOINT_H -fno-strict-
aliasing -pipe -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;2.95.4 20020320 [FreeBSD]&#39;, 
gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long long&#39;, ivsize=8, nvtype=&#39;double&#39;, nvsize=8, 
Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;-pthread -Wl,-E -L/usr/local/lib&#39;
    libpth=/usr/lib /usr/local/lib
    libs=-lgdbm -lm -lcrypt -lutil
    perllibs=-lm -lcrypt -lutil
    libc=, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;  -Wl,-
R/usr/local/lib/perl5/5.8.6/mach/CORE&#39;
    cccdlflags=&#39;-DPIC -fPIC&#39;, lddlflags=&#39;-shared  -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY USE_ITHREADS USE_64_BIT_INT 
USE_LARGE_FILES PERL_IMPLICIT_CONTEXT
  Locally applied patches:
        SUIDPERLIO0 - fix PERLIO_DEBUG local root exploit &#40;CAN-2005-
0155&#41;
        SUIDPERLIO1 - fix PERLIO_DEBUG buffer overflow &#40;CAN-2005-0156&#41;
  Built under freebsd
  Compiled at Mar  7 2005 13:39:05
  @INC:
    /usr/local/lib/perl5/site_perl/5.8.6/mach
    /usr/local/lib/perl5/site_perl/5.8.6
    /usr/local/lib/perl5/site_perl
    /usr/local/lib/perl5/5.8.6/BSDPAN
    /usr/local/lib/perl5/5.8.6/mach
    /usr/local/lib/perl5/5.8.6


------------------------------------------------------------------

from tcpdump:

tcpdump: listening on em0
15:49:33.375488 unix.server.2694 &gt; dlink.switch.snmp:  C=Private 
GetRequest&#40;26&#41;  system.sysUpTime.0
15:49:33.376877 dlink.switch.snmp &gt; unix.server.2694:  C=Private 
GetResponse&#40;31&#41;  system.sysUpTime.0=1283974
15:49:33.386173 unix.server.2694 &gt; dlink.switch.snmp:  C=Private 
GetRequest&#40;38&#41;  17.7.1.3.1.1.3.1.0.13.97.30.126.13.0
15:49:33.389128 dlink.switch.snmp &gt; unix.server.2694:  C=Private 
GetResponse&#40;44&#41;  17.7.1.3.1.1.3.1.0.13.97.30.126.13.0=00_20_00_00

------------------------------------------------------------------

from Net::SNMP debugger:

perl upgrade.pl
debug: [448] Net::SNMP::Dispatcher::_event_insert&#40;&#41;: created new head 
and tail [ARRAY&#40;0x8084eac&#41;]
debug: [593] Net::SNMP::Dispatcher::_event_handle&#40;&#41;: event [ARRAY
&#40;0x8084eac&#41;], poll delay = 0.000000
debug: [646] Net::SNMP::Message::send&#40;&#41;: transport address 
dlink.switch:161
debug: [1896] Net::SNMP::Message::_buffer_dump&#40;&#41;: 55 bytes
[0000]  30 35 02 01  01 04 08 65  6C 65 6B 74  61 43 46 A0   
05.....Private.
[0016]  26 02 02 16  3E 02 01 00  02 01 00 30  1A 30 18 06   
&#38;...&gt;......0.0..
[0032]  14 2B 06 01  02 01 11 07  01 03 01 01  03 01 00 
0D   .+..............
[0048]  61 1E 7E 0D  00 05 00                                a.~....
debug: [202] Net::SNMP::Dispatcher::register&#40;&#41;: adding descriptor [5]
debug: [471] Net::SNMP::Dispatcher::_event_insert&#40;&#41;: modified tail 
[ARRAY&#40;0x8084c9c&#41;]
debug: [542] Net::SNMP::Dispatcher::_event_delete&#40;&#41;: deleted [ARRAY
&#40;0x8084eac&#41;], defined new head [ARRAY&#40;0x8084c9c&#41;]
debug: [593] Net::SNMP::Dispatcher::_event_handle&#40;&#41;: event [ARRAY
&#40;0x8084c9c&#41;], poll delay = 1.999861
debug: [645] Net::SNMP::Dispatcher::_event_select&#40;&#41;: descriptor [5] 
ready for read
debug: [670] Net::SNMP::Message::recv&#40;&#41;: transport address 
dlink.switch:161
debug: [1896] Net::SNMP::Message::_buffer_dump&#40;&#41;: 65 bytes
[0000]  30 82 00 3D  02 01 01 04  08 65 6C 65  6B 74 61 43   
0..=.....elektaC
[0016]  46 A2 82 00  2C 02 02 16  3E 02 01 00  02 01 00 30   
F...,...&gt;......0
[0032]  82 00 1E 30  1C 06 14 2B  06 01 02 01  11 07 01 
03   ...0...+........
[0048]  01 01 03 01  00 0D 61 1E  7E 0D 00 04  04 00 20 
00   ......a.~..... .
[0064]  00                                                   .
debug: [953] Net::SNMP::PDU::_process_var_bind_list&#40;&#41;: { 
1.3.6.1.2.1.17.7.1.3.1.1.3.1.0.13.97.30.126.13.0 =&gt; OCTET STRING:   }
debug: [524] Net::SNMP::Dispatcher::_event_delete&#40;&#41;: deleted [ARRAY
&#40;0x8084c9c&#41;], list is now empty
debug: [241] Net::SNMP::Dispatcher::deregister&#40;&#41;: removing descriptor 
[5]
1.3.6.1.2.1.17.7.1.3.1.1.3.1.0.13.97.30.126.13.0 =&gt;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Give even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;13:48:05&nbsp;2006</span>
    <span class="description">dtown [...] cpan.org -  Given to DTOWN</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;13:48:53&nbsp;2006</span>
    <span class="description">dtown [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;14:19:59&nbsp;2006</span>
    <span class="description">dtown [...] cpan.org -  Correspondence added</span>
    <span class="time-taken">10 min</span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">What you are seeing is the expected behavior of the module. The
Net::SNMP module has translation enabled by default. When an OCTET
STRING is received, the contents of the string are checked to make
sure that all octets are printable. If any octet is not printable,
the string is translated into the hexadecimal representation. The
key factor here is &#34;What is printable?&#34;.

0x00200000

00 - NUL &lt;considered printable by the module&gt;
20 - &#39; &#39; &lt;space&gt;
00 - NUL &lt;considered printable by the module&gt;
00 - NUL &lt;considered printable by the module&gt;

The OCTET STRING in question contains all printable characters &#40;as
defined by the module&#41;, so no translation takes place.

From the documentation:

When the object decodes the GetResponse-PDU that is returned in response
to a SNMP message, certain values are translated into a more ``human
readable&#39;&#39; form. By default the following translations occur:

* OCTET STRINGs and Opaques containing non-printable ASCII characters
are converted into a hexadecimal representation prefixed with ``0x&#39;&#39;.
NOTE: The following ASCII control characters are considered to be
printable by the module: NUL&#40;0x00&#41;, HT&#40;0x09&#41;, LF&#40;0x0A&#41;, FF&#40;0x0C&#41;, and
CR&#40;0x0D&#41;.

If you know the &#34;type&#34; of the value to you will be querying, I usually
recommend to users that they disable translation and do their own.


====

&#40;$session, $error&#41; = Net::SNMP-&gt;session&#40;
   ...
   -translate =&gt; [-octetstring =&gt; 0x0],
   ...
&#41;;

...

$oid = &#34;&lt;your OID&gt;&#34;;
$response = $session-&gt;get_request&#40;-varbindlist =&gt; [$oid]&#41;;
printf&#40;&#34;%s: %s\n&#34;, $oid, _format&#40;$response-&gt;{$oid}&#41;&#41;;

...

sub _format
{
   sprintf&#40;&#39;0x%s&#39;, unpack&#40;&#39;H*&#39;, $_[0]&#41;&#41;;
}

====

-David
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Apr&nbsp;13&nbsp;14:20:00&nbsp;2006</span>
    <span class="description">dtown [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
