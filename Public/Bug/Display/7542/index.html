<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #7542 for IO-String: seek&#40;&#41; method should return 1 upon success, 0 otherwise.</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #7542 for IO-String: seek&#40;&#41; method should return 1 upon success, 0 otherwise.</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/IO-String/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/IO-String/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/IO-String/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/IO-String/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/IO-String">IO-String CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">7542</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/IO-String/Active/">IO-String</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
kurtb149 [...] yahoo.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-17236-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.05    </td>
  </tr>
  <tr id="CF-17237-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Sep&nbsp;01&nbsp;23:44:18&nbsp;2004</span>
    <span class="description">Guest -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> seek&#40;&#41; method should return 1 upon success, 0 otherwise.</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I am using perl v5.8.5 that I build on Fedora Core 2 Linux.

I could not get IO::String to work with the Archive::Zip method readFromFileHandle&#40;&#41;. The problem is that Archive::Zip expects seek&#40;&#41; to return a &#34;status&#34; of 1 for success, 0 otherwise.

IO::Seekable specifies that the seek&#40;&#41; method returns 1 upon success, 0 otherwise: So I think the Archive::Zip class is correct to examine the return value of seek&#40;&#41;.

I have attached a slightly modifed 1.05 version of String.pm that does return the &#34;status&#34; from seek&#40;&#41;.

Kurt M. Brown
kurtb149@yahoo.com
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">package IO::String;

# Copyright 1998-2004 Gisle Aas.
#
# This library is free software; you can redistribute it and/or
# modify it under the same terms as Perl itself.

require 5.005_03;
use strict;
use vars qw&#40;$VERSION $DEBUG $IO_CONSTANTS&#41;;
$VERSION = &#34;1.05&#34;;  # $Date: 2004/04/01 11:32:51 $

use Symbol &#40;&#41;;

sub new
{
    my $class = shift;
    my $self = bless Symbol::gensym&#40;&#41;, ref&#40;$class&#41; || $class;
    tie *$self, $self;
    $self-&gt;open&#40;@_&#41;;
    $self;
}

sub open
{
    my $self = shift;
    return $self-&gt;new&#40;@_&#41; unless ref&#40;$self&#41;;

    if &#40;@_&#41; {
	my $bufref = ref&#40;$_[0]&#41; ? $_[0] : \$_[0];
	$$bufref = &#34;&#34; unless defined $$bufref;
	*$self-&gt;{buf} = $bufref;
    }
    else {
	my $buf = &#34;&#34;;
	*$self-&gt;{buf} = \$buf;
    }
    *$self-&gt;{pos} = 0;
    *$self-&gt;{lno} = 0;
    $self;
}

sub pad
{
    my $self = shift;
    my $old = *$self-&gt;{pad};
    *$self-&gt;{pad} = substr&#40;$_[0], 0, 1&#41; if @_;
    return &#34;\0&#34; unless defined&#40;$old&#41; &#38;&#38; length&#40;$old&#41;;
    $old;
}

sub dump
{
    require Data::Dumper;
    my $self = shift;
    print Data::Dumper-&gt;Dump&#40;[$self], [&#39;*self&#39;]&#41;;
    print Data::Dumper-&gt;Dump&#40;[*$self{HASH}], [&#39;$self{HASH}&#39;]&#41;;
}

sub TIEHANDLE
{
    print &#34;TIEHANDLE @_\n&#34; if $DEBUG;
    return $_[0] if ref&#40;$_[0]&#41;;
    my $class = shift;
    my $self = bless Symbol::gensym&#40;&#41;, $class;
    $self-&gt;open&#40;@_&#41;;
    $self;
}

sub DESTROY
{
    print &#34;DESTROY @_\n&#34; if $DEBUG;
}

sub close
{
    my $self = shift;
    delete *$self-&gt;{buf};
    delete *$self-&gt;{pos};
    delete *$self-&gt;{lno};
    if &#40;$] &gt;= 5.006 &#38;&#38; $[ &lt; 5.007&#41; {
	# perl-5.6.x segfaults on untie, so avoid it
    }
    else {
	untie *$self;
	undef *$self;
    }
    $self;
}

sub opened
{
    my $self = shift;
    defined *$self-&gt;{buf};
}

sub getc
{
    my $self = shift;
    my $buf;
    return $buf if $self-&gt;read&#40;$buf, 1&#41;;
    return undef;
}

sub ungetc
{
    my $self = shift;
    $self-&gt;setpos&#40;$self-&gt;getpos&#40;&#41; - 1&#41;
}

sub eof
{
    my $self = shift;
    length&#40;${*$self-&gt;{buf}}&#41; &lt;= *$self-&gt;{pos};
}

sub print
{
    my $self = shift;
    if &#40;defined $\&#41; {
	if &#40;defined $,&#41; {
	    $self-&gt;write&#40;join&#40;$,, @_&#41;.$\&#41;;
	}
	else {
	    $self-&gt;write&#40;join&#40;&#34;&#34;,@_&#41;.$\&#41;;
	}
    }
    else {
	if &#40;defined $,&#41; {
	    $self-&gt;write&#40;join&#40;$,, @_&#41;&#41;;
	}
	else {
	    $self-&gt;write&#40;join&#40;&#34;&#34;,@_&#41;&#41;;
	}
    }
}
*printflush = \*print;

sub printf
{
    my $self = shift;
    print &#34;PRINTF&#40;@_&#41;\n&#34; if $DEBUG;
    my $fmt = shift;
    $self-&gt;write&#40;sprintf&#40;$fmt, @_&#41;&#41;;
}


my&#40;$SEEK_SET, $SEEK_CUR, $SEEK_END&#41;;

sub _init_seek_constants
{
    if &#40;$IO_CONSTANTS&#41; {
	require IO::Handle;
	$SEEK_SET = &#38;IO::Handle::SEEK_SET;
	$SEEK_CUR = &#38;IO::Handle::SEEK_CUR;
	$SEEK_END = &#38;IO::Handle::SEEK_END;
    }
    else {
	$SEEK_SET = 0;
	$SEEK_CUR = 1;
	$SEEK_END = 2;
    }
}


sub seek
{
    my&#40;$self,$off,$whence&#41; = @_;
    my $buf = *$self-&gt;{buf} || return 0;
    my $len = length&#40;$$buf&#41;;
    my $pos = *$self-&gt;{pos};

    _init_seek_constants&#40;&#41; unless defined $SEEK_SET;

    if    &#40;$whence == $SEEK_SET&#41; { $pos = $off }
    elsif &#40;$whence == $SEEK_CUR&#41; { $pos += $off }
    elsif &#40;$whence == $SEEK_END&#41; { $pos = $len + $off }
    else                         { die &#34;Bad whence &#40;$whence&#41;&#34; }
    print &#34;SEEK&#40;POS=$pos,OFF=$off,LEN=$len&#41;\n&#34; if $DEBUG;

    $pos = 0 if $pos &lt; 0;
    $self-&gt;truncate&#40;$pos&#41; if $pos &gt; $len;  # extend file
    *$self-&gt;{pos} = $pos;
    return 1;
}

sub pos
{
    my $self = shift;
    my $old = *$self-&gt;{pos};
    if &#40;@_&#41; {
	my $pos = shift || 0;
	my $buf = *$self-&gt;{buf};
	my $len = $buf ? length&#40;$$buf&#41; : 0;
	$pos = $len if $pos &gt; $len;
	*$self-&gt;{pos} = $pos;
    }
    $old;
}

sub getpos { shift-&gt;pos; }

*sysseek = \&#38;seek;
*setpos  = \&#38;pos;
*tell    = \&#38;getpos;



sub getline
{
    my $self = shift;
    my $buf  = *$self-&gt;{buf} || return;
    my $len  = length&#40;$$buf&#41;;
    my $pos  = *$self-&gt;{pos};
    return if $pos &gt;= $len;

    unless &#40;defined $/&#41; {  # slurp
	*$self-&gt;{pos} = $len;
	return substr&#40;$$buf, $pos&#41;;
    }

    unless &#40;length $/&#41; {  # paragraph mode
	# XXX slow&#38;lazy implementation using getc&#40;&#41;
	my $para = &#34;&#34;;
	my $eol = 0;
	my $c;
	while &#40;defined&#40;$c = $self-&gt;getc&#41;&#41; {
	    if &#40;$c eq &#34;\n&#34;&#41; {
		$eol++;
		next if $eol &gt; 2;
	    }
	    elsif &#40;$eol &gt; 1&#41; {
		$self-&gt;ungetc&#40;$c&#41;;
		last;
	    }
	    else {
		$eol = 0;
	    }
	    $para .= $c;
	}
	return $para;   # XXX wantarray
    }

    my $idx = index&#40;$$buf,$/,$pos&#41;;
    if &#40;$idx &lt; 0&#41; {
	# return rest of it
	*$self-&gt;{pos} = $len;
	$. = ++ *$self-&gt;{lno};
	return substr&#40;$$buf, $pos&#41;;
    }
    $len = $idx - $pos + length&#40;$/&#41;;
    *$self-&gt;{pos} += $len;
    $. = ++ *$self-&gt;{lno};
    return substr&#40;$$buf, $pos, $len&#41;;
}

sub getlines
{
    die &#34;getlines&#40;&#41; called in scalar context\n&#34; unless wantarray;
    my $self = shift;
    my&#40;$line, @lines&#41;;
    push&#40;@lines, $line&#41; while defined&#40;$line = $self-&gt;getline&#41;;
    return @lines;
}

sub READLINE
{
    goto &#38;getlines if wantarray;
    goto &#38;getline;
}

sub input_line_number
{
    my $self = shift;
    my $old = *$self-&gt;{lno};
    *$self-&gt;{lno} = shift if @_;
    $old;
}

sub truncate
{
    my $self = shift;
    my $len = shift || 0;
    my $buf = *$self-&gt;{buf};
    if &#40;length&#40;$$buf&#41; &gt;= $len&#41; {
	substr&#40;$$buf, $len&#41; = &#39;&#39;;
	*$self-&gt;{pos} = $len if $len &lt; *$self-&gt;{pos};
    }
    else {
	$$buf .= &#40;$self-&gt;pad x &#40;$len - length&#40;$$buf&#41;&#41;&#41;;
    }
    $self;
}

sub read
{
    my $self = shift;
    my $buf = *$self-&gt;{buf};
    return unless $buf;

    my $pos = *$self-&gt;{pos};
    my $rem = length&#40;$$buf&#41; - $pos;
    my $len = $_[1];
    $len = $rem if $len &gt; $rem;
    if &#40;@_ &gt; 2&#41; { # read offset
	substr&#40;$_[0],$_[2]&#41; = substr&#40;$$buf, $pos, $len&#41;;
    }
    else {
	$_[0] = substr&#40;$$buf, $pos, $len&#41;;
    }
    *$self-&gt;{pos} += $len;
    return $len;
}

sub write
{
    my $self = shift;
    my $buf = *$self-&gt;{buf};
    return unless $buf;

    my $pos = *$self-&gt;{pos};
    my $slen = length&#40;$_[0]&#41;;
    my $len = $slen;
    my $off = 0;
    if &#40;@_ &gt; 1&#41; {
	$len = $_[1] if $_[1] &lt; $len;
	if &#40;@_ &gt; 2&#41; {
	    $off = $_[2] || 0;
	    die &#34;Offset outside string&#34; if $off &gt; $slen;
	    if &#40;$off &lt; 0&#41; {
		$off += $slen;
		die &#34;Offset outside string&#34; if $off &lt; 0;
	    }
	    my $rem = $slen - $off;
	    $len = $rem if $rem &lt; $len;
	}
    }
    substr&#40;$$buf, $pos, $len&#41; = substr&#40;$_[0], $off, $len&#41;;
    *$self-&gt;{pos} += $len;
    $len;
}

*sysread = \&#38;read;
*syswrite = \&#38;write;

sub stat
{
    my $self = shift;
    return unless $self-&gt;opened;
    return 1 unless wantarray;
    my $len = length ${*$self-&gt;{buf}};

    return &#40;
     undef, undef,  # dev, ino
     0666,          # filemode
     1,             # links
     $&gt;,            # user id
     $&#41;,            # group id
     undef,         # device id
     $len,          # size
     undef,         # atime
     undef,         # mtime
     undef,         # ctime
     512,           # blksize
     int&#40;&#40;$len+511&#41;/512&#41;  # blocks
    &#41;;
}

sub FILENO {
    return undef;   # XXX perlfunc says this means the file is closed
}

sub blocking {
    my $self = shift;
    my $old = *$self-&gt;{blocking} || 0;
    *$self-&gt;{blocking} = shift if @_;
    $old;
}

my $notmuch = sub { return };

*fileno    = $notmuch;
*error     = $notmuch;
*clearerr  = $notmuch; 
*sync      = $notmuch;
*flush     = $notmuch;
*setbuf    = $notmuch;
*setvbuf   = $notmuch;

*untaint   = $notmuch;
*autoflush = $notmuch;
*fcntl     = $notmuch;
*ioctl     = $notmuch;

*GETC   = \&#38;getc;
*PRINT  = \&#38;print;
*PRINTF = \&#38;printf;
*READ   = \&#38;read;
*WRITE  = \&#38;write;
*SEEK   = \&#38;seek;
*TELL   = \&#38;getpos;
*EOF    = \&#38;eof;
*CLOSE  = \&#38;close;

*BINMODE = $notmuch;


sub string_ref
{
    my $self = shift;
    *$self-&gt;{buf};
}
*sref = \&#38;string_ref;

1;

__END__

=head1 NAME

IO::String - Emulate file interface for in-core strings

=head1 SYNOPSIS

 use IO::String;
 $io = IO::String-&gt;new;
 $io = IO::String-&gt;new&#40;$var&#41;;
 tie *IO, &#39;IO::String&#39;;

 # read data
 &lt;$io&gt;;
 $io-&gt;getline;
 read&#40;$io, $buf, 100&#41;;

 # write data
 print $io &#34;string\n&#34;;
 $io-&gt;print&#40;@data&#41;;
 syswrite&#40;$io, $buf, 100&#41;;

 select $io;
 printf &#34;Some text %s\n&#34;, $str;

 # seek
 $pos = $io-&gt;getpos;
 $io-&gt;setpos&#40;0&#41;;        # rewind
 $io-&gt;seek&#40;-30, -1&#41;;
 seek&#40;$io, 0, 0&#41;;

=head1 DESCRIPTION

The C&lt;IO::String&gt; module provides the C&lt;IO::File&gt; interface for in-core
strings.  An C&lt;IO::String&gt; object can be attached to a string, and
makes it possible to use the normal file operations for reading or
writing data, as well as for seeking to various locations of the string.
This is useful when you want to use a library module that only
provides an interface to file handles on data that you have in a string
variable.

Note that perl-5.8 and better has built-in support for &#34;in memory&#34;
files, which are set up by passing a reference instead of a filename
to the open&#40;&#41; call. The reason for using this module is that it
makes the code backwards compatible with older versions of Perl.

The C&lt;IO::String&gt; module provides an interface compatible with
C&lt;IO::File&gt; as distributed with F&lt;IO-1.20&gt;, but the following methods
are not available: new_from_fd, fdopen, format_write,
format_page_number, format_lines_per_page, format_lines_left,
format_name, format_top_name.

The following methods are specific to the C&lt;IO::String&gt; class:

=over 4

=item $io = IO::String-&gt;new

=item $io = IO::String-&gt;new&#40; $string &#41;

The constructor returns a newly-created C&lt;IO::String&gt; object.  It
takes an optional argument, which is the string to read from or write
into.  If no $string argument is given, then an internal buffer
&#40;initially empty&#41; is allocated.

The C&lt;IO::String&gt; object returned is tied to itself.  This means
that you can use most Perl I/O built-ins on it too: readline, &lt;&gt;, getc,
print, printf, syswrite, sysread, close.

=item $io-&gt;open

=item $io-&gt;open&#40; $string &#41;

Attaches an existing IO::String object to some other $string, or
allocates a new internal buffer &#40;if no argument is given&#41;.  The
position is reset to 0.

=item $io-&gt;string_ref

Returns a reference to the string that is attached to
the C&lt;IO::String&gt; object.  Most useful when you let the C&lt;IO::String&gt;
create an internal buffer to write into.

=item $io-&gt;pad

=item $io-&gt;pad&#40; $char &#41;

Specifies the padding to use if
the string is extended by either the seek&#40;&#41; or truncate&#40;&#41; methods.  It
is a single character and defaults to &#34;\0&#34;.

=item $io-&gt;pos

=item $io-&gt;pos&#40; $newpos &#41;

Yet another interface for reading and setting the current read/write
position within the string &#40;the normal getpos/setpos/tell/seek
methods are also available&#41;.  The pos&#40;&#41; method always returns the
old position, and if you pass it an argument it sets the new
position.

There is &#40;deliberately&#41; a difference between the setpos&#40;&#41; and seek&#40;&#41;
methods in that seek&#40;&#41; extends the string &#40;with the specified
padding&#41; if you go to a location past the end, whereas setpos&#40;&#41;
just snaps back to the end.  If truncate&#40;&#41; is used to extend the string,
then it works as seek&#40;&#41;.

=back

=head1 BUGS

In Perl versions &lt; 5.6, the TIEHANDLE interface was incomplete.
If you use such a Perl, then seek&#40;&#41;, tell&#40;&#41;, eof&#40;&#41;, fileno&#40;&#41;, binmode&#40;&#41; will
not do anything on an C&lt;IO::String&gt; handle.  See L&lt;perltie&gt; for
details.

=head1 SEE ALSO

L&lt;IO::File&gt;, L&lt;IO::Stringy&gt;, L&lt;perlfunc/open&gt;

=head1 COPYRIGHT

Copyright 1998-2003 Gisle Aas.

This library is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.

=cut
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Nov&nbsp;05&nbsp;10:06:28&nbsp;2004</span>
    <span class="description">GAAS [...] cpan.org -  Status changed from &#39;new&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
