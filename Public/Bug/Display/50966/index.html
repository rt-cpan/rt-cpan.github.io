<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #50966 for URI-Escape-XS: decodeURIComponent calls in 02-basic.t failing on Perl 5.10.1</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #50966 for URI-Escape-XS: decodeURIComponent calls in 02-basic.t failing on Perl 5.10.1</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=URI-Escape-XS">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=URI-Escape-XS">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=URI-Escape-XS">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=URI-Escape-XS">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/URI-Escape-XS">URI-Escape-XS CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">50966</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=URI-Escape-XS">URI-Escape-XS</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jansen [...] hbz-nrw.de

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-43340-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-43341-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=50966">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-684247" href="/Public/Bug/Display.html?id=50966#txn-684247">#</a>      
    </span>
    <span class="date">Fri&nbsp;Oct&nbsp;30&nbsp;05:42:25&nbsp;2009</span>
    <span class="description">jansen [...] hbz-nrw.de -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> decodeURIComponent calls in 02-basic.t failing on Perl 5.10.1</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 30 Oct 2009 10:41:39 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-URI-Escape-XS [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Heiko Jansen &lt;jansen [...] hbz-nrw.de&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/684247/352410/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/352410">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8.5k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">The decodeURIComponent&#40;&#41; tests in t/02-basic.t fail on my machine as shown below.

~&gt; make test 
PERL_DL_NONLAZY=1 /tools/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/00-load.t ....... 1/1 # Testing URI::Escape::XS 0.06, Perl 5.010001, /tools/bin/perl                           
t/00-load.t ....... ok                                                                                                   
t/01-compat.t ..... ok                                                                                                   
t/02-basic.t ...... 1/512                                                                                                
#   Failed test &#39;decodeURIComponent&#40;%00&#41;&#39;                                                                                
#   at t/02-basic.t line 18.                                                                                             
#          got: &#39;                                                                                                        
# &#39;                                                                                                                      
#     expected: &#39;&#39;                                                                                                       

#   Failed test &#39;decodeURIComponent&#40;%01&#41;&#39;
#   at t/02-basic.t line 18.             
#          got: &#39;▒&#39;                      
#     expected: &#39;&#39;                       

#   Failed test &#39;decodeURIComponent&#40;%02&#41;&#39;
#   at t/02-basic.t line 18.             
#          got: &#39;*&#39;                      
#     expected: &#39;&#39;                       

[...]

#   Failed test &#39;decodeURIComponent&#40;%FE&#41;&#39;
#   at t/02-basic.t line 18.
#          got: &#39;�&#39;
#     expected: &#39;�&#39;

#   Failed test &#39;decodeURIComponent&#40;%FF&#41;&#39;
#   at t/02-basic.t line 18.
#          got: &#39;�&#39;
#     expected: &#39;�&#39;
# Looks like you failed 184 tests of 512.
t/02-basic.t ...... Dubious, test returned 184 &#40;wstat 47104, 0xb800&#41;
Failed 184/512 subtests
t/03-hashu.t ...... ok
t/04-idn.t ........ ok
t/05-null.t ....... ok
t/boilerplate.t ... ok
t/pod-coverage.t .. skipped: Test::Pod::Coverage 1.04 required for testing POD coverage
t/pod.t ........... ok

Test Summary Report
-------------------
t/02-basic.t    &#40;Wstat: 47104 Tests: 512 Failed: 184&#41;
  Failed tests:  2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22
                24, 26, 28, 30, 32, 34, 36, 38, 40, 42
                44, 46, 48, 50, 52, 54, 56, 58, 60, 62
                64, 66, 70, 72, 74, 76, 78, 88, 90, 96
                118, 120, 122, 124, 126, 128, 130, 184
                186, 188, 190, 194, 248, 250, 252, 256
                258, 260, 262, 264, 266, 268, 270, 272
                274, 276, 278, 280, 282, 284, 286, 288
                290, 292, 294, 296, 298, 300, 302, 304
                306, 308, 310, 312, 314, 316, 318, 320
                322, 324, 326, 328, 330, 332, 334, 336
                338, 340, 344, 346, 348, 350, 352, 354
                356, 358, 360, 362, 364, 366, 368, 370
                372, 374, 376, 378, 380, 382, 384, 386
                388, 390, 392, 394, 396, 398, 400, 402
                404, 406, 408, 410, 412, 414, 416, 418
                420, 422, 424, 426, 428, 430, 432, 434
                436, 438, 440, 442, 444, 446, 448, 450
                452, 454, 456, 458, 460, 462, 464, 466
                468, 470, 472, 474, 476, 478, 480, 482
                484, 486, 488, 490, 492, 494, 496, 498
                500, 502, 504, 506, 508, 510, 512
  Non-zero exit status: 184
Files=9, Tests=544,  1 wallclock secs &#40; 0.19 usr  0.06 sys +  0.80 cusr  0.08 csys =  1.13 CPU&#41;
Result: FAIL
Failed 1/9 test programs. 184/544 subtests failed.
make: *** [test_dynamic] Error 255

===============================================================================

The tests are successfull, if I add this:

--- 02-basic.t.orig     2009-10-30 10:37:46.000000000 +0100
+++ 02-basic.t  2009-10-30 10:37:53.000000000 +0100
@@ -14,5 +14,6 @@
     my $chr = chr $ord;
     my $esc = $chr =~ /[A-Za-z0-9\-_.!~*&#39;&#40;&#41;]/ ? $chr : sprintf &#34;%%%02X&#34;, $ord;
     is encodeURIComponent&#40;$chr&#41; =&gt; $esc, &#34;encodeURIComponent&#40;ord $ord&#41;&#34;;
+    my $x = decodeURIComponent&#40;$esc&#41;;
     is decodeURIComponent&#40;$esc&#41; =&gt; $chr, &#34;decodeURIComponent&#40;$esc&#41;&#34;
 }

Hope this helps with finding/fixing the problem!
Heiko

===============================================================================

locale:
LANG=de_DE.UTF-8
LC_CTYPE=&#34;de_DE.UTF-8&#34;
LC_NUMERIC=&#34;de_DE.UTF-8&#34;
LC_TIME=&#34;de_DE.UTF-8&#34;
LC_COLLATE=&#34;de_DE.UTF-8&#34;
LC_MONETARY=&#34;de_DE.UTF-8&#34;
LC_MESSAGES=&#34;de_DE.UTF-8&#34;
LC_PAPER=&#34;de_DE.UTF-8&#34;
LC_NAME=&#34;de_DE.UTF-8&#34;
LC_ADDRESS=&#34;de_DE.UTF-8&#34;
LC_TELEPHONE=&#34;de_DE.UTF-8&#34;
LC_MEASUREMENT=&#34;de_DE.UTF-8&#34;
LC_IDENTIFICATION=&#34;de_DE.UTF-8&#34;
LC_ALL=

or 

LANG=
LC_CTYPE=&#34;C&#34;
LC_NUMERIC=&#34;C&#34;
LC_TIME=&#34;C&#34;
LC_COLLATE=&#34;C&#34;
LC_MONETARY=&#34;C&#34;
LC_MESSAGES=&#34;C&#34;
LC_PAPER=&#34;C&#34;
LC_NAME=&#34;C&#34;
LC_ADDRESS=&#34;C&#34;
LC_TELEPHONE=&#34;C&#34;
LC_MEASUREMENT=&#34;C&#34;
LC_IDENTIFICATION=&#34;C&#34;
LC_ALL=C

makes no difference.

===============================================================================

Linux aietes 2.6.16.60-0.39.3-smp #1 SMP Mon May 11 11:46:34 UTC 2009 x86_64 x86_64 x86_64 GNU/Linux

===============================================================================

~&gt; gcc -v
Using built-in specs.
Target: x86_64-suse-linux
Configured with: ../configure --enable-threads=posix --prefix=/usr --with-local-prefix=/usr/local --infodir=/usr/share/info --
mandir=/usr/share/man --libdir=/usr/lib64 --libexecdir=/usr/lib64 --enable-languages=c,c++,objc,fortran,obj-c++,java,ada --enable-
checking=release --with-gxx-include-dir=/usr/include/c++/4.1.2 --enable-ssp --disable-libssp --disable-libgcj --with-slibdir=/lib64 --
with-system-zlib --enable-shared --enable-__cxa_atexit --enable-libstdcxx-allocator=new --program-suffix= --enable-version-specific-
runtime-libs --without-system-libunwind --with-cpu=generic --host=x86_64-suse-linux
Thread model: posix
gcc version 4.1.2 20070115 &#40;SUSE Linux&#41;

===============================================================================

Summary of my perl5 &#40;revision 5 version 10 subversion 1&#41; configuration:

  Platform:
    osname=linux, osvers=2.6.16.60-0.39.3-smp, archname=x86_64-linux-thread-multi-ld
    uname=&#39;linux aietes 2.6.16.60-0.39.3-smp #1 smp mon may 11 11:46:34 utc 2009 x86_64 x86_64 x86_64 gnulinux &#39;
    config_args=&#39;&#39;
    hint=recommended, useposix=true, d_sigaction=define
    useithreads=define, usemultiplicity=define
    useperlio=define, d_sfio=undef, uselargefiles=define, usesocks=undef
    use64bitint=define, use64bitall=define, uselongdouble=define
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/tools/include -I/usr/local/include -
D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/tools/include -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2 20070115 &#40;SUSE Linux&#41;&#39;, gccosandvers=&#39;&#39;
    intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=16
    ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;long double&#39;, nvsize=16, Off_t=&#39;off_t&#39;, lseeksize=8
    alignbytes=16, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39;-fstack-protector -L/tools/lib -L/usr/local/lib64  -L/usr/local/lib&#39;
    libpth=/tools/lib /usr/local/lib64 /usr/local/lib /lib64 /lib /usr/lib64 /usr/lib
    libs=-lnsl -ldb -ldl -lm -lcrypt -lutil -lpthread -lc
    perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
    libc=/lib/libc-2.4.so, so=so, useshrplib=true, libperl=libperl.so
    gnulibc_version=&#39;2.4&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E -Wl,-rpath,/tools/lib/perl5/5.10.1/x86_64-linux-thread-multi-
ld/CORE&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/tools/lib -L/usr/local/lib64 -L/usr/local/lib -fstack-protector&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
                        PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP USE_64_BIT_ALL
                        USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES
                        USE_LONG_DOUBLE USE_PERLIO USE_REENTRANT_API
  Built under linux
  Compiled at Sep 17 2009 17:44:58
  @INC:
    /tools/lib/perl5/5.10.1/x86_64-linux-thread-multi-ld
    /tools/lib/perl5/5.10.1
    /tools/lib/perl5/site_perl/5.10.1/x86_64-linux-thread-multi-ld
    /tools/lib/perl5/site_perl/5.10.1
    /tools/lib/perl5/site_perl/5.10.0/x86_64-linux-thread-multi-ld
    /tools/lib/perl5/site_perl/5.10.0
    /tools/lib/perl5/site_perl
    .
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1106405" href="/Public/Bug/Display.html?id=50966#txn-1106405">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;05&nbsp;21:14:35&nbsp;2012</span>
    <span class="description">DANKOGAI [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1106405/581708/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/581708">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 8.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It should have been fixed in the current version &#40;0.08&#41;.

Dan the Maintainer Thereof

On Fri Oct 30 05:42:25 2009, jansen@hbz-nrw.de wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; The decodeURIComponent&#40;&#41; tests in t/02-basic.t fail on my machine as
&gt; shown below.
&gt; 
&gt; ~&gt; make test
&gt; PERL_DL_NONLAZY=1 /tools/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
&gt; t/00-load.t ....... 1/1 # Testing URI::Escape::XS 0.06, Perl 5.010001,
&gt; /tools/bin/perl
&gt; t/00-load.t ....... ok
&gt; t/01-compat.t ..... ok
&gt; t/02-basic.t ...... 1/512
&gt; #   Failed test &#39;decodeURIComponent&#40;%00&#41;&#39;
&gt; #   at t/02-basic.t line 18.
&gt; #          got: &#39;
&gt; # &#39;
&gt; #     expected: &#39;&#39;
&gt; 
&gt; #   Failed test &#39;decodeURIComponent&#40;%01&#41;&#39;
&gt; #   at t/02-basic.t line 18.
&gt; #          got: &#39;▒&#39;
&gt; #     expected: &#39;&#39;
&gt; 
&gt; #   Failed test &#39;decodeURIComponent&#40;%02&#41;&#39;
&gt; #   at t/02-basic.t line 18.
&gt; #          got: &#39;*&#39;
&gt; #     expected: &#39;&#39;
&gt; 
&gt; [...]
&gt; 
&gt; #   Failed test &#39;decodeURIComponent&#40;%FE&#41;&#39;
&gt; #   at t/02-basic.t line 18.
&gt; #          got: &#39;�&#39;
&gt; #     expected: &#39;�&#39;
&gt; 
&gt; #   Failed test &#39;decodeURIComponent&#40;%FF&#41;&#39;
&gt; #   at t/02-basic.t line 18.
&gt; #          got: &#39;�&#39;
&gt; #     expected: &#39;�&#39;
&gt; # Looks like you failed 184 tests of 512.
&gt; t/02-basic.t ...... Dubious, test returned 184 &#40;wstat 47104, 0xb800&#41;
&gt; Failed 184/512 subtests
&gt; t/03-hashu.t ...... ok
&gt; t/04-idn.t ........ ok
&gt; t/05-null.t ....... ok
&gt; t/boilerplate.t ... ok
&gt; t/pod-coverage.t .. skipped: Test::Pod::Coverage 1.04 required for
&gt; testing POD coverage
&gt; t/pod.t ........... ok
&gt; 
&gt; Test Summary Report
&gt; -------------------
&gt; t/02-basic.t    &#40;Wstat: 47104 Tests: 512 Failed: 184&#41;
&gt;   Failed tests:  2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22
&gt;                 24, 26, 28, 30, 32, 34, 36, 38, 40, 42
&gt;                 44, 46, 48, 50, 52, 54, 56, 58, 60, 62
&gt;                 64, 66, 70, 72, 74, 76, 78, 88, 90, 96
&gt;                 118, 120, 122, 124, 126, 128, 130, 184
&gt;                 186, 188, 190, 194, 248, 250, 252, 256
&gt;                 258, 260, 262, 264, 266, 268, 270, 272
&gt;                 274, 276, 278, 280, 282, 284, 286, 288
&gt;                 290, 292, 294, 296, 298, 300, 302, 304
&gt;                 306, 308, 310, 312, 314, 316, 318, 320
&gt;                 322, 324, 326, 328, 330, 332, 334, 336
&gt;                 338, 340, 344, 346, 348, 350, 352, 354
&gt;                 356, 358, 360, 362, 364, 366, 368, 370
&gt;                 372, 374, 376, 378, 380, 382, 384, 386
&gt;                 388, 390, 392, 394, 396, 398, 400, 402
&gt;                 404, 406, 408, 410, 412, 414, 416, 418
&gt;                 420, 422, 424, 426, 428, 430, 432, 434
&gt;                 436, 438, 440, 442, 444, 446, 448, 450
&gt;                 452, 454, 456, 458, 460, 462, 464, 466
&gt;                 468, 470, 472, 474, 476, 478, 480, 482
&gt;                 484, 486, 488, 490, 492, 494, 496, 498
&gt;                 500, 502, 504, 506, 508, 510, 512
&gt;   Non-zero exit status: 184
&gt; Files=9, Tests=544,  1 wallclock secs &#40; 0.19 usr  0.06 sys +  0.80
&gt; cusr  0.08 csys =  1.13 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/9 test programs. 184/544 subtests failed.
&gt; make: *** [test_dynamic] Error 255
&gt; 
&gt; 
</div>===========================================================
====================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; The tests are successfull, if I add this:
&gt; 
&gt; --- 02-basic.t.orig     2009-10-30 10:37:46.000000000 +0100
&gt; +++ 02-basic.t  2009-10-30 10:37:53.000000000 +0100
&gt; @@ -14,5 +14,6 @@
&gt;      my $chr = chr $ord;
&gt;      my $esc = $chr =~ /[A-Za-z0-9\-_.!~*&#39;&#40;&#41;]/ ? $chr : sprintf
&gt; &#34;%%%02X&#34;, $ord;
&gt;      is encodeURIComponent&#40;$chr&#41; =&gt; $esc, &#34;encodeURIComponent&#40;ord
&gt; $ord&#41;&#34;;
&gt; +    my $x = decodeURIComponent&#40;$esc&#41;;
&gt;      is decodeURIComponent&#40;$esc&#41; =&gt; $chr, &#34;decodeURIComponent&#40;$esc&#41;&#34;
&gt;  }
&gt; 
&gt; Hope this helps with finding/fixing the problem!
&gt; Heiko
&gt; 
&gt; 
</div>===========================================================
====================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; locale:
&gt; LANG=de_DE.UTF-8
&gt; LC_CTYPE=&#34;de_DE.UTF-8&#34;
&gt; LC_NUMERIC=&#34;de_DE.UTF-8&#34;
&gt; LC_TIME=&#34;de_DE.UTF-8&#34;
&gt; LC_COLLATE=&#34;de_DE.UTF-8&#34;
&gt; LC_MONETARY=&#34;de_DE.UTF-8&#34;
&gt; LC_MESSAGES=&#34;de_DE.UTF-8&#34;
&gt; LC_PAPER=&#34;de_DE.UTF-8&#34;
&gt; LC_NAME=&#34;de_DE.UTF-8&#34;
&gt; LC_ADDRESS=&#34;de_DE.UTF-8&#34;
&gt; LC_TELEPHONE=&#34;de_DE.UTF-8&#34;
&gt; LC_MEASUREMENT=&#34;de_DE.UTF-8&#34;
&gt; LC_IDENTIFICATION=&#34;de_DE.UTF-8&#34;
&gt; LC_ALL=
&gt; 
&gt; or
&gt; 
&gt; LANG=
&gt; LC_CTYPE=&#34;C&#34;
&gt; LC_NUMERIC=&#34;C&#34;
&gt; LC_TIME=&#34;C&#34;
&gt; LC_COLLATE=&#34;C&#34;
&gt; LC_MONETARY=&#34;C&#34;
&gt; LC_MESSAGES=&#34;C&#34;
&gt; LC_PAPER=&#34;C&#34;
&gt; LC_NAME=&#34;C&#34;
&gt; LC_ADDRESS=&#34;C&#34;
&gt; LC_TELEPHONE=&#34;C&#34;
&gt; LC_MEASUREMENT=&#34;C&#34;
&gt; LC_IDENTIFICATION=&#34;C&#34;
&gt; LC_ALL=C
&gt; 
&gt; makes no difference.
&gt; 
&gt; 
</div>===========================================================
====================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Linux aietes 2.6.16.60-0.39.3-smp #1 SMP Mon May 11 11:46:34 UTC 2009
&gt; x86_64 x86_64 x86_64 GNU/Linux
&gt; 
&gt; 
</div>===========================================================
====================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; ~&gt; gcc -v
&gt; Using built-in specs.
&gt; Target: x86_64-suse-linux
&gt; Configured with: ../configure --enable-threads=posix --prefix=/usr
&gt; --with-local-prefix=/usr/local --infodir=/usr/share/info --
&gt; mandir=/usr/share/man --libdir=/usr/lib64 --libexecdir=/usr/lib64
&gt; --enable-languages=c,c++,objc,fortran,obj-c++,java,ada --enable-
&gt; checking=release --with-gxx-include-dir=/usr/include/c++/4.1.2
&gt; --enable-ssp --disable-libssp --disable-libgcj --with-slibdir=/lib64
&gt; --
&gt; with-system-zlib --enable-shared --enable-__cxa_atexit
&gt; --enable-libstdcxx-allocator=new --program-suffix=
&gt; --enable-version-specific-
&gt; runtime-libs --without-system-libunwind --with-cpu=generic
&gt; --host=x86_64-suse-linux
&gt; Thread model: posix
&gt; gcc version 4.1.2 20070115 &#40;SUSE Linux&#41;
&gt; 
&gt; 
</div>===========================================================
====================
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Summary of my perl5 &#40;revision 5 version 10 subversion 1&#41;
&gt; configuration:
&gt; 
&gt;   Platform:
&gt;     osname=linux, osvers=2.6.16.60-0.39.3-smp, archname=x86_64-linux-
&gt; thread-multi-ld
&gt;     uname=&#39;linux aietes 2.6.16.60-0.39.3-smp #1 smp mon may 11
&gt; 11:46:34 utc 2009 x86_64 x86_64 x86_64 gnulinux &#39;
&gt;     config_args=&#39;&#39;
&gt;     hint=recommended, useposix=true, d_sigaction=define
&gt;     useithreads=define, usemultiplicity=define
&gt;     useperlio=define, d_sfio=undef, uselargefiles=define,
&gt; usesocks=undef
&gt;     use64bitint=define, use64bitall=define, uselongdouble=define
&gt;     usemymalloc=n, bincompat5005=undef
&gt;   Compiler:
&gt;     cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing
&gt; -pipe -fstack-protector -I/tools/include -I/usr/local/include -
&gt; D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
&gt;     optimize=&#39;-O2&#39;,
&gt;     cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe
&gt; -fstack-protector -I/tools/include -I/usr/local/include&#39;
&gt;     ccversion=&#39;&#39;, gccversion=&#39;4.1.2 20070115 &#40;SUSE Linux&#41;&#39;,
&gt; gccosandvers=&#39;&#39;
&gt;     intsize=4, longsize=8, ptrsize=8, doublesize=8, byteorder=12345678
&gt;     d_longlong=define, longlongsize=8, d_longdbl=define,
&gt; longdblsize=16
&gt;     ivtype=&#39;long&#39;, ivsize=8, nvtype=&#39;long double&#39;, nvsize=16,
&gt; Off_t=&#39;off_t&#39;, lseeksize=8
&gt;     alignbytes=16, prototype=define
&gt;   Linker and Libraries:
&gt;     ld=&#39;cc&#39;, ldflags =&#39;-fstack-protector -L/tools/lib
&gt; -L/usr/local/lib64  -L/usr/local/lib&#39;
&gt;     libpth=/tools/lib /usr/local/lib64 /usr/local/lib /lib64 /lib
&gt; /usr/lib64 /usr/lib
&gt;     libs=-lnsl -ldb -ldl -lm -lcrypt -lutil -lpthread -lc
&gt;     perllibs=-lnsl -ldl -lm -lcrypt -lutil -lpthread -lc
&gt;     libc=/lib/libc-2.4.so, so=so, useshrplib=true, libperl=libperl.so
&gt;     gnulibc_version=&#39;2.4&#39;
&gt;   Dynamic Linking:
&gt;     dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E
&gt; -Wl,-rpath,/tools/lib/perl5/5.10.1/x86_64-linux-thread-multi-
&gt; ld/CORE&#39;
&gt;     cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -O2 -L/tools/lib
&gt; -L/usr/local/lib64 -L/usr/local/lib -fstack-protector&#39;
&gt; 
&gt; 
&gt; Characteristics of this binary &#40;from libperl&#41;:
&gt;   Compile-time options: MULTIPLICITY PERL_DONT_CREATE_GVSV
&gt;                         PERL_IMPLICIT_CONTEXT PERL_MALLOC_WRAP
&gt; USE_64_BIT_ALL
&gt;                         USE_64_BIT_INT USE_ITHREADS USE_LARGE_FILES
&gt;                         USE_LONG_DOUBLE USE_PERLIO USE_REENTRANT_API
&gt;   Built under linux
&gt;   Compiled at Sep 17 2009 17:44:58
&gt;   @INC:
&gt;     /tools/lib/perl5/5.10.1/x86_64-linux-thread-multi-ld
&gt;     /tools/lib/perl5/5.10.1
&gt;     /tools/lib/perl5/site_perl/5.10.1/x86_64-linux-thread-multi-ld
&gt;     /tools/lib/perl5/site_perl/5.10.1
&gt;     /tools/lib/perl5/site_perl/5.10.0/x86_64-linux-thread-multi-ld
&gt;     /tools/lib/perl5/site_perl/5.10.0
&gt;     /tools/lib/perl5/site_perl
&gt;     .
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1106407" href="/Public/Bug/Display.html?id=50966#txn-1106407">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;05&nbsp;21:14:35&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1106408" href="/Public/Bug/Display.html?id=50966#txn-1106408">#</a>      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;05&nbsp;21:14:35&nbsp;2012</span>
    <span class="description">DANKOGAI [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.280455</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
