<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #110989 for Text-Aligner: _compile_alispec does not take into account unicode graphemes that take up != one column</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #110989 for Text-Aligner: _compile_alispec does not take into account unicode graphemes that take up != one column</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Text-Aligner">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Text-Aligner">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Text-Aligner">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Text-Aligner">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Text-Aligner">Text-Aligner CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">110989</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Text-Aligner">Text-Aligner</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jtbraun [...] CPAN.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-31734-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.12    </td>
  </tr>
  <tr id="CF-31735-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-attachments">
  <div class="titlebox ticket-info-attachments " id="">
  <div class="titlebox-title inverse">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dattachments\x2D\x2D\x2D\x2DQXR0YWNobWVudHM\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Attachments</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-attachments----QXR0YWNobWVudHM_---0">




BadAlign.pl<br />
<ul>


<li><font size="-2">
<a href="/Ticket/Attachment/1581407/844814/BadAlign.pl">
Thu Jan 07 13:11:24 2016 (2.6k) by jtbraun [...] CPAN.org
</a>
</font></li>
</ul>

    <hr class="clear" />
  </div>
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=110989">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1581407" href="/Public/Bug/Display.html?id=110989#txn-1581407">#</a>      
    </span>
    <span class="date">Thu&nbsp;Jan&nbsp;07&nbsp;13:11:24&nbsp;2016</span>
    <span class="description">jtbraun [...] CPAN.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> _compile_alispec does not take into account unicode graphemes
 that take up != one column</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1581407/844813/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/844813">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Perl&#39;s length&#40;&#41; when operating on unicode strings returns the length in &#34;logical characters&#34;.  However, not every unicode character takes up the same amount of space on output to a terminal*.  As such, Text::Aligner mis-computes the &#34;graphical length&#34; for some unicode strings, and as a result the output text isn&#39;t really aligned.

Attached is an example that demonstrates the problem.  Note that you should use a terminal that expects utf-8 on stdout from perl. I performed my test with rxvt-unicode version 9.19 on Ubuntu 14.04 LTS.

Also demonstrated is a fix that depends on Unicode::GCString.  This module provides a -&gt;columns method which will tell you the &#34;display length&#34; of the string.  I copied and modified the align&#40;&#41; procedure in the example to change the {width} member to use this method instead of length.  As you can see the right side of the table is justified when myalign&#40;&#41; is used.

Note that at least some of the {pos} implementations have a similar issue, they use length, when they really mean &#34;display columns&#34;.
</div></div>
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> BadAlign.pl</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1581407/844814/BadAlign.pl">Download BadAlign.pl</a><br />
<span class="downloadcontenttype">text/x-perl 2.6k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">use v5.20;
use strict;
use Text::Aligner qw&#40;align&#41;;
use List::Util qw&#40;sum max&#41;;
use charnames qw&#40;&#41;;

# On a linux terminal.  Your mileage will vary on Windows
binmode STDOUT, &#39;:encoding&#40;utf-8&#41;&#39;;

my @cphex = qw&#40;
299F      2220      299E      29A4      031A      0349      2E16      2770
276E      2771      276F      3008      2991      300A      2329      29FC
00AB      27E8      27EA      27E9      27EB      2221      299B      29AB
29AA      29AF      29AD      29AE      29AC      29A9      29A8      299D
276C      276D      A71A      29A7      29A6      FE3F      FE3D      FE40
FE3E      29A3      29A5      221F      3009      2992      2E01      2E00
299C      22BE      237C      300B      232A      29FD      00BB
&#41;;

my @codepoints = map { oct&#40;&#34;0x$_&#34;&#41; } @cphex;
my @cpdec = map { &#34;$_&#34; } @codepoints;
my @names = map { charnames::viacode&#40;$_&#41; } @codepoints;
my @chars = map { chr&#40;$_&#41; } @codepoints;

my @cols = &#40;
    [ &#34;Name&#34;, @names],
    [ &#34;Hex Code&#34;, @cphex],
    [ &#34;Dec Code&#34;, @cpdec],
    [ &#34;Char&#34;, @chars],
&#41;;


for my $aligner &#40; \&#38;align, \&#38;myalign&#41; {
    for my $dir &#40;qw&#40;left center right&#41;&#41; {
        my @newcols = map {
            [ $aligner-&gt;&#40;$dir, @$_&#41; ]
        } @cols;

        my @rows = _transpose&#40;\@newcols&#41;;
        foreach &#40;@rows&#41; {
            print &#39;|.&#39;, join&#40;&#39;.|.&#39;, @$_&#41;, &#39;.|&#39;, &#34;\n&#34;;
        }
        print &#34;\n\n&#34;;
    }
}

#
# Taken from current Text::Aligner, but modified to change
# $ali-&gt;{width} to use Unicode::GCString-&gt;columns
#
sub myalign &#40;$@&#41; {
    my $ali = Text::Aligner-&gt;new&#40; shift&#41;;
    use Unicode::GCString;
    # Rather than calculate the length of the string, calculate the
    # number of columns of grapheme clusters
    $ali-&gt;{width} = sub {
        my $s = @_ ? $_[0] : $_;
        Unicode::GCString-&gt;new&#40;$s&#41;-&gt;columns;
    };

    # Note that the $pos routines in Text::Aligner::_compile_alispec
    # also need to change to use the Unicode::GCString-&gt;columns rather
    # than the length&#40;&#41; of the string when computing padding

    $ali-&gt;_alloc&#40; map ref eq &#39;SCALAR&#39; ? $$_ : $_, @_&#41;;
    if &#40; defined wantarray &#41; {
        my @just = map $ali-&gt;_justify&#40; ref eq &#39;SCALAR&#39; ? $$_ : $_&#41;, @_;
        return @just if wantarray;
        return join &#34;\n&#34;, @just, &#39;&#39;;
    } else {
        for &#40; @_ &#41; {
            $_ = $ali-&gt;_justify&#40; $_&#41; for ref eq &#39;SCALAR&#39; ? $$_ : $_; # one-shot
        }
    }
}


#
# Taken from Text::Table
#

# destructively transpose a number of lines/cols from an array of arrayrefs
sub _transpose_n {
    my &#40;$n, $cols&#41; = @_;

    return map { [ map { shift @$_ } @$cols] } 1 .. $n;
}

# like _transpose_n, but find the number to transpose from max of given
sub _transpose
{
    my &#40;$cols&#41; = @_;

    my $m = max &#40; map { scalar&#40;@$_&#41; } @$cols, []&#41;;

    return _transpose_n&#40; $m, $cols&#41;;
}
</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1582255" href="/Public/Bug/Display.html?id=110989#txn-1582255">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;09&nbsp;15:58:48&nbsp;2016</span>
    <span class="description">anno5 [...] me.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">CC:</td>
    <td class="message-header-value"> shlomif [...] shlomifish.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #110989] _compile_alispec does not take into account unicode graphemes  that take up != one column</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 09 Jan 2016 21:58:30 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Text-Aligner [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Anno Siegel &lt;anno5 [...] me.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1582255/845297/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/845297">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On 07.01.2016, at 19:11, Jeremy Braun via RT &lt;bug-Text-Aligner@rt.cpan.org&gt; wrote:
&gt; 
&gt; Perl&#39;s length&#40;&#41; when operating on unicode strings returns the length in &#34;logical characters&#34;.  However, not every unicode character …
</div>
Thanks for the report and the fix. I have given up maintainership of Text::Table &#40;including Text::Aligner&#41; to rindolf &#40;shlomif@shlomifish.org&#41;, whom I am also Cc’ing.

You are quite right. Text::Aligner naively assumes that every character is one display column wide, which hasn’t even been true before Unicode appeared.

The fix could probably be handled without the full Unicode::GCString by using Text::CharWidth::mbswidth to determine the number of columns. Note that mbswidth is not reliable if the string contains characters that haven’t a width assigned by unicode. These return a width value of -1, and mbswidth sums these up as if they were valid widths. To exclude these from input, Unicode::CharWidth could be used. It gives you a regex &#40;/\p{InNowidth}/&#41; that matches exactly the unwanted characters.

Regards and thanks again,

Anno
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1582255/845298/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/845298">with headers</a>
<br />
<span class="downloadcontenttype">text/html 2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1582256" href="/Public/Bug/Display.html?id=110989#txn-1582256">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jan&nbsp;09&nbsp;15:58:48&nbsp;2016</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1582771" href="/Public/Bug/Display.html?id=110989#txn-1582771">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;11&nbsp;06:26:54&nbsp;2016</span>
    <span class="description">SHLOMIF [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1582771/845656/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/845656">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 209b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

I&#39;m thinking that perhaps we can provide an overridable callback to calculate the length/width/etc. of the string in case people wish to override it. Does it sound good to  you?

Regards,

-- Shlomi Fish
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1582862" href="/Public/Bug/Display.html?id=110989#txn-1582862">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jan&nbsp;11&nbsp;11:34:18&nbsp;2016</span>
    <span class="description">jtbraun [...] CPAN.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1582862/845706/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/845706">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 654b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Mon Jan 11 06:26:54 2016, SHLOMIF wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Hi,
&gt; 
&gt; I&#39;m thinking that perhaps we can provide an overridable callback to
&gt; calculate the length/width/etc. of the string in case people wish to
&gt; override it. Does it sound good to  you?
&gt; 
&gt; Regards,
&gt; 
&gt; -- Shlomi Fish
</div>
*shrug*  Fine by me.  You might go so far as to include one or more of the examples mentioned in this ticket in the documentation, or some sort of &#39;use Text::Aligner qw&#40;:unicode_columns&#41;;&#39; import tag or something to enable such default behavior.  All your choice.

If this is the route you take, I&#39;ll contact the Text::Table people about providing such a callback.

Thanks!
Jeremy
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.399089</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
