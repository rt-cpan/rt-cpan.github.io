<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #80646 for Scalar-List-Utils: Recursive MULTICALL prematurely freed CV</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #80646 for Scalar-List-Utils: Recursive MULTICALL prematurely freed CV</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Scalar-List-Utils">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Scalar-List-Utils">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Scalar-List-Utils">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Scalar-List-Utils">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Scalar-List-Utils">Scalar-List-Utils CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">80646</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Scalar-List-Utils">Scalar-List-Utils</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dolmen [...] cpan.org

<br />
yyang [...] proofpoint.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">
ribasushi [...] leporine.io

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-28278-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
1.25    </td>
  </tr>
  <tr id="CF-28279-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
1.27    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=80646">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1136936" href="/Public/Bug/Display.html?id=80646#txn-1136936">#</a>      
    </span>
    <span class="date">Mon&nbsp;Nov&nbsp;05&nbsp;14:17:52&nbsp;2012</span>
    <span class="description">yyang [...] proofpoint.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Recursive MULTICALL prematurely freed CV</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1136936/598349/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/598349">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Test script to make List::Util segfault:

use List::Util &#39;first&#39;;

sub foo {
  if&#40;$comparison&#41; {
    return 1;
  }
  else {
    local $comparison = 1;
    first \&#38;foo, 1,2,3;
  }
}
for&#40;1,2&#41;{
  foo&#40;&#41;
}


This is Perl Bug #78070, fixed in Perl 5.13.6:

•The XS multicall API no longer causes subroutines to lose reference 
counts if called via the multicall interface from within those very 
subroutines. This affects modules like List::Util. Calling one of its 
functions with an active subroutine as the first argument could cause a 
crash

So we can backport it here:

--- multicall.h~        2012-11-05 10:41:35.487993000 -0800
+++ multicall.h 2012-11-05 10:41:58.861218000 -0800
@@ -154,8 +154,8 @@

 #define POP_MULTICALL \
     STMT_START {                                                       
\
-       CvDEPTH&#40;multicall_cv&#41;--;                                        
\
-       LEAVESUB&#40;multicall_cv&#41;;                                         
\
+       if &#40;! --CvDEPTH&#40;multicall_cv&#41;&#41;                                  
\
+           LEAVESUB&#40;multicall_cv&#41;;                                     
\
        POPBLOCK&#40;cx,PL_curpm&#41;;                                          
\
        POPSTACK;                                                       
\
        CATCH_SET&#40;multicall_oldcatch&#41;;                                  
\
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1137623" href="/Public/Bug/Display.html?id=80646#txn-1137623">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;07&nbsp;15:40:22&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1137623/598733/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/598733">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 343b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Curious.

Using that unit test I can confirm it breaks on e.g. 5.12.4, but the
patch doesn&#39;t fix it. It breaks even with that patch in place.

Moreover it doesn&#39;t appear that the included &#34;multicall.h&#34; file is
actually used by default. I&#39;ve tried just inserting silly syntax
breakage into it, and that doesn&#39;t break the build.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1137626" href="/Public/Bug/Display.html?id=80646#txn-1137626">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;07&nbsp;15:40:23&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1137630" href="/Public/Bug/Display.html?id=80646#txn-1137630">#</a>      
    </span>
    <span class="date">Wed&nbsp;Nov&nbsp;07&nbsp;15:55:19&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1137630/598738/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/598738">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 672b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Nov 07 15:40:22 2012, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Curious.
&gt; 
&gt; Using that unit test I can confirm it breaks on e.g. 5.12.4, but the
&gt; patch doesn&#39;t fix it. It breaks even with that patch in place.
&gt; 
&gt; Moreover it doesn&#39;t appear that the included &#34;multicall.h&#34; file is
&gt; actually used by default. I&#39;ve tried just inserting silly syntax
&gt; breakage into it, and that doesn&#39;t break the build.
</div>
multicall.h is used only on 5.8, which didn’t provide the multicall API.

The bug that this patch fixes for 5.8 is present in perl’s own multicall API in perl 5.10 and 
5.12.

Tweaking the reference count right before using the macro might be the best fix for those 
two versions.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1155965" href="/Public/Bug/Display.html?id=80646#txn-1155965">#</a>      
    </span>
    <span class="date">Sun&nbsp;Dec&nbsp;16&nbsp;14:07:34&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1155965/607981/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/607981">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 502b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space"><span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; multicall.h is used only on 5.8, which didn’t provide the multicall
&gt; API.
&gt; 
&gt; The bug that this patch fixes for 5.8 is present in perl’s own
&gt; multicall API in perl 5.10 and
&gt; 5.12.
&gt; 
&gt; Tweaking the reference count right before using the macro might be the
&gt; best fix for those
&gt; two versions.
</div>
Hi,

Just reviving this again. I&#39;m at a loss to understand exactly what is
required here. Can you suggest what if any changes to code actually in
Scalar-List-Utils needs to be done?

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1156191" href="/Public/Bug/Display.html?id=80646#txn-1156191">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;07:35:50&nbsp;2012</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1156191/608079/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608079">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 155b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Don&#39;t have any suggestions, just chiming in with the severity of impact
- the test fails and/or segfaults on all perls &lt; 5.14, this includes
even 5.12.5 :&#40;
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1156194" href="/Public/Bug/Display.html?id=80646#txn-1156194">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;07:52:28&nbsp;2012</span>
    <span class="description">ribasushi [...] leporine.io -  Cc RIBASUSHI added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction people AddWatcher even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1156283" href="/Public/Bug/Display.html?id=80646#txn-1156283">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;17&nbsp;12:12:08&nbsp;2012</span>
    <span class="description">dolmen [...] cpan.org -  Requestor DOLMEN added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1156586" href="/Public/Bug/Display.html?id=80646#txn-1156586">#</a>      
    </span>
    <span class="date">Tue&nbsp;Dec&nbsp;18&nbsp;09:15:40&nbsp;2012</span>
    <span class="description">$_ = &#39;spro^^*%*^6ut# [...] &#38;$%*c&gt;#!^!#&#38;!pan.org&#39;; y/a-z.@//cd; print -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1156586/608267/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/608267">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 809b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sun Dec 16 14:07:34 2012, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed"><div class="message-stanza open">&gt; &gt; multicall.h is used only on 5.8, which didn’t provide the multicall
&gt; &gt; API.
&gt; &gt; 
&gt; &gt; The bug that this patch fixes for 5.8 is present in perl’s own
&gt; &gt; multicall API in perl 5.10 and
&gt; &gt; 5.12.
&gt; &gt; 
&gt; &gt; Tweaking the reference count right before using the macro might be the
&gt; &gt; best fix for those
&gt; &gt; two versions.
</div>&gt; 
&gt; Hi,
&gt; 
&gt; Just reviving this again. I&#39;m at a loss to understand exactly what is
&gt; required here. Can you suggest what if any changes to code actually in
&gt; Scalar-List-Utils needs to be done?
</div>
Something like this &#40;sorry, completely untested&#41;:

#if PERL_VERSION == 10 || PERL_VERSION == 12
    if &#40;CvDEPTH&#40;multicall_cv&#41; &gt; 1&#41;
        SvREFCNT_inc_simple_void_NN&#40;multicall_cv&#41;;
#endif
    POP_MULTICALL;

And the patch to multicall.h for 5.8.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1159809" href="/Public/Bug/Display.html?id=80646#txn-1159809">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;10:16:11&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1159809/609785/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/609785">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 80b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">This now looks to be patched at least for 5.8.9, 5.10 and 5.12.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1159812" href="/Public/Bug/Display.html?id=80646#txn-1159812">#</a>      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;27&nbsp;10:16:12&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;open&#39; to &#39;patched&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160295" href="/Public/Bug/Display.html?id=80646#txn-1160295">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;01:01:48&nbsp;2012</span>
    <span class="description">ribasushi [...] leporine.io -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160295/610053/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610053">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 854b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Dec 27 10:16:11 2012, PEVANS wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; This now looks to be patched at least for 5.8.9, 5.10 and 5.12.
</div>
Thank you very much. Confirmed to compile/pass tests on all of this,
except for 5.6.2. The fix for that seems easy-ish, but I will leave
patching to the more knowledgeable.

rabbit@Thesaurus:~$ perlbrew list
  5.10.0_2
  5.10.0_dbg1
  5.10.0_tr
  5.10.1
  5.10.1_2
  5.10.1_dbg1
  5.10.1_no_thr
  5.12.0_dbg1
  5.12.1
  5.12.2
  5.12.3
  5.12.4
  5.12.4_dbg1
  5.12.5
  5.12.5_nthr
  5.14.1_thr
  5.14.1_thr_mb_dbg
  5.14.2_dbg_thr_mb
  5.14.2_thr_cln
  5.14.3
  5.14.3_nthr
  5.15.8
  5.15.9
  5.16.0
* 5.16.2.1
  5.16.2_nthr
  5.17.6
  5.6.2
  5.8.1
  5.8.1_dbg_mb
  5.8.2
  5.8.3
  5.8.3_cln
  5.8.3_dbg_thr
  5.8.3_tr
  5.8.4
  5.8.5
  5.8.5_clean_cattest
  5.8.6
  5.8.7
  5.8.8
  5.8.8_cpanmeta
  5.8.8_dbg
  5.8.9
  5.8.9_dbg1
  5.8.9_f
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160298" href="/Public/Bug/Display.html?id=80646#txn-1160298">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;01:01:50&nbsp;2012</span>
    <span class="description">The RT System itself -  Status changed from &#39;patched&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160366" href="/Public/Bug/Display.html?id=80646#txn-1160366">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;07:28:04&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1160366/610088/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/610088">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 494b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Sat Dec 29 01:01:48 2012, RIBASUSHI wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Thank you very much. Confirmed to compile/pass tests on all of this,
&gt; except for 5.6.2. The fix for that seems easy-ish, but I will leave
&gt; patching to the more knowledgeable.
</div>
Cool. That&#39;s nice to know.

I don&#39;t think personally I care much as back as 5.6 - certainly, I won&#39;t
put in any effort up-front now to fix it. If someone else wants to
submit a patch I&#39;ll happily accept it, but for now I shall consider this
one fixed.

-- 

Paul Evans
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1160369" href="/Public/Bug/Display.html?id=80646#txn-1160369">#</a>      
    </span>
    <span class="date">Sat&nbsp;Dec&nbsp;29&nbsp;07:28:05&nbsp;2012</span>
    <span class="description">leonerd-cpan [...] leonerd.org.uk -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1188137" href="/Public/Bug/Display.html?id=80646#txn-1188137">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Tue&nbsp;Mar&nbsp;05&nbsp;13:45:37&nbsp;2013</span>
    <span class="description">ether [...] cpan.org -  Fixed in 1.27 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.610398</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
