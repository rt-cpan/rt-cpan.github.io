<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #46891 for MooseX-Types: Many bugs in .11 -- no mention of upgrade method, no work around for 44749</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #46891 for MooseX-Types: Many bugs in .11 -- no mention of upgrade method, no work around for 44749</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/MooseX-Types/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/MooseX-Types/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/MooseX-Types/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/MooseX-Types/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/MooseX-Types">MooseX-Types CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">46891</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/MooseX-Types/Active/">MooseX-Types</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
perl [...] evancarroll.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Important    </td>
  </tr>
  <tr id="CF-44864-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.11    </td>
  </tr>
  <tr id="CF-44865-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;12:48:13&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Just dies.</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This release seems to be a total lemon for many reasons. I can pinpoint
them -- I&#39;d implore you to test this further. It is definitly //not//
backwards compatible with .10
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;14:20:07&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Drawbacks of .11</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Ok, first I wanted to confirm this stuff. CPANPLUS was being mega
shitass, and I just filed a bug on it too for failing to downgrade by url.

So the deal is, in .10, the following code works:
package Foo;
use MooseX::Types;
subtype &#34;foo&#34; =&gt; as &#34;Int&#34;;
subtype &#34;bar&#34; =&gt; as &#34;foo&#34;;

However, in .11 you can&#39;t write it the same way, that same code gives
you this.
WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
, ?&#41; at -e line 1
WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
, ?&#41; at -e line 1
WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
, ?&#41; at -e line 1
WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
, ?&#41; at -e line 1

Logically, you&#39;ve made the types consistent on Barewords &#40;I strongly
would have preferred a string solution for consistency, but whatever&#41;.
So I try to remove the strings, and the fat commas.
package Foo;
use MooseX::Types;
subtype foo , as Int;
subtype bar , as foo;

But nothing is in your package, so you have MooseX::Types::Moose pollute
you with the Int, and now, new to .10 you have to declare things even if
they aren&#39;t exported &#40;as in internal base types&#41;.. so you try 
package Foo;
use MooseX::Types::Moose qw&#40;Int&#41;;
use MooseX::Types -declare qw&#40;foo bar&#41;;
subtype foo , as Int;
subtype bar , as foo;

Finally, you have joy -- kinda, this begs the question on how you
declare an unexported base type. You think you&#39;ve got it, but still no
joy. Now with .11 Roles that where composed into classes that used the
MX::Types library have to also use the MX::Types library -- this might
be a good thing, but it certainly isn&#39;t backwards compat. So you go back
and look at your code add the missing includes for the Types and save
and try again. Does it work yet? Nope, because now that you&#39;re using
Barewords you have to use Explicitly code all of the variables into
Sub::Exporter, whereas in .10 you you could use strings, and thus only
had to put the subs you wanted exported too in Sub::Exporter...

So finally, after you&#39;ve got rid off all of the stringifications with
quotes and fat commas, and you&#39;ve replaced all base types with
MooseX::Types::Moose barewords, and you updated Sub::Exporter to export
all of those barewords now... You ask the question, do I have joy yet?
Nope. And, why is that you ask..

Could not load class &#40;DM::IO::Input::File&#41; because : Could not load
class &#40;DM::IO::Input::Base::Index&#41; because : Could not locate type
constraint &#40;Money&#41; for the union at
/usr/local/share/perl/5.10.0/Moose/Util/TypeConstraints.pm line 87

Fuck! A 2 month old critical bug on rt was less important than this?
Jesus. Christ. So now I can&#39;t use a type-union with MooseX::Types and Undef.

package Foo;
use MooseX::Types::Moose qw&#40;Int&#41;;
use MooseX::Types -declare =&gt; [qw&#40;foo bar&#41;];
subtype foo , as Int;
subtype bar , as foo;

package WTF;
use Moose;
Foo-&gt;import&#40; &#39;foo&#39;, &#39;bar&#39; &#41;;

## No workie
has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo | Undef&#39;, is =&gt; &#39;rw&#39; &#41;;
## workie
has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo&#39;, is =&gt; &#39;rw&#39; &#41;;


This used to work before, not being able to do this is going to prevent
successful migration to .11. At least before I could use the
global-string-types version and get this working.

As as a side note the docs for migration are really needed here, I
really had to like 4 steps to get this to even `perl -c` with .11.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;14:20:10&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Set even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;14:21:22&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Subject changed from &#39;Just dies.&#39; to &#39;Many bugs in .11 -- no mention of upgrade method, no work around for 44749&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;15:03:18&nbsp;2009</span>
    <span class="description">jjn1056 [...] yahoo.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46891] Drawbacks of .11</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 12 Jun 2009 12:02:40 -0700 &#40;PDT&#41;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-MooseX-Types [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> John Napiorkowski &lt;jjn1056 [...] yahoo.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">
Evan,

I want to take these problems seriously, since it&#39;s clear to me that some of these changes break things that should work.  However, some thing that passed &#40;but silently failed to do anything useful&#41; are now breaking loudly.  So we need to detangle all this and build up some test cases we can crank against.  Specific comments follow:

--- On Fri, 6/12/09, Evan Carroll via RT &lt;bug-MooseX-Types@rt.cpan.org&gt; wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; From: Evan Carroll via RT &lt;bug-MooseX-Types@rt.cpan.org&gt;
&gt; Subject: [rt.cpan.org #46891] Drawbacks of .11
&gt; To: 
&gt; Date: Friday, June 12, 2009, 2:20 PM
&gt;    
&gt;    Queue: MooseX-Types
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46891">https://rt.cpan.org/Ticket/Display.html?id=46891</a></span> &gt;
&gt; 
&gt; Ok, first I wanted to confirm this stuff. CPANPLUS was
&gt; being mega
&gt; shitass, and I just filed a bug on it too for failing to
&gt; downgrade by url.
&gt; 
&gt; So the deal is, in .10, the following code works:
&gt; package Foo;
&gt; use MooseX::Types;
&gt; subtype &#34;foo&#34; =&gt; as &#34;Int&#34;;
&gt; subtype &#34;bar&#34; =&gt; as &#34;foo&#34;;
</div>
Yes, now when you load MooseX::Types the subtype method is getting intercepted so declaring global string based stuff is not working anymore.  This is a side effect of trying to solve the problem of people incorrectly stringifying the subtype name by using =&gt; over ,.  Unfortunately this error is one of the more common ones with MX::Types and it too often is silently failing.  A core assumption here is that if you are using MX:Types you intend to use it and not mix and match global string types.  We can make that a point of discussion.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; However, in .11 you can&#39;t write it the same way, that same
&gt; code gives
&gt; you this.
&gt; WARNING: String found where Type expected &#40;did you use a
&gt; =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a
&gt; =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a
&gt; =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a
&gt; =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; 
&gt; Logically, you&#39;ve made the types consistent on Barewords &#40;I
&gt; strongly
&gt; would have preferred a string solution for consistency, but
&gt; whatever&#41;.
&gt; So I try to remove the strings, and the fat commas.
&gt; package Foo;
&gt; use MooseX::Types;
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
&gt; 
&gt; But nothing is in your package, so you have
&gt; MooseX::Types::Moose pollute
&gt; you with the Int, and now, new to .10 you have to declare
&gt; things even if
&gt; they aren&#39;t exported &#40;as in internal base types&#41;.. so you
&gt; try 
&gt; package Foo;
&gt; use MooseX::Types::Moose qw&#40;Int&#41;;
&gt; use MooseX::Types -declare qw&#40;foo bar&#41;;
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
</div>
Yes, I think you should be able to use the old string stuff in the &#39;as&#39; clause.  However, this was probably silently failing on you, since the &#34;as &#39;Int&#39;&#34; would be meaningly without &#39;use Moose&#39;.  So my guess in that case you&#39;d not get a failure but the type constraint library was failing to do anything useful.
 
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; 
&gt; Finally, you have joy -- kinda, this begs the question on
&gt; how you
&gt; declare an unexported base type. You think you&#39;ve got it,
&gt; but still no
&gt; joy. Now with .11 Roles that where composed into classes
&gt; that used the
&gt; MX::Types library have to also use the MX::Types library --
&gt; this might
&gt; be a good thing, but it certainly isn&#39;t backwards compat.
&gt; So you go back
&gt; and look at your code add the missing includes for the
&gt; Types and save
&gt; and try again. Does it work yet? Nope, because now that
&gt; you&#39;re using
&gt; Barewords you have to use Explicitly code all of the
&gt; variables into
&gt; Sub::Exporter, whereas in .10 you you could use strings,
&gt; and thus only
&gt; had to put the subs you wanted exported too in
&gt; Sub::Exporter...
&gt; 
</div>
More test cases with roles are called for.  However I would imagine my previous comment about &#34;it used to work&#34; stands.  It probably failed to warn or throw an error before, but it probably wasn&#39;t constraining anything.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; So finally, after you&#39;ve got rid off all of the
&gt; stringifications with
&gt; quotes and fat commas, and you&#39;ve replaced all base types
&gt; with
&gt; MooseX::Types::Moose barewords, and you updated
&gt; Sub::Exporter to export
&gt; all of those barewords now... You ask the question, do I
&gt; have joy yet?
&gt; Nope. And, why is that you ask..
&gt; 
&gt; Could not load class &#40;DM::IO::Input::File&#41; because : Could
&gt; not load
&gt; class &#40;DM::IO::Input::Base::Index&#41; because : Could not
&gt; locate type
&gt; constraint &#40;Money&#41; for the union at
&gt; /usr/local/share/perl/5.10.0/Moose/Util/TypeConstraints.pm
&gt; line 87
&gt; 
&gt; Fuck! A 2 month old critical bug on rt was less important
&gt; than this?
&gt; Jesus. Christ. So now I can&#39;t use a type-union with
&gt; MooseX::Types and Undef.
&gt; 
&gt; package Foo;
&gt; use MooseX::Types::Moose qw&#40;Int&#41;;
&gt; use MooseX::Types -declare =&gt; [qw&#40;foo bar&#41;];
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
&gt; 
&gt; package WTF;
&gt; use Moose;
&gt; Foo-&gt;import&#40; &#39;foo&#39;, &#39;bar&#39; &#41;;
&gt; 
&gt; ## No workie
&gt; has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo | Undef&#39;, is =&gt;
&gt; &#39;rw&#39; &#41;;
&gt; ## workie
&gt; has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo&#39;, is =&gt; &#39;rw&#39;
&gt; &#41;;
&gt; 
&gt; 
&gt; This used to work before, not being able to do this is
&gt; going to prevent
&gt; successful migration to .11.
</div>
Well, again, the above would have not constrained anything.  in this case &#39;foo&#39; is nothing.

You could do

isa=&gt; Foo|Undef
isa=&gt; Maybe[Foo]

Undef and Maybe you can import from MooseX::Types::Moose qw&#40;Undef Maybe&#41;

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; At least before I could use
&gt; the
&gt; global-string-types version and get this working.
&gt; 
&gt; As as a side note the docs for migration are really needed
&gt; here, I
&gt; really had to like 4 steps to get this to even `perl -c`
&gt; with .11.
&gt; 
</div>
Docs would probably be usefull.

The core issue here is that people were improperly using this stuff and getting silent fails.  Now they are getting loud fails.  Also, some stuff is failing that probably should work.  We need to detangle it all.

Thanks for the thoughts and the detailed report.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;15:36:07&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Well, I&#39;m not sure I can adequately refute this as my interest in moose
and perl has declined rapidly since my kline from irc.perl.org, but I&#39;ll
give it a try.
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Well, again, the above would have not constrained anything.  in this
&gt;    case &#39;foo&#39; is nothing.
&gt; 
&gt; You could do
&gt; 
&gt; isa=&gt; Foo|Undef
&gt; isa=&gt; Maybe[Foo]
&gt; 
&gt; Undef and Maybe you can import from MooseX::Types::Moose qw&#40;Undef
&gt;    Maybe&#41;
</div>
Maybe[Foo], and Foo|Undef have historically had massively different
coercion implications. Maybe[Foo] says, it is a Foo, or is an undef, and
you must coerce from &#39;Maybe[Foo]&#39;, and not Foo., this makes the already
cumbersome Coercions of MX::Types even more nonsensical, because to have
a Maybe[Foo], a Maybe[Foo|Bar], and a Maybe[Foo|Bar|Baz] you would have
to write coercions for three parameterized types.

A type union, historically, was implemented totally different.
Foo|Undef, Foo|Bar|Undef, Foo|Bar|Baz|Undef; &#40;spaces padding &#39;|&#39; don&#39;t
matter, in fact I filed the bug when they were required to make them
accepted again&#41;. In this form, you&#39;re saying coerce to foo, if you
can&#39;t, coerce to Bar, if you can&#39;t coerce to Baz, if you can&#39;t and
you&#39;re Undef then good, else fail.

Jnaporisaisdfkoekf or whatever his name is knows more about the theory
behind this stuff. He had a solution to the subpar coercive abilities of
MX:T that he was working on with facets, but I&#39;m not sure how far he got.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;12&nbsp;18:39:13&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46891] Drawbacks of .11</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 12 Jun 2009 15:38:07 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Evan Carroll via RT &lt;bug-MooseX-Types [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Rafael Kitover &lt;rkitover [...] io.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey EC,

For making base types that are not exported, you can do:

package Foo;
use MooseX::Types -declare =&gt; [&#39;Bar&#39;];
use MooseX::Types::Moose &#39;Int&#39;;

subtype &#39;Foo::Base&#39;, as Int;
subtype Bar, as &#39;Foo::Base&#39;;

fully qualified and namespaced types will work fine.

You should not be making global types as your base types any way.

Will add docs about this.

On Fri, Jun 12, 2009 at 02:20:08PM -0400, Evan Carroll via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: MooseX-Types
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46891">https://rt.cpan.org/Ticket/Display.html?id=46891</a></span> &gt;
&gt; 
&gt; Ok, first I wanted to confirm this stuff. CPANPLUS was being mega
&gt; shitass, and I just filed a bug on it too for failing to downgrade by url.
&gt; 
&gt; So the deal is, in .10, the following code works:
&gt; package Foo;
&gt; use MooseX::Types;
&gt; subtype &#34;foo&#34; =&gt; as &#34;Int&#34;;
&gt; subtype &#34;bar&#34; =&gt; as &#34;foo&#34;;
&gt; 
&gt; However, in .11 you can&#39;t write it the same way, that same code gives
&gt; you this.
&gt; WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; WARNING: String found where Type expected &#40;did you use a =&gt; instead of a
&gt; , ?&#41; at -e line 1
&gt; 
&gt; Logically, you&#39;ve made the types consistent on Barewords &#40;I strongly
&gt; would have preferred a string solution for consistency, but whatever&#41;.
&gt; So I try to remove the strings, and the fat commas.
&gt; package Foo;
&gt; use MooseX::Types;
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
&gt; 
&gt; But nothing is in your package, so you have MooseX::Types::Moose pollute
&gt; you with the Int, and now, new to .10 you have to declare things even if
&gt; they aren&#39;t exported &#40;as in internal base types&#41;.. so you try 
&gt; package Foo;
&gt; use MooseX::Types::Moose qw&#40;Int&#41;;
&gt; use MooseX::Types -declare qw&#40;foo bar&#41;;
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
&gt; 
&gt; Finally, you have joy -- kinda, this begs the question on how you
&gt; declare an unexported base type. You think you&#39;ve got it, but still no
&gt; joy. Now with .11 Roles that where composed into classes that used the
&gt; MX::Types library have to also use the MX::Types library -- this might
&gt; be a good thing, but it certainly isn&#39;t backwards compat. So you go back
&gt; and look at your code add the missing includes for the Types and save
&gt; and try again. Does it work yet? Nope, because now that you&#39;re using
&gt; Barewords you have to use Explicitly code all of the variables into
&gt; Sub::Exporter, whereas in .10 you you could use strings, and thus only
&gt; had to put the subs you wanted exported too in Sub::Exporter...
&gt; 
&gt; So finally, after you&#39;ve got rid off all of the stringifications with
&gt; quotes and fat commas, and you&#39;ve replaced all base types with
&gt; MooseX::Types::Moose barewords, and you updated Sub::Exporter to export
&gt; all of those barewords now... You ask the question, do I have joy yet?
&gt; Nope. And, why is that you ask..
&gt; 
&gt; Could not load class &#40;DM::IO::Input::File&#41; because : Could not load
&gt; class &#40;DM::IO::Input::Base::Index&#41; because : Could not locate type
&gt; constraint &#40;Money&#41; for the union at
&gt; /usr/local/share/perl/5.10.0/Moose/Util/TypeConstraints.pm line 87
&gt; 
&gt; Fuck! A 2 month old critical bug on rt was less important than this?
&gt; Jesus. Christ. So now I can&#39;t use a type-union with MooseX::Types and Undef.
&gt; 
&gt; package Foo;
&gt; use MooseX::Types::Moose qw&#40;Int&#41;;
&gt; use MooseX::Types -declare =&gt; [qw&#40;foo bar&#41;];
&gt; subtype foo , as Int;
&gt; subtype bar , as foo;
&gt; 
&gt; package WTF;
&gt; use Moose;
&gt; Foo-&gt;import&#40; &#39;foo&#39;, &#39;bar&#39; &#41;;
&gt; 
&gt; ## No workie
&gt; has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo | Undef&#39;, is =&gt; &#39;rw&#39; &#41;;
&gt; ## workie
&gt; has &#39;mutatedtype&#39; =&gt; &#40; isa =&gt; &#39;foo&#39;, is =&gt; &#39;rw&#39; &#41;;
&gt; 
&gt; 
&gt; This used to work before, not being able to do this is going to prevent
&gt; successful migration to .11. At least before I could use the
&gt; global-string-types version and get this working.
&gt; 
&gt; As as a side note the docs for migration are really needed here, I
&gt; really had to like 4 steps to get this to even `perl -c` with .11.
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;26&nbsp;21:17:49&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;27&nbsp;13:36:30&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">What are you randomly closing bugs for? If you don&#39;t understand this
module you should pass maintainership.

How do you make vanilla.t work in MX::Types now that you&#39;ve removed the
global string types.... &#40;failing test mxtypes.t&#41;

Now, downgrade your MX::Types to 0.08 &#40;probably works with a slightly
newer version too&#41;, check out old_mxtypes.t, !!! See it works.

You not just massively broke backwards compat, but you deprived us of an
important function -- Coercions in Unions, please fix.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">package Class;
use Moose;
use Moose::Util::TypeConstraints;

subtype &#34;CoercedType&#34;
	, as &#34;Str&#34;
	, where { $_ !~ /foo/ }
	, message { &#34;Fuck foo&#34; }
;

coerce &#34;CoercedType&#34;
	, from &#34;Str&#34;
	, via { s/foo/bar/, $_ }
;

has &#39;attr&#39; =&gt; &#40;
	isa  =&gt; &#39;CoercedType | Undef&#39;
	, is =&gt; &#39;rw&#39;
	, coerce =&gt; 1
&#41;;

package main;
use Test::More &#34;tests&#34; =&gt; 2;
my $c = Class-&gt;new;
$c-&gt;attr&#40; &#39;foo&#39; &#41;;
is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;

$c-&gt;attr&#40; undef &#41;;
is&#40; $c-&gt;attr, undef &#41;;

</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">package Types;
use MooseX::Types -declare =&gt; [qw/ CoercedType /];
use MooseX::Types::Moose qw&#40; Str &#41;;

subtype CoercedType
	, as Str
	, where { $_ !~ /foo/ }
	, message { &#34;Fuck foo&#34; }
;

coerce CoercedType
	, from Str
	, via { s/foo/bar/, $_ }
;

package Class;
use Moose;

BEGIN{ Types-&gt;import&#40;qw/CoercedType/&#41;; }

has &#39;attr&#39; =&gt; &#40;
	isa  =&gt; &#39;CoercedType | Undef&#39;
	, is =&gt; &#39;rw&#39;
	, coerce =&gt; 1
&#41;;

package main;
use Test::More tests =&gt; 2;
my $c = Class-&gt;new;
$c-&gt;attr&#40; &#39;foo&#39; &#41;;
is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;

$c-&gt;attr&#40; undef &#41;;
is&#40; $c-&gt;attr, undef &#41;;


</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">package Types;
use MooseX::Types -declare =&gt; [qw/ CoercedType /];
use MooseX::Types::Moose qw&#40; Str &#41;;

subtype &#34;CoercedType&#34;
	, as Str
	, where { $_ !~ /foo/ }
	, message { &#34;Fuck foo&#34; }
;

coerce &#34;CoercedType&#34;
	, from Str
	, via { s/foo/bar/, $_ }
;

package Class;
use Moose;

BEGIN{ Types-&gt;import&#40;qw/CoercedType/&#41;; }

has &#39;attr&#39; =&gt; &#40;
	isa  =&gt; &#39;CoercedType | Undef&#39;
	, is =&gt; &#39;rw&#39;
	, coerce =&gt; 1
&#41;;

package main;
use Test::More tests =&gt; 2;
my $c = Class-&gt;new;
$c-&gt;attr&#40; &#39;foo&#39; &#41;;
is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;

$c-&gt;attr&#40; undef &#41;;
is&#40; $c-&gt;attr, undef &#41;;


</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;27&nbsp;13:36:31&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;27&nbsp;15:39:49&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #46891] Many bugs in .11 -- no mention of upgrade method, no work around for 44749</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 27 Jun 2009 12:39:01 -0700</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Evan Carroll via RT &lt;bug-MooseX-Types [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Rafael Kitover &lt;rkitover [...] io.com&gt;</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">mxtypes.t fails on both 0.08 and 0.14

You need to use either:

isa =&gt; CoercedType | Undef # no quotes

or

isa =&gt; &#39;Types::CoercedType | Undef&#39;

then the test passes.

old_mxtypes.t and vanilla.t pass on both 0.08 and 0.14

On Sat, Jun 27, 2009 at 01:36:31PM -0400, Evan Carroll via RT wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;        Queue: MooseX-Types
&gt;  Ticket &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=46891">https://rt.cpan.org/Ticket/Display.html?id=46891</a></span> &gt;
&gt; 
&gt; What are you randomly closing bugs for? If you don&#39;t understand this
&gt; module you should pass maintainership.
&gt; 
&gt; How do you make vanilla.t work in MX::Types now that you&#39;ve removed the
&gt; global string types.... &#40;failing test mxtypes.t&#41;
&gt; 
&gt; Now, downgrade your MX::Types to 0.08 &#40;probably works with a slightly
&gt; newer version too&#41;, check out old_mxtypes.t, !!! See it works.
&gt; 
&gt; You not just massively broke backwards compat, but you deprived us of an
&gt; important function -- Coercions in Unions, please fix.
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; package Class;
&gt; use Moose;
&gt; use Moose::Util::TypeConstraints;
&gt; 
&gt; subtype &#34;CoercedType&#34;
&gt;       , as &#34;Str&#34;
&gt;       , where { $_ !~ /foo/ }
&gt;       , message { &#34;Fuck foo&#34; }
&gt; ;
&gt; 
&gt; coerce &#34;CoercedType&#34;
&gt;       , from &#34;Str&#34;
&gt;       , via { s/foo/bar/, $_ }
&gt; ;
&gt; 
&gt; has &#39;attr&#39; =&gt; &#40;
&gt;       isa  =&gt; &#39;CoercedType | Undef&#39;
&gt;       , is =&gt; &#39;rw&#39;
&gt;       , coerce =&gt; 1
&gt; &#41;;
&gt; 
&gt; package main;
&gt; use Test::More &#34;tests&#34; =&gt; 2;
&gt; my $c = Class-&gt;new;
&gt; $c-&gt;attr&#40; &#39;foo&#39; &#41;;
&gt; is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;
&gt; 
&gt; $c-&gt;attr&#40; undef &#41;;
&gt; is&#40; $c-&gt;attr, undef &#41;;
&gt; 
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; package Types;
&gt; use MooseX::Types -declare =&gt; [qw/ CoercedType /];
&gt; use MooseX::Types::Moose qw&#40; Str &#41;;
&gt; 
&gt; subtype CoercedType
&gt;       , as Str
&gt;       , where { $_ !~ /foo/ }
&gt;       , message { &#34;Fuck foo&#34; }
&gt; ;
&gt; 
&gt; coerce CoercedType
&gt;       , from Str
&gt;       , via { s/foo/bar/, $_ }
&gt; ;
&gt; 
&gt; package Class;
&gt; use Moose;
&gt; 
&gt; BEGIN{ Types-&gt;import&#40;qw/CoercedType/&#41;; }
&gt; 
&gt; has &#39;attr&#39; =&gt; &#40;
&gt;       isa  =&gt; &#39;CoercedType | Undef&#39;
&gt;       , is =&gt; &#39;rw&#39;
&gt;       , coerce =&gt; 1
&gt; &#41;;
&gt; 
&gt; package main;
&gt; use Test::More tests =&gt; 2;
&gt; my $c = Class-&gt;new;
&gt; $c-&gt;attr&#40; &#39;foo&#39; &#41;;
&gt; is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;
&gt; 
&gt; $c-&gt;attr&#40; undef &#41;;
&gt; is&#40; $c-&gt;attr, undef &#41;;
&gt; 
&gt; 
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; package Types;
&gt; use MooseX::Types -declare =&gt; [qw/ CoercedType /];
&gt; use MooseX::Types::Moose qw&#40; Str &#41;;
&gt; 
&gt; subtype &#34;CoercedType&#34;
&gt;       , as Str
&gt;       , where { $_ !~ /foo/ }
&gt;       , message { &#34;Fuck foo&#34; }
&gt; ;
&gt; 
&gt; coerce &#34;CoercedType&#34;
&gt;       , from Str
&gt;       , via { s/foo/bar/, $_ }
&gt; ;
&gt; 
&gt; package Class;
&gt; use Moose;
&gt; 
&gt; BEGIN{ Types-&gt;import&#40;qw/CoercedType/&#41;; }
&gt; 
&gt; has &#39;attr&#39; =&gt; &#40;
&gt;       isa  =&gt; &#39;CoercedType | Undef&#39;
&gt;       , is =&gt; &#39;rw&#39;
&gt;       , coerce =&gt; 1
&gt; &#41;;
&gt; 
&gt; package main;
&gt; use Test::More tests =&gt; 2;
&gt; my $c = Class-&gt;new;
&gt; $c-&gt;attr&#40; &#39;foo&#39; &#41;;
&gt; is&#40; $c-&gt;attr, &#39;bar&#39; &#41;;
&gt; 
&gt; $c-&gt;attr&#40; undef &#41;;
&gt; is&#40; $c-&gt;attr, undef &#41;;
&gt; 
&gt; 
</div></div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Mon&nbsp;Jun&nbsp;29&nbsp;14:18:59&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;30&nbsp;22:05:38&nbsp;2009</span>
    <span class="description">perl [...] evancarroll.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for help, can you make changes to the tests and commit them?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Tue&nbsp;Jun&nbsp;30&nbsp;22:05:39&nbsp;2009</span>
    <span class="description">The RT System itself -  Status changed from &#39;resolved&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;24&nbsp;00:39:23&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I think we can close this now?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Dec&nbsp;24&nbsp;00:39:25&nbsp;2009</span>
    <span class="description">rkitover [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
