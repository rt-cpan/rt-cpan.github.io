<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #133412 for Crypt-DES: FW: Crypt::DES cpan module</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #133412 for Crypt-DES: FW: Crypt::DES cpan module</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Crypt-DES/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Crypt-DES/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Crypt-DES/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/Crypt-DES/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Crypt-DES">Crypt-DES CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">133412</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">new</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/Crypt-DES/Active/">Crypt-DES</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
dstevenson [...] uplandsoftware.com

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8390-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-8391-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Sep&nbsp;24&nbsp;09:36:04&nbsp;2020</span>
    <span class="description">dstevenson [...] uplandsoftware.com -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> FW: Crypt::DES cpan module</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 24 Sep 2020 13:35:55 +0000</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> Brian Fraser via RT &lt;bug-Crypt-DES [...] rt.cpan.org&gt;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> David Stevenson &lt;dstevenson [...] uplandsoftware.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Diffs that I sent to Dave, re: Crypt::Des, see below.
Thanks.


From: David Stevenson &lt;dstevenson@uplandsoftware.com&gt;
Date: Sunday, 20 September 2020 at 18:21
To: Dave Paris &lt;dparis@w3works.com&gt;
Subject: Re: Crypt::DES cpan module

Hi,

The minimum change is this:

$ diff -r patched original
diff -r patched/Crypt-DES-2.07/DES.xs original/Crypt-DES-2.07/DES.xs
27d26
&lt; #pragma clang diagnostic ignored &#34;-Wimplicit-function-declaration&#34;


This pragma turns off the error for Clang and is safe for all versions of Clang, and, of course, being a comment should be safe for other compilers too!

It doesn’t need any version checking ifdefs, in my view.

I did consider the alternative, which is to define the prototypes for perl_des_expand_key and  perl_des_crypt in _des.h, however that raised a different issue of “char *” versus “unsigned char *” pointers, and fixing that would be beyond the scope of this change, in my view.  And it’s probably good to avoid actual code changes for code such as this, that has been stable for so long.

Kind regards
David

PS The original issue was this:

perl Makefile.PL &#38;&#38; make
Checking if your kit is complete...
Looks good
Writing Makefile for Crypt::DES
Writing MYMETA.yml and MYMETA.json
cp DES.pm blib/lib/Crypt/DES.pm
/Users/dstevenson/.plenv/shims/perl /System/Library/Perl/5.18/ExtUtils/xsubpp  -typemap /System/Library/Perl/5.18/ExtUtils/typemap -typemap typemap  DES.xs &gt; DES.xsc &#38;&#38; mv DES.xsc DES.c
cc -c   -g -pipe -fno-common -DPERL_DARWIN -fno-strict-aliasing -fstack-protector -Os   -DVERSION=\&#34;2.07\&#34; -DXS_VERSION=\&#34;2.07\&#34;  -iwithsysroot &#34;/System/Library/Perl/5.18/darwin-thread-multi-2level/CORE&#34;   DES.c
DES.xs:39:3: error: implicit declaration of function &#39;perl_des_expand_key&#39; is invalid in C99 [-Werror,-Wimplicit-function-declaration]
                perl_des_expand_key&#40;&#40;i8 *&#41;key, ks&#41;;
                ^
DES.xs:39:3: note: did you mean &#39;_des_expand_key&#39;?
./_des.h:6:6: note: &#39;_des_expand_key&#39; declared here
void _des_expand_key&#40; des_user_key userKey, des_ks key &#41;;
     ^
DES.xs:69:3: error: implicit declaration of function &#39;perl_des_crypt&#39; is invalid in C99 [-Werror,-Wimplicit-function-declaration]
                perl_des_crypt&#40;input, SvGROW&#40;output, output_len&#41;, &#40;i32 *&#41;ks, enc_flag&#41;;
                ^
2 errors generated.
make: *** [DES.o] Error 1




From: Dave Paris &lt;dparis@w3works.com&gt;
Date: Saturday, 19 September 2020 at 18:03
To: David Stevenson &lt;dstevenson@uplandsoftware.com&gt;
Subject: Re: Crypt::DES cpan module

HI David,

Yep, I&#39;m still maintaining Crypt::DES, Crypt:::Blowfish, etc. :&#41;

It&#39;s maintained on CPAN only, primarily because the crypto algorithms must be exact for the cryptography to be valid against tests.  Diffs are happily accepted and typically updated within 72 hours of local testing completion.  If you&#39;d like to alter a definition specific for MacOS 10.5, you can do it within an if/else block.

Thank you and kindest regards,
Dave

[Image removed by sender.]&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.avast.com%2Fsig-email%3Futm_medium%3Demail%26utm_source%3Dlink%26utm_campaign%3Dsig-email%26utm_content%3Dwebmail%26utm_term%3Dicon&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874801997&#38;sdata=u93GHKYmp3PqV89AGwYJaB8kXq1Q100oth1X8vmJnS8%3D&#38;reserved=0">https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.avast.com%2Fsig-email%3Futm_medium%3Demail%26utm_source%3Dlink%26utm_campaign%3Dsig-email%26utm_content%3Dwebmail%26utm_term%3Dicon&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874801997&#38;sdata=u93GHKYmp3PqV89AGwYJaB8kXq1Q100oth1X8vmJnS8%3D&#38;reserved=0</a></span>&gt;
Virus-free. www.avast.com&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.avast.com%2Fsig-email%3Futm_medium%3Demail%26utm_source%3Dlink%26utm_campaign%3Dsig-email%26utm_content%3Dwebmail%26utm_term%3Dlink&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874801997&#38;sdata=cLp6ZyZd415bBpI8i8b1IKB0OEYBE%2FFMpxNNOhnSVmw%3D&#38;reserved=0">https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Fwww.avast.com%2Fsig-email%3Futm_medium%3Demail%26utm_source%3Dlink%26utm_campaign%3Dsig-email%26utm_content%3Dwebmail%26utm_term%3Dlink&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874801997&#38;sdata=cLp6ZyZd415bBpI8i8b1IKB0OEYBE%2FFMpxNNOhnSVmw%3D&#38;reserved=0</a></span>&gt;

On Fri, Sep 18, 2020 at 7:00 PM David Stevenson &lt;dstevenson@uplandsoftware.com&lt;mailto:dstevenson@uplandsoftware.com&gt;&gt; wrote:
Hi Dave,

I’ve submitted an RT issue for Crypt::DES, for which MetaCPAN lists you as the maintainer.

Are you still maintaining it? If so, I’ll be happy to provide a PR, but I couldn’t find a source repo on github, other than the read-only gitpan thing.

If you aren’t interested in maintaining it, I might be able to apply to adopt it. What do you think?

The issue is at <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Public/Bug/Display.html?id=133363">https://rt.cpan.org/Public/Bug/Display.html?id=133363</a></span>&lt;<span class="clickylink"><a target="new" rel="nofollow" href="https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Frt.cpan.org%2FPublic%2FBug%2FDisplay.html%3Fid%3D133363&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874811993&#38;sdata=nkUAQA5GszDDNPdu2s214NbcFfiYULc2EXD4%2FdMSIsg%3D&#38;reserved=0">https://nam01.safelinks.protection.outlook.com/?url=https%3A%2F%2Frt.cpan.org%2FPublic%2FBug%2FDisplay.html%3Fid%3D133363&#38;data=02%7C01%7Cdstevenson%40uplandsoftware.com%7C1118e80b44d14348863708d85cbde0b5%7Cdd02d1e4d2a8462892c81f4b5de6419b%7C0%7C1%7C637361317874811993&#38;sdata=nkUAQA5GszDDNPdu2s214NbcFfiYULc2EXD4%2FdMSIsg%3D&#38;reserved=0</a></span>&gt;

Regards,
David.

</div></div>

<div class="messagebody">
<p>Message body is not shown because it is too large.</p></div>
</div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
