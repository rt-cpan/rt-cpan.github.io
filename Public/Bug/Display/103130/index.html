<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #103130 for Proc-Daemon: Issue with test suite - erratic results</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #103130 for Proc-Daemon: Issue with test suite - erratic results</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do I…?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=Proc-Daemon">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=Proc-Daemon">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=Proc-Daemon">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=Proc-Daemon">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/Proc-Daemon">Proc-Daemon CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">103130</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=Proc-Daemon">Proc-Daemon</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">AKREAL [...] cpan.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
remi [...] fedoraproject.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27158-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
  <tr id="CF-27159-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.21    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=103130">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1478843" href="/Public/Bug/Display.html?id=103130#txn-1478843">#</a>      
    </span>
    <span class="date">Thu&nbsp;Mar&nbsp;26&nbsp;06:25:17&nbsp;2015</span>
    <span class="description">remi [...] fedoraproject.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 26 Mar 2015 11:24:53 +0100</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Remi Collet &lt;remi [...] fedoraproject.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1478843/787777/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/787777">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.8k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi,

Trying to update the Fedora/EPEL package I notice erratic failure,
probably related to builder power/charge.

+ make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_loadmodule.t .. ok
# Parent slept for 3 sec.
# Proc::ProcessTable is installed and did find the right PID for &#39;perl
/builddir/build/BUILD/Proc-Daemon-0.19/t/kid.pl&#39;: 15571
t/02_testmodule.t .. ok
# Parent slept for 3 sec.
# Proc::ProcessTable is installed and did find the right PID for &#39;perl
/builddir/build/BUILD/Proc-Daemon-0.19/t/kid.pl&#39;: 15584
/builddir/build/BUILD/Proc-Daemon-0.19/t/02_testmodule.t did not
return a true value at t/03_taintmode.t line 20.
# Looks like your test exited with 2 just after 19.
t/03_taintmode.t ...
Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
All 19 subtests passed
Test Summary Report
-------------------
t/03_taintmode.t &#40;Wstat: 512 Tests: 19 Failed: 0&#41;
  Non-zero exit status: 2
Files=3, Tests=39, 10 wallclock secs &#40; 0.03 usr  0.00 sys +  0.13 cusr
 0.04 csys =  0.20 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 0/39 subtests failed.


I also encouter failure on local system &#40;with lot of installed perl
packages&#41;, always fails.


+ make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34;
&#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches;
test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_loadmodule.t .. ok
t/02_testmodule.t .. 2/19 # Parent slept for 3 sec.
# Proc::ProcessTable is installed and did find the right PID for &#39;perl
/dev/shm/extras/BUILD/Proc-Daemon-0.19/t/kid.pl&#39;: 25881
t/02_testmodule.t .. ok
t/03_taintmode.t ... 2/19 # Parent slept for 3 sec.
t/03_taintmode.t ... 15/19
#   Failed test &#39;&#39;kid.pl&#39; daemon is still running&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.19/t/02_testmodule.t line 119.

#   Failed test &#39;stop daemon &#39;kid.pl&#39;&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.19/t/02_testmodule.t line 122.
Use of uninitialized value in numeric eq &#40;==&#41; at
/dev/shm/extras/BUILD/Proc-Daemon-0.19/t/02_testmodule.t line 132.

#   Failed test &#39;the &#39;umask.file&#39; has right permissions&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.19/t/02_testmodule.t line 132.
/dev/shm/extras/BUILD/Proc-Daemon-0.19/t/02_testmodule.t did not
return a true value at t/03_taintmode.t line 20.
# Looks like you failed 3 tests of 19.
# Looks like your test exited with 2 just after 19.
t/03_taintmode.t ... Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
Failed 3/19 subtests

Test Summary Report
-------------------
t/03_taintmode.t &#40;Wstat: 512 Tests: 19 Failed: 3&#41;
  Failed tests:  15-16, 18
  Non-zero exit status: 2
Files=3, Tests=39,  9 wallclock secs &#40; 0.02 usr  0.00 sys +  0.09 cusr
 0.07 csys =  0.18 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 3/39 subtests failed.
Makefile:838: recipe for target &#39;test_dynamic&#39; failed
make: *** [test_dynamic] Error 2


Any idea ? thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1481165" href="/Public/Bug/Display.html?id=103130#txn-1481165">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;03&nbsp;03:25:13&nbsp;2015</span>
    <span class="description">ppisar [...] redhat.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> ppisar [...] redhat.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1481165/789051/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/789051">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.9k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Dne Čt 26.bře.2015 06:25:17, remi@fedoraproject.org napsal&#40;a&#41;:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; + make test
&gt; PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34; &#34;-e&#34;
&gt; &#34;test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
&gt; t/01_loadmodule.t .. ok
&gt; # Parent slept for 3 sec.
&gt; # Proc::ProcessTable is installed and did find the right PID for &#39;perl
&gt; /builddir/build/BUILD/Proc-Daemon-0.19/t/kid.pl&#39;: 15571
&gt; t/02_testmodule.t .. ok
&gt; # Parent slept for 3 sec.
&gt; # Proc::ProcessTable is installed and did find the right PID for &#39;perl
&gt; /builddir/build/BUILD/Proc-Daemon-0.19/t/kid.pl&#39;: 15584
&gt; /builddir/build/BUILD/Proc-Daemon-0.19/t/02_testmodule.t did not
&gt; return a true value at t/03_taintmode.t line 20.
&gt; # Looks like your test exited with 2 just after 19.
&gt; t/03_taintmode.t ...
&gt; Dubious, test returned 2 &#40;wstat 512, 0x200&#41;
&gt; All 19 subtests passed
&gt; Test Summary Report
&gt; -------------------
&gt; t/03_taintmode.t &#40;Wstat: 512 Tests: 19 Failed: 0&#41;
&gt;   Non-zero exit status: 2
&gt; Files=3, Tests=39, 10 wallclock secs &#40; 0.03 usr  0.00 sys +  0.13 cusr
&gt;  0.04 csys =  0.20 CPU&#41;
&gt; Result: FAIL
&gt; Failed 1/3 test programs. 0/39 subtests failed.
&gt; 
</div>t/03_taintmode.t executes t/02_testmodule.t. t/02_testmodule.t is full of sleep&#40;&#41;s and blind expectations that parent and child processes will advance in specific speed. The expectation is obviously wrong because CPU scheduler can delay any task unpredictably.

For me, the most magic constant is &#34;sleep&#40; 3 &#41;;&#34; &#40;just before &#39;Parent slept for 3 sec.&#39; message&#41;. If you add &#34;sleep&#40;10&#41;;&#34; just after the original sleep &#40;because of &#34;stay alive vor 10 sec.&#34; assumption&#41;, the test will fail regularly:

$ prove -v -b t/02_testmodule.t
t/02_testmodule.t ..
1..19
ok 1 - child_1 was created with PID: 1728
ok 2 - child_1 process did exit within 1 sec.
ok 3 - child_1 has created a &#39;pid.file&#39;
ok 4 - the &#39;pid.file&#39; contains the right PID: 1728
ok 5 - the &#39;pid.file&#39; has right permissions
ok 6 - child_1 has created a &#39;output.file&#39;
ok 7 - the content of the &#39;output.file&#39; was right.
ok 8 - child_1 has created a &#39;error.file&#39;
ok 9 - child_1 has created the &#39;kid.pl&#39; file
ok 10 - child_2 was created with PID: 1732
ok 11 - child_2 created a &#39;pid_1.file&#39;
ok 12 - the &#39;pid_1.file&#39; contains the right PID: 1732
ok 13 - child_2 created a &#39;output_1.file&#39;
ok 14 - child_2 created a &#39;error_1.file&#39;
# Parent slept for 3 sec.
not ok 15 - &#39;kid.pl&#39; daemon is still running
not ok 16 - stop daemon &#39;kid.pl&#39;
ok 17 - &#39;kid.pl&#39; daemon was stopped within 0 sec.
ok 18 - the &#39;umask.file&#39; has right permissions

#   Failed test &#39;&#39;kid.pl&#39; daemon is still running&#39;
#   at t/02_testmodule.t line 120.

#   Failed test &#39;stop daemon &#39;kid.pl&#39;&#39;
#   at t/02_testmodule.t line 123.
ok 19 - the &#39;pid2.file&#39; has right permissions via file_umask
# Looks like you failed 2 tests of 19.

I believe the reported failure is yet another race.

Solution is either replace all sleep&#39;s with proper inter process synchronization or skip all time-sensitive tests if the tested work load does not finish in expected time.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1481166" href="/Public/Bug/Display.html?id=103130#txn-1481166">#</a>      
    </span>
    <span class="date">Fri&nbsp;Apr&nbsp;03&nbsp;03:25:14&nbsp;2015</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1511903" href="/Public/Bug/Display.html?id=103130#txn-1511903">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;26&nbsp;13:32:34&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1511903/806179/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/806179">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 67b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hi, sorry for the delayed reply. Could you please try it with 0.20?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Set odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1511906" href="/Public/Bug/Display.html?id=103130#txn-1511906">#</a>      
    </span>
    <span class="date">Fri&nbsp;Jun&nbsp;26&nbsp;13:32:35&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1512131" href="/Public/Bug/Display.html?id=103130#txn-1512131">#</a>      
    </span>
    <span class="date">Sat&nbsp;Jun&nbsp;27&nbsp;03:33:47&nbsp;2015</span>
    <span class="description">remi [...] fedoraproject.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Sat, 27 Jun 2015 09:33:24 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Remi Collet &lt;remi [...] fedoraproject.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1512131/806325/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/806325">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 2.3k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Le 26/06/2015 19:32, Pavel Denisov via RT a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt; 
&gt; Hi, sorry for the delayed reply. Could you please try it with
&gt; 0.20?
&gt; 
</div>
On a quite slow computer &#40;arm, perl 5.22&#41;, it seems OK

See <span class="clickylink"><a target="new" rel="nofollow" href="https://kojipkgs.fedoraproject.org//work/tasks/6456/10226456/build.l">https://kojipkgs.fedoraproject.org//work/tasks/6456/10226456/build.l</a></span>
og

On a clean chroot &#40;perl 5.18, 5.20, 5.22&#41;, seems ok too

But on my local computer &#40;quite fast&#41;, On all run, it strangely fails
look like some conflicts with some installed modules.. :&#40;

I just build it in Fedora rawhide, and will check our CI to see if any
failure occurs...
See: <span class="clickylink"><a target="new" rel="nofollow" href="https://apps.fedoraproject.org/koschei/package/perl-Proc-Daemon">https://apps.fedoraproject.org/koschei/package/perl-Proc-Daemon</a></span>


Remi.



P.S. local build failure
+ make test
PERL_DL_NONLAZY=1 /usr/bin/perl &#34;-MExtUtils::Command::MM&#34;
&#34;-MTest::Harness&#34; &#34;-e&#34; &#34;undef *Test::Harness::Switches;
test_harness&#40;0, &#39;blib/lib&#39;, &#39;blib/arch&#39;&#41;&#34; t/*.t
t/01_loadmodule.t .. ok
t/02_testmodule.t .. 2/19 # Proc::ProcessTable is installed and did
find the right PID for &#39;perl
/dev/shm/extras/BUILD/Proc-Daemon-0.20/t/kid.pl&#39;: 28353
t/02_testmodule.t .. ok
t/03_taintmode.t ... 2/19
#   Failed test &#39;&#39;kid.pl&#39; daemon is still running&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.20/t/02_testmodule.t line 116
.

#   Failed test &#39;stop daemon &#39;kid.pl&#39;&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.20/t/02_testmodule.t line 119
.
Use of uninitialized value in numeric eq &#40;==&#41; at
/dev/shm/extras/BUILD/Proc-Daemon-0.20/t/02_testmodule.t line 129.

#   Failed test &#39;the &#39;umask.file&#39; has right permissions&#39;
#   at /dev/shm/extras/BUILD/Proc-Daemon-0.20/t/02_testmodule.t line 129
.
t/03_taintmode.t ... 19/19 # Looks like you failed 3 tests of 19.
t/03_taintmode.t ... Dubious, test returned 3 &#40;wstat 768, 0x300&#41;
Failed 3/19 subtests

Test Summary Report
- -------------------
t/03_taintmode.t &#40;Wstat: 768 Tests: 19 Failed: 3&#41;
  Failed tests:  15-16, 18
  Non-zero exit status: 3
Files=3, Tests=39,  7 wallclock secs &#40; 0.02 usr  0.00 sys +  0.09 cusr
 0.06 csys =  0.17 CPU&#41;
Result: FAIL
Failed 1/3 test programs. 3/39 subtests failed.
Makefile:840: recipe for target &#39;test_dynamic&#39; failed

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Using GnuPG with Thunderbird - <span class="clickylink"><a target="new" rel="nofollow" href="http://www.enigmail.net/">http://www.enigmail.net/</a></span>

iEYEARECAAYFAlWOUcQACgkQYUppBSnxahiitwCgx+kmUo9c6bVVpTXuPoOA1wlL
GFcAoPEjPC800Q0EwnDqyuifqGb6liL1
=XzI0
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1518775" href="/Public/Bug/Display.html?id=103130#txn-1518775">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;20&nbsp;11:33:18&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> [rt.cpan.org #103130] Installation of Proc::Daemon : Failed test &#39;&#39;kid.pl&#39; daemon is still running&#39;</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 20 Jul 2015 17:32:59 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1518775/809961/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/809961">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 173b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Same problem observed on Ubuntu 14.10, perl v5.20, more details can be
found here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://stackoverflow.com/questions/31513538/failed-to-install-procdaemon-on-ubuntu-14-10">http://stackoverflow.com/questions/31513538/failed-to-install-procdaemon-on-ubuntu-14-10</a></span>
</div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1518775/809962/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/809962">with headers</a>
<br />
<span class="downloadcontenttype">text/html 325b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1520671" href="/Public/Bug/Display.html?id=103130#txn-1520671">#</a>      
    </span>
    <span class="date">Sun&nbsp;Jul&nbsp;26&nbsp;20:42:02&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1520671/811036/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811036">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 349b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Hey guys, I&#39;ve created the branch with some debug output for this test, could you please try it and give me results?

With cpanm it should be possible to do this way:

cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag

Without cpanm:

git clone -b diag <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/akreal/Proc-Daemon.git">https://github.com/akreal/Proc-Daemon.git</a></span>
cd Proc-Daemon/
perl Makefile.PL
make test
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1520901" href="/Public/Bug/Display.html?id=103130#txn-1520901">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;27&nbsp;15:11:03&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Mon, 27 Jul 2015 21:10:47 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1520901/811148/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811148">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here are my results:

$ cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag
Cloning git@github.com:akreal/Proc-Daemon.git ... OK
--&gt; Working on git@github.com:akreal/Proc-Daemon.git@diag
Configuring /tmp/a0WpvKS3Y0 ... OK
Building and testing Proc-Daemon-0.20 ... FAIL
! Testing git@github.com:akreal/Proc-Daemon.git@diag failed. See
/home/hakon/.cpanm/work/1438023879.30314/build.log for details. Retry with
--force to force install it.
&#39;
The log file &#39;/home/hakon/.cpanm/work/1438023879.30314/build.log&#39; is given
here:

<span class="clickylink"><a target="new" rel="nofollow" href="http://pastebin.com/a3uLrvnn">http://pastebin.com/a3uLrvnn</a></span>



2015-07-27 2:42 GMT+02:00 Pavel Denisov via RT &lt;bug-Proc-Daemon@rt.cpan.org&gt;
:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt;
&gt; Hey guys, I&#39;ve created the branch with some debug output for this test,
&gt; could you please try it and give me results?
&gt;
&gt; With cpanm it should be possible to do this way:
&gt;
&gt; cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag
&gt;
&gt; Without cpanm:
&gt;
&gt; git clone -b diag <span class="clickylink"><a target="new" rel="nofollow" href="https://github.com/akreal/Proc-Daemon.git">https://github.com/akreal/Proc-Daemon.git</a></span>
&gt; cd Proc-Daemon/
&gt; perl Makefile.PL
&gt; make test
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1520901/811149/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811149">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.7k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1520976" href="/Public/Bug/Display.html?id=103130#txn-1520976">#</a>      
    </span>
    <span class="date">Mon&nbsp;Jul&nbsp;27&nbsp;23:07:09&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1520976/811199/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811199">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 359b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thank you, Håkon! Now I see where inconsistent test results come from -- people have different $PATH. The only unclear thing is how to fix it. Some web searching suggests that world-writable directory can cause this problem. I&#39;ve added stripping of such directories from $PATH in 03_taintmode.t &#40;same diag git branch&#41;. Could you please try same test again?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1521027" href="/Public/Bug/Display.html?id=103130#txn-1521027">#</a>      
    </span>
    <span class="date">Tue&nbsp;Jul&nbsp;28&nbsp;05:51:22&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 28 Jul 2015 11:51:12 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1521027/811229/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811229">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here are new results &#40;still failure&#41;:
$ cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag
Cloning git@github.com:akreal/Proc-Daemon.git ... OK
--&gt; Working on git@github.com:akreal/Proc-Daemon.git@diag
Configuring /tmp/oYhOZK8Mm1 ... OK
Building and testing Proc-Daemon-0.20 ... FAIL
! Testing git@github.com:akreal/Proc-Daemon.git@diag failed. See
/home/hakon/.cpanm/work/1438076826.1565/build.log for details. Retry with
--force to force install it.

and the log file is here: <span class="clickylink"><a target="new" rel="nofollow" href="http://pastebin.com/V4zpA9WA">http://pastebin.com/V4zpA9WA</a></span>

2015-07-28 5:07 GMT+02:00 Pavel Denisov via RT &lt;bug-Proc-Daemon@rt.cpan.org&gt;
:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt;
&gt; Thank you, Håkon! Now I see where inconsistent test results come from --
&gt; people have different $PATH. The only unclear thing is how to fix it. Some
&gt; web searching suggests that world-writable directory can cause this
&gt; problem. I&#39;ve added stripping of such directories from $PATH in
&gt; 03_taintmode.t &#40;same diag git branch&#41;. Could you please try same test again?
&gt;
&gt;
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1521027/811230/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/811230">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.5k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1522860" href="/Public/Bug/Display.html?id=103130#txn-1522860">#</a>      
    </span>
    <span class="date">Mon&nbsp;Aug&nbsp;03&nbsp;19:58:40&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1522860/812247/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812247">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 95b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Could you please try the same again? I&#39;ve changed $PATH untainting and added more debug output.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1522910" href="/Public/Bug/Display.html?id=103130#txn-1522910">#</a>      
    </span>
    <span class="date">Tue&nbsp;Aug&nbsp;04&nbsp;04:44:36&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Tue, 4 Aug 2015 10:44:19 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1522910/812269/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812269">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 726b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Still failure:

$ cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag
Cloning git@github.com:akreal/Proc-Daemon.git ... OK
--&gt; Working on git@github.com:akreal/Proc-Daemon.git@diag
Configuring /tmp/azN1KlC9TJ ... OK
Building and testing Proc-Daemon-0.20 ... FAIL
! Testing git@github.com:akreal/Proc-Daemon.git@diag failed. See
/home/hakon/.cpanm/work/1438677661.23844/build.log for details. Retry with
--force to force install it.

Log file: <span class="clickylink"><a target="new" rel="nofollow" href="http://pastebin.com/aKdGVikP">http://pastebin.com/aKdGVikP</a></span>

2015-08-04 1:58 GMT+02:00 Pavel Denisov via RT &lt;bug-Proc-Daemon@rt.cpan.org&gt;
:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt;
&gt; Could you please try the same again? I&#39;ve changed $PATH untainting and
&gt; added more debug output.
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1522910/812270/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812270">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523257" href="/Public/Bug/Display.html?id=103130#txn-1523257">#</a>      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;05&nbsp;22:56:07&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523257/812504/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812504">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 72b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">$PATH is tweaked a bit more. May I ask you to test it once again please?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523306" href="/Public/Bug/Display.html?id=103130#txn-1523306">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;06&nbsp;04:26:37&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 6 Aug 2015 10:26:27 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523306/812522/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812522">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 700b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Still failure:

$ cpanm --test-only git@github.com:akreal/Proc-Daemon.git@diag
Cloning git@github.com:akreal/Proc-Daemon.git ... OK
--&gt; Working on git@github.com:akreal/Proc-Daemon.git@diag
Configuring /tmp/HHZgchC1Xf ... OK
Building and testing Proc-Daemon-0.20 ... FAIL
! Testing git@github.com:akreal/Proc-Daemon.git@diag failed. See
/home/hakon/.cpanm/work/1438849416.5541/build.log for details. Retry with
--force to force install it.

Log file: <span class="clickylink"><a target="new" rel="nofollow" href="http://pastebin.com/nftn2miH">http://pastebin.com/nftn2miH</a></span>

2015-08-06 4:56 GMT+02:00 Pavel Denisov via RT &lt;bug-Proc-Daemon@rt.cpan.org&gt;
:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt;
&gt; $PATH is tweaked a bit more. May I ask you to test it once again please?
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523306/812523/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812523">with headers</a>
<br />
<span class="downloadcontenttype">text/html 1.2k</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523338" href="/Public/Bug/Display.html?id=103130#txn-1523338">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;06&nbsp;09:13:24&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523338/812539/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812539">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 26b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">And one more time, please?
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523342" href="/Public/Bug/Display.html?id=103130#txn-1523342">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;06&nbsp;09:58:40&nbsp;2015</span>
    <span class="description">hakon.hagland [...] gmail.com -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Thu, 6 Aug 2015 15:58:31 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Håkon Hægland &lt;hakon.hagland [...] gmail.com&gt;</td>
  </tr>
</table>
<div class="messageattachments">
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523342/812544/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812544">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 189b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">It works now!

2015-08-06 15:13 GMT+02:00 Pavel Denisov via RT &lt;bug-Proc-Daemon@rt.cpan.org
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt;:
</div>
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt;
&gt; And one more time, please?
&gt;
</div></div></div>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523342/812545/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812545">with headers</a>
<br />
<span class="downloadcontenttype">text/html 597b</span>
</div>
<div class="messagebody">
</div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523345" href="/Public/Bug/Display.html?id=103130#txn-1523345">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;06&nbsp;10:03:47&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523345/812548/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812548">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 81b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Great, thanks for testing and reporting! Will release it later today or tomorrow.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523476" href="/Public/Bug/Display.html?id=103130#txn-1523476">#</a>      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;06&nbsp;22:22:50&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">RT-Send-CC:</td>
    <td class="message-header-value"> hakon.hagland [...] gmail.com</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523476/812603/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812603">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 69b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Released in 0.21. Hopefully it will work for you and &#40;mostly&#41; others.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523681" href="/Public/Bug/Display.html?id=103130#txn-1523681">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;07&nbsp;12:32:39&nbsp;2015</span>
    <span class="description">remi [...] fedoraproject.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Re: [rt.cpan.org #103130] Issue with test suite - erratic results</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">Date:</td>
    <td class="message-header-value"> Fri, 7 Aug 2015 18:32:19 +0200</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">To:</td>
    <td class="message-header-value"> bug-Proc-Daemon [...] rt.cpan.org</td>
  </tr>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> Remi Collet &lt;remi [...] fedoraproject.org&gt;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523681/812717/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812717">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 547b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

Le 07/08/2015 04:22, Pavel Denisov via RT a écrit :
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; &lt;URL: <span class="clickylink"><a target="new" rel="nofollow" href="https://rt.cpan.org/Ticket/Display.html?id=103130">https://rt.cpan.org/Ticket/Display.html?id=103130</a></span> &gt;
&gt; 
&gt; Released in 0.21. Hopefully it will work for you and &#40;mostly&#41;
&gt; others.
</div>
Version 0.21 seems ok :&#41;
&#40;even the local build works&#41;

Thanks

-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2
Comment: Using GnuPG with Thunderbird - <span class="clickylink"><a target="new" rel="nofollow" href="http://www.enigmail.net/">http://www.enigmail.net/</a></span>

iEYEARECAAYFAlXE3ZMACgkQYUppBSnxahie3gCgu64sgMQFIzQYJ7wNYVI/kNGq
9PsAoMmT09e+UakW4WNQmIVrLjFHgMQc
=Bz+z
-----END PGP SIGNATURE-----
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523684" href="/Public/Bug/Display.html?id=103130#txn-1523684">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;07&nbsp;12:55:38&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/1523684/812720/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/812720">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 50b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">OK, thanks for checking. Closing this ticket then.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523687" href="/Public/Bug/Display.html?id=103130#txn-1523687">#</a>      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;07&nbsp;12:55:40&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-1523689" href="/Public/Bug/Display.html?id=103130#txn-1523689">#</a>      <a id="lasttrans" name="lasttrans"></a>
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;07&nbsp;12:55:40&nbsp;2015</span>
    <span class="description">AKREAL [...] cpan.org -  Fixed in 0.21 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.848376</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
