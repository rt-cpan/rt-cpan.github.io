<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #31157 for DateTime-Event-Lunar: Incorrect Values for 1800 to 1988 &#40;lunations 22251 to 24575&#41;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="https://rt.cpan.org/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #31157 for DateTime-Event-Lunar: Incorrect Values for 1800 to 1988 &#40;lunations 22251 to 24575&#41;</h1></div>


<div id="main-navigation"><ul id="app-nav" class="toplevel">
 <li id="li-search_dist"><a id="search_dist" class="menu-item " href="/Public/">Search Distributions</a></li>
 <li id="li-browse_dist"><a id="browse_dist" class="menu-item " href="/Public/Dist/Browse.html">Browse Distributions</a></li>
 <li id="li-about" class="has-children"><a id="about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About rt.cpan.org</a>
 <ul>
  <li id="li-about-usage"><a id="about-usage" class="menu-item " href="/NoAuth/RT/CPAN/Usage.html">How do Iâ€¦?</a></li>
  <li id="li-about-about"><a id="about-about" class="menu-item " href="/NoAuth/RT/CPAN/About.html">About</a></li>
 </ul>
 </li>
 <li id="li-preferences"><a id="preferences" class="menu-item ">Welcome <span class="current-user">anonymous guest</span>.</a></li>
 <li id="li-login"><a id="login" class="menu-item " href="/NoAuth/Logout.html">Login as another user</a></li>
</ul></div>
<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Active;Name=DateTime-Event-Lunar">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Resolved;Name=DateTime-Event-Lunar">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/Display.html?Status=Rejected;Name=DateTime-Event-Lunar">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Bug/Report.html?Queue=DateTime-Event-Lunar">Report a new bug</a></li>
</ul></div>
<div id="topactions"><form action="/Public/Search/Simple.html" id="simple-search">
  <input size="12" name="q" accesskey="0" class="field" value="" placeholder="Search..." />
</form>

<form action="/Public/Bug/Report.html" name="CreateTicketInQueue" id="CreateTicketInQueue" >
<input type="submit" class="button" value="New ticket in" />&nbsp;<label accesskey="9">
  <input name="Queue" size="25" placeholder="Module or distribution" value="" class="select-queue" data-autocomplete="Queues" data-autocomplete-autosubmit=1 data-autocomplete-params="right=CreateTicket" />

</label>

</form>

</div>
<div id="body">
<div id="announcement" style="padding: 1em; margin: 1em; border: solid black 1px; background: #eee">
<a href="https://log.perl.org/2020/12/rtcpanorg-sunset.html">rt.cpan.org will be shut down on March 1st, 2021.</a>
</div>

<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/DateTime-Event-Lunar">DateTime-Event-Lunar CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">31157</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">open</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Dist/Display.html?Queue=DateTime-Event-Lunar">DateTime-Event-Lunar</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">Nobody in particular
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
FLIP [...] cpan.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Critical    </td>
  </tr>
  <tr id="CF-9812-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.06    </td>
  </tr>
  <tr id="CF-9813-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
<i>(no value)</i>
    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    




  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a> &mdash; <a href="/Public/Bug/Display.html?ShowHeaders=1;id=31157">Show full headers</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-389648" href="/Public/Bug/Display.html?id=31157#txn-389648">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;03&nbsp;03:12:13&nbsp;2007</span>
    <span class="description">FLIP [...] cpan.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> Incorrect Values for 1800 to 1988 &#40;lunations 22251 to 24575&#41;</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/389648/179034/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/179034">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 6.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">There seems to be a major problem with the calculations.  Between
lunation 22250 &#40;Dec 1799&#41; and 22251 &#40;Jan 1800&#41; the module calculates a
month of 3 days and then is wildly divergent from values reported
elsewhere.  It returns to reasonable after 24575 &#40;Dec 1987&#41;, at 24576
&#40;Jan 1988&#41;.  

I&#39;m comparing the output of this module against official NASA calculations:
  <span class="clickylink"><a target="new" rel="nofollow" href="http://sunearth.gsfc.nasa.gov/eclipse/phase/phasecat.html">http://sunearth.gsfc.nasa.gov/eclipse/phase/phasecat.html</a></span>
and the Munich Astro Archive:
  <span class="clickylink"><a target="new" rel="nofollow" href="http://www.maa.mhn.de/StarDate/">http://www.maa.mhn.de/StarDate/</a></span>
They agree with each other but not with the output I&#39;m seeing. Here&#39;s a
snippet that demonstrates the issue &#40;note the new moons on december 26th
and on jan 1st&#41;:

perl -e &#39;
use DateTime::Event::Lunar; 
use DateTime::Util::Astro::Moon qw&#40;nth_new_moon&#41;; 
print $DateTime::Event::Lunar::VERSION, &#34; -- &#34;,
$DateTime::Util::Astro::Moon::VERSION, &#34;\n&#34;; 

@lunations = &#40;0,22248..22254, 24573..24579&#41;; 
my $fmt= &#34;%-8s %-20s %-20s %-20s %-10s\n&#34;; 
printf $fmt, &#34;lunation&#34;,&#34;Estimated&#34;,&#34;From Phase&#34;,&#34;From new_moon&#34;,&#34;RD for
new_moon&#34;; 

map { 
    my $moonest = nth_new_moon&#40;$_&#41;; 
    my $newmoon =
DateTime::Event::Lunar-&gt;new_moon_after&#40;datetime=&gt;$moonest,on_or_after=&gt;1&#41;; 
    my $newmoonph =
DateTime::Event::Lunar-&gt;lunar_phase_after&#40;datetime=&gt;$moonest,
$phase=&gt;NEW_MOON&#41;; 
    printf $fmt, $_, $moonest, $newmoonph, $newmoon, join
&#34;,&#34;,$newmoon-&gt;utc_rd_values;  
} @lunations;&#39;

lunation Estimated            From Phase           From new_moon     
  RD new_moon   -- NASA values ---
22248    1799-10-28T17:20:02  1799-10-28T17:21:06  1799-10-28T17:20:02
 56765467202    1799 Oct 28  17:20  OK 
22249    1799-11-27T03:38:11  1799-11-27T03:39:08  1799-11-27T03:38:11
 56768009891    1799 Nov 27  03:38  OK 
22250    1799-12-26T14:55:38  1799-12-26T14:56:23  1799-12-26T14:55:38
 56770556138    1799 Dec 26  14:56  OK 
22251    1800-01-01T04:14:44  1800-01-01T04:15:17  1800-01-01T04:14:44
 56771036084    1800 Jan 25  03:21  BAD 
22252    1800-01-30T18:02:08  1800-01-30T18:02:41  1800-01-30T18:02:08
 56773591328    1800 Feb 23  17:08  BAD 
22253    1800-03-01T09:15:03  1800-03-01T09:15:23  1800-03-01T09:15:03
 56776151703    1800 Mar 25  08:21  BAD 
22254    1800-03-31T01:24:47  1800-03-31T01:25:13  1800-03-31T01:24:47
 56778715487    1800 Apr 24  00:31  BAD 
lunation Estimated            From Phase           From new_moon     
  RD new_moon   -- NASA values ---
24573    1987-10-21T10:26:08  1987-10-21T10:26:47  1987-10-21T10:26:08
 62697493568    1987 Oct 22  17:28  BAD
24574    1987-11-19T23:31:06  1987-11-19T23:31:41  1987-11-19T23:31:06
 62700046266    1987 Nov 21  06:33  BAD
24575    1987-12-19T11:23:28  1987-12-19T11:24:13  1987-12-19T11:23:28
 62702594608    1987 Dec 20  18:25  BAD
24576    1988-01-19T05:25:30  1988-01-19T05:26:15  1988-01-19T05:25:30
 62705251530    1988 Jan 19  05:26  OK
24577    1988-02-17T15:54:08  1988-02-17T15:54:47  1988-02-17T15:54:08
 62707794848    1988 Feb 17  15:54  OK
24578    1988-03-18T02:02:13  1988-03-18T02:02:54  1988-03-18T02:02:13
 62710336933    1988 Mar 18  02:02  OK
24579    1988-04-16T11:59:53  1988-04-16T12:00:38  1988-04-16T11:59:53
 62712878393    1988 Apr 16  12:00  OK
lunation Estimated            From Phase           From new_moon     
  RD new_moon   -- NASA values ---

If I plot this against the first order estimate
  rataDie_seconds = &#40; 11.4563 + 29.5305888531*n &#41;* 60*60*24
&#40;that&#39;s the date of the first new moon plus n months, converted to
seconds &#41;, the error spikes upward at 1800 and relaxes back to zero,
with scattered large negative spikes; the error is small for lunations
~23000 to ~24000 before a small spike, and behaving again after 24576.

I&#39;ve tried this on two different machines &#40;debian Linux and OSX&#41;, and
appended perl -V from the debian machine below.  I seem to have all of
Pari, GMP, and BigFloat installed on the debian; &#40;I think no GMP on the
OSX box&#41;.

Summary of my perl5 &#40;revision 5 version 8 subversion 8&#41; configuration:
  Platform:
    osname=linux, osvers=2.6.15.7, archname=i486-linux-gnu-thread-multi
    uname=&#39;linux rothera 2.6.15.7 #1 smp sat sep 30 10:21:42 utc 2006
i686 gnulinux &#39;
    config_args=&#39;-Dusethreads -Duselargefiles -Dccflags=-DDEBIAN
-Dcccdlflags=-fPIC -Darchname=i486-linux-gnu -Dprefix=/usr
-Dprivlib=/usr/share/perl/5.8 -Darchlib=/usr/lib/perl/5.8
-Dvendorprefix=/usr -Dvendorlib=/usr/share/perl5
-Dvendorarch=/usr/lib/perl5 -Dsiteprefix=/usr/local
-Dsitelib=/usr/local/share/perl/5.8.8
-Dsitearch=/usr/local/lib/perl/5.8.8 -Dman1dir=/usr/share/man/man1
-Dman3dir=/usr/share/man/man3 -Dsiteman1dir=/usr/local/man/man1
-Dsiteman3dir=/usr/local/man/man3 -Dman1ext=1 -Dman3ext=3perl
-Dpager=/usr/bin/sensible-pager -Uafs -Ud_csh -Uusesfio -Uusenm
-Duseshrplib -Dlibperl=libperl.so.5.8.8 -Dd_dosuid -des&#39;
    hint=recommended, useposix=true, d_sigaction=define
    usethreads=define use5005threads=undef useithreads=define
usemultiplicity=define
    useperlio=define d_sfio=undef uselargefiles=define usesocks=undef
    use64bitint=undef use64bitall=undef uselongdouble=undef
    usemymalloc=n, bincompat5005=undef
  Compiler:
    cc=&#39;cc&#39;, ccflags =&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS
-DDEBIAN -fno-strict-aliasing -pipe -I/usr/local/include
-D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64&#39;,
    optimize=&#39;-O2&#39;,
    cppflags=&#39;-D_REENTRANT -D_GNU_SOURCE -DTHREADS_HAVE_PIDS -DDEBIAN
-fno-strict-aliasing -pipe -I/usr/local/include&#39;
    ccversion=&#39;&#39;, gccversion=&#39;4.1.2 &#40;Ubuntu 4.1.2-0ubuntu4&#41;&#39;,
gccosandvers=&#39;&#39;
    intsize=4, longsize=4, ptrsize=4, doublesize=8, byteorder=1234
    d_longlong=define, longlongsize=8, d_longdbl=define, longdblsize=12
    ivtype=&#39;long&#39;, ivsize=4, nvtype=&#39;double&#39;, nvsize=8, Off_t=&#39;off_t&#39;,
lseeksize=8
    alignbytes=4, prototype=define
  Linker and Libraries:
    ld=&#39;cc&#39;, ldflags =&#39; -L/usr/local/lib&#39;
    libpth=/public/share/perl/lib /usr/local/lib /lib /usr/lib
    libs=-lgdbm -lgdbm_compat -ldb -ldl -lm -lpthread -lc -lcrypt
    perllibs=-ldl -lm -lpthread -lc -lcrypt
    libc=/lib/libc-2.5.so, so=so, useshrplib=true, libperl=libperl.so.5.8.8
    gnulibc_version=&#39;2.5&#39;
  Dynamic Linking:
    dlsrc=dl_dlopen.xs, dlext=so, d_dlsymun=undef, ccdlflags=&#39;-Wl,-E&#39;
    cccdlflags=&#39;-fPIC&#39;, lddlflags=&#39;-shared -L/usr/local/lib&#39;


Characteristics of this binary &#40;from libperl&#41;:
  Compile-time options: MULTIPLICITY PERL_IMPLICIT_CONTEXT
                        PERL_MALLOC_WRAP THREADS_HAVE_PIDS USE_ITHREADS
                        USE_LARGE_FILES USE_PERLIO USE_REENTRANT_API
  Built under linux
  Compiled at Mar  6 2007 01:40:14
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-389651" href="/Public/Bug/Display.html?id=31157#txn-389651">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;03&nbsp;03:15:38&nbsp;2007</span>
    <span class="description">FLIP [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/389651/179037/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/179037">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 1.2k</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Here&#39;s a hopefully more readable version of the table.  NASA values come
from 
  <span class="clickylink"><a target="new" rel="nofollow" href="http://sunearth.gsfc.nasa.gov/eclipse/phase/phasecat.html">http://sunearth.gsfc.nasa.gov/eclipse/phase/phasecat.html</a></span>

lun#    From new_moon          RataDie sec     -- NASA values ---
22248   1799-10-28T17:20:02    56765467202   1799 Oct 28  17:20  OK 
22249   1799-11-27T03:38:11    56768009891   1799 Nov 27  03:38  OK 
22250   1799-12-26T14:55:38    56770556138   1799 Dec 26  14:56  OK 
22251   1800-01-01T04:14:44    56771036084   1800 Jan 25  03:21  BAD 
22252   1800-01-30T18:02:08    56773591328   1800 Feb 23  17:08  BAD 
22253   1800-03-01T09:15:03    56776151703   1800 Mar 25  08:21  BAD 
22254   1800-03-31T01:24:47    56778715487   1800 Apr 24  00:31  BAD 
lun#    From new_moon          RataDie sec     -- NASA values ---
24573   1987-10-21T10:26:08    62697493568   1987 Oct 22  17:28  BAD
24574   1987-11-19T23:31:06    62700046266   1987 Nov 21  06:33  BAD
24575   1987-12-19T11:23:28    62702594608   1987 Dec 20  18:25  BAD
24576   1988-01-19T05:25:30    62705251530   1988 Jan 19  05:26  OK
24577   1988-02-17T15:54:08    62707794848   1988 Feb 17  15:54  OK
24578   1988-03-18T02:02:13    62710336933   1988 Mar 18  02:02  OK
24579   1988-04-16T11:59:53    62712878393   1988 Apr 16  12:00  OK
lun#    From new_moon          RataDie sec     -- NASA values ---
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-389653" href="/Public/Bug/Display.html?id=31157#txn-389653">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;03&nbsp;03:15:40&nbsp;2007</span>
    <span class="description">FLIP [...] cpan.org -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-389656" href="/Public/Bug/Display.html?id=31157#txn-389656">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;03&nbsp;03:29:56&nbsp;2007</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> DMAKI [...] cpan.org</td>
  </tr>
</table>
<div class="downloadattachment">
<a href="/Ticket/Attachment/389656/179041/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/179041">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 363b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for the very thorough bug report. I really appreciate it &#40;it&#39;s a
pretty rare occurance ;&#41;

However, due to $work and other stuff, I won&#39;t have much time to spend
on this for some time. I&#39;ll try to do my best to look into this, but in
the meantime, if you could assist me by getting into the guts of the
module further, that would be wonderful.

Thanks,
--d
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      <a name="txn-389758" href="/Public/Bug/Display.html?id=31157#txn-389758">#</a>      
    </span>
    <span class="date">Mon&nbsp;Dec&nbsp;03&nbsp;07:59:54&nbsp;2007</span>
    <span class="description">dmaki [...] cpan.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<div class="downloadattachment">
<a href="/Ticket/Attachment/389758/179089/">Download &#40;untitled&#41;</a> / <a href="/Ticket/Attachment/WithHeaders/179089">with headers</a>
<br />
<span class="downloadcontenttype">text/plain 488b</span>
</div>
<div class="messagebody">
<div class="message-stanza plain-text-white-space">Okay, taking a wild guess here.
First, I think this bug should be in DateTime::Util::Astro, not
Event::Lunar, as it affects nth_new_moon, which is from
DateTime::Util::Astro::Moon


the dates that you specify perfectly correlate to the calculations in
ephemeris_correction&#40;&#41; &#40;EC2 and EC3&#41;. It&#39;s quite possible that the
values in these two equations are wrong.

I don&#39;t have my copy of calendrical calculations handy at the moment so
I can&#39;t confirm, but I think that&#39;s where the error is.
</div></div>
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
<p id="sponsors">
  This service is sponsored and maintained by
  <a href="http://bestpractical.com">Best Practical Solutions</a> and runs on
  <a href="http://noc.perl.org">Perl.org</a> infrastructure.
</p>

<p id="contact-info">
  Please report any issues with rt.cpan.org to <a href="mailto:rt-cpan-admin@bestpractical.com">rt-cpan-admin@bestpractical.com</a>.
</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA\x2D937849\x2D12');
  ga('send', 'pageview');
</script>

<div id="footer">
  <p id="time"><span>Time to display: 0.347245</span></p>
  <p id="bpscredits"><span>&#187;&#124;&#171; RT 4.0.18 Copyright 1996-2013 <a href="http://www.bestpractical.com?rt=4.0.18">Best Practical Solutions, LLC</a>.
</span></p>
</div>
  </body>
</html>
