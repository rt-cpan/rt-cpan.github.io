<!DOCTYPE html>

<html lang="en">
  <head>
    <title>Bug #38457 for WWW-Myspace: last login 14104 days ago</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- The X-UA-Compatible <meta> tag above must be very early in <head> -->

    <script>
if (window.top !== window.self) {
    document.write = "";

    window.top.location = window.self.location;

    setTimeout(function(){
        document.body.innerHTML = "";
    }, 1);

    window.self.onload = function(){
        document.body.innerHTML = "";
    };
}
</script>



<link rel="shortcut icon" href="/NoAuth/images/favicon.png" type="image/png" />
<link rel="stylesheet" href="/NoAuth/css/aileron-squished-00f758259152f8b6670ee485f462e6b8.css" type="text/css" media="all" />
<link rel="stylesheet" href="/NoAuth/css/print.css" type="text/css" media="print" />




<script type="text/javascript" src="/NoAuth/js/squished-42167f2409ce368da2d31038e5cb2a57.js"></script>

<script type="text/javascript"><!--
	jQuery( loadTitleBoxStates );

--></script>


<!--[if lt IE 8]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie.css" type="text/css" media="all" />
<![endif]-->
<!--[if lt IE 7]>
<link rel="stylesheet" href="/NoAuth/css/aileron/msie6.css" type="text/css" media="all" />
<![endif]-->
<script type="text/javascript">
jQuery(document).ready(function(){
    jQuery.fn.supersubs.defaults = {
        maxWidth: 30,
        extraWidth: 2
    };

    jQuery("#app-nav.toplevel").addClass('sf-menu sf-js-enabled sf-shadow').supersubs().superfish({ speed: 'fast' });
    jQuery("#page-menu.toplevel").addClass('sf-menu sf-js-enabled').supersubs().superfish({ dropShadows: false, speed: 'fast' }).supposition();
});
</script>


<!-- Site CSS from theme editor -->
<style type="text/css" media="all" id="sitecss">
</style>

<meta name="google-site-verification" content="kD3-uEJK1AkTqaC-rckcSt_HPkAj674DPPuEN6i-y0g" />

</head>
  <body class="aileron sidebyside" id="comp-Public-Bug-Display">

<div id="logo">
<a href="/"><img
    src="/NoAuth/images/cpan.png"
    alt="CPAN"
    width="181"
    height="38" /></a>
    <span class="rtname">RT for rt.cpan.org</span>
</div>


<div id="quickbar">
  <div id="quick-personal">
    <span class="hide"><a href="#skipnav">Skip Menu</a> | </span>
</div>

</div>
<div id="header"><h1>Bug #38457 for WWW-Myspace: last login 14104 days ago</h1></div>



<div id="page-navigation"><ul id="page-menu" class="toplevel">
 <li id="li-page-active_bugs"><a id="page-active_bugs" class="menu-item " href="/Public/Dist/WWW-Myspace/Active/">Active bugs</a></li>
 <li id="li-page-resolved_bugs"><a id="page-resolved_bugs" class="menu-item " href="/Public/Dist/WWW-Myspace/Resolved/">Resolved bugs</a></li>
 <li id="li-page-rejected_bugs"><a id="page-rejected_bugs" class="menu-item " href="/Public/Dist/WWW-Myspace/Rejected/">Rejected bugs</a></li>
 <li id="li-page-report"><a id="page-report" class="menu-item " href="/Public/Dist/WWW-Myspace/Active/"></a></li>
</ul></div>
<div id="topactions">



</div>
<div id="body">


<a name="skipnav" id="skipnav" accesskey="8"></a>





<p>This queue is for tickets about the <a href="https://metacpan.org/release/WWW-Myspace">WWW-Myspace CPAN distribution</a>.</p>





<div class="">
  <div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DUmVwb3J0IGluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Report information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------UmVwb3J0IGluZm9ybWF0aW9u---0">


<table width="100%" class="ticket-summary">
<tr>
  <td valign="top" class="boxcontainer">
    <div class="ticket-info-basics">
  <div class="titlebox ticket-info-basics " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dbasics\x2D\x2D\x2D\x2DVGhlIEJhc2ljcw\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">The Basics</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-basics----VGhlIEJhc2ljcw__---0">


        <table>
  <tr class="id">
    <td class="label">Id:</td>
    <td class="value">38457</td>
  </tr>
  <tr class="status">
    <td class="label">Status:</td>
    <td class="value">resolved</td>
  </tr>
  <tr class="priority">
    <td class="label">Priority:</td>
    <td class="value">0/
</td>
  </tr>
  <tr class="queue">
    <td class="label">Queue:</td>
    <td class="value"><a href="/Public/Dist/WWW-Myspace/Active/">WWW-Myspace</a>
</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>


    <div class="ticket-info-people">
  <div class="titlebox ticket-info-people " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dpeople\x2D\x2D\x2D\x2DUGVvcGxl\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">People</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-people----UGVvcGxl---0">


        <table>
  <tr>
    <td class="label">Owner:</td>
    <td class="value">steven [...] pyro.eu.org
    
    </td>
  </tr>
  <tr>
    <td class="labeltop">Requestors:</td>
    <td class="value">
jworkman [...] pimpworks.org

<br />

</td>
  </tr>
  <tr>
    <td class="labeltop">Cc:</td>
    <td class="value">

</td>
  </tr>
  <tr>
    <td class="labeltop">AdminCc:</td>
    <td class="value">

</td>
  </tr>
</table>

        <hr class="clear" />
  </div>
</div>




</div>



  </td>
  <td valign="top" class="boxcontainer">
    
    <div class="ticket-info-cfs">
  <div class="titlebox ticket-info-cfs " id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2Dticket\x2Dinfo\x2Dcfs\x2D\x2D\x2D\x2DQnVnIEluZm9ybWF0aW9u\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">Bug Information</span>
    <span class="right-empty">		    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html--ticket-info-cfs----QnVnIEluZm9ybWF0aW9u---0">

 
        <table>
  <tr id="CF-1-ShowRow">
    <td class="label">Severity:</td>
    <td class="value">
Normal    </td>
  </tr>
  <tr id="CF-38014-ShowRow">
    <td class="label">Broken in:</td>
    <td class="value">
0.82    </td>
  </tr>
  <tr id="CF-38015-ShowRow">
    <td class="label">Fixed in:</td>
    <td class="value">
0.84    </td>
  </tr>
</table>


        <hr class="clear" />
  </div>
</div>




</div>


    
</div>




</div>







  </td>
</tr>
</table>

    <hr class="clear" />
  </div>
</div>




</div>


<br />


<div class="history">
<div class="titlebox" id="">
  <div class="titlebox-title">
    <span class="widget"><a href="#" onclick="return rollup('TitleBox\x2D\x2D\x5FPublic\x5FBug\x5FDisplay\x5Fhtml\x2D\x2D\x2D\x2D\x2D\x2DSGlzdG9yeQ\x5F\x5F\x2D\x2D\x2D0');" title="Toggle visibility"></a></span>
    <span class="left">History</span>
    <span class="right">		<a href="#" data-direction="open" onclick="return toggle_all_folds(this, 'Show\x20all\x20quoted\x20text', 'Hide\x20all\x20quoted\x20text');">Show all quoted text</a>    </span>
  </div>
  <div class="titlebox-content " id="TitleBox--_Public_Bug_Display_html------SGlzdG9yeQ__---0">


<div id="ticket-history">
<div class="ticket-transaction message Create odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;13&nbsp;17:54:07&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Ticket created</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">Subject:</td>
    <td class="message-header-value"> last login 14104 days ago</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Certain profiles are getting incorrect last login times.

For example 

<span class="clickylink"><a target="new" rel="nofollow" href="http://profile.myspace.com/index.cfm?fuseaction=user.viewprofile&#38;friendid=112263257">http://profile.myspace.com/index.cfm?fuseaction=user.viewprofile&#38;friendid=112263257</a></span>

322&#41;    112263257       Skipping last login 14104 days ago page.
                        Sleeping for 10 seconds...

As of the time I submitted this, the last login as displayed on the
profile was 8/8/2008.

This is using Myspace.pm with Myspace::FriendAdder.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction people Take even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;13&nbsp;17:58:22&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Taken</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;13&nbsp;21:21:22&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I believe this was fixed only yesterday in SVN R-612 which you may not
have been using.  However, I just rewrote the function *again* &#40;as well
as fixing the last_login_ymd function&#41; so please try again with the
latest SVN &#40;R-618&#41; which I think will fix your problem.

14104 days ago, incidentally, was the epoch &#40;1/1/1970, the &#39;zero&#39; UNIX
date&#41;.  Obviously the function was returning zero when it couldn&#39;t parse
the date -- in future the function should return &#39;undef&#39; on failure.

Thanks for your feedback;  I personally haven&#39;t used the FriendAdder
before so it&#39;s nice to know if it&#39;s working or not.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;13&nbsp;21:21:23&nbsp;2008</span>
    <span class="description">The RT System itself -  Status changed from &#39;new&#39; to &#39;open&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Wed&nbsp;Aug&nbsp;13&nbsp;21:22:22&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Broken in 0.82 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;14&nbsp;11:45:51&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jworkman [...] pimpworks.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Wed Aug 13 21:21:22 2008, steven@pyro.eu.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I believe this was fixed only yesterday in SVN R-612 which you may not
&gt; have been using.  However, I just rewrote the function *again* &#40;as well
&gt; as fixing the last_login_ymd function&#41; so please try again with the
&gt; latest SVN &#40;R-618&#41; which I think will fix your problem.
&gt; 
&gt; 14104 days ago, incidentally, was the epoch &#40;1/1/1970, the &#39;zero&#39; UNIX
&gt; date&#41;.  Obviously the function was returning zero when it couldn&#39;t parse
&gt; the date -- in future the function should return &#39;undef&#39; on failure.
&gt; 
&gt; Thanks for your feedback;  I personally haven&#39;t used the FriendAdder
&gt; before so it&#39;s nice to know if it&#39;s working or not.
</div>
I&#39;m using R-618 now and it&#39;s still broken.  Additionally I&#39;m getting
this error which I think may be related:

last_login:  failed to retrieve specified profile at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1777, &lt;STDIN&gt;
line 2.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;14&nbsp;15:57:59&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 14 11:45:51 2008, jworkman@pimpworks.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I&#39;m using R-618 now and it&#39;s still broken.  Additionally I&#39;m getting
&gt; this error which I think may be related:
&gt; 
&gt; last_login:  failed to retrieve specified profile at
&gt; /usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1777, &lt;STDIN&gt;
&gt; line 2.
</div>
I&#39;ve tried the FriendAdder myself just now and so far it seems to be
working.

Could you show me some more of the FriendAdder&#39;s output, particularly
which profiles are causing that error message?  How frequently does that
error show, and does it resume adding other profiles after showing that
error?

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;14&nbsp;17:32:23&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jworkman [...] pimpworks.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 14 15:57:59 2008, steven@pyro.eu.org wrote:

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; Could you show me some more of the FriendAdder&#39;s output, particularly
&gt; which profiles are causing that error message?  How frequently does that
&gt; error show, and does it resume adding other profiles after showing that
&gt; error?
&gt; 
&gt; Thanks.
</div>

The script continues to run but it looks like it&#39;s choking on profiles
instead of adding them now.  This is using FriendAdder to friend
personal profiles from friend ID: 163004369.

Getting friend ids from Myspace...
List finished.  Tossing out matches...
548 seconds to exclude duplicates.
1439 ids supplied by you.
43 friends excluded.
1396 unique ids.
Beginning to process the ids...
1&#41;      1000494797      Skipping band page.
                        Sleeping for 10 seconds...
2&#41;      1000680989      Skipping band page.
                        Sleeping for 10 seconds...
Use of uninitialized value in pattern match &#40;m//&#41; at
/usr/local/lib/perl5/site_p                                            
                                 erl/5.8.6/WWW/Myspace.pm line 1846,
&lt;STDIN&gt; line 2.
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/lib/perl                                                    
                         5/site_perl/5.8.6/WWW/Myspace.pm line 1850,
&lt;STDIN&gt; line 2.
last_login:  failed to retrieve specified profile at
/usr/local/lib/perl5/site_p                                            
                                 erl/5.8.6/WWW/Myspace.pm line 1777,
&lt;STDIN&gt; line 2.
Use of uninitialized value in numeric lt &#40;&lt;&#41; at
/usr/local/lib/perl5/site_perl/5                                       
                                      .8.6/WWW/Myspace/FriendAdder.pm
line 553, &lt;STDIN&gt; line 2.
Use of uninitialized value in pattern match &#40;m//&#41; at
/usr/local/lib/perl5/site_p                                            
                                 erl/5.8.6/WWW/Myspace.pm line 1846,
&lt;STDIN&gt; line 2.
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/lib/perl                                                    
                         5/site_perl/5.8.6/WWW/Myspace.pm line 1850,
&lt;STDIN&gt; line 2.
last_login:  failed to retrieve specified profile at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1777, &lt;STDIN&gt;
line 2.
Use of uninitialized value in subtraction &#40;-&#41; at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace/FriendAdder.pm line
557, &lt;STDIN&gt; line 2.
3&#41;      1000687121      Skipping last login 14105 days ago page.
                        Sleeping for 10 seconds...
4&#41;      1000714448      Skipping band page.
                        Sleeping for 10 seconds...
5&#41;      1000921337      Skipping band page.
                        Sleeping for 10 seconds...
Use of uninitialized value in pattern match &#40;m//&#41; at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1846, &lt;STDIN&gt;
line 2.
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1850, &lt;STDIN&gt;
line 2.
last_login:  failed to retrieve specified profile at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1777, &lt;STDIN&gt;
line 2.
Use of uninitialized value in numeric lt &#40;&lt;&#41; at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace/FriendAdder.pm line
553, &lt;STDIN&gt; line 2.
Use of uninitialized value in pattern match &#40;m//&#41; at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1846, &lt;STDIN&gt;
line 2.
Use of uninitialized value in concatenation &#40;.&#41; or string at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1850, &lt;STDIN&gt;
line 2.
last_login:  failed to retrieve specified profile at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace.pm line 1777, &lt;STDIN&gt;
line 2.
Use of uninitialized value in subtraction &#40;-&#41; at
/usr/local/lib/perl5/site_perl/5.8.6/WWW/Myspace/FriendAdder.pm line
557, &lt;STDIN&gt; line 2.
6&#41;      100112270       Skipping last login 14105 days ago page.
                        Sleeping for 10 seconds...

If it makes any difference:

eclipse:~$ perl --version

This is perl, v5.8.6 built for i386-netbsd
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Thu&nbsp;Aug&nbsp;14&nbsp;20:46:20&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">I can&#39;t actually reproduce the problem here with FriendAdder &#40;perhaps
you are using the Myspace::Data extension?&#41;, but please try SVN R-620.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;00:06:28&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jworkman [...] pimpworks.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Thu Aug 14 20:46:20 2008, steven@pyro.eu.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; I can&#39;t actually reproduce the problem here with FriendAdder &#40;perhaps
&gt; you are using the Myspace::Data extension?&#41;, but please try SVN R-620.
&gt; 
&gt; Thanks.
</div>

My script is more or less the example script that&#39;s in the documentation
for WWW::Myspace::FriendAdder.  I&#39;m still having the same problem with
R-620 so there must be some weird problem with a dependency that I can&#39;t
pinpoint.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;04:22:53&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Aug 15 00:06:28 2008, jworkman@pimpworks.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; ...there must be some weird problem with a dependency that I can&#39;t
&gt; pinpoint.
</div>
If you have the latest SVN &#40;R-625 now&#41;, you could try this in the
WWW::Myspace module directory &#40;i.e. /trunk/WWW-Myspace/ &#41; :
    perl Makefile.PL
    make test TEST_VERBOSE=1 TEST_FILES=&#39;t/20-last-login.t&#39;

If there is something different about your environment causing a
problem, those tests are supposed pick up on it.  It won&#39;t matter if you
haven&#39;t configured any dummy/test accounts &#40;which some of the other
tests normally require&#41;.  Tests 9 and 10 both take a minute or so and
show a warning which is normal, but there should be no test failures.

If the warnings when running the FriendAdder are any different now,
please post plenty of output from it for me to look at.  What you could
do is set the max_count option to 10 or 50, let it run until it
finishes, and post the entire output of it which might hold some clues.

Thanks.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;15:02:59&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jworkman [...] pimpworks.org</td>
  </tr>
</table>
<div class="messageattachments">

<div class="messagebody">
<div class="message-stanza plain-text-white-space">On Fri Aug 15 04:22:53 2008, steven@pyro.eu.org wrote:
<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; On Fri Aug 15 00:06:28 2008, jworkman@pimpworks.org wrote:
<div class="message-stanza open">&gt; &gt; ...there must be some weird problem with a dependency that I can&#39;t
&gt; &gt; pinpoint.
</div>&gt; 
&gt; If you have the latest SVN &#40;R-625 now&#41;, you could try this in the
&gt; WWW::Myspace module directory &#40;i.e. /trunk/WWW-Myspace/ &#41; :
&gt;     perl Makefile.PL
&gt;     make test TEST_VERBOSE=1 TEST_FILES=&#39;t/20-last-login.t&#39;
&gt; 
&gt; If there is something different about your environment causing a
&gt; problem, those tests are supposed pick up on it.  It won&#39;t matter if you
&gt; haven&#39;t configured any dummy/test accounts &#40;which some of the other
&gt; tests normally require&#41;.  Tests 9 and 10 both take a minute or so and
&gt; show a warning which is normal, but there should be no test failures.
</div>
I grabbed R-625 and tested it per the above and indeed I got no test
failures.

<span
    class="message-stanza-folder closed"
    onclick="fold_message_stanza(this, 'Show\x20quoted\x20text', 'Hide\x20quoted\x20text');">Show quoted text</span><br /><div class="message-stanza closed">&gt; If the warnings when running the FriendAdder are any different now,
&gt; please post plenty of output from it for me to look at.  What you could
&gt; do is set the max_count option to 10 or 50, let it run until it
&gt; finishes, and post the entire output of it which might hold some clues.
</div>
After running the above &#34;make test&#34; I installed the module and re-ran my
script after setting max_count to 10.  Not only am I having the same
problem as before but it&#39;s also ignoring max_count.  I&#39;m thinking maybe
there&#39;s been a syntax change of some sort since I first wrote this
script, perhaps?

I am attaching both the script I am using, and the output from that script.
</div></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<p>Message body not shown because it is not plain text.</p></div>
</div>
<div class="messageattachments">
<div class="messagebody">
<div class="message-stanza plain-text-white-space">
</div></div>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">#!/usr/local/bin/perl
use WWW::Myspace;

use WWW::Myspace::FriendAdder;

# see WWW::Myspace docs for more info on user/pass usage
my $myspace = WWW::Myspace-&gt;new&#40;&#41;;

my $adder = WWW::Myspace::FriendAdder-&gt;new&#40; $myspace &#41;;

# or pass some startup parameters
my %startup_params = &#40;
	exclude_my_friends  =&gt; 1,
	max_count           =&gt; 10,
	interactive	    =&gt; 1,
	last_login	    =&gt; 60,
	profile_type	    =&gt; &#39;personal&#39;
           &#41;;

my $adder = WWW::Myspace::FriendAdder-&gt;new&#40;
	$myspace,
	\%startup_params,
	&#41;;

# Magica
my @friend_ids = $myspace-&gt;friends_from_profile&#40;&#39;163004369&#39;&#41;;

$adder-&gt;send_friend_requests&#40; @friend_ids&#41;;

</div></div>
</div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;18:11:01&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      

<div class="messagebody">
<div class="message-stanza plain-text-white-space">Thanks for all the info.  I&#39;ve managed to work out what was causing it.

I&#39;d also forgotten to set a max_login parameter when I was testing the
FriendAdder, and so it wasn&#39;t triggering the bug.

I believe SVN R-628 fixes this.  I also added some extra tests to
t/20-last-login.t, so if you somehow you still have this problem, please
re-run the &#39;make test&#39; command mentioned previously and post the output
here.

As for max_count, I suspect it must only stop running after 10
successful attempts at sending a friend request, and so it will probably
work now.

Thanks again!
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction message Correspond even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Fri&nbsp;Aug&nbsp;15&nbsp;20:55:18&nbsp;2008</span>
    <span class="description">jworkman [...] pimpworks.org -  Correspondence added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
      
<table>
  <tr>
    <td align="right" class="message-header-key">From:</td>
    <td class="message-header-value"> jworkman [...] pimpworks.org</td>
  </tr>
</table>

<div class="messagebody">
<div class="message-stanza plain-text-white-space">This works!  Thank you so much for all the time you&#39;ve spent on this.
</div></div>
    </div>
</div>
</div>
<div class="ticket-transaction other CustomField odd">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;17&nbsp;04:13:22&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Fixed in 0.84 added</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
<div class="ticket-transaction basics Status even">
<div class="ticket-transaction">
  <div class="metadata">
    <span class="type">
      &nbsp;      
    </span>
    <span class="date">Sun&nbsp;Aug&nbsp;17&nbsp;04:13:23&nbsp;2008</span>
    <span class="description">steven [...] pyro.eu.org -  Status changed from &#39;open&#39; to &#39;resolved&#39;</span>
    <span class="time-taken"></span>    <span class="actions hidden"></span>
  </div>
    <div class="content">
    </div>
</div>
</div>
</div>
    <hr class="clear" />
  </div>
</div>




</div>
 


  <hr class="clear" />
</div>
</body>
</html>
